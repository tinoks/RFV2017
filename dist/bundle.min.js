(function(t){var e={};function n(i){if(e[i]){return e[i].exports}var r=e[i]={i:i,l:false,exports:{}};t[i].call(r.exports,r,r.exports,n);r.l=true;return r.exports}n.m=t;n.c=e;n.i=function(t){return t};n.d=function(t,e,i){if(!n.o(t,e)){Object.defineProperty(t,e,{configurable:false,enumerable:true,get:i})}};n.n=function(t){var e=t&&t.__esModule?function e(){return t["default"]}:function e(){return t};n.d(e,"a",e);return e};n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)};n.p="";return n(n.s=40)})([function(t,e){function n(t,e){return{type:"Feature",properties:e||{},geometry:t}}t.exports.feature=n;t.exports.point=function(t,e){if(!Array.isArray(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return n({type:"Point",coordinates:t.slice()},e)};t.exports.polygon=function(t,e){if(!t)throw new Error("No coordinates passed");for(var i=0;i<t.length;i++){var r=t[i];if(r.length<4){throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.")}for(var o=0;o<r[r.length-1].length;o++){if(r[r.length-1][o]!==r[0][o]){throw new Error("First and last Position are not equivalent.")}}}return n({type:"Polygon",coordinates:t},e)};t.exports.lineString=function(t,e){if(!t){throw new Error("No coordinates passed")}return n({type:"LineString",coordinates:t},e)};t.exports.featureCollection=function(t){return{type:"FeatureCollection",features:t}};t.exports.multiLineString=function(t,e){if(!t){throw new Error("No coordinates passed")}return n({type:"MultiLineString",coordinates:t},e)};t.exports.multiPoint=function(t,e){if(!t){throw new Error("No coordinates passed")}return n({type:"MultiPoint",coordinates:t},e)};t.exports.multiPolygon=function(t,e){if(!t){throw new Error("No coordinates passed")}return n({type:"MultiPolygon",coordinates:t},e)};t.exports.geometryCollection=function(t,e){return n({type:"GeometryCollection",geometries:t},e)};var i={miles:3960,nauticalmiles:3441.145,degrees:57.2957795,radians:1,inches:250905600,yards:6969600,meters:6373e3,metres:6373e3,kilometers:6373,kilometres:6373};t.exports.radiansToDistance=function(t,e){var n=i[e||"kilometers"];if(n===undefined){throw new Error("Invalid unit")}return t*n};t.exports.distanceToRadians=function(t,e){var n=i[e||"kilometers"];if(n===undefined){throw new Error("Invalid unit")}return t/n};t.exports.distanceToDegrees=function(t,e){var n=i[e||"kilometers"];if(n===undefined){throw new Error("Invalid unit")}return t/n*57.2958}},function(t,e,n){var i=n(17).getCoord;var r=n(0).radiansToDistance;t.exports=function(t,e,n){var o=Math.PI/180;var s=i(t);var a=i(e);var u=o*(a[1]-s[1]);var l=o*(a[0]-s[0]);var c=o*s[1];var h=o*a[1];var f=Math.pow(Math.sin(u/2),2)+Math.pow(Math.sin(l/2),2)*Math.cos(c)*Math.cos(h);return r(2*Math.atan2(Math.sqrt(f),Math.sqrt(1-f)),n)}},function(t,e,n){"use strict";var i=n(3);var r=n(12);var o=n(62);var s=n(7);var a=n(59);var u=n(60);var l={};function c(t){var e=this;e.settings=i.clone(o);e.containerWidth=null;e.containerHeight=null;e.contentWidth=null;e.contentHeight=null;e.isRtl=s.css(t,"direction")==="rtl";e.isNegativeScroll=function(){var e=t.scrollLeft;var n=null;t.scrollLeft=-1;n=t.scrollLeft<0;t.scrollLeft=e;return n}();e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0;e.event=new a;e.ownerDocument=t.ownerDocument||document;function n(){r.add(t,"ps-focus")}function u(){r.remove(t,"ps-focus")}e.scrollbarXRail=s.appendTo(s.e("div","ps-scrollbar-x-rail"),t);e.scrollbarX=s.appendTo(s.e("div","ps-scrollbar-x"),e.scrollbarXRail);e.scrollbarX.setAttribute("tabindex",0);e.event.bind(e.scrollbarX,"focus",n);e.event.bind(e.scrollbarX,"blur",u);e.scrollbarXActive=null;e.scrollbarXWidth=null;e.scrollbarXLeft=null;e.scrollbarXBottom=i.toInt(s.css(e.scrollbarXRail,"bottom"));e.isScrollbarXUsingBottom=e.scrollbarXBottom===e.scrollbarXBottom;e.scrollbarXTop=e.isScrollbarXUsingBottom?null:i.toInt(s.css(e.scrollbarXRail,"top"));e.railBorderXWidth=i.toInt(s.css(e.scrollbarXRail,"borderLeftWidth"))+i.toInt(s.css(e.scrollbarXRail,"borderRightWidth"));s.css(e.scrollbarXRail,"display","block");e.railXMarginWidth=i.toInt(s.css(e.scrollbarXRail,"marginLeft"))+i.toInt(s.css(e.scrollbarXRail,"marginRight"));s.css(e.scrollbarXRail,"display","");e.railXWidth=null;e.railXRatio=null;e.scrollbarYRail=s.appendTo(s.e("div","ps-scrollbar-y-rail"),t);e.scrollbarY=s.appendTo(s.e("div","ps-scrollbar-y"),e.scrollbarYRail);e.scrollbarY.setAttribute("tabindex",0);e.event.bind(e.scrollbarY,"focus",n);e.event.bind(e.scrollbarY,"blur",u);e.scrollbarYActive=null;e.scrollbarYHeight=null;e.scrollbarYTop=null;e.scrollbarYRight=i.toInt(s.css(e.scrollbarYRail,"right"));e.isScrollbarYUsingRight=e.scrollbarYRight===e.scrollbarYRight;e.scrollbarYLeft=e.isScrollbarYUsingRight?null:i.toInt(s.css(e.scrollbarYRail,"left"));e.scrollbarYOuterWidth=e.isRtl?i.outerWidth(e.scrollbarY):null;e.railBorderYWidth=i.toInt(s.css(e.scrollbarYRail,"borderTopWidth"))+i.toInt(s.css(e.scrollbarYRail,"borderBottomWidth"));s.css(e.scrollbarYRail,"display","block");e.railYMarginHeight=i.toInt(s.css(e.scrollbarYRail,"marginTop"))+i.toInt(s.css(e.scrollbarYRail,"marginBottom"));s.css(e.scrollbarYRail,"display","");e.railYHeight=null;e.railYRatio=null}function h(t){return t.getAttribute("data-ps-id")}function f(t,e){t.setAttribute("data-ps-id",e)}function p(t){t.removeAttribute("data-ps-id")}e.add=function(t){var e=u();f(t,e);l[e]=new c(t);return l[e]};e.remove=function(t){delete l[h(t)];p(t)};e.get=function(t){return l[h(t)]}},function(t,e,n){"use strict";var i=n(12);var r=n(7);var o=e.toInt=function(t){return parseInt(t,10)||0};var s=e.clone=function(t){if(!t){return null}else if(t.constructor===Array){return t.map(s)}else if(typeof t==="object"){var e={};for(var n in t){e[n]=s(t[n])}return e}else{return t}};e.extend=function(t,e){var n=s(t);for(var i in e){n[i]=s(e[i])}return n};e.isEditable=function(t){return r.matches(t,"input,[contenteditable]")||r.matches(t,"select,[contenteditable]")||r.matches(t,"textarea,[contenteditable]")||r.matches(t,"button,[contenteditable]")};e.removePsClasses=function(t){var e=i.list(t);for(var n=0;n<e.length;n++){var r=e[n];if(r.indexOf("ps-")===0){i.remove(t,r)}}};e.outerWidth=function(t){return o(r.css(t,"width"))+o(r.css(t,"paddingLeft"))+o(r.css(t,"paddingRight"))+o(r.css(t,"borderLeftWidth"))+o(r.css(t,"borderRightWidth"))};e.startScrolling=function(t,e){i.add(t,"ps-in-scrolling");if(typeof e!=="undefined"){i.add(t,"ps-"+e)}else{i.add(t,"ps-x");i.add(t,"ps-y")}};e.stopScrolling=function(t,e){i.remove(t,"ps-in-scrolling");if(typeof e!=="undefined"){i.remove(t,"ps-"+e)}else{i.remove(t,"ps-x");i.remove(t,"ps-y")}};e.env={isWebKit:"WebkitAppearance"in document.documentElement.style,supportsTouch:"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch,supportsIePointer:window.navigator.msMaxTouchPoints!==null}},function(t,e,n){"use strict";var i=n(3);var r=n(12);var o=n(7);var s=n(2);var a=n(5);function u(t,e){if(t.settings.minScrollbarLength){e=Math.max(e,t.settings.minScrollbarLength)}if(t.settings.maxScrollbarLength){e=Math.min(e,t.settings.maxScrollbarLength)}return e}function l(t,e){var n={width:e.railXWidth};if(e.isRtl){n.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth-e.contentWidth}else{n.left=t.scrollLeft}if(e.isScrollbarXUsingBottom){n.bottom=e.scrollbarXBottom-t.scrollTop}else{n.top=e.scrollbarXTop+t.scrollTop}o.css(e.scrollbarXRail,n);var i={top:t.scrollTop,height:e.railYHeight};if(e.isScrollbarYUsingRight){if(e.isRtl){i.right=e.contentWidth-(e.negativeScrollAdjustment+t.scrollLeft)-e.scrollbarYRight-e.scrollbarYOuterWidth}else{i.right=e.scrollbarYRight-t.scrollLeft}}else{if(e.isRtl){i.left=e.negativeScrollAdjustment+t.scrollLeft+e.containerWidth*2-e.contentWidth-e.scrollbarYLeft-e.scrollbarYOuterWidth}else{i.left=e.scrollbarYLeft+t.scrollLeft}}o.css(e.scrollbarYRail,i);o.css(e.scrollbarX,{left:e.scrollbarXLeft,width:e.scrollbarXWidth-e.railBorderXWidth});o.css(e.scrollbarY,{top:e.scrollbarYTop,height:e.scrollbarYHeight-e.railBorderYWidth})}t.exports=function(t){var e=s.get(t);e.containerWidth=t.clientWidth;e.containerHeight=t.clientHeight;e.contentWidth=t.scrollWidth;e.contentHeight=t.scrollHeight;var n;if(!t.contains(e.scrollbarXRail)){n=o.queryChildren(t,".ps-scrollbar-x-rail");if(n.length>0){n.forEach(function(t){o.remove(t)})}o.appendTo(e.scrollbarXRail,t)}if(!t.contains(e.scrollbarYRail)){n=o.queryChildren(t,".ps-scrollbar-y-rail");if(n.length>0){n.forEach(function(t){o.remove(t)})}o.appendTo(e.scrollbarYRail,t)}if(!e.settings.suppressScrollX&&e.containerWidth+e.settings.scrollXMarginOffset<e.contentWidth){e.scrollbarXActive=true;e.railXWidth=e.containerWidth-e.railXMarginWidth;e.railXRatio=e.containerWidth/e.railXWidth;e.scrollbarXWidth=u(e,i.toInt(e.railXWidth*e.containerWidth/e.contentWidth));e.scrollbarXLeft=i.toInt((e.negativeScrollAdjustment+t.scrollLeft)*(e.railXWidth-e.scrollbarXWidth)/(e.contentWidth-e.containerWidth))}else{e.scrollbarXActive=false}if(!e.settings.suppressScrollY&&e.containerHeight+e.settings.scrollYMarginOffset<e.contentHeight){e.scrollbarYActive=true;e.railYHeight=e.containerHeight-e.railYMarginHeight;e.railYRatio=e.containerHeight/e.railYHeight;e.scrollbarYHeight=u(e,i.toInt(e.railYHeight*e.containerHeight/e.contentHeight));e.scrollbarYTop=i.toInt(t.scrollTop*(e.railYHeight-e.scrollbarYHeight)/(e.contentHeight-e.containerHeight))}else{e.scrollbarYActive=false}if(e.scrollbarXLeft>=e.railXWidth-e.scrollbarXWidth){e.scrollbarXLeft=e.railXWidth-e.scrollbarXWidth}if(e.scrollbarYTop>=e.railYHeight-e.scrollbarYHeight){e.scrollbarYTop=e.railYHeight-e.scrollbarYHeight}l(t,e);if(e.scrollbarXActive){r.add(t,"ps-active-x")}else{r.remove(t,"ps-active-x");e.scrollbarXWidth=0;e.scrollbarXLeft=0;a(t,"left",0)}if(e.scrollbarYActive){r.add(t,"ps-active-y")}else{r.remove(t,"ps-active-y");e.scrollbarYHeight=0;e.scrollbarYTop=0;a(t,"top",0)}}},function(t,e,n){"use strict";var i=n(2);var r;var o;var s=function(t){var e=document.createEvent("Event");e.initEvent(t,true,true);return e};t.exports=function(t,e,n){if(typeof t==="undefined"){throw"You must provide an element to the update-scroll function"}if(typeof e==="undefined"){throw"You must provide an axis to the update-scroll function"}if(typeof n==="undefined"){throw"You must provide a value to the update-scroll function"}if(e==="top"&&n<=0){t.scrollTop=n=0;t.dispatchEvent(s("ps-y-reach-start"))}if(e==="left"&&n<=0){t.scrollLeft=n=0;t.dispatchEvent(s("ps-x-reach-start"))}var a=i.get(t);if(e==="top"&&n>=a.contentHeight-a.containerHeight){n=a.contentHeight-a.containerHeight;if(n-t.scrollTop<=1){n=t.scrollTop}else{t.scrollTop=n}t.dispatchEvent(s("ps-y-reach-end"))}if(e==="left"&&n>=a.contentWidth-a.containerWidth){n=a.contentWidth-a.containerWidth;if(n-t.scrollLeft<=1){n=t.scrollLeft}else{t.scrollLeft=n}t.dispatchEvent(s("ps-x-reach-end"))}if(!r){r=t.scrollTop}if(!o){o=t.scrollLeft}if(e==="top"&&n<r){t.dispatchEvent(s("ps-scroll-up"))}if(e==="top"&&n>r){t.dispatchEvent(s("ps-scroll-down"))}if(e==="left"&&n<o){t.dispatchEvent(s("ps-scroll-left"))}if(e==="left"&&n>o){t.dispatchEvent(s("ps-scroll-right"))}if(e==="top"){t.scrollTop=r=n;t.dispatchEvent(s("ps-scroll-y"))}if(e==="left"){t.scrollLeft=o=n;t.dispatchEvent(s("ps-scroll-x"))}}},function(t,e,n){(function(t){(function(t,n){true?n(e):typeof define==="function"&&define.amd?define(["exports"],n):n(t.riot=t.riot||{})})(this,function(e){"use strict";var n=[];var i={};var r="__global_mixin";var o="riot-";var s=["ref","data-ref"];var a="data-is";var u="if";var l="each";var c="no-reorder";var h="show";var f="hide";var p="__riot-events__";var d="string";var g="object";var m="undefined";var v="function";var y="http://www.w3.org/1999/xlink";var b="http://www.w3.org/2000/svg";var x=/^xlink:(\w+)/;var _=typeof window===m?undefined:window;var E=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?|opt(?:ion|group))$/;var w=/^(?:t(?:body|head|foot|[rhd])|caption|col(?:group)?)$/;var T=/^on/;var S=/^(?:_(?:item|id|parent)|update|root|(?:un)?mount|mixin|is(?:Mounted|Loop)|tags|refs|parent|opts|trigger|o(?:n|ff|ne))$/;var A=/([-\w]+) ?= ?(?:"([^"]*)|'([^']*)|({[^}]*}))/g;var I={viewbox:"viewBox"};var C=/^(?:disabled|checked|readonly|required|allowfullscreen|auto(?:focus|play)|compact|controls|default|formnovalidate|hidden|ismap|itemscope|loop|multiple|muted|no(?:resize|shade|validate|wrap)?|open|reversed|seamless|selected|sortable|truespeed|typemustmatch)$/;var L=(_&&_.document||{}).documentMode|0;function M(t){return C.test(t)}function N(t){return typeof t===v}function R(t){return t&&typeof t===g}function O(t){return typeof t===m}function D(t){return typeof t===d}function P(t){return O(t)||t===null||t===""}function k(t){return Array.isArray(t)||t instanceof Array}function z(t,e){var n=Object.getOwnPropertyDescriptor(t,e);return O(t[e])||n&&n.writable}function F(t){return S.test(t)}var j=Object.freeze({isBoolAttr:M,isFunction:N,isObject:R,isUndefined:O,isString:D,isBlank:P,isArray:k,isWritable:z,isReservedName:F});function B(t,e){return Array.prototype.slice.call((e||document).querySelectorAll(t))}function U(t,e){return(e||document).querySelector(t)}function G(){return document.createDocumentFragment()}function V(){return document.createTextNode("")}function q(t){return!!t.ownerSVGElement}function Y(t){return t==="svg"?document.createElementNS(b,t):document.createElement(t)}function X(t,e){if(!O(t.innerHTML)){t.innerHTML=e}else{var n=(new DOMParser).parseFromString(e,"application/xml");var i=t.ownerDocument.importNode(n.documentElement,true);t.appendChild(i)}}function W(t,e){t.style.display=e?"":"none";t["hidden"]=e?false:true}function Z(t,e){t.removeAttribute(e)}function H(t){return Object.keys(t).reduce(function(e,n){return e+" "+n+": "+t[n]+";"},"")}function $(t,e){return t.getAttribute(e)}function J(t,e,n){var i=x.exec(e);if(i&&i[1]){t.setAttributeNS(y,i[1],n)}else{t.setAttribute(e,n)}}function Q(t,e,n){t.insertBefore(e,n.parentNode&&n)}function K(t,e){if(!t){return}var n;while(n=A.exec(t)){e(n[1].toLowerCase(),n[2]||n[3]||n[4])}}function tt(t,e,n){if(t){var i=e(t,n);var r;if(i===false){return}t=t.firstChild;while(t){r=t.nextSibling;tt(t,e,i);t=r}}}var et=Object.freeze({$$:B,$:U,createFrag:G,createDOMPlaceholder:V,isSvg:q,mkEl:Y,setInnerHTML:X,toggleVisibility:W,remAttr:Z,styleObjectToString:H,getAttr:$,setAttr:J,safeInsert:Q,walkAttrs:K,walkNodes:tt});var nt;var it;var rt={};var ot=[];var st=false;if(_){nt=function(){var t=Y("style");J(t,"type","text/css");var e=U("style[type=riot]");if(e){if(e.id){t.id=e.id}e.parentNode.replaceChild(t,e)}else{document.getElementsByTagName("head")[0].appendChild(t)}return t}();it=nt.styleSheet}var at={styleNode:nt,add:function t(e,n){if(n){rt[n]=e}else{ot.push(e)}st=true},inject:function t(){if(!_||!st){return}st=false;var e=Object.keys(rt).map(function(t){return rt[t]}).concat(ot).join("\n");if(it){it.cssText=e}else{nt.innerHTML=e}}};var ut=function(e){var n="g",i=/\/\*[^*]*\*+(?:[^*\/][^*]*\*+)*\//g,r=/"[^"\\]*(?:\\[\S\s][^"\\]*)*"|'[^'\\]*(?:\\[\S\s][^'\\]*)*'|`[^`\\]*(?:\\[\S\s][^`\\]*)*`/g,o=r.source+"|"+/(?:\breturn\s+|(?:[$\w\)\]]|\+\+|--)\s*(\/)(?![*\/]))/.source+"|"+/\/(?=[^*\/])[^[\/\\]*(?:(?:\[(?:\\.|[^\]\\]*)*\]|\\.)[^[\/\\]*)*?(\/)[gim]*/.source,s=RegExp("[\\"+"x00-\\x1F<>a-zA-Z0-9'\",;\\\\]"),a=/(?=[[\]()*+?.^$|])/g,u={"(":RegExp("([()])|"+o,n),"[":RegExp("([[\\]])|"+o,n),"{":RegExp("([{}])|"+o,n)},l="{ }";var c=["{","}","{","}",/{[^}]*}/,/\\([{}])/g,/\\({)|{/g,RegExp("\\\\(})|([[({])|(})|"+o,n),l,/^\s*{\^?\s*([$\w]+)(?:\s*,\s*(\S+))?\s+in\s+(\S.*)\s*}/,/(^|[^\\]){=[\S\s]*?}/];var h=e,f,p=[],d;function g(t){return t}function m(t,e){if(!e){e=p}return new RegExp(t.source.replace(/{/g,e[2]).replace(/}/g,e[3]),t.global?n:"")}function v(t){if(t===l){return c}var e=t.split(" ");if(e.length!==2||s.test(t)){throw new Error('Unsupported brackets "'+t+'"')}e=e.concat(t.replace(a,"\\").split(" "));e[4]=m(e[1].length>1?/{[\S\s]*?}/:c[4],e);e[5]=m(t.length>3?/\\({|})/g:c[5],e);e[6]=m(c[6],e);e[7]=RegExp("\\\\("+e[3]+")|([[({])|("+e[3]+")|"+o,n);e[8]=t;return e}function y(t){return t instanceof RegExp?f(t):p[t]}y.split=function t(e,n,i){if(!i){i=p}var r=[],o,s,a,l,c=i[6];s=a=c.lastIndex=0;while(o=c.exec(e)){l=o.index;if(s){if(o[2]){c.lastIndex=f(e,o[2],c.lastIndex);continue}if(!o[3]){continue}}if(!o[1]){h(e.slice(a,l));a=c.lastIndex;c=i[6+(s^=1)];c.lastIndex=a}}if(e&&a<e.length){h(e.slice(a))}return r;function h(t){if(n||s){r.push(t&&t.replace(i[5],"$1"))}else{r.push(t)}}function f(t,e,n){var i,r=u[e];r.lastIndex=n;n=1;while(i=r.exec(t)){if(i[1]&&!(i[1]===e?++n:--n)){break}}return n?t.length:r.lastIndex}};y.hasExpr=function t(e){return p[4].test(e)};y.loopKeys=function t(e){var n=e.match(p[9]);return n?{key:n[1],pos:n[2],val:p[0]+n[3].trim()+p[1]}:{val:e.trim()}};y.array=function t(e){return e?v(e):p};function b(t){if((t||(t=l))!==p[8]){p=v(t);f=t===l?g:m;p[9]=f(c[9])}h=t}function x(t){var e;t=t||{};e=t.brackets;Object.defineProperty(t,"brackets",{set:b,get:function(){return h},enumerable:true});d=t;b(e)}Object.defineProperty(y,"settings",{set:x,get:function(){return d}});y.settings=typeof t!=="undefined"&&t.settings||{};y.set=b;y.R_STRINGS=r;y.R_MLCOMMS=i;y.S_QBLOCKS=o;return y}();var lt=function(){var t={};function e(e,r){if(!e){return e}return(t[e]||(t[e]=i(e))).call(r,n.bind({data:r,tmpl:e}))}e.hasExpr=ut.hasExpr;e.loopKeys=ut.loopKeys;e.clearCache=function(){t={}};e.errorHandler=null;function n(t,n){t.riotData={tagName:n&&n.__&&n.__.tagName,_riot_id:n&&n._riot_id};if(e.errorHandler){e.errorHandler(t)}else if(typeof console!=="undefined"&&typeof console.error==="function"){console.error(t.message);console.log("<%s> %s",t.riotData.tagName||"Unknown tag",this.tmpl);console.log(this.data)}}function i(t){var e=l(t);if(e.slice(0,11)!=="try{return "){e="return "+e}return new Function("E",e+";")}var r=String.fromCharCode(8279),o=/^(?:(-?[_A-Za-z\xA0-\xFF][-\w\xA0-\xFF]*)|\u2057(\d+)~):/,s=RegExp(ut.S_QBLOCKS,"g"),a=/\u2057/g,u=/\u2057(\d+)~/g;function l(t){var e=[],n,i=ut.split(t.replace(a,'"'),1);if(i.length>2||i[0]){var r,o,s=[];for(r=o=0;r<i.length;++r){n=i[r];if(n&&(n=r&1?h(n,1,e):'"'+n.replace(/\\/g,"\\\\").replace(/\r\n?|\n/g,"\\n").replace(/"/g,'\\"')+'"')){s[o++]=n}}n=o<2?s[0]:"["+s.join(",")+'].join("")'}else{n=h(i[1],0,e)}if(e[0]){n=n.replace(u,function(t,n){return e[n].replace(/\r/g,"\\r").replace(/\n/g,"\\n")})}return n}var c={"(":/[()]/g,"[":/[[\]]/g,"{":/[{}]/g};function h(t,e,n){t=t.replace(s,function(t,e){return t.length>2&&!e?r+(n.push(t)-1)+"~":t}).replace(/\s+/g," ").trim().replace(/\ ?([[\({},?\.:])\ ?/g,"$1");if(t){var i=[],a=0,u;while(t&&(u=t.match(o))&&!u.index){var l,h,f=/,|([[{(])|$/g;t=RegExp.rightContext;l=u[2]?n[u[2]].slice(1,-1).trim().replace(/\s+/g," "):u[1];while(h=(u=f.exec(t))[1]){p(h,f)}h=t.slice(0,u.index);t=RegExp.rightContext;i[a++]=g(h,1,l)}t=!a?g(t,e):a>1?"["+i.join(",")+'].join(" ").trim()':i[0]}return t;function p(e,n){var i,r=1,o=c[e];o.lastIndex=n.lastIndex;while(i=o.exec(t)){if(i[0]===e){++r}else if(!--r){break}}n.lastIndex=r?t.length:o.lastIndex}}var f='"in this?this:'+(typeof window!=="object"?"global":"window")+").",p=/[,{][\$\w]+(?=:)|(^ *|[^$\w\.{])(?!(?:typeof|true|false|null|undefined|in|instanceof|is(?:Finite|NaN)|void|NaN|new|Date|RegExp|Math)(?![$\w]))([$_A-Za-z][$\w]*)/g,d=/^(?=(\.[$\w]+))\1(?:[^.[(]|$)/;function g(t,e,n){var i;t=t.replace(p,function(t,e,n,r,o){if(n){r=i?0:r+t.length;if(n!=="this"&&n!=="global"&&n!=="window"){t=e+'("'+n+f+n;if(r){i=(o=o[r])==="."||o==="("||o==="["}}else if(r){i=!d.test(o.slice(r))}}return t});if(i){t="try{return "+t+"}catch(e){E(e,this)}"}if(n){t=(i?"function(){"+t+"}.call(this)":"("+t+")")+'?"'+n+'":""'}else if(e){t="function(v){"+(i?t.replace("return ","v="):"v=("+t+")")+';return v||v===0?v:""}.call(this)'}return t}e.version=ut.version="v3.0.4";return e}();var ct=function(t){t=t||{};var e={},n=Array.prototype.slice;Object.defineProperties(t,{on:{value:function(n,i){if(typeof i=="function"){(e[n]=e[n]||[]).push(i)}return t},enumerable:false,writable:false,configurable:false},off:{value:function(n,i){if(n=="*"&&!i){e={}}else{if(i){var r=e[n];for(var o=0,s;s=r&&r[o];++o){if(s==i){r.splice(o--,1)}}}else{delete e[n]}}return t},enumerable:false,writable:false,configurable:false},one:{value:function(e,n){function i(){t.off(e,i);n.apply(t,arguments)}return t.on(e,i)},enumerable:false,writable:false,configurable:false},trigger:{value:function(i){var r=arguments;var o=arguments.length-1,s=new Array(o),a,u,l;for(l=0;l<o;l++){s[l]=r[l+1]}a=n.call(e[i]||[],0);for(l=0;u=a[l];++l){u.apply(t,s)}if(e["*"]&&i!="*"){t.trigger.apply(t,["*",i].concat(s))}return t},enumerable:false,writable:false,configurable:false}});return t};function ht(t,e){var n=t?t.length:0;var i=0;for(;i<n;++i){e(t[i],i)}return t}function ft(t,e){return t.indexOf(e)!==-1}function pt(t){return t.replace(/-(\w)/g,function(t,e){return e.toUpperCase()})}function dt(t,e){return t.slice(0,e.length)===e}function gt(t,e,n,i){Object.defineProperty(t,e,mt({value:n,enumerable:false,writable:false,configurable:true},i));return t}function mt(t){var e,n=arguments;for(var i=1;i<n.length;++i){if(e=n[i]){for(var r in e){if(z(t,r)){t[r]=e[r]}}}}return t}var vt=Object.freeze({each:ht,contains:ft,toCamel:pt,startsWith:dt,defineProperty:gt,extend:mt});var yt=mt(Object.create(ut.settings),{skipAnonymousTags:true});function bt(t,e,n){var i=this.__.parent,r=this.__.item;if(!r){while(i&&!r){r=i.__.item;i=i.__.parent}}if(z(n,"currentTarget")){n.currentTarget=t}if(z(n,"target")){n.target=n.srcElement}if(z(n,"which")){n.which=n.charCode||n.keyCode}n.item=r;e.call(this,n);if(!n.preventUpdate){var o=pe(this);if(o.isMounted){o.update()}}}function xt(t,e,n,i){var r,o=bt.bind(i,n,e);n[t]=null;r=t.replace(T,"");if(!ft(i.__.listeners,n)){i.__.listeners.push(n)}if(!n[p]){n[p]={}}if(n[p][t]){n.removeEventListener(r,n[p][t])}n[p][t]=o;n.addEventListener(r,o,false)}function _t(t,e,n){var r,o,s,a;if(t.tag&&t.tagName===n){t.tag.update();return}o=t.dom.tagName==="VIRTUAL";if(t.tag){if(o){s=t.tag.__.head;a=V();s.parentNode.insertBefore(a,s)}t.tag.unmount(true)}if(!D(n)){return}t.impl=i[n];r={root:t.dom,parent:e,hasImpl:true,tagName:n};t.tag=fe(t.impl,r,t.dom.innerHTML,e);ht(t.attrs,function(e){return J(t.tag.root,e.name,e.value)});t.tagName=n;t.tag.mount();if(o){xe(t.tag,a||t.tag.root)}e.__.onUnmount=function(){var e=t.tag.opts.dataIs,n=t.tag.parent.tags,i=t.tag.__.parent.tags;ye(n,e,t.tag);ye(i,e,t.tag);t.tag.unmount()}}function Et(t){if(!t){return null}t=t.replace(o,"");if(I[t]){t=I[t]}return t}function wt(t){if(this.root&&$(this.root,"virtualized")){return}var e=t.dom,n=Et(t.attr),i=ft([h,f],n),r=t.root&&t.root.tagName==="VIRTUAL",o=e&&(t.parent||e.parentNode),s=n==="style",a=n==="class",u,l,c;if(t._riot_id){if(t.isMounted){t.update()}else{t.mount();if(r){xe(t,t.root)}}return}if(t.update){return t.update()}c=lt(t.expr,i?mt({},Object.create(this.parent),this):this);u=!P(c);l=R(c);if(l){l=!a&&!s;if(a){c=lt(JSON.stringify(c),this)}else if(s){c=H(c)}}if(t.attr&&(!t.isAttrRemoved||!u||c===false)){Z(e,t.attr);t.isAttrRemoved=true}if(t.bool){c=c?n:false}if(t.isRtag){return _t(t,this,c)}if(t.wasParsedOnce&&t.value===c){return}t.value=c;t.wasParsedOnce=true;if(l&&!i){return}if(P(c)){c=""}if(!n){c+="";if(o){t.parent=o;if(o.tagName==="TEXTAREA"){o.value=c;if(!L){e.nodeValue=c}}else{e.nodeValue=c}}return}if(N(c)){xt(n,c,e,this)}else if(i){W(e,n===f?!c:c)}else{if(t.bool){e[n]=c}if(n==="value"&&e.value!==c){e.value=c}if(u&&c!==false){J(e,n,c)}if(s&&e.hidden){W(e,false)}}}function Tt(t){ht(t,wt.bind(this))}var St={init:function t(e,n,i){Z(e,u);this.tag=n;this.expr=i;this.stub=document.createTextNode("");this.pristine=e;var r=e.parentNode;r.insertBefore(this.stub,e);r.removeChild(e);return this},update:function t(){this.value=lt(this.expr,this.tag);if(this.value&&!this.current){this.current=this.pristine.cloneNode(true);this.stub.parentNode.insertBefore(this.current,this.stub);this.expressions=[];Pt.apply(this.tag,[this.current,this.expressions,true])}else if(!this.value&&this.current){de(this.expressions);if(this.current._tag){this.current._tag.unmount()}else if(this.current.parentNode){this.current.parentNode.removeChild(this.current)}this.current=null;this.expressions=[]}if(this.value){Tt.call(this.tag,this.expressions)}},unmount:function t(){de(this.expressions||[])}};var At={init:function t(e,n,i,r){this.dom=e;this.attr=i;this.rawValue=r;this.parent=n;this.hasExp=lt.hasExpr(r);return this},update:function t(){var e=this.value;var n=this.parent&&pe(this.parent);var i=this.dom.__ref||this.tag||this.dom;this.value=this.hasExp?lt(this.rawValue,this.parent):this.rawValue;if(!P(e)&&n){ye(n.refs,e,i)}if(!P(this.value)&&D(this.value)){if(n){ve(n.refs,this.value,i,null,this.parent.__.index)}if(this.value!==e){J(this.dom,this.attr,this.value)}}else{Z(this.dom,this.attr)}if(!this.dom.__ref){this.dom.__ref=i}},unmount:function t(){var e=this.tag||this.dom;var n=this.parent&&pe(this.parent);if(!P(this.value)&&n){ye(n.refs,this.value,e)}}};function It(t,e,n,i){var r=i?Object.create(i):{};r[t.key]=e;if(t.pos){r[t.pos]=n}return r}function Ct(t,e){var n=e.length,i=t.length;while(n>i){n--;Lt.apply(e[n],[e,n])}}function Lt(t,e){t.splice(e,1);this.unmount();ye(this.parent,this,this.__.tagName,true)}function Mt(t){var e=this;ht(Object.keys(this.tags),function(n){he.apply(e.tags[n],[n,t])})}function Nt(t,e,n){if(n){Ee.apply(this,[t,e])}else{Q(t,this.root,e.root)}}function Rt(t,e,n){if(n){_e.apply(this,[t,e])}else{Q(t,this.root,e.root)}}function Ot(t,e){if(e){_e.call(this,t)}else{t.appendChild(this.root)}}function Dt(t,e,n){Z(t,l);var r=typeof $(t,c)!==d||Z(t,c),o=ge(t),s=i[o],a=t.parentNode,h=V(),f=le(t),p=$(t,u),m=[],v=[],y,b=true,x=!i[o],_=t.tagName==="VIRTUAL";n=lt.loopKeys(n);n.isLoop=true;if(p){Z(t,u)}a.insertBefore(h,t);a.removeChild(t);n.update=function i(){n.value=lt(n.val,e);var a=G(),u=n.value,l=!k(u)&&!D(u),c=h.parentNode;if(!c){return}if(l){y=u||false;u=y?Object.keys(u).map(function(t){return It(n,u[t],t)}):[]}else{y=false}if(p){u=u.filter(function(t,i){if(n.key&&!l){return!!lt(p,It(n,t,i,e))}return!!lt(p,mt(Object.create(e),t))})}ht(u,function(i,l){var h=r&&typeof i===g&&!y,p=v.indexOf(i),d=p===-1,E=!d&&h?p:l,w=m[E],T=l>=v.length,S=h&&d||!h&&!w;i=!y&&n.key?It(n,i,l):i;if(S){w=new ue(s,{parent:e,isLoop:b,isAnonymous:x,tagName:o,root:t.cloneNode(x),item:i,index:l},t.innerHTML);w.mount();if(T){Ot.apply(w,[a||c,_])}else{Rt.apply(w,[c,m[l],_])}if(!T){v.splice(l,0,i)}m.splice(l,0,w);if(f){ve(e.tags,o,w,true)}}else if(E!==l&&h){if(ft(u,v[E])){Nt.apply(w,[c,m[l],_]);m.splice(l,0,m.splice(E,1)[0]);v.splice(l,0,v.splice(E,1)[0])}if(n.pos){w[n.pos]=l}if(!f&&w.tags){Mt.call(w,l)}}w.__.item=i;w.__.index=l;w.__.parent=e;if(!S){w.update(i)}});Ct(u,m);v=u.slice();c.insertBefore(a,h)};n.unmount=function(){ht(m,function(t){t.unmount()})};return n}function Pt(t,e,n){var i=this;var r={parent:{children:e}};tt(t,function(e,r){var o=e.nodeType,s=r.parent,c,h,f;if(!n&&e===t){return{parent:s}}if(o===3&&e.parentNode.tagName!=="STYLE"&&lt.hasExpr(e.nodeValue)){s.children.push({dom:e,expr:e.nodeValue})}if(o!==1){return r}var p=e.tagName==="VIRTUAL";if(c=$(e,l)){if(p){J(e,"loopVirtual",true)}s.children.push(Dt(e,i,c));return false}if(c=$(e,u)){s.children.push(Object.create(St).init(e,i,c));return false}if(h=$(e,a)){if(lt.hasExpr(h)){s.children.push({isRtag:true,expr:h,dom:e,attrs:[].slice.call(e.attributes)});return false}}f=le(e);if(p){if($(e,"virtualized")){e.parentElement.removeChild(e)}if(!f&&!$(e,"virtualized")&&!$(e,"loopVirtual")){f={tmpl:e.outerHTML}}}if(f&&(e!==t||n)){if(p&&!$(e,a)){J(e,"virtualized",true);var d=new ue({tmpl:e.outerHTML},{root:e,parent:i},e.innerHTML);s.children.push(d)}else{var g={root:e,parent:i,hasImpl:true};s.children.push(fe(f,g,e.innerHTML,i));return false}}kt.apply(i,[e,e.attributes,function(t,e){if(!e){return}s.children.push(e)}]);return{parent:s}},r)}function kt(t,e,n){var i=this;ht(e,function(e){if(!e){return false}var r=e.name,o=M(r),a;if(ft(s,r)){a=Object.create(At).init(t,i,r,e.value)}else if(lt.hasExpr(e.value)){a={dom:t,expr:e.value,attr:r,bool:o}}n(e,a)})}var zt=/<yield\b/i;var Ft=/<yield\s*(?:\/>|>([\S\s]*?)<\/yield\s*>|>)/gi;var jt=/<yield\s+to=['"]([^'">]*)['"]\s*>([\S\s]*?)<\/yield\s*>/gi;var Bt=/<yield\s+from=['"]?([-\w]+)['"]?\s*(?:\/>|>([\S\s]*?)<\/yield\s*>)/gi;var Ut={tr:"tbody",th:"tr",td:"tr",col:"colgroup"};var Gt=L&&L<10?E:w;var Vt="div";var qt="svg";function Yt(t,e,n){var i=n[0]==="o",r=i?"select>":"table>";t.innerHTML="<"+r+e.trim()+"</"+r;r=t.firstChild;if(i){r.selectedIndex=-1}else{var o=Ut[n];if(o&&r.childElementCount===1){r=U(o,r)}}return r}function Xt(t,e){if(!zt.test(t)){return t}var n={};e=e&&e.replace(jt,function(t,e,i){n[e]=n[e]||i;return""}).trim();return t.replace(Bt,function(t,e,i){return n[e]||i||""}).replace(Ft,function(t,n){return e||n||""})}function Wt(t,e,n){var i=t&&t.match(/^\s*<([-\w]+)/),r=i&&i[1].toLowerCase(),o=Y(n?qt:Vt);t=Xt(t,e);if(Gt.test(r)){o=Yt(o,t,r)}else{X(o,t)}return o}function Zt(t,e){var n=this;var r=n.name;var o=n.tmpl;var s=n.css;var a=n.attrs;var u=n.onCreate;if(!i[r]){Ht(r,o,s,a,u);i[r].class=this.constructor}be(t,r,e,this);if(s){at.inject()}return this}function Ht(t,e,n,r,o){if(N(r)){o=r;if(/^[\w\-]+\s?=/.test(n)){r=n;n=""}else{r=""}}if(n){if(N(n)){o=n}else{at.add(n)}}t=t.toLowerCase();i[t]={name:t,tmpl:e,attrs:r,fn:o};return t}function $t(t,e,n,r,o){if(n){at.add(n,t)}i[t]={name:t,tmpl:e,attrs:r,fn:o};return t}function Jt(t,e,n){var i=[];var r,o;function s(t){if(t.tagName){var r=$(t,a),o;if(e&&r!==e){r=e;J(t,a,e)}o=be(t,r||t.tagName.toLowerCase(),n);if(o){i.push(o)}}else if(t.length){ht(t,s)}}at.inject();if(R(e)){n=e;e=0}if(D(t)){t=t==="*"?o=we():t+we(t.split(/, */));r=t?B(t):[]}else{r=t}if(e==="*"){e=o||we();if(r.tagName){r=B(e,r)}else{var u=[];ht(r,function(t){return u.push(B(e,t))});r=u}e=0}s(r);return i}var Qt={};var Kt=Qt[r]={};var te=0;function ee(t,e,n){if(R(t)){ee("__"+te+++"__",t,true);return}var i=n?Kt:Qt;if(!e){if(O(i[t])){throw new Error("Unregistered mixin: "+t)}return i[t]}i[t]=N(e)?mt(e.prototype,i[t]||{})&&e:mt(i[t]||{},e)}function ne(){return ht(n,function(t){return t.update()})}function ie(t){i[t]=null}var re="v3.5.0";var oe=Object.freeze({Tag:Zt,tag:Ht,tag2:$t,mount:Jt,mixin:ee,update:ne,unregister:ie,version:re});var se=0;function ae(t,e,n,i,r){if(t&&n){return}var s=!n&&t?this:e||this;ht(r,function(t){if(t.expr){Tt.call(s,[t.expr])}i[pt(t.name).replace(o,"")]=t.expr?t.expr.value:t.value})}function ue(t,e,i){if(t===void 0)t={};if(e===void 0)e={};var s=mt({},e.opts),a=e.parent,u=e.isLoop,l=!!e.isAnonymous,c=yt.skipAnonymousTags&&l,h=me(e.item),f=e.index,d=[],g=[],m=[],v=e.root,y=e.tagName||ge(v),b=y==="virtual",x=!b&&!t.tmpl,_=[],E;if(!c){ct(this)}if(t.name&&v._tag){v._tag.unmount(true)}this.isMounted=false;gt(this,"__",{isAnonymous:l,instAttrs:d,innerHTML:i,tagName:y,index:f,isLoop:u,isInline:x,listeners:[],virts:[],tail:null,head:null,parent:null,item:null});gt(this,"_riot_id",++se);gt(this,"root",v);mt(this,{opts:s},h);gt(this,"parent",a||null);gt(this,"tags",{});gt(this,"refs",{});if(x||u&&l){E=v}else{if(!b){v.innerHTML=""}E=Wt(t.tmpl,i,q(v))}gt(this,"update",function t(e){var n={},i=this.isMounted&&!c;e=me(e);mt(this,e);ae.apply(this,[u,a,l,n,d]);if(i&&this.isMounted&&N(this.shouldUpdate)&&!this.shouldUpdate(e,n)){return this}if(u&&l){ce.apply(this,[this.parent,_])}mt(s,n);if(i){this.trigger("update",e)}Tt.call(this,m);if(i){this.trigger("updated")}return this}.bind(this));gt(this,"mixin",function t(){var e=this;ht(arguments,function(t){var n,i;var r=[];var o=["init","__proto__"];t=D(t)?ee(t):t;if(N(t)){n=new t}else{n=t}var s=Object.getPrototypeOf(n);do{r=r.concat(Object.getOwnPropertyNames(i||n))}while(i=Object.getPrototypeOf(i||n));ht(r,function(t){if(!ft(o,t)){var i=Object.getOwnPropertyDescriptor(n,t)||Object.getOwnPropertyDescriptor(s,t);var r=i&&(i.get||i.set);if(!e.hasOwnProperty(t)&&r){Object.defineProperty(e,t,i)}else{e[t]=N(n[t])?n[t].bind(e):n[t]}}});if(n.init){n.init.bind(e)()}});return this}.bind(this));gt(this,"mount",function e(){var n=this;v._tag=this;kt.apply(a,[v,v.attributes,function(t,e){if(!l&&At.isPrototypeOf(e)){e.tag=n}t.expr=e;d.push(t)}]);g=[];K(t.attrs,function(t,e){g.push({name:t,value:e})});kt.apply(this,[v,g,function(t,e){if(e){m.push(e)}else{J(v,t.name,t.value)}}]);ae.apply(this,[u,a,l,s,d]);var i=ee(r);if(i&&!c){for(var o in i){if(i.hasOwnProperty(o)){n.mixin(i[o])}}}if(t.fn){t.fn.call(this,s)}if(!c){this.trigger("before-mount")}Pt.apply(this,[E,m,l]);this.update(h);if(!l&&!x){while(E.firstChild){v.appendChild(E.firstChild)}}gt(this,"root",v);gt(this,"isMounted",true);if(c){return}if(!this.parent){this.trigger("mount")}else{var f=pe(this.parent);f.one(!f.isMounted?"mount":"updated",function(){n.trigger("mount")})}return this}.bind(this));gt(this,"unmount",function e(i){var r=this;var s=this.root,u=s.parentNode,l,h=n.indexOf(this);if(!c){this.trigger("before-unmount")}K(t.attrs,function(t){if(dt(t,o)){t=t.slice(o.length)}Z(v,t)});this.__.listeners.forEach(function(t){Object.keys(t[p]).forEach(function(e){t.removeEventListener(e,t[p][e])})});if(h!==-1){n.splice(h,1)}if(u||b){if(a){l=pe(a);if(b){Object.keys(this.tags).forEach(function(t){ye(l.tags,t,r.tags[t])})}else{ye(l.tags,y,this);if(a!==l){ye(a.tags,y,this)}}}else{X(s,"")}if(u&&!i){u.removeChild(s)}}if(this.__.virts){ht(this.__.virts,function(t){if(t.parentNode){t.parentNode.removeChild(t)}})}de(m);ht(d,function(t){return t.expr&&t.expr.unmount&&t.expr.unmount()});if(this.__.onUnmount){this.__.onUnmount()}if(!c){this.trigger("unmount");this.off("*")}gt(this,"isMounted",false);delete this.root._tag;return this}.bind(this))}function le(t){return t.tagName&&i[$(t,a)||$(t,a)||t.tagName.toLowerCase()]}function ce(t,e){var n=this;ht(Object.keys(t),function(i){var r=!F(i)&&ft(e,i);if(O(n[i])||r){if(!r){e.push(i)}n[i]=t[i]}})}function he(t,e){var n=this.parent,i;if(!n){return}i=n.tags[t];if(k(i)){i.splice(e,0,i.splice(i.indexOf(this),1)[0])}else{ve(n.tags,t,this)}}function fe(t,e,n,i){var r=new ue(t,e,n),o=e.tagName||ge(e.root,true),s=pe(i);gt(r,"parent",s);r.__.parent=i;ve(s.tags,o,r);if(s!==i){ve(i.tags,o,r)}e.root.innerHTML="";return r}function pe(t){var e=t;while(e.__.isAnonymous){if(!e.parent){break}e=e.parent}return e}function de(t){ht(t,function(t){if(t instanceof ue){t.unmount(true)}else if(t.tagName){t.tag.unmount(true)}else if(t.unmount){t.unmount()}})}function ge(t,e){var n=le(t),i=!e&&$(t,a);return i&&!lt.hasExpr(i)?i:n?n.name:t.tagName.toLowerCase()}function me(t){if(!(t instanceof ue)&&!(t&&N(t.trigger))){return t}var e={};for(var n in t){if(!S.test(n)){e[n]=t[n]}}return e}function ve(t,e,n,i,r){var o=t[e];var s=k(o);var a=!O(r);if(o&&o===n){return}if(!o&&i){t[e]=[n]}else if(!o){t[e]=n}else{if(s){var u=o.indexOf(n);if(u===r){return}if(u!==-1){o.splice(u,1)}if(a){o.splice(r,0,n)}else{o.push(n)}}else{t[e]=[o,n]}}}function ye(t,e,n,i){if(k(t[e])){var r=t[e].indexOf(n);if(r!==-1){t[e].splice(r,1)}if(!t[e].length){delete t[e]}else if(t[e].length===1&&!i){t[e]=t[e][0]}}else{delete t[e]}}function be(t,e,r,o){var s=i[e],a=i[e].class,u=o||(a?Object.create(a.prototype):{}),l=t._innerHTML=t._innerHTML||t.innerHTML;var c=mt({root:t,opts:r},{parent:r?r.parent:null});if(s&&t){ue.apply(u,[s,c,l])}if(u&&u.mount){u.mount(true);if(!ft(n,u)){n.push(u)}}return u}function xe(t,e){var n=G();_e.call(t,n);e.parentNode.replaceChild(n,e)}function _e(t,e){var n=this;var i=V(),r=V(),o=G(),s,a;this.root.insertBefore(i,this.root.firstChild);this.root.appendChild(r);this.__.head=a=i;this.__.tail=r;while(a){s=a.nextSibling;o.appendChild(a);n.__.virts.push(a);a=s}if(e){t.insertBefore(o,e.__.head)}else{t.appendChild(o)}}function Ee(t,e){var n=this;var i=this.__.head,r=G(),o;while(i){o=i.nextSibling;r.appendChild(i);i=o;if(i===n.__.tail){r.appendChild(i);t.insertBefore(r,e.__.head);break}}}function we(t){if(!t){var e=Object.keys(i);return e+we(e)}return t.filter(function(t){return!/[^-\w]/.test(t)}).reduce(function(t,e){var n=e.trim().toLowerCase();return t+",["+a+'="'+n+'"]'},"")}var Te=Object.freeze({getTag:le,inheritFrom:ce,moveChildTag:he,initChildTag:fe,getImmediateCustomParentTag:pe,unmountAll:de,getTagName:ge,cleanUpData:me,arrayishAdd:ve,arrayishRemove:ye,mountTo:be,makeReplaceVirtual:xe,makeVirtual:_e,moveVirtual:Ee,selectTags:we});var Se=yt;var Ae={tmpl:lt,brackets:ut,styleManager:at,vdom:n,styleNode:at.styleNode,dom:et,check:j,misc:vt,tags:Te};var Ie=Zt;var Ce=Ht;var Le=$t;var Me=Jt;var Ne=ee;var Re=ne;var Oe=ie;var De=re;var Pe=ct;var ke=mt({},oe,{observable:ct,settings:Se,util:Ae});e.settings=Se;e.util=Ae;e.Tag=Ie;e.tag=Ce;e.tag2=Le;e.mount=Me;e.mixin=Ne;e.update=Re;e.unregister=Oe;e.version=De;e.observable=Pe;e["default"]=ke;Object.defineProperty(e,"__esModule",{value:true})})}).call(e,n(6))},function(t,e,n){"use strict";var i={};i.e=function(t,e){var n=document.createElement(t);n.className=e;return n};i.appendTo=function(t,e){e.appendChild(t);return t};function r(t,e){return window.getComputedStyle(t)[e]}function o(t,e,n){if(typeof n==="number"){n=n.toString()+"px"}t.style[e]=n;return t}function s(t,e){for(var n in e){var i=e[n];if(typeof i==="number"){i=i.toString()+"px"}t.style[n]=i}return t}i.css=function(t,e,n){if(typeof e==="object"){return s(t,e)}else{if(typeof n==="undefined"){return r(t,e)}else{return o(t,e,n)}}};i.matches=function(t,e){if(typeof t.matches!=="undefined"){return t.matches(e)}else{if(typeof t.matchesSelector!=="undefined"){return t.matchesSelector(e)}else if(typeof t.webkitMatchesSelector!=="undefined"){return t.webkitMatchesSelector(e)}else if(typeof t.mozMatchesSelector!=="undefined"){return t.mozMatchesSelector(e)}else if(typeof t.msMatchesSelector!=="undefined"){return t.msMatchesSelector(e)}}};i.remove=function(t){if(typeof t.remove!=="undefined"){t.remove()}else{if(t.parentNode){t.parentNode.removeChild(t)}}};i.queryChildren=function(t,e){return Array.prototype.filter.call(t.childNodes,function(t){return i.matches(t,e)})};t.exports=i},function(t,e,n){var i=n(17);t.exports=function t(e,n){var o=i.getCoord(e);var s=n.geometry.coordinates;if(n.geometry.type==="Polygon")s=[s];for(var a=0,u=false;a<s.length&&!u;a++){if(r(o,s[a][0])){var l=false;var c=1;while(c<s[a].length&&!l){if(r(o,s[a][c])){l=true}c++}if(!l)u=true}}return u};function r(t,e){var n=false;for(var i=0,r=e.length-1;i<e.length;r=i++){var o=e[i][0],s=e[i][1];var a=e[r][0],u=e[r][1];var l=s>t[1]!==u>t[1]&&t[0]<(a-o)*(t[1]-s)/(u-s)+o;if(l)n=!n}return n}},function(t,e){function n(t,e,n){var i,r,o,s,a,u,l,c,h,f=0,p,d=t.type==="FeatureCollection",g=t.type==="Feature",m=d?t.features.length:1;for(i=0;i<m;i++){h=d?t.features[i].geometry:g?t.geometry:t;p=h.type==="GeometryCollection";l=p?h.geometries.length:1;for(s=0;s<l;s++){u=p?h.geometries[s]:h;c=u.coordinates;f=n&&(u.type==="Polygon"||u.type==="MultiPolygon")?1:0;if(u.type==="Point"){e(c)}else if(u.type==="LineString"||u.type==="MultiPoint"){for(r=0;r<c.length;r++)e(c[r])}else if(u.type==="Polygon"||u.type==="MultiLineString"){for(r=0;r<c.length;r++)for(o=0;o<c[r].length-f;o++)e(c[r][o])}else if(u.type==="MultiPolygon"){for(r=0;r<c.length;r++)for(o=0;o<c[r].length;o++)for(a=0;a<c[r][o].length-f;a++)e(c[r][o][a])}else{throw new Error("Unknown Geometry Type")}}}}t.exports.coordEach=n;function i(t,e,i,r){n(t,function(t){i=e(i,t)},r);return i}t.exports.coordReduce=i;function r(t,e){var n;switch(t.type){case"FeatureCollection":for(n=0;n<t.features.length;n++){e(t.features[n].properties)}break;case"Feature":e(t.properties);break}}t.exports.propEach=r;function o(t,e,n){r(t,function(t){n=e(n,t)});return n}t.exports.propReduce=o;function s(t,e){if(t.type==="Feature"){e(t)}else if(t.type==="FeatureCollection"){for(var n=0;n<t.features.length;n++){e(t.features[n])}}}t.exports.featureEach=s;function a(t){var e=[];n(t,function(t){e.push(t)});return e}t.exports.coordAll=a},function(t,e,n){(function(e){t.exports=function(t){var e=[];e.toString=function e(){return this.map(function(e){var i=n(e,t);if(e[2]){return"@media "+e[2]+"{"+i+"}"}else{return i}}).join("")};e.i=function(t,n){if(typeof t==="string")t=[[null,t,""]];var i={};for(var r=0;r<this.length;r++){var o=this[r][0];if(typeof o==="number")i[o]=true}for(r=0;r<t.length;r++){var s=t[r];if(typeof s[0]!=="number"||!i[s[0]]){if(n&&!s[2]){s[2]=n}else if(n){s[2]="("+s[2]+") and ("+n+")"}e.push(s)}}};return e};function n(t,e){var n=t[1]||"";var r=t[3];if(!r){return n}if(e){var o=i(r);var s=r.sources.map(function(t){return"/*# sourceURL="+r.sourceRoot+t+" */"});return[n].concat(s).concat([o]).join("\n")}return[n].join("\n")}function i(t){var n=new e(JSON.stringify(t)).toString("base64");var i="sourceMappingURL=data:application/json;charset=utf-8;base64,"+n;return"/*# "+i+" */"}}).call(e,n(125).Buffer)},function(t,e,n){!function(t,n){true?n(e):"function"==typeof define&&define.amd?define(["exports"],n):n(t.jsts=t.jsts||{})}(this,function(t){"use strict";function e(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])}function n(){}function i(){}function r(){}function o(){}function s(){}function a(){}function u(){}function l(t){this.message=t}function c(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function h(){if(0===arguments.length)l.call(this);else if(1===arguments.length){var t=arguments[0];l.call(this,t)}}function f(){}function p(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)p.call(this,0,0);else if(1===arguments.length){var t=arguments[0];p.call(this,t.x,t.y,t.z)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];p.call(this,e,n,p.NULL_ORDINATE)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.x=i,this.y=r,this.z=o}}function d(){if(this.dimensionsToTest=2,0===arguments.length)d.call(this,2);else if(1===arguments.length){var t=arguments[0];if(2!==t&&3!==t)throw new i("only 2 or 3 dimensions may be specified");this.dimensionsToTest=t}}function g(){}function m(){}function v(t){this.message=t||""}function y(){}function b(t){this.message=t||""}function x(t){this.message=t||""}function _(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function E(){if(_.apply(this),0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.ensureCapacity(t.length),this.add(t,!0)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.ensureCapacity(e.length),this.add(e,n)}}function w(){if(this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof p){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof w){var e=arguments[0];this.init(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];this.init(r,o,s,a)}}function T(){}function S(){T.call(this,"Projective point not representable on the Cartesian plane.")}function A(){}function I(t,e){return t.interfaces_&&t.interfaces_().indexOf(e)>-1}function C(){}function L(t){this.str=t}function M(t){this.value=t}function N(){}function R(){if(this.hi=0,this.lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.init(t)}else if(arguments[0]instanceof R){var e=arguments[0];this.init(e)}else if("string"==typeof arguments[0]){var n=arguments[0];R.call(this,R.parse(n))}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.init(i,r)}}function O(){}function D(){}function P(){}function k(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){var t=arguments[0];this.x=t.x,this.y=t.y,this.w=1}else if(2===arguments.length){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var e=arguments[0],n=arguments[1];this.x=e,this.y=n,this.w=1}else if(arguments[0]instanceof k&&arguments[1]instanceof k){var i=arguments[0],r=arguments[1];this.x=i.y*r.w-r.y*i.w,this.y=r.x*i.w-i.x*r.w,this.w=i.x*r.y-r.x*i.y}else if(arguments[0]instanceof p&&arguments[1]instanceof p){var o=arguments[0],s=arguments[1];this.x=o.y-s.y,this.y=s.x-o.x,this.w=o.x*s.y-s.x*o.y}}else if(3===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2];this.x=a,this.y=u,this.w=l}else if(4===arguments.length){var c=arguments[0],h=arguments[1],f=arguments[2],d=arguments[3],g=c.y-h.y,m=h.x-c.x,v=c.x*h.y-h.x*c.y,y=f.y-d.y,b=d.x-f.x,x=f.x*d.y-d.x*f.y;this.x=m*x-b*v,this.y=y*v-g*x,this.w=g*b-y*m}}function z(){}function F(){}function j(){this.envelope=null,this.factory=null,this.SRID=null,this.userData=null;var t=arguments[0];this.factory=t,this.SRID=t.getSRID()}function B(){}function U(){}function G(){}function V(){}function q(){}function Y(){}function X(){}function W(){}function Z(){}function H(){}function $(){}function J(){}function Q(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function K(t){return null==t?ts:t.color}function tt(t){return null==t?null:t.parent}function et(t,e){null!==t&&(t.color=e)}function nt(t){return null==t?null:t.left}function it(t){return null==t?null:t.right}function rt(){this.root_=null,this.size_=0}function ot(){}function st(){}function at(){this.array_=[],arguments[0]instanceof m&&this.addAll(arguments[0])}function ut(){}function lt(){}function ct(){}function ht(){}function ft(){this.geometries=null;var t=arguments[0],e=arguments[1];if(j.call(this,e),null===t&&(t=[]),j.hasNullElements(t))throw new i("geometries must not contain null elements");this.geometries=t}function pt(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function dt(){if(this.geom=null,this.geomFact=null,this.bnRule=null,this.endpointMap=null,1===arguments.length){var t=arguments[0];dt.call(this,t,U.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.geom=e,this.geomFact=e.getFactory(),this.bnRule=n}}function gt(){this.count=null}function mt(){}function vt(){}function yt(){}function bt(){}function xt(){}function _t(){}function Et(){}function wt(){}function Tt(){this.points=null;var t=arguments[0],e=arguments[1];j.call(this,e),this.init(t)}function St(){}function At(){this.coordinates=null;var t=arguments[0],e=arguments[1];j.call(this,e),this.init(t)}function It(){}function Ct(){this.shell=null,this.holes=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(j.call(this,n),null===t&&(t=this.getFactory().createLinearRing()),null===e&&(e=[]),j.hasNullElements(e))throw new i("holes must not contain null elements");if(t.isEmpty()&&j.hasNonEmptyElements(e))throw new i("shell is empty but holes are not");this.shell=t,this.holes=e}function Lt(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function Mt(){if(arguments[0]instanceof p&&arguments[1]instanceof ie){var t=arguments[0],e=arguments[1];Mt.call(this,e.getCoordinateSequenceFactory().create(t),e)}else if(I(arguments[0],D)&&arguments[1]instanceof ie){var n=arguments[0],i=arguments[1];Tt.call(this,n,i),this.validateConstruction()}}function Nt(){var t=arguments[0],e=arguments[1];ft.call(this,t,e)}function Rt(){if(this.factory=null,this.isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.factory=t}}function Ot(){}function Dt(){}function Pt(){}function kt(){}function zt(){if(this.dimension=3,this.coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];zt.call(this,t,3)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.coordinates=new Array(e).fill(null);for(var n=0;e>n;n++)this.coordinates[n]=new p}else if(I(arguments[0],D)){var i=arguments[0];if(null===i)return this.coordinates=new Array(0).fill(null),null;this.dimension=i.getDimension(),this.coordinates=new Array(i.size()).fill(null);for(var n=0;n<this.coordinates.length;n++)this.coordinates[n]=i.getCoordinateCopy(n)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&Number.isInteger(arguments[1])){var r=arguments[0],o=arguments[1];this.coordinates=r,this.dimension=o,null===r&&(this.coordinates=new Array(0).fill(null))}else if(Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var s=arguments[0],a=arguments[1];this.coordinates=new Array(s).fill(null),this.dimension=a;for(var n=0;s>n;n++)this.coordinates[n]=new p}}function Ft(){}function jt(t,e){return t===e||t!==t&&e!==e}function Bt(t,e){function n(t){return this&&this.constructor===n?(this._keys=[],this._values=[],this._itp=[],this.objectOnly=e,void(t&&Ut.call(this,t))):new n(t)}return e||rs(t,"size",{get:Qt}),t.constructor=n,n.prototype=t,n}function Ut(t){this.add?t.forEach(this.add,this):t.forEach(function(t){this.set(t[0],t[1])},this)}function Gt(t){return this.has(t)&&(this._keys.splice(is,1),this._values.splice(is,1),this._itp.forEach(function(t){is<t[0]&&t[0]--})),is>-1}function Vt(t){return this.has(t)?this._values[is]:void 0}function qt(t,e){if(this.objectOnly&&e!==Object(e))throw new TypeError("Invalid value used as weak collection key");if(e!==e||0===e)for(is=t.length;is--&&!jt(t[is],e););else is=t.indexOf(e);return is>-1}function Yt(t){return qt.call(this,this._keys,t)}function Xt(t,e){return this.has(t)?this._values[is]=e:this._values[this._keys.push(t)-1]=e,this}function Wt(){(this._keys||0).length=this._values.length=0}function Zt(){return Jt(this._itp,this._keys)}function Ht(){return Jt(this._itp,this._values)}function $t(){return Jt(this._itp,this._keys,this._values)}function Jt(t,e,n){var i=[0],r=!1;return t.push(i),{next:function(){var o,s=i[0];return!r&&s<e.length?(o=n?[e[s],n[s]]:e[s],i[0]++):(r=!0,t.splice(t.indexOf(i),1)),{done:r,value:o}}}}function Qt(){return this._values.length}function Kt(t,e){for(var n=this.entries();;){var i=n.next();if(i.done)break;t.call(e,i.value[1],i.value[0],this)}}function te(){this.map_=new ss}function ee(){if(this.modelType=null,this.scale=null,0===arguments.length)this.modelType=ee.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof ne){var t=arguments[0];this.modelType=t,t===ee.FIXED&&this.setScale(1)}else if("number"==typeof arguments[0]){var e=arguments[0];this.modelType=ee.FIXED,this.setScale(e)}else if(arguments[0]instanceof ee){var n=arguments[0];this.modelType=n.modelType,this.scale=n.scale}}function ne(){this.name=null;var t=arguments[0];this.name=t,ne.nameToTypeMap.put(t,this)}function ie(){if(this.precisionModel=null,this.coordinateSequenceFactory=null,this.SRID=null,0===arguments.length)ie.call(this,new ee,0);else if(1===arguments.length){if(I(arguments[0],z)){var t=arguments[0];ie.call(this,new ee,0,t)}else if(arguments[0]instanceof ee){var e=arguments[0];ie.call(this,e,0,ie.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];ie.call(this,n,i,ie.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.precisionModel=r,this.coordinateSequenceFactory=s,this.SRID=o}}function re(t){this.geometryFactory=t||new ie}function oe(t){this.parser=new re(t)}function se(){this.result=null,this.inputLines=Array(2).fill().map(function(){return Array(2)}),this.intPt=new Array(2).fill(null),this.intLineIndex=null,this._isProper=null,this.pa=null,this.pb=null,this.precisionModel=null,this.intPt[0]=new p,this.intPt[1]=new p,this.pa=this.intPt[0],this.pb=this.intPt[1],this.result=0}function ae(){se.apply(this)}function ue(){}function le(){this.p=null,this.crossingCount=0,this.isPointOnSegment=!1;var t=arguments[0];this.p=t}function ce(){}function he(){if(this.p0=null,this.p1=null,0===arguments.length)he.call(this,new p,new p);else if(1===arguments.length){var t=arguments[0];he.call(this,t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0=e,this.p1=n}else if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3];he.call(this,new p(i,r),new p(o,s))}}function fe(){if(this.matrix=null,0===arguments.length)this.matrix=Array(3).fill().map(function(){return Array(3)}),this.setAll(lt.FALSE);else if(1===arguments.length)if("string"==typeof arguments[0]){var t=arguments[0];fe.call(this),this.set(t)}else if(arguments[0]instanceof fe){var e=arguments[0];fe.call(this),this.matrix[A.INTERIOR][A.INTERIOR]=e.matrix[A.INTERIOR][A.INTERIOR],this.matrix[A.INTERIOR][A.BOUNDARY]=e.matrix[A.INTERIOR][A.BOUNDARY],this.matrix[A.INTERIOR][A.EXTERIOR]=e.matrix[A.INTERIOR][A.EXTERIOR],this.matrix[A.BOUNDARY][A.INTERIOR]=e.matrix[A.BOUNDARY][A.INTERIOR],this.matrix[A.BOUNDARY][A.BOUNDARY]=e.matrix[A.BOUNDARY][A.BOUNDARY],this.matrix[A.BOUNDARY][A.EXTERIOR]=e.matrix[A.BOUNDARY][A.EXTERIOR],this.matrix[A.EXTERIOR][A.INTERIOR]=e.matrix[A.EXTERIOR][A.INTERIOR],this.matrix[A.EXTERIOR][A.BOUNDARY]=e.matrix[A.EXTERIOR][A.BOUNDARY],this.matrix[A.EXTERIOR][A.EXTERIOR]=e.matrix[A.EXTERIOR][A.EXTERIOR]}}function pe(){this.areaBasePt=null,this.triangleCent3=new p,this.areasum2=0,this.cg3=new p,this.lineCentSum=new p,this.totalLength=0,this.ptCount=0,this.ptCentSum=new p;var t=arguments[0];this.areaBasePt=null,this.add(t)}function de(t){this.message=t||""}function ge(){this.array_=[]}function me(){this.treeSet=new at,this.list=new _}function ve(){if(this.geomFactory=null,this.inputPts=null,1===arguments.length){var t=arguments[0];ve.call(this,ve.extractCoordinates(t),t.getFactory())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputPts=me.filterCoordinates(e),this.geomFactory=n}}function ye(){this.origin=null;var t=arguments[0];this.origin=t}function be(){this.inputGeom=null,this.factory=null,this.pruneEmptyGeometry=!0,this.preserveGeometryCollectionType=!0,this.preserveCollections=!1,this.preserveType=!1}function xe(){if(this.snapTolerance=0,this.srcPts=null,this.seg=new he,this.allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof Tt&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];xe.call(this,t.getCoordinates(),e)}else if(arguments[0]instanceof Array&&"number"==typeof arguments[1]){var n=arguments[0],i=arguments[1];this.srcPts=n,this._isClosed=xe.isClosed(n),this.snapTolerance=i}}function _e(){this.srcGeom=null;var t=arguments[0];this.srcGeom=t}function Ee(){if(be.apply(this),this.snapTolerance=null,this.snapPts=null,this.isSelfSnap=!1,2===arguments.length){var t=arguments[0],e=arguments[1];this.snapTolerance=t,this.snapPts=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.snapTolerance=n,this.snapPts=i,this.isSelfSnap=r}}function we(){this.isFirst=!0,this.commonMantissaBitsCount=53,this.commonBits=0,this.commonSignExp=null}function Te(){this.commonCoord=null,this.ccFilter=new Se}function Se(){this.commonBitsX=new we,this.commonBitsY=new we}function Ae(){this.trans=null;var t=arguments[0];this.trans=t}function Ie(){this.parent=null,this.atStart=null,this.max=null,this.index=null,this.subcollectionIterator=null;var t=arguments[0];this.parent=t,this.atStart=!0,this.index=0,this.max=t.getNumGeometries()}function Ce(){if(this.boundaryRule=U.OGC_SFS_BOUNDARY_RULE,this.isIn=null,this.numBoundaries=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];if(null===t)throw new i("Rule must be non-null");this.boundaryRule=t}}function Le(){}function Me(){}function Ne(){this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function Re(){}function Oe(){this.bounds=null,this.item=null;var t=arguments[0],e=arguments[1];this.bounds=t,this.item=e}function De(){this._size=null,this.items=null,this._size=0,this.items=new _,this.items.add(null)}function Pe(){}function ke(){}function ze(){if(this.childBoundables=new _,this.bounds=null,this.level=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.level=t}}function Fe(){this.boundable1=null,this.boundable2=null,this._distance=null,this.itemDistance=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.boundable1=t,this.boundable2=e,this.itemDistance=n,this._distance=this.distance()}function je(){if(this.root=null,this.built=!1,this.itemBoundables=new _,this.nodeCapacity=null,0===arguments.length)je.call(this,je.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];f.isTrue(t>1,"Node capacity must be greater than 1"),this.nodeCapacity=t}}function Be(){}function Ue(){}function Ge(){if(0===arguments.length)Ge.call(this,Ge.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){var t=arguments[0];je.call(this,t)}}function Ve(){var t=arguments[0];ze.call(this,t)}function qe(){}function Ye(){this.segString=null,this.coord=null,this.segmentIndex=null,this.segmentOctant=null,this._isInterior=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.segString=t,this.coord=new p(e),this.segmentIndex=n,this.segmentOctant=i,this._isInterior=!e.equals2D(t.getCoordinate(n))}function Xe(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function We(){this.nodeList=null,this.edge=null,this.nodeIt=null,this.currNode=null,this.nextNode=null,this.currSegIndex=0;var t=arguments[0];this.nodeList=t,this.edge=t.getEdge(),this.nodeIt=t.iterator(),this.readNextNode()}function Ze(){}function He(){this.nodeList=new Xe(this),this.pts=null,this.data=null;var t=arguments[0],e=arguments[1];this.pts=t,this.data=e}function $e(){this.tempEnv1=new w,this.tempEnv2=new w,this.overlapSeg1=new he,this.overlapSeg2=new he}function Je(){this.pts=null,this.start=null,this.end=null,this.env=null,this.context=null,this.id=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.pts=t,this.start=e,this.end=n,this.context=i}function Qe(){}function Ke(){}function tn(){}function en(){if(this.segInt=null,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setSegmentIntersector(t)}}function nn(){if(this.monoChains=new _,this.index=new Ge,this.idCounter=0,this.nodedSegStrings=null,this.nOverlaps=0,0===arguments.length);else if(1===arguments.length){var t=arguments[0];en.call(this,t)}}function rn(){$e.apply(this),this.si=null;var t=arguments[0];this.si=t}function on(){if(this.pt=null,1===arguments.length){var t=arguments[0];l.call(this,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];l.call(this,on.msgWithCoord(e,n)),this.pt=new p(n)}}function sn(){}function an(){this.findAllIntersections=!1,this.isCheckEndSegmentsOnly=!1,this.li=null,this.interiorIntersection=null,this.intSegments=null,this.intersections=new _,this.intersectionCount=0,this.keepIntersections=!0;var t=arguments[0];this.li=t,this.interiorIntersection=null}function un(){this.li=new ae,this.segStrings=null,this.findAllIntersections=!1,this.segInt=null,this._isValid=!0;var t=arguments[0];this.segStrings=t}function ln(){this.nv=null;var t=arguments[0];this.nv=new un(ln.toSegmentStrings(t))}function cn(){this.mapOp=null;var t=arguments[0];this.mapOp=t}function hn(){}function fn(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];this.init(t.length)}else if(Number.isInteger(arguments[0])){var e=arguments[0];this.init(1),this.location[hn.ON]=e}else if(arguments[0]instanceof fn){var n=arguments[0];if(this.init(n.location.length),null!==n)for(var i=0;i<this.location.length;i++)this.location[i]=n.location[i]}}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.init(3),this.location[hn.ON]=r,this.location[hn.LEFT]=o,this.location[hn.RIGHT]=s}}function pn(){if(this.elt=new Array(2).fill(null),1===arguments.length){if(Number.isInteger(arguments[0])){var t=arguments[0];this.elt[0]=new fn(t),this.elt[1]=new fn(t)}else if(arguments[0]instanceof pn){var e=arguments[0];this.elt[0]=new fn(e.elt[0]),this.elt[1]=new fn(e.elt[1])}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.elt[0]=new fn(A.NONE),this.elt[1]=new fn(A.NONE),this.elt[n].setLocation(i)}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.elt[0]=new fn(r,o,s),this.elt[1]=new fn(r,o,s)}else if(4===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2],c=arguments[3];this.elt[0]=new fn(A.NONE,A.NONE,A.NONE),this.elt[1]=new fn(A.NONE,A.NONE,A.NONE),this.elt[a].setLocations(u,l,c)}}function dn(){this.startDe=null,this.maxNodeDegree=-1,this.edges=new _,this.pts=new _,this.label=new pn(A.NONE),this.ring=null,this._isHole=null,this.shell=null,this.holes=new _,this.geometryFactory=null;var t=arguments[0],e=arguments[1];this.geometryFactory=e,this.computePoints(t),this.computeRing()}function gn(){var t=arguments[0],e=arguments[1];dn.call(this,t,e)}function mn(){var t=arguments[0],e=arguments[1];dn.call(this,t,e)}function vn(){if(this.label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.label=t}}function yn(){vn.apply(this),this.coord=null,this.edges=null;var t=arguments[0],e=arguments[1];this.coord=t,this.edges=e,this.label=new pn(0,A.NONE)}function bn(){this.nodeMap=new rt,this.nodeFact=null;var t=arguments[0];this.nodeFact=t}function xn(){if(this.edge=null,this.label=null,this.node=null,this.p0=null,this.p1=null,this.dx=null,this.dy=null,this.quadrant=null,1===arguments.length){var t=arguments[0];this.edge=t}else if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];xn.call(this,e,n,i,null)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];xn.call(this,r),this.init(o,s),this.label=a}}function _n(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this.sym=null,this.next=null,this.nextMin=null,this.edgeRing=null,this.minEdgeRing=null,this.depth=[0,-999,-999];var t=arguments[0],e=arguments[1];if(xn.call(this,t),this._isForward=e,e)this.init(t.getCoordinate(0),t.getCoordinate(1));else{var n=t.getNumPoints()-1;this.init(t.getCoordinate(n),t.getCoordinate(n-1))}this.computeDirectedLabel()}function En(){}function wn(){if(this.edges=new _,this.nodes=null,this.edgeEndList=new _,0===arguments.length)this.nodes=new bn(new En);else if(1===arguments.length){var t=arguments[0];this.nodes=new bn(t)}}function Tn(){this.geometryFactory=null,this.shellList=new _;var t=arguments[0];this.geometryFactory=t}function Sn(){this.op=null,this.geometryFactory=null,this.ptLocator=null,this.lineEdgesList=new _,this.resultLineList=new _;var t=arguments[0],e=arguments[1],n=arguments[2];this.op=t,this.geometryFactory=e,this.ptLocator=n}function An(){this.op=null,this.geometryFactory=null,this.resultPointList=new _;var t=arguments[0],e=arguments[1];arguments[2];this.op=t,this.geometryFactory=e}function In(){}function Cn(){this.geom=null;var t=arguments[0];this.geom=t}function Ln(){this.edgeMap=new rt,this.edgeList=null,this.ptInAreaLocation=[A.NONE,A.NONE]}function Mn(){Ln.apply(this),this.resultAreaEdgeList=null,this.label=null,this.SCANNING_FOR_INCOMING=1,this.LINKING_TO_OUTGOING=2}function Nn(){En.apply(this)}function Rn(){this.mce=null,this.chainIndex=null;var t=arguments[0],e=arguments[1];this.mce=t,this.chainIndex=e}function On(){if(this.label=null,this.xValue=null,this.eventType=null,this.insertEvent=null,this.deleteEventIndex=null,this.obj=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.eventType=On.DELETE,this.xValue=t,this.insertEvent=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.eventType=On.INSERT,this.label=n,this.xValue=i,this.obj=r}}function Dn(){}function Pn(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.properIntersectionPoint=null,this.li=null,this.includeProper=null,this.recordIsolated=null,this.isSelfIntersection=null,this.numIntersections=0,this.numTests=0,this.bdyNodes=null,this._isDone=!1,this.isDoneWhenProperInt=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.li=t,this.includeProper=e,this.recordIsolated=n}function kn(){Dn.apply(this),this.events=new _,this.nOverlaps=null}function zn(){this.min=r.POSITIVE_INFINITY,this.max=r.NEGATIVE_INFINITY}function Fn(){}function jn(){zn.apply(this),this.item=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.min=t,this.max=e,this.item=n}function Bn(){zn.apply(this),this.node1=null,this.node2=null;var t=arguments[0],e=arguments[1];this.node1=t,this.node2=e,this.buildExtent(this.node1,this.node2)}function Un(){this.leaves=new _,this.root=null,this.level=0}function Gn(){if(this.lines=null,this.isForcedToLineString=!1,1===arguments.length){var t=arguments[0];this.lines=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.lines=e,this.isForcedToLineString=n}}function Vn(){this.items=new _}function qn(){this.index=null;var t=arguments[0];if(!I(t,It))throw new i("Argument must be Polygonal");this.index=new Xn(t)}function Yn(){this.counter=null;var t=arguments[0];this.counter=t}function Xn(){this.index=new Un;var t=arguments[0];this.init(t)}function Wn(){this.coord=null,this.segmentIndex=null,this.dist=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.coord=new p(t),this.segmentIndex=e,this.dist=n}function Zn(){this.nodeMap=new rt,this.edge=null;var t=arguments[0];this.edge=t}function Hn(){}function $n(){this.e=null,this.pts=null,this.startIndex=null,this.env1=new w,this.env2=new w;var t=arguments[0];this.e=t,this.pts=t.getCoordinates();var e=new Hn;this.startIndex=e.getChainStartIndices(this.pts)}function Jn(){this.depth=Array(2).fill().map(function(){return Array(3)});for(var t=0;2>t;t++)for(var e=0;3>e;e++)this.depth[t][e]=Jn.NULL_VALUE}function Qn(){if(vn.apply(this),this.pts=null,this.env=null,this.eiList=new Zn(this),this.name=null,this.mce=null,this._isIsolated=!0,this.depth=new Jn,this.depthDelta=0,1===arguments.length){var t=arguments[0];Qn.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pts=e,this.label=n}}function Kn(){if(wn.apply(this),this.parentGeom=null,this.lineEdgeMap=new te,this.boundaryNodeRule=null,this.useBoundaryDeterminationRule=!0,this.argIndex=null,this.boundaryNodes=null,this._hasTooFewPoints=!1,this.invalidPoint=null,this.areaPtLocator=null,this.ptLocator=new Ce,2===arguments.length){var t=arguments[0],e=arguments[1];Kn.call(this,t,e,U.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.argIndex=n,this.parentGeom=i,this.boundaryNodeRule=r,null!==i&&this.add(i)}}function ti(){if(this.li=new ae,this.resultPrecisionModel=null,this.arg=null,1===arguments.length){var t=arguments[0];this.setComputationPrecision(t.getPrecisionModel()),this.arg=new Array(1).fill(null),this.arg[0]=new Kn(0,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];ti.call(this,e,n,U.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];i.getPrecisionModel().compareTo(r.getPrecisionModel())>=0?this.setComputationPrecision(i.getPrecisionModel()):this.setComputationPrecision(r.getPrecisionModel()),this.arg=new Array(2).fill(null),this.arg[0]=new Kn(0,i,o),this.arg[1]=new Kn(1,r,o)}}function ei(){this.pts=null,this._orientation=null;var t=arguments[0];this.pts=t,this._orientation=ei.orientation(t)}function ni(){this.edges=new _,this.ocaMap=new rt}function ii(){this.ptLocator=new Ce,this.geomFact=null,this.resultGeom=null,this.graph=null,this.edgeList=new ni,this.resultPolyList=new _,this.resultLineList=new _,this.resultPointList=new _;var t=arguments[0],e=arguments[1];ti.call(this,t,e),this.graph=new wn(new Nn),this.geomFact=t.getFactory()}function ri(){this.geom=new Array(2).fill(null),this.snapTolerance=null,this.cbr=null;var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e,this.computeSnapTolerance()}function oi(){this.geom=new Array(2).fill(null);var t=arguments[0],e=arguments[1];this.geom[0]=t,this.geom[1]=e}function si(){this.factory=null,this.interiorPoint=null,this.maxWidth=0;var t=arguments[0];this.factory=t.getFactory(),this.add(t)}function ai(){this.poly=null,this.centreY=null,this.hiY=r.MAX_VALUE,this.loY=-r.MAX_VALUE;var t=arguments[0];this.poly=t,this.hiY=t.getEnvelopeInternal().getMaxY(),this.loY=t.getEnvelopeInternal().getMinY(),this.centreY=si.avg(this.loY,this.hiY)}function ui(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.addInterior(t),null===this.interiorPoint&&this.addEndpoints(t)}function li(){this.centroid=null,this.minDistance=r.MAX_VALUE,this.interiorPoint=null;var t=arguments[0];this.centroid=t.getCentroid().getCoordinate(),this.add(t)}function ci(){}function hi(){this.p0=null,this.p1=null,this.p2=null;var t=arguments[0],e=arguments[1],n=arguments[2];this.p0=t,this.p1=e,this.p2=n}function fi(){this.input=null,this.extremalPts=null,this.centre=null,this.radius=0;var t=arguments[0];this.input=t}function pi(){if(this.inputGeom=null,this.isConvex=null,this.convexHullPts=null,this.minBaseSeg=new he,this.minWidthPt=null,this.minPtIndex=null,this.minWidth=0,1===arguments.length){var t=arguments[0];pi.call(this,t,!1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isConvex=n}}function di(){this.inputGeom=null,this.distanceTolerance=null;var t=arguments[0];this.inputGeom=t}function gi(){be.apply(this),this.distanceTolerance=null;var t=arguments[0];this.distanceTolerance=t}function mi(){this._orig=null,this._sym=null,this._next=null;var t=arguments[0];this._orig=t}function vi(){this._isMarked=!1;var t=arguments[0];mi.call(this,t)}function yi(){this.vertexMap=new te}function bi(){this._isStart=!1;var t=arguments[0];vi.call(this,t)}function xi(){yi.apply(this)}function _i(){this.result=null,this.factory=null,this.graph=null,this.lines=new _,this.nodeEdgeStack=new ge,this.ringStartEdge=null,this.graph=new xi}function Ei(){this.items=new _,this.subnode=new Array(4).fill(null)}function wi(){}function Ti(t,e){var n,i,r,o,s={32:{d:127,c:128,b:0,a:0},64:{d:32752,c:0,b:0,a:0}},a={32:8,64:11}[t];if(o||(n=0>e||0>1/e,isFinite(e)||(o=s[t],n&&(o.d+=1<<t/4-1),i=Math.pow(2,a)-1,r=0)),!o){for(i={32:127,64:1023}[t],r=Math.abs(e);r>=2;)i++,r/=2;for(;1>r&&i>0;)i--,r*=2;0>=i&&(r/=2),32===t&&i>254&&(o={d:n?255:127,c:128,b:0,a:0},i=Math.pow(2,a)-1,r=0)}return i}function Si(){this.pt=new p,this.level=0,this.env=null;var t=arguments[0];this.computeKey(t)}function Ai(){Ei.apply(this),this.env=null,this.centrex=null,this.centrey=null,this.level=null;var t=arguments[0],e=arguments[1];this.env=t,this.level=e,this.centrex=(t.getMinX()+t.getMaxX())/2,this.centrey=(t.getMinY()+t.getMaxY())/2}function Ii(){}function Ci(){Ei.apply(this)}function Li(){this.root=null,this.minExtent=1,this.root=new Ci}function Mi(t){this.geometryFactory=t||new ie}function Ni(t){this.geometryFactory=t||new ie,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new Mi(this.geometryFactory)}function Ri(){this.parser=new Mi(this.geometryFactory)}function Oi(t){this.geometryFactory=t||new ie,this.precisionModel=this.geometryFactory.getPrecisionModel(),this.parser=new re(this.geometryFactory)}function Di(t){return[t.x,t.y]}function Pi(t){this.geometryFactory=t||new ie}function ki(){if(this.noder=null,this.scaleFactor=null,this.offsetX=null,this.offsetY=null,this.isScaled=!1,2===arguments.length){var t=arguments[0],e=arguments[1];ki.call(this,t,e,0,0)}else if(4===arguments.length){var n=arguments[0],i=arguments[1];arguments[2],arguments[3];this.noder=n,this.scaleFactor=i,this.isScaled=!this.isIntegerPrecision()}}function zi(){if(this.inputGeom=null,this.isClosedEndpointsInInterior=!0,this.nonSimpleLocation=null,1===arguments.length){var t=arguments[0];this.inputGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.inputGeom=e,this.isClosedEndpointsInInterior=!n.isInBoundary(2)}}function Fi(){this.pt=null,this.isClosed=null,this.degree=null;var t=arguments[0];this.pt=t,this.isClosed=!1,this.degree=0}function ji(){if(this.quadrantSegments=ji.DEFAULT_QUADRANT_SEGMENTS,this.endCapStyle=ji.CAP_ROUND,this.joinStyle=ji.JOIN_ROUND,this.mitreLimit=ji.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this.simplifyFactor=ji.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){var t=arguments[0];this.setQuadrantSegments(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(n)}else if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3];this.setQuadrantSegments(i),this.setEndCapStyle(r),this.setJoinStyle(o),this.setMitreLimit(s)}}function Bi(){this.minIndex=-1,this.minCoord=null,this.minDe=null,this.orientedDe=null}function Ui(){this.array_=[]}function Gi(){this.finder=null,this.dirEdgeList=new _,this.nodes=new _,this.rightMostCoord=null,this.env=null,this.finder=new Bi}function Vi(){this.inputLine=null,this.distanceTol=null,this.isDeleted=null,this.angleOrientation=ce.COUNTERCLOCKWISE;var t=arguments[0];this.inputLine=t}function qi(){this.ptList=null,this.precisionModel=null,this.minimimVertexDistance=0,this.ptList=new _}function Yi(){this.maxCurveSegmentError=0,this.filletAngleQuantum=null,this.closingSegLengthFactor=1,this.segList=null,this.distance=0,this.precisionModel=null,this.bufParams=null,this.li=null,this.s0=null,this.s1=null,this.s2=null,this.seg0=new he,this.seg1=new he,this.offset0=new he,this.offset1=new he,this.side=0,this._hasNarrowConcaveAngle=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.precisionModel=t,this.bufParams=e,this.li=new ae,this.filletAngleQuantum=Math.PI/2/e.getQuadrantSegments(),e.getQuadrantSegments()>=8&&e.getJoinStyle()===ji.JOIN_ROUND&&(this.closingSegLengthFactor=Yi.MAX_CLOSING_SEG_LEN_FACTOR),this.init(n)}function Xi(){this.distance=0,this.precisionModel=null,this.bufParams=null;var t=arguments[0],e=arguments[1];this.precisionModel=t,this.bufParams=e}function Wi(){this.subgraphs=null,this.seg=new he,this.cga=new ce;var t=arguments[0];this.subgraphs=t}function Zi(){this.upwardSeg=null,this.leftDepth=null;var t=arguments[0],e=arguments[1];this.upwardSeg=new he(t),this.leftDepth=e}function Hi(){this.inputGeom=null,this.distance=null,this.curveBuilder=null,this.curveList=new _;var t=arguments[0],e=arguments[1],n=arguments[2];this.inputGeom=t,this.distance=e,this.curveBuilder=n}function $i(){this._hasIntersection=!1,this.hasProper=!1,this.hasProperInterior=!1,this.hasInterior=!1,this.properIntersectionPoint=null,this.li=null,this.isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;var t=arguments[0];this.li=t}function Ji(){this.bufParams=null,this.workingPrecisionModel=null,this.workingNoder=null,this.geomFact=null,this.graph=null,this.edgeList=new ni;var t=arguments[0];this.bufParams=t}function Qi(){this.li=new ae,this.segStrings=null;var t=arguments[0];this.segStrings=t}function Ki(){this.li=null,this.pt=null,this.originalPt=null,this.ptScaled=null,this.p0Scaled=null,this.p1Scaled=null,this.scaleFactor=null,this.minx=null,this.maxx=null,this.miny=null,this.maxy=null,this.corner=new Array(4).fill(null),this.safeEnv=null;var t=arguments[0],e=arguments[1],n=arguments[2];if(this.originalPt=t,this.pt=t,this.scaleFactor=e,this.li=n,0>=e)throw new i("Scale factor must be non-zero");1!==e&&(this.pt=new p(this.scale(t.x),this.scale(t.y)),this.p0Scaled=new p,this.p1Scaled=new p),this.initCorners(this.pt)}function tr(){this.tempEnv1=new w,this.selectedSegment=new he}function er(){this.index=null;var t=arguments[0];this.index=t}function nr(){tr.apply(this),this.hotPixel=null,this.parentEdge=null,this.hotPixelVertexIndex=null,this._isNodeAdded=!1;var t=arguments[0],e=arguments[1],n=arguments[2];this.hotPixel=t,this.parentEdge=e,this.hotPixelVertexIndex=n}function ir(){this.li=null,this.interiorIntersections=null;var t=arguments[0];this.li=t,this.interiorIntersections=new _}function rr(){this.pm=null,this.li=null,this.scaleFactor=null,this.noder=null,this.pointSnapper=null,this.nodedSegStrings=null;var t=arguments[0];this.pm=t,this.li=new ae,this.li.setPrecisionModel(t),this.scaleFactor=t.getScale()}function or(){if(this.argGeom=null,this.distance=null,this.bufParams=new ji,this.resultGeometry=null,this.saveException=null,1===arguments.length){var t=arguments[0];this.argGeom=t}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.argGeom=e,this.bufParams=n}}function sr(){this.comps=null;var t=arguments[0];this.comps=t}function ar(){if(this.component=null,this.segIndex=null,this.pt=null,2===arguments.length){var t=arguments[0],e=arguments[1];ar.call(this,t,ar.INSIDE_AREA,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.component=n,this.segIndex=i,this.pt=r}}function ur(){this.pts=null;var t=arguments[0];this.pts=t}function lr(){this.locations=null;var t=arguments[0];this.locations=t}function cr(){if(this.geom=null,this.terminateDistance=0,this.ptLocator=new Ce,this.minDistanceLocation=null,this.minDistance=r.MAX_VALUE,2===arguments.length){var t=arguments[0],e=arguments[1];cr.call(this,t,e,0)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],o=arguments[2];this.geom=new Array(2).fill(null),this.geom[0]=n,this.geom[1]=i,this.terminateDistance=o}}function hr(){this.factory=null,this.directedEdges=new _,this.coordinates=null;var t=arguments[0];this.factory=t}function fr(){this._isMarked=!1,this._isVisited=!1,this.data=null}function pr(){fr.apply(this),this.parentEdge=null,this.from=null,this.to=null,this.p0=null,this.p1=null,this.sym=null,this.edgeDirection=null,this.quadrant=null,this.angle=null;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.from=t,this.to=e,this.edgeDirection=i,this.p0=t.getCoordinate(),this.p1=n;var r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y;this.quadrant=Qe.quadrant(r,o),this.angle=Math.atan2(o,r)}function dr(){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];pr.call(this,t,e,n,i)}function gr(){if(fr.apply(this),this.dirEdge=null,0===arguments.length);else if(2===arguments.length){var t=arguments[0],e=arguments[1];this.setDirectedEdges(t,e)}}function mr(){this.outEdges=new _,this.sorted=!1}function vr(){if(fr.apply(this),this.pt=null,this.deStar=null,1===arguments.length){var t=arguments[0];vr.call(this,t,new mr)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.pt=e,this.deStar=n}}function yr(){gr.apply(this),this.line=null;var t=arguments[0];this.line=t}function br(){this.nodeMap=new rt}function xr(){this.edges=new Q,this.dirEdges=new Q,this.nodeMap=new br}function _r(){xr.apply(this)}function Er(){this.graph=new _r,this.mergedLineStrings=null,this.factory=null,this.edgeStrings=null}function wr(){this.edgeRing=null,this.next=null,this.label=-1;var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];pr.call(this,t,e,n,i)}function Tr(){gr.apply(this),this.line=null;var t=arguments[0];this.line=t}function Sr(){this.factory=null,this.deList=new _,this.lowestEdge=null,this.ring=null,this.ringPts=null,this.holes=null,this.shell=null,this._isHole=null,this._isProcessed=!1,this._isIncludedSet=!1,this._isIncluded=!1;var t=arguments[0];this.factory=t}function Ar(){}function Ir(){xr.apply(this),this.factory=null;var t=arguments[0];this.factory=t}function Cr(){if(this.lineStringAdder=new Lr(this),this.graph=null,this.dangles=new _,this.cutEdges=new _,this.invalidRingLines=new _,this.holeList=null,this.shellList=null,this.polyList=null,this.isCheckingRingsValid=!0,this.extractOnlyPolygonal=null,this.geomFactory=null,0===arguments.length)Cr.call(this,!1);else if(1===arguments.length){var t=arguments[0];this.extractOnlyPolygonal=t}}function Lr(){this.p=null;var t=arguments[0];this.p=t}function Mr(){}function Nr(){if(this.edgeEnds=new _,1===arguments.length){var t=arguments[0];Nr.call(this,null,t)}else if(2===arguments.length){var e=(arguments[0],arguments[1]);xn.call(this,e.getEdge(),e.getCoordinate(),e.getDirectedCoordinate(),new pn(e.getLabel())),this.insert(e)}}function Rr(){Ln.apply(this)}function Or(){var t=arguments[0],e=arguments[1];yn.call(this,t,e)}function Dr(){En.apply(this)}function Pr(){this.li=new ae,this.ptLocator=new Ce,this.arg=null,this.nodes=new bn(new Dr),this.im=null,this.isolatedEdges=new _,this.invalidPoint=null;var t=arguments[0];this.arg=t}function kr(){this.rectEnv=null;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal()}function zr(){this.li=new ae,this.rectEnv=null,this.diagUp0=null,this.diagUp1=null,this.diagDown0=null,this.diagDown1=null;var t=arguments[0];this.rectEnv=t,this.diagUp0=new p(t.getMinX(),t.getMinY()),this.diagUp1=new p(t.getMaxX(),t.getMaxY()),this.diagDown0=new p(t.getMinX(),t.getMaxY()),this.diagDown1=new p(t.getMaxX(),t.getMinY())}function Fr(){this._isDone=!1}function jr(){this.rectangle=null,this.rectEnv=null;var t=arguments[0];this.rectangle=t,this.rectEnv=t.getEnvelopeInternal()}function Br(){Fr.apply(this),this.rectEnv=null,this._intersects=!1;var t=arguments[0];this.rectEnv=t}function Ur(){Fr.apply(this),this.rectSeq=null,this.rectEnv=null,this._containsPoint=!1;var t=arguments[0];this.rectSeq=t.getExteriorRing().getCoordinateSequence(),this.rectEnv=t.getEnvelopeInternal()}function Gr(){Fr.apply(this),this.rectEnv=null,this.rectIntersector=null,this.hasIntersection=!1,this.p0=new p,this.p1=new p;var t=arguments[0];this.rectEnv=t.getEnvelopeInternal(),this.rectIntersector=new zr(this.rectEnv)}function Vr(){if(this._relate=null,2===arguments.length){var t=arguments[0],e=arguments[1];ti.call(this,t,e),this._relate=new Pr(this.arg)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];ti.call(this,n,i,r),this._relate=new Pr(this.arg)}}function qr(){this.geomFactory=null,this.skipEmpty=!1,this.inputGeoms=null;var t=arguments[0];this.geomFactory=qr.extractFactory(t),this.inputGeoms=t}function Yr(){this.pointGeom=null,this.otherGeom=null,this.geomFact=null;var t=arguments[0],e=arguments[1];this.pointGeom=t,this.otherGeom=e,this.geomFact=e.getFactory()}function Xr(){this.sortIndex=-1,this.comps=null;var t=arguments[0],e=arguments[1];this.sortIndex=t,this.comps=e}function Wr(){this.inputPolys=null,this.geomFactory=null;var t=arguments[0];this.inputPolys=t,null===this.inputPolys&&(this.inputPolys=new _)}function Zr(){if(this.polygons=new _,this.lines=new _,this.points=new _,this.geomFact=null,1===arguments.length){if(I(arguments[0],m)){var t=arguments[0];this.extract(t)}else if(arguments[0]instanceof j){var e=arguments[0];this.extract(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.geomFact=i,this.extract(n)}}function Hr(){this.geometryFactory=new ie,this.geomGraph=null,this.disconnectedRingcoord=null;var t=arguments[0];this.geomGraph=t}function $r(){this.items=new _,this.subnode=[null,null]}function Jr(){if(this.min=null,this.max=null,0===arguments.length)this.min=0,this.max=0;else if(1===arguments.length){var t=arguments[0];this.init(t.min,t.max)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.init(e,n)}}function Qr(){this.pt=0,this.level=0,this.interval=null;var t=arguments[0];this.computeKey(t)}function Kr(){$r.apply(this),this.interval=null,this.centre=null,this.level=null;var t=arguments[0],e=arguments[1];this.interval=t,this.level=e,this.centre=(t.getMin()+t.getMax())/2}function to(){$r.apply(this)}function eo(){this.root=null,this.minExtent=1,this.root=new to}function no(){}function io(){this.ring=null,this.tree=null,this.crossings=0,this.interval=new Jr;var t=arguments[0];this.ring=t,this.buildIndex()}function ro(){tr.apply(this),this.mcp=null,this.p=null;var t=arguments[0],e=arguments[1];this.mcp=t,this.p=e}function oo(){this.nodes=new bn(new Dr)}function so(){this.li=new ae,this.geomGraph=null,this.nodeGraph=new oo,this.invalidPoint=null;var t=arguments[0];this.geomGraph=t}function ao(){this.graph=null,this.rings=new _,this.totalEnv=new w,this.index=null,this.nestedPt=null;var t=arguments[0];this.graph=t}function uo(){if(this.errorType=null,this.pt=null,1===arguments.length){var t=arguments[0];uo.call(this,t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.errorType=e,null!==n&&(this.pt=n.copy())}}function lo(){this.parentGeometry=null,this.isSelfTouchingRingFormingHoleValid=!1,this.validErr=null;var t=arguments[0];this.parentGeometry=t}function co(){Rt.CoordinateOperation.apply(this),this.targetPM=null,this.removeCollapsed=!0;var t=arguments[0],e=arguments[1];this.targetPM=t,this.removeCollapsed=e}function ho(){this.targetPM=null,this.removeCollapsed=!0,this.changePrecisionModel=!1,this.isPointwise=!1;var t=arguments[0];this.targetPM=t}function fo(){this.pts=null,this.usePt=null,this.distanceTolerance=null,this.seg=new he;var t=arguments[0];this.pts=t}function po(){this.inputGeom=null,this.distanceTolerance=null,this.isEnsureValidTopology=!0;var t=arguments[0];this.inputGeom=t}function go(){be.apply(this),this.isEnsureValidTopology=!0,this.distanceTolerance=null;var t=arguments[0],e=arguments[1];this.isEnsureValidTopology=t,this.distanceTolerance=e}function mo(){if(this.parent=null,this.index=null,2===arguments.length){var t=arguments[0],e=arguments[1];mo.call(this,t,e,null,-1)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=arguments[3];he.call(this,n,i),this.parent=r,this.index=o}}function vo(){if(this.parentLine=null,this.segs=null,this.resultSegs=new _,this.minimumSize=null,1===arguments.length){var t=arguments[0];vo.call(this,t,2)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.parentLine=e,this.minimumSize=n,this.init()}}function yo(){this.index=new Li}function bo(){this.querySeg=null,this.items=new _;var t=arguments[0];this.querySeg=t}function xo(){this.li=new ae,this.inputIndex=new yo,this.outputIndex=new yo,this.line=null,this.linePts=null,this.distanceTolerance=0;var t=arguments[0],e=arguments[1];this.inputIndex=t,this.outputIndex=e}function _o(){this.inputIndex=new yo,this.outputIndex=new yo,this.distanceTolerance=0}function Eo(){this.inputGeom=null,this.lineSimplifier=new _o,this.linestringMap=null;var t=arguments[0];this.inputGeom=t}function wo(){be.apply(this),this.linestringMap=null;var t=arguments[0];this.linestringMap=t}function To(){this.tps=null;var t=arguments[0];this.tps=t}function So(){this.seg=null,this.segLen=null,this.splitPt=null,this.minimumLen=0;var t=arguments[0];this.seg=t,this.segLen=t.getLength()}function Ao(){}function Io(){}function Co(){}function Lo(){if(this.p=null,1===arguments.length){var t=arguments[0];this.p=new p(t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p=new p(e,n)}else if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.p=new p(i,r,o)}}function Mo(){this._isOnConstraint=null,this.constraint=null;var t=arguments[0];Lo.call(this,t)}function No(){this._rot=null,this.vertex=null,this.next=null,this.data=null}function Ro(){this.subdiv=null,this.isUsingTolerance=!1;var t=arguments[0];this.subdiv=t,this.isUsingTolerance=t.getTolerance()>0}function Oo(){}function Do(){this.subdiv=null,this.lastEdge=null;var t=arguments[0];this.subdiv=t,this.init()}function Po(){if(this.seg=null,1===arguments.length){if("string"==typeof arguments[0]){var t=arguments[0];l.call(this,t)}else if(arguments[0]instanceof he){var e=arguments[0];l.call(this,"Locate failed to converge (at edge: "+e+").  Possible causes include invalid Subdivision topology or very close sites"),this.seg=new he(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];l.call(this,Po.msgWithSpatial(n,i)),this.seg=new he(i)}}function ko(){}function zo(){this.visitedKey=0,this.quadEdges=new _,this.startingEdge=null,this.tolerance=null,this.edgeCoincidenceTolerance=null,this.frameVertex=new Array(3).fill(null),this.frameEnv=null,this.locator=null,this.seg=new he,this.triEdges=new Array(3).fill(null);var t=arguments[0],e=arguments[1];this.tolerance=e,this.edgeCoincidenceTolerance=e/zo.EDGE_COINCIDENCE_TOL_FACTOR,this.createFrame(t),this.startingEdge=this.initSubdiv(),this.locator=new Do(this)}function Fo(){}function jo(){this.triList=new _}function Bo(){this.triList=new _}function Uo(){this.coordList=new E,this.triCoords=new _}function Go(){if(this.ls=null,this.data=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.ls=new he(t,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.ls=new he(n,i),this.data=r}else if(6===arguments.length){var o=arguments[0],s=arguments[1],a=arguments[2],u=arguments[3],l=arguments[4],c=arguments[5];Go.call(this,new p(o,s,a),new p(u,l,c))}else if(7===arguments.length){var h=arguments[0],f=arguments[1],d=arguments[2],g=arguments[3],m=arguments[4],v=arguments[5],y=arguments[6];Go.call(this,new p(h,f,d),new p(g,m,v),y)}}function Vo(){}function qo(){if(this.p=null,this.data=null,this.left=null,this.right=null,this.count=null,2===arguments.length){var t=arguments[0],e=arguments[1];this.p=new p(t),this.left=null,this.right=null,this.count=1,this.data=e}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.p=new p(n,i),this.left=null,this.right=null,this.count=1,this.data=r}}function Yo(){if(this.root=null,this.numberOfNodes=null,this.tolerance=null,0===arguments.length)Yo.call(this,0);else if(1===arguments.length){var t=arguments[0];this.tolerance=t}}function Xo(){this.tolerance=null,this.matchNode=null,this.matchDist=0,this.p=null;var t=arguments[0],e=arguments[1];this.p=t,this.tolerance=e}function Wo(){this.initialVertices=null,this.segVertices=null,this.segments=new _,this.subdiv=null,this.incDel=null,this.convexHull=null,this.splitFinder=new Io,this.kdt=null,this.vertexFactory=null,this.computeAreaEnv=null,this.splitPt=null,this.tolerance=null;var t=arguments[0],e=arguments[1];this.initialVertices=new _(t),this.tolerance=e,this.kdt=new Yo(e)}function Zo(){this.siteCoords=null,this.tolerance=0,this.subdiv=null}function Ho(){this.siteCoords=null,this.constraintLines=null,this.tolerance=0,this.subdiv=null,this.constraintVertexMap=new rt}function $o(){this.siteCoords=null,this.tolerance=0,this.subdiv=null,this.clipEnv=null,this.diagramEnv=null}function Jo(){}Array.prototype.fill||(Array.prototype.fill=function(t){for(var e=Object(this),n=parseInt(e.length,10),i=arguments[1],r=parseInt(i,10)||0,o=0>r?Math.max(n+r,0):Math.min(r,n),s=arguments[2],a=void 0===s?n:parseInt(s,10)||0,u=0>a?Math.max(n+a,0):Math.min(a,n);u>o;o++)e[o]=t;return e}),Number.isFinite=Number.isFinite||function(t){return"number"==typeof t&&isFinite(t)},Number.isInteger=Number.isInteger||function(t){return"number"==typeof t&&isFinite(t)&&Math.floor(t)===t},Number.parseFloat=Number.parseFloat||parseFloat,Number.isNaN=Number.isNaN||function(t){return t!==t},Math.trunc=Math.trunc||function(t){return 0>t?Math.ceil(t):Math.floor(t)},e(n.prototype,{interfaces_:function(){return[]},getClass:function(){return n}}),n.equalsWithTolerance=function(t,e,n){return Math.abs(t-e)<=n},r.isNaN=function(t){return Number.isNaN(t)},r.doubleToLongBits=function(t){return t},r.longBitsToDouble=function(t){return t},r.isInfinite=function(t){return!Number.isFinite(t)},r.MAX_VALUE=Number.MAX_VALUE,c(h,l),e(h.prototype,{interfaces_:function(){return[]},getClass:function(){return h}}),e(f.prototype,{interfaces_:function(){return[]},getClass:function(){return f}}),f.shouldNeverReachHere=function(){if(0===arguments.length)f.shouldNeverReachHere(null);else if(1===arguments.length){var t=arguments[0];throw new h("Should never reach here"+(null!==t?": "+t:""))}},f.isTrue=function(){if(1===arguments.length){var t=arguments[0];f.isTrue(t,null)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(!e)throw null===n?new h:new h(n)}},f.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];f.equals(t,e,null)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(!i.equals(n))throw new h("Expected "+n+" but encountered "+i+(null!==r?": "+r:""))}},e(p.prototype,{setOrdinate:function(t,e){switch(t){case p.X:this.x=e;break;case p.Y:this.y=e;break;case p.Z:this.z=e;break;default:throw new i("Invalid ordinate index: "+t)}},equals2D:function(){if(1===arguments.length){var t=arguments[0];return this.x!==t.x?!1:this.y===t.y}if(2===arguments.length){var e=arguments[0],i=arguments[1];return n.equalsWithTolerance(this.x,e.x,i)?!!n.equalsWithTolerance(this.y,e.y,i):!1}},getOrdinate:function(t){switch(t){case p.X:return this.x;case p.Y:return this.y;case p.Z:return this.z}throw new i("Invalid ordinate index: "+t)},equals3D:function(t){return this.x===t.x&&this.y===t.y&&(this.z===t.z||r.isNaN(this.z)&&r.isNaN(t.z))},equals:function(t){return t instanceof p?this.equals2D(t):!1},equalInZ:function(t,e){return n.equalsWithTolerance(this.z,t.z,e)},compareTo:function(t){var e=t;return this.x<e.x?-1:this.x>e.x?1:this.y<e.y?-1:this.y>e.y?1:0},clone:function(){try{var t=null;return t}catch(t){if(t instanceof CloneNotSupportedException)return f.shouldNeverReachHere("this shouldn't happen because this class is Cloneable"),null;throw t}finally{}},copy:function(){return new p(this)},toString:function(){return"("+this.x+", "+this.y+", "+this.z+")"},distance3D:function(t){var e=this.x-t.x,n=this.y-t.y,i=this.z-t.z;return Math.sqrt(e*e+n*n+i*i)},distance:function(t){var e=this.x-t.x,n=this.y-t.y;return Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+p.hashCode(this.x),t=37*t+p.hashCode(this.y)},setCoordinate:function(t){this.x=t.x,this.y=t.y,this.z=t.z},interfaces_:function(){return[o,s,u]},getClass:function(){return p}}),p.hashCode=function(){if(1===arguments.length){var t=arguments[0],e=r.doubleToLongBits(t);return Math.trunc(e^e>>>32)}},e(d.prototype,{compare:function(t,e){var n=t,i=e,r=d.compare(n.x,i.x);if(0!==r)return r;var o=d.compare(n.y,i.y);if(0!==o)return o;if(this.dimensionsToTest<=2)return 0;var s=d.compare(n.z,i.z);return s},interfaces_:function(){return[a]},getClass:function(){return d}}),d.compare=function(t,e){return e>t?-1:t>e?1:r.isNaN(t)?r.isNaN(e)?0:-1:r.isNaN(e)?1:0},p.DimensionalComparator=d,p.serialVersionUID=0x5cbf2c235c7e5800,p.NULL_ORDINATE=r.NaN,p.X=0,p.Y=1,p.Z=2,g.prototype.hasNext=function(){},g.prototype.next=function(){},g.prototype.remove=function(){},m.prototype.add=function(){},m.prototype.addAll=function(){},m.prototype.isEmpty=function(){},m.prototype.iterator=function(){},m.prototype.size=function(){},m.prototype.toArray=function(){},m.prototype.remove=function(){},v.prototype=new Error,v.prototype.name="IndexOutOfBoundsException",y.prototype=Object.create(m.prototype),y.prototype.constructor=y,y.prototype.get=function(){},y.prototype.set=function(){},y.prototype.isEmpty=function(){},b.prototype=new Error,b.prototype.name="NoSuchElementException",x.prototype=new Error,x.prototype.name="OperationNotSupported",_.prototype=Object.create(y.prototype),_.prototype.constructor=_,_.prototype.ensureCapacity=function(){},_.prototype.interfaces_=function(){return[y,m]},_.prototype.add=function(t){return this.array_.push(t),!0},_.prototype.clear=function(){this.array_=[]},_.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},_.prototype.set=function(t,e){var n=this.array_[t];return this.array_[t]=e,n},_.prototype.iterator=function(){return new Qo(this)},_.prototype.get=function(t){if(0>t||t>=this.size())throw new v;return this.array_[t]},_.prototype.isEmpty=function(){return 0===this.array_.length},_.prototype.size=function(){return this.array_.length},_.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},_.prototype.remove=function(t){for(var e=!1,n=0,i=this.array_.length;i>n;n++)if(this.array_[n]===t){this.array_.splice(n,1),e=!0;break}return e};var Qo=function(t){this.arrayList_=t,this.position_=0};Qo.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new b;return this.arrayList_.get(this.position_++)},Qo.prototype.hasNext=function(){return this.position_<this.arrayList_.size()},Qo.prototype.set=function(t){return this.arrayList_.set(this.position_-1,t)},Qo.prototype.remove=function(){throw new x},c(E,_),e(E.prototype,{getCoordinate:function(t){return this.get(t)},addAll:function(){if(2===arguments.length){for(var t=arguments[0],e=arguments[1],n=!1,i=t.iterator();i.hasNext();)this.add(i.next(),e),n=!0;return n}return _.prototype.addAll.apply(this,arguments)},clone:function t(){for(var t=_.prototype.clone.call(this),e=0;e<this.size();e++)t.add(e,this.get(e).copy());return t},toCoordinateArray:function(){return this.toArray(E.coordArrayType)},add:function(){if(1===arguments.length){var t=arguments[0];_.prototype.add.call(this,t)}else if(2===arguments.length){if(arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var e=arguments[0],n=arguments[1];return this.add(e,n,!0),!0}if(arguments[0]instanceof p&&"boolean"==typeof arguments[1]){var i=arguments[0],r=arguments[1];if(!r&&this.size()>=1){var o=this.get(this.size()-1);if(o.equals2D(i))return null}_.prototype.add.call(this,i)}else if(arguments[0]instanceof Object&&"boolean"==typeof arguments[1]){var s=arguments[0],a=arguments[1];return this.add(s,a),!0}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&arguments[0]instanceof Array&&"boolean"==typeof arguments[1]){var u=arguments[0],l=arguments[1],c=arguments[2];if(c)for(var h=0;h<u.length;h++)this.add(u[h],l);else for(var h=u.length-1;h>=0;h--)this.add(u[h],l);return!0}if("boolean"==typeof arguments[2]&&Number.isInteger(arguments[0])&&arguments[1]instanceof p){var f=arguments[0],d=arguments[1],g=arguments[2];if(!g){var m=this.size();if(m>0){if(f>0){var v=this.get(f-1);if(v.equals2D(d))return null}if(m>f){var y=this.get(f);if(y.equals2D(d))return null}}}_.prototype.add.call(this,f,d)}}else if(4===arguments.length){var b=arguments[0],x=arguments[1],E=arguments[2],w=arguments[3],T=1;E>w&&(T=-1);for(var h=E;h!==w;h+=T)this.add(b[h],x);return!0}},closeRing:function(){this.size()>0&&this.add(new p(this.get(0)),!1)},interfaces_:function(){return[]},getClass:function(){return E}}),E.coordArrayType=new Array(0).fill(null),e(w.prototype,{getArea:function(){return this.getWidth()*this.getHeight()},equals:function(t){if(!(t instanceof w))return!1;var e=t;return this.isNull()?e.isNull():this.maxx===e.getMaxX()&&this.maxy===e.getMaxY()&&this.minx===e.getMinX()&&this.miny===e.getMinY()},intersection:function(t){if(this.isNull()||t.isNull()||!this.intersects(t))return new w;var e=this.minx>t.minx?this.minx:t.minx,n=this.miny>t.miny?this.miny:t.miny,i=this.maxx<t.maxx?this.maxx:t.maxx,r=this.maxy<t.maxy?this.maxy:t.maxy;return new w(e,i,n,r)},isNull:function(){return this.maxx<this.minx},getMaxX:function(){return this.maxx},covers:function(){if(1===arguments.length){if(arguments[0]instanceof p){var t=arguments[0];return this.covers(t.x,t.y)}if(arguments[0]instanceof w){var e=arguments[0];return this.isNull()||e.isNull()?!1:e.getMinX()>=this.minx&&e.getMaxX()<=this.maxx&&e.getMinY()>=this.miny&&e.getMaxY()<=this.maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.isNull()?!1:n>=this.minx&&n<=this.maxx&&i>=this.miny&&i<=this.maxy}},intersects:function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.isNull()||t.isNull()?!1:!(t.minx>this.maxx||t.maxx<this.minx||t.miny>this.maxy||t.maxy<this.miny)}if(arguments[0]instanceof p){var e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.isNull()?!1:!(n>this.maxx||n<this.minx||i>this.maxy||i<this.miny)}},getMinY:function(){return this.miny},getMinX:function(){return this.minx},expandToInclude:function(){if(1===arguments.length){if(arguments[0]instanceof p){var t=arguments[0];this.expandToInclude(t.x,t.y)}else if(arguments[0]instanceof w){var e=arguments[0];if(e.isNull())return null;this.isNull()?(this.minx=e.getMinX(),this.maxx=e.getMaxX(),this.miny=e.getMinY(),this.maxy=e.getMaxY()):(e.minx<this.minx&&(this.minx=e.minx),e.maxx>this.maxx&&(this.maxx=e.maxx),e.miny<this.miny&&(this.miny=e.miny),e.maxy>this.maxy&&(this.maxy=e.maxy))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.isNull()?(this.minx=n,this.maxx=n,this.miny=i,this.maxy=i):(n<this.minx&&(this.minx=n),n>this.maxx&&(this.maxx=n),i<this.miny&&(this.miny=i),i>this.maxy&&(this.maxy=i))}},minExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return e>t?t:e},getWidth:function(){return this.isNull()?0:this.maxx-this.minx},compareTo:function(t){var e=t;return this.isNull()?e.isNull()?0:-1:e.isNull()?1:this.minx<e.minx?-1:this.minx>e.minx?1:this.miny<e.miny?-1:this.miny>e.miny?1:this.maxx<e.maxx?-1:this.maxx>e.maxx?1:this.maxy<e.maxy?-1:this.maxy>e.maxy?1:0},translate:function(t,e){return this.isNull()?null:void this.init(this.getMinX()+t,this.getMaxX()+t,this.getMinY()+e,this.getMaxY()+e)},toString:function(){return"Env["+this.minx+" : "+this.maxx+", "+this.miny+" : "+this.maxy+"]"},setToNull:function(){this.minx=0,this.maxx=-1,this.miny=0,this.maxy=-1},getHeight:function(){return this.isNull()?0:this.maxy-this.miny},maxExtent:function(){if(this.isNull())return 0;var t=this.getWidth(),e=this.getHeight();return t>e?t:e},expandBy:function(){if(1===arguments.length){var t=arguments[0];this.expandBy(t,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(this.isNull())return null;this.minx-=e,this.maxx+=e,this.miny-=n,this.maxy+=n,(this.minx>this.maxx||this.miny>this.maxy)&&this.setToNull()}},contains:function(){if(1===arguments.length){if(arguments[0]instanceof w){var t=arguments[0];return this.covers(t)}if(arguments[0]instanceof p){var e=arguments[0];return this.covers(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return this.covers(n,i)}},centre:function(){return this.isNull()?null:new p((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)},init:function(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof p){var t=arguments[0];this.init(t.x,t.x,t.y,t.y)}else if(arguments[0]instanceof w){var e=arguments[0];this.minx=e.minx,this.maxx=e.maxx,this.miny=e.miny,this.maxy=e.maxy}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.init(n.x,i.x,n.y,i.y)}else if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3];o>r?(this.minx=r,this.maxx=o):(this.minx=o,this.maxx=r),a>s?(this.miny=s,this.maxy=a):(this.miny=a,this.maxy=s)}},getMaxY:function(){return this.maxy},distance:function(t){if(this.intersects(t))return 0;var e=0;this.maxx<t.minx?e=t.minx-this.maxx:this.minx>t.maxx&&(e=this.minx-t.maxx);var n=0;return this.maxy<t.miny?n=t.miny-this.maxy:this.miny>t.maxy&&(n=this.miny-t.maxy),0===e?n:0===n?e:Math.sqrt(e*e+n*n)},hashCode:function(){var t=17;return t=37*t+p.hashCode(this.minx),t=37*t+p.hashCode(this.maxx),t=37*t+p.hashCode(this.miny),t=37*t+p.hashCode(this.maxy)},interfaces_:function(){return[o,u]},getClass:function(){return w}}),w.intersects=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2];return n.x>=(t.x<e.x?t.x:e.x)&&n.x<=(t.x>e.x?t.x:e.x)&&n.y>=(t.y<e.y?t.y:e.y)&&n.y<=(t.y>e.y?t.y:e.y)}if(4===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=Math.min(o.x,s.x),u=Math.max(o.x,s.x),l=Math.min(i.x,r.x),c=Math.max(i.x,r.x);return l>u?!1:a>c?!1:(a=Math.min(o.y,s.y),u=Math.max(o.y,s.y),l=Math.min(i.y,r.y),c=Math.max(i.y,r.y),l>u?!1:!(a>c))}},w.serialVersionUID=0x51845cd552189800,c(S,T),e(S.prototype,{interfaces_:function(){return[]},getClass:function(){return S}}),e(A.prototype,{interfaces_:function(){return[]},getClass:function(){return A}}),A.toLocationSymbol=function(t){switch(t){case A.EXTERIOR:return"e";case A.BOUNDARY:return"b";case A.INTERIOR:return"i";case A.NONE:return"-"}throw new i("Unknown location value: "+t)},A.INTERIOR=0,A.BOUNDARY=1,A.EXTERIOR=2,A.NONE=-1,e(C.prototype,{interfaces_:function(){return[]},getClass:function(){return C}}),C.log10=function(t){var e=Math.log(t);return r.isInfinite(e)?e:r.isNaN(e)?e:e/C.LOG_10},C.min=function(t,e,n,i){var r=t;return r>e&&(r=e),r>n&&(r=n),r>i&&(r=i),r},C.clamp=function(){if("number"==typeof arguments[2]&&"number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1],n=arguments[2];return e>t?e:t>n?n:t}if(Number.isInteger(arguments[2])&&Number.isInteger(arguments[0])&&Number.isInteger(arguments[1])){var i=arguments[0],r=arguments[1],o=arguments[2];return r>i?r:i>o?o:i}},C.wrap=function(t,e){return 0>t?e- -t%e:t%e},C.max=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=t;return e>i&&(i=e),n>i&&(i=n),i}if(4===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],i=r;return o>i&&(i=o),s>i&&(i=s),a>i&&(i=a),i}},C.average=function(t,e){return(t+e)/2},C.LOG_10=Math.log(10),L.prototype.append=function(t){this.str+=t},L.prototype.setCharAt=function(t,e){return this.str.substr(0,t)+e+this.str.substr(t+1)},L.prototype.toString=function(t){return this.str},M.prototype.intValue=function(){return this.value},M.prototype.compareTo=function(t){return this.value<t?-1:this.value>t?1:0},M.isNaN=function(t){return Number.isNaN(t)},N.isWhitespace=function(t){return 32>=t&&t>=0||127==t},N.toUpperCase=function(t){return t.toUpperCase()},e(R.prototype,{le:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<=t.lo},extractSignificantDigits:function(t,e){var n=this.abs(),i=R.magnitude(n.hi),r=R.TEN.pow(i);n=n.divide(r),n.gt(R.TEN)?(n=n.divide(R.TEN),i+=1):n.lt(R.ONE)&&(n=n.multiply(R.TEN),i-=1);for(var o=i+1,s=new L,a=R.MAX_PRINT_DIGITS-1,u=0;a>=u;u++){t&&u===o&&s.append(".");var l=Math.trunc(n.hi);if(0>l)break;var c=!1,h=0;l>9?(c=!0,h="9"):h="0"+l,s.append(h),n=n.subtract(R.valueOf(l)).multiply(R.TEN),c&&n.selfAdd(R.TEN);var f=!0,p=R.magnitude(n.hi);if(0>p&&Math.abs(p)>=a-u&&(f=!1),!f)break}return e[0]=i,s.toString()},sqr:function(){return this.multiply(this)},doubleValue:function(){return this.hi+this.lo},subtract:function(){if(arguments[0]instanceof R){var t=arguments[0];return this.add(t.negate())}if("number"==typeof arguments[0]){var e=arguments[0];return this.add(-e)}},equals:function(){if(1===arguments.length){var t=arguments[0];return this.hi===t.hi&&this.lo===t.lo}},isZero:function(){return 0===this.hi&&0===this.lo},selfSubtract:function(){if(arguments[0]instanceof R){var t=arguments[0];return this.isNaN()?this:this.selfAdd(-t.hi,-t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}},getSpecialNumberString:function(){return this.isZero()?"0.0":this.isNaN()?"NaN ":null},min:function(t){return this.le(t)?this:t},selfDivide:function(){if(1===arguments.length){if(arguments[0]instanceof R){var t=arguments[0];return this.selfDivide(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,l=null,c=null,h=null;return u=this.hi/n,l=R.SPLIT*u,r=l-u,h=R.SPLIT*n,r=l-r,o=u-r,s=h-n,c=u*n,s=h-s,a=n-s,h=r*s-c+r*a+o*s+o*a,l=(this.hi-c-h+this.lo-u*i)/n,h=u+l,this.hi=h,this.lo=u-h+l,this}},dump:function(){return"DD<"+this.hi+", "+this.lo+">"},divide:function(){if(arguments[0]instanceof R){var t=arguments[0],e=null,n=null,i=null,o=null,s=null,a=null,u=null,l=null;s=this.hi/t.hi,a=R.SPLIT*s,e=a-s,l=R.SPLIT*t.hi,e=a-e,n=s-e,i=l-t.hi,u=s*t.hi,i=l-i,o=t.hi-i,l=e*i-u+e*o+n*i+n*o,a=(this.hi-u-l+this.lo-s*t.lo)/t.hi,l=s+a;var c=l,h=s-l+a;return new R(c,h)}if("number"==typeof arguments[0]){var f=arguments[0];return r.isNaN(f)?R.createNaN():R.copy(this).selfDivide(f,0)}},ge:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>=t.lo},pow:function(t){if(0===t)return R.valueOf(1);var e=new R(this),n=R.valueOf(1),i=Math.abs(t);if(i>1)for(;i>0;)i%2===1&&n.selfMultiply(e),i/=2,i>0&&(e=e.sqr());else n=e;return 0>t?n.reciprocal():n},ceil:function(){if(this.isNaN())return R.NaN;var t=Math.ceil(this.hi),e=0;return t===this.hi&&(e=Math.ceil(this.lo)),new R(t,e)},compareTo:function(t){var e=t;return this.hi<e.hi?-1:this.hi>e.hi?1:this.lo<e.lo?-1:this.lo>e.lo?1:0},rint:function(){if(this.isNaN())return this;var t=this.add(.5);return t.floor()},setValue:function(){if(arguments[0]instanceof R){var t=arguments[0];return this.init(t),this}if("number"==typeof arguments[0]){var e=arguments[0];return this.init(e),this}},max:function(t){return this.ge(t)?this:t},sqrt:function(){if(this.isZero())return R.valueOf(0);if(this.isNegative())return R.NaN;var t=1/Math.sqrt(this.hi),e=this.hi*t,n=R.valueOf(e),i=this.subtract(n.sqr()),r=i.hi*(.5*t);return n.add(r)},selfAdd:function(){if(1===arguments.length){if(arguments[0]instanceof R){var t=arguments[0];return this.selfAdd(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0],n=null,i=null,r=null,o=null,s=null,a=null;return r=this.hi+e,s=r-this.hi,o=r-s,o=e-s+(this.hi-o),a=o+this.lo,n=r+a,i=a+(r-n),this.hi=n+i,this.lo=i+(n-this.hi),this}}else if(2===arguments.length){var u=arguments[0],l=arguments[1],n=null,i=null,c=null,h=null,r=null,o=null,s=null,a=null;r=this.hi+u,c=this.lo+l,s=r-this.hi,a=c-this.lo,o=r-s,h=c-a,o=u-s+(this.hi-o),h=l-a+(this.lo-h),s=o+c,n=r+s,i=s+(r-n),s=h+i;var f=n+s,p=s+(n-f);return this.hi=f,this.lo=p,this}},selfMultiply:function(){if(1===arguments.length){if(arguments[0]instanceof R){var t=arguments[0];return this.selfMultiply(t.hi,t.lo)}if("number"==typeof arguments[0]){var e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=null,o=null,s=null,a=null,u=null,l=null;u=R.SPLIT*this.hi,r=u-this.hi,l=R.SPLIT*n,r=u-r,o=this.hi-r,s=l-n,u=this.hi*n,s=l-s,a=n-s,l=r*s-u+r*a+o*s+o*a+(this.hi*i+this.lo*n);var c=u+l;r=u-c;var h=l+r;return this.hi=c,this.lo=h,this}},selfSqr:function(){return this.selfMultiply(this)},floor:function(){if(this.isNaN())return R.NaN;var t=Math.floor(this.hi),e=0;return t===this.hi&&(e=Math.floor(this.lo)),new R(t,e)},negate:function(){return this.isNaN()?this:new R(-this.hi,-this.lo)},clone:function(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return null;throw t}finally{}},multiply:function(){if(arguments[0]instanceof R){var t=arguments[0];return t.isNaN()?R.createNaN():R.copy(this).selfMultiply(t)}if("number"==typeof arguments[0]){var e=arguments[0];return r.isNaN(e)?R.createNaN():R.copy(this).selfMultiply(e,0)}},isNaN:function(){return r.isNaN(this.hi)},intValue:function(){return Math.trunc(this.hi)},toString:function(){var t=R.magnitude(this.hi);return t>=-3&&20>=t?this.toStandardNotation():this.toSciNotation()},toStandardNotation:function(){var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!0,e),i=e[0]+1,r=n;if("."===n.charAt(0))r="0"+n;else if(0>i)r="0."+R.stringOfChar("0",-i)+n;else if(-1===n.indexOf(".")){var o=i-n.length,s=R.stringOfChar("0",o);r=n+s+".0"}return this.isNegative()?"-"+r:r},reciprocal:function(){var t=null,e=null,n=null,i=null,r=null,o=null,s=null,a=null;r=1/this.hi,o=R.SPLIT*r,t=o-r,a=R.SPLIT*this.hi,t=o-t,e=r-t,n=a-this.hi,s=r*this.hi,n=a-n,i=this.hi-n,a=t*n-s+t*i+e*n+e*i,o=(1-s-a-r*this.lo)/this.hi;var u=r+o,l=r-u+o;return new R(u,l)},toSciNotation:function(){if(this.isZero())return R.SCI_NOT_ZERO;var t=this.getSpecialNumberString();if(null!==t)return t;var e=new Array(1).fill(null),n=this.extractSignificantDigits(!1,e),i=R.SCI_NOT_EXPONENT_CHAR+e[0];if("0"===n.charAt(0))throw new IllegalStateException("Found leading zero: "+n);var r="";n.length>1&&(r=n.substring(1));var o=n.charAt(0)+"."+r;return this.isNegative()?"-"+o+i:o+i},abs:function(){return this.isNaN()?R.NaN:this.isNegative()?this.negate():new R(this)},isPositive:function(){return this.hi>0||0===this.hi&&this.lo>0},lt:function(t){return this.hi<t.hi||this.hi===t.hi&&this.lo<t.lo},add:function(){if(arguments[0]instanceof R){var t=arguments[0];return R.copy(this).selfAdd(t)}if("number"==typeof arguments[0]){var e=arguments[0];return R.copy(this).selfAdd(e)}},init:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];this.hi=t,this.lo=0}else if(arguments[0]instanceof R){var e=arguments[0];this.hi=e.hi,this.lo=e.lo}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];this.hi=n,this.lo=i}},gt:function(t){return this.hi>t.hi||this.hi===t.hi&&this.lo>t.lo},isNegative:function(){return this.hi<0||0===this.hi&&this.lo<0},trunc:function(){return this.isNaN()?R.NaN:this.isPositive()?this.floor():this.ceil()},signum:function(){return this.hi>0?1:this.hi<0?-1:this.lo>0?1:this.lo<0?-1:0},interfaces_:function(){return[u,o,s]},getClass:function(){return R}}),R.sqr=function(t){return R.valueOf(t).selfMultiply(t)},R.valueOf=function(){if("string"==typeof arguments[0]){var t=arguments[0];return R.parse(t)}if("number"==typeof arguments[0]){var e=arguments[0];return new R(e)}},R.sqrt=function(t){return R.valueOf(t).sqrt()},R.parse=function(t){for(var e=0,n=t.length;N.isWhitespace(t.charAt(e));)e++;var i=!1;if(n>e){var r=t.charAt(e);"-"!==r&&"+"!==r||(e++,"-"===r&&(i=!0))}for(var o=new R,s=0,a=0,u=0;;){if(e>=n)break;var l=t.charAt(e);if(e++,N.isDigit(l)){var c=l-"0";o.selfMultiply(R.TEN),o.selfAdd(c),s++}else{if("."!==l){if("e"===l||"E"===l){var h=t.substring(e);try{u=M.parseInt(h)}catch(e){throw e instanceof NumberFormatException?new NumberFormatException("Invalid exponent "+h+" in string "+t):e}finally{}break}throw new NumberFormatException("Unexpected character '"+l+"' at position "+e+" in string "+t)}a=s}}var f=o,p=s-a-u;if(0===p)f=o;else if(p>0){var d=R.TEN.pow(p);f=o.divide(d)}else if(0>p){var d=R.TEN.pow(-p);f=o.multiply(d)}return i?f.negate():f},R.createNaN=function(){return new R(r.NaN,r.NaN)},R.copy=function(t){return new R(t)},R.magnitude=function(t){var e=Math.abs(t),n=Math.log(e)/Math.log(10),i=Math.trunc(Math.floor(n)),r=Math.pow(10,i);return e>=10*r&&(i+=1),i},R.stringOfChar=function(t,e){for(var n=new L,i=0;e>i;i++)n.append(t);return n.toString()},R.PI=new R(3.141592653589793,1.2246467991473532e-16),R.TWO_PI=new R(6.283185307179586,2.4492935982947064e-16),R.PI_2=new R(1.5707963267948966,6.123233995736766e-17),R.E=new R(2.718281828459045,1.4456468917292502e-16),R.NaN=new R(r.NaN,r.NaN),R.EPS=1.23259516440783e-32,R.SPLIT=134217729,R.MAX_PRINT_DIGITS=32,R.TEN=R.valueOf(10),R.ONE=R.valueOf(1),R.SCI_NOT_EXPONENT_CHAR="E",R.SCI_NOT_ZERO="0.0E0",e(O.prototype,{interfaces_:function(){return[]},getClass:function(){return O}}),O.orientationIndex=function(t,e,n){var i=O.orientationIndexFilter(t,e,n);if(1>=i)return i;var r=R.valueOf(e.x).selfAdd(-t.x),o=R.valueOf(e.y).selfAdd(-t.y),s=R.valueOf(n.x).selfAdd(-e.x),a=R.valueOf(n.y).selfAdd(-e.y);return r.selfMultiply(a).selfSubtract(o.selfMultiply(s)).signum()},O.signOfDet2x2=function(t,e,n,i){var r=t.multiply(i).selfSubtract(e.multiply(n));return r.signum()},O.intersection=function(t,e,n,i){var r=R.valueOf(i.y).selfSubtract(n.y).selfMultiply(R.valueOf(e.x).selfSubtract(t.x)),o=R.valueOf(i.x).selfSubtract(n.x).selfMultiply(R.valueOf(e.y).selfSubtract(t.y)),s=r.subtract(o),a=R.valueOf(i.x).selfSubtract(n.x).selfMultiply(R.valueOf(t.y).selfSubtract(n.y)),u=R.valueOf(i.y).selfSubtract(n.y).selfMultiply(R.valueOf(t.x).selfSubtract(n.x)),l=a.subtract(u),c=l.selfDivide(s).doubleValue(),h=R.valueOf(t.x).selfAdd(R.valueOf(e.x).selfSubtract(t.x).selfMultiply(c)).doubleValue(),f=R.valueOf(e.x).selfSubtract(t.x).selfMultiply(R.valueOf(t.y).selfSubtract(n.y)),d=R.valueOf(e.y).selfSubtract(t.y).selfMultiply(R.valueOf(t.x).selfSubtract(n.x)),g=f.subtract(d),m=g.selfDivide(s).doubleValue(),v=R.valueOf(n.y).selfAdd(R.valueOf(i.y).selfSubtract(n.y).selfMultiply(m)).doubleValue();return new p(h,v)},O.orientationIndexFilter=function(t,e,n){var i=null,r=(t.x-n.x)*(e.y-n.y),o=(t.y-n.y)*(e.x-n.x),s=r-o;if(r>0){if(0>=o)return O.signum(s);i=r+o}else{if(!(0>r))return O.signum(s);if(o>=0)return O.signum(s);i=-r-o}var a=O.DP_SAFE_EPSILON*i;return s>=a||-s>=a?O.signum(s):2},O.signum=function(t){return t>0?1:0>t?-1:0},O.DP_SAFE_EPSILON=1e-15,e(D.prototype,{setOrdinate:function(t,e,n){},size:function(){},getOrdinate:function(t,e){},getCoordinate:function(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){arguments[0],arguments[1]}},getCoordinateCopy:function(t){},getDimension:function(){},getX:function(t){},clone:function(){},expandEnvelope:function(t){},copy:function(){},getY:function(t){},toCoordinateArray:function(){},interfaces_:function(){return[s]},getClass:function(){return D}}),D.X=0,D.Y=1,D.Z=2,D.M=3,P.arraycopy=function(t,e,n,i,r){for(var o=0,s=e;e+r>s;s++)n[i+o]=t[s],o++},P.getProperty=function(t){return{"line.separator":"\n"}[t]},e(k.prototype,{getY:function(){var t=this.y/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new S;return t},getX:function(){var t=this.x/this.w;if(r.isNaN(t)||r.isInfinite(t))throw new S;return t},getCoordinate:function(){var t=new p;return t.x=this.getX(),t.y=this.getY(),t},interfaces_:function(){return[]},getClass:function(){return k}}),k.intersection=function(t,e,n,i){var o=t.y-e.y,s=e.x-t.x,a=t.x*e.y-e.x*t.y,u=n.y-i.y,l=i.x-n.x,c=n.x*i.y-i.x*n.y,h=s*c-l*a,f=u*a-o*c,d=o*l-u*s,g=h/d,m=f/d;if(r.isNaN(g)||r.isInfinite(g)||r.isNaN(m)||r.isInfinite(m))throw new S;return new p(g,m)},e(z.prototype,{create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){arguments[0]}else if(I(arguments[0],D)){arguments[0]}}else if(2===arguments.length){arguments[0],arguments[1]}},interfaces_:function(){return[]},getClass:function(){return z}}),e(F.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return F}}),e(j.prototype,{isGeometryCollection:function(){return this.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION},getFactory:function(){return this.factory},getGeometryN:function(t){return this},getArea:function(){return 0},isRectangle:function(){return!1},equals:function(){if(1===arguments.length){if(arguments[0]instanceof j){var t=arguments[0];return null===t?!1:this.equalsTopo(t)}if(arguments[0]instanceof Object){var e=arguments[0];if(!(e instanceof j))return!1;var n=e;return this.equalsExact(n)}}},equalsExact:function(t){return this===t||this.equalsExact(t,0)},geometryChanged:function(){this.apply(j.geometryChangedFilter)},geometryChangedAction:function(){this.envelope=null},equalsNorm:function(t){return null===t?!1:this.norm().equalsExact(t.norm())},getLength:function(){return 0},getNumGeometries:function(){return 1},compareTo:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return this.getSortIndex()!==e.getSortIndex()?this.getSortIndex()-e.getSortIndex():this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(n,i)}},getUserData:function(){return this.userData},getSRID:function(){return this.SRID},getEnvelope:function(){return this.getFactory().toGeometry(this.getEnvelopeInternal())},checkNotGeometryCollection:function(t){if(t.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION)throw new i("This method does not support GeometryCollection arguments")},equal:function(t,e,n){return 0===n?t.equals(e):t.distance(e)<=n},norm:function(){var t=this.copy();return t.normalize(),t},getPrecisionModel:function(){return this.factory.getPrecisionModel()},getEnvelopeInternal:function(){return null===this.envelope&&(this.envelope=this.computeEnvelopeInternal()),new w(this.envelope)},setSRID:function(t){this.SRID=t},setUserData:function(t){this.userData=t},compare:function(t,e){for(var n=t.iterator(),i=e.iterator();n.hasNext()&&i.hasNext();){var r=n.next(),o=i.next(),s=r.compareTo(o);if(0!==s)return s}return n.hasNext()?1:i.hasNext()?-1:0},hashCode:function(){return this.getEnvelopeInternal().hashCode()},isGeometryCollectionOrDerived:function(){return this.getSortIndex()===j.SORTINDEX_GEOMETRYCOLLECTION||this.getSortIndex()===j.SORTINDEX_MULTIPOINT||this.getSortIndex()===j.SORTINDEX_MULTILINESTRING||this.getSortIndex()===j.SORTINDEX_MULTIPOLYGON},interfaces_:function(){return[s,o,u]},getClass:function(){return j}}),j.hasNonEmptyElements=function(t){for(var e=0;e<t.length;e++)if(!t[e].isEmpty())return!0;return!1},j.hasNullElements=function(t){for(var e=0;e<t.length;e++)if(null===t[e])return!0;return!1},j.serialVersionUID=0x799ea46522854c00,j.SORTINDEX_POINT=0,j.SORTINDEX_MULTIPOINT=1,j.SORTINDEX_LINESTRING=2,j.SORTINDEX_LINEARRING=3,j.SORTINDEX_MULTILINESTRING=4,j.SORTINDEX_POLYGON=5,j.SORTINDEX_MULTIPOLYGON=6,j.SORTINDEX_GEOMETRYCOLLECTION=7,j.geometryChangedFilter={interfaces_:function(){return[F]},filter:function(t){t.geometryChangedAction()}},e(B.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return B}}),e(U.prototype,{isInBoundary:function(t){},interfaces_:function(){return[]},getClass:function(){return U}}),e(G.prototype,{isInBoundary:function(t){return t%2===1},interfaces_:function(){return[U]},getClass:function(){return G}}),e(V.prototype,{isInBoundary:function(t){return t>0},interfaces_:function(){return[U]},getClass:function(){return V}}),e(q.prototype,{isInBoundary:function(t){return t>1},interfaces_:function(){return[U]},getClass:function(){return q}}),e(Y.prototype,{isInBoundary:function(t){return 1===t},interfaces_:function(){return[U]},getClass:function(){return Y}}),U.Mod2BoundaryNodeRule=G,U.EndPointBoundaryNodeRule=V,U.MultiValentEndPointBoundaryNodeRule=q,U.MonoValentEndPointBoundaryNodeRule=Y,U.MOD2_BOUNDARY_RULE=new G,U.ENDPOINT_BOUNDARY_RULE=new V,U.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new q,U.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new Y,U.OGC_SFS_BOUNDARY_RULE=U.MOD2_BOUNDARY_RULE,e(X.prototype,{interfaces_:function(){return[]},getClass:function(){return X}}),X.isRing=function(t){return t.length<4?!1:!!t[0].equals2D(t[t.length-1])},X.ptNotInList=function(t,e){for(var n=0;n<t.length;n++){var i=t[n];if(X.indexOf(i,e)<0)return i}return null},X.scroll=function(t,e){var n=X.indexOf(e,t);if(0>n)return null;var i=new Array(t.length).fill(null);P.arraycopy(t,n,i,0,t.length-n),P.arraycopy(t,0,i,t.length-n,n),P.arraycopy(i,0,t,0,t.length)},X.equals=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(t===e)return!0;if(null===t||null===e)return!1;if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].equals(e[n]))return!1;return!0}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];if(i===r)return!0;if(null===i||null===r)return!1;if(i.length!==r.length)return!1;for(var n=0;n<i.length;n++)if(0!==o.compare(i[n],r[n]))return!1;return!0}},X.intersection=function(t,e){for(var n=new E,i=0;i<t.length;i++)e.intersects(t[i])&&n.add(t[i],!0);return n.toCoordinateArray()},X.hasRepeatedPoints=function(t){for(var e=1;e<t.length;e++)if(t[e-1].equals(t[e]))return!0;return!1},X.removeRepeatedPoints=function(t){if(!X.hasRepeatedPoints(t))return t;var e=new E(t,!1);return e.toCoordinateArray()},X.reverse=function(t){for(var e=t.length-1,n=Math.trunc(e/2),i=0;n>=i;i++){var r=t[i];t[i]=t[e-i],t[e-i]=r}},X.removeNull=function(t){for(var e=0,n=0;n<t.length;n++)null!==t[n]&&e++;var i=new Array(e).fill(null);if(0===e)return i;for(var r=0,n=0;n<t.length;n++)null!==t[n]&&(i[r++]=t[n]);return i},X.copyDeep=function(){if(1===arguments.length){for(var t=arguments[0],e=new Array(t.length).fill(null),n=0;n<t.length;n++)e[n]=new p(t[n]);return e}if(5===arguments.length)for(var i=arguments[0],r=arguments[1],o=arguments[2],s=arguments[3],a=arguments[4],n=0;a>n;n++)o[s+n]=new p(i[r+n])},X.isEqualReversed=function(t,e){for(var n=0;n<t.length;n++){var i=t[n],r=e[t.length-n-1];if(0!==i.compareTo(r))return!1}return!0},X.envelope=function(t){for(var e=new w,n=0;n<t.length;n++)e.expandToInclude(t[n]);return e},X.toCoordinateArray=function(t){return t.toArray(X.coordArrayType)},X.atLeastNCoordinatesOrNothing=function(t,e){return e.length>=t?e:[]},X.indexOf=function(t,e){for(var n=0;n<e.length;n++)if(t.equals(e[n]))return n;return-1},X.increasingDirection=function(t){for(var e=0;e<Math.trunc(t.length/2);e++){var n=t.length-1-e,i=t[e].compareTo(t[n]);if(0!==i)return i}return 1},X.compare=function(t,e){for(var n=0;n<t.length&&n<e.length;){var i=t[n].compareTo(e[n]);if(0!==i)return i;n++}return n<e.length?-1:n<t.length?1:0},X.minCoordinate=function(t){for(var e=null,n=0;n<t.length;n++)(null===e||e.compareTo(t[n])>0)&&(e=t[n]);return e},X.extract=function(t,e,n){e=C.clamp(e,0,t.length),n=C.clamp(n,-1,t.length);var i=n-e+1;0>n&&(i=0),e>=t.length&&(i=0),e>n&&(i=0);var r=new Array(i).fill(null);if(0===i)return r;for(var o=0,s=e;n>=s;s++)r[o++]=t[s];return r},e(W.prototype,{compare:function(t,e){var n=t,i=e;return X.compare(n,i)},interfaces_:function(){return[a]},getClass:function(){return W}}),e(Z.prototype,{compare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;var r=X.compare(n,i),o=X.isEqualReversed(n,i);return o?0:r},OLDcompare:function(t,e){var n=t,i=e;if(n.length<i.length)return-1;if(n.length>i.length)return 1;if(0===n.length)return 0;for(var r=X.increasingDirection(n),o=X.increasingDirection(i),s=r>0?0:n.length-1,a=o>0?0:n.length-1,u=0;u<n.length;u++){var l=n[s].compareTo(i[a]);if(0!==l)return l;s+=r,a+=o}return 0},interfaces_:function(){return[a]},getClass:function(){return Z}}),X.ForwardComparator=W,X.BidirectionalComparator=Z,X.coordArrayType=new Array(0).fill(null),H.prototype.get=function(){},H.prototype.put=function(){},H.prototype.size=function(){},H.prototype.values=function(){},H.prototype.entrySet=function(){},$.prototype=new H,J.prototype=new m,J.prototype.contains=function(){},Q.prototype=new J,Q.prototype.contains=function(t){for(var e=0,n=this.array_.length;n>e;e++){var i=this.array_[e];if(i===t)return!0}return!1},Q.prototype.add=function(t){return this.contains(t)?!1:(this.array_.push(t),!0)},Q.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},Q.prototype.remove=function(t){throw new javascript.util.OperationNotSupported},Q.prototype.size=function(){return this.array_.length},Q.prototype.isEmpty=function(){return 0===this.array_.length},Q.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},Q.prototype.iterator=function(){return new Ko(this)};var Ko=function(t){this.hashSet_=t,this.position_=0};Ko.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new b;return this.hashSet_.array_[this.position_++]},Ko.prototype.hasNext=function(){return this.position_<this.hashSet_.size()},Ko.prototype.remove=function(){throw new x};var ts=0,es=1;rt.prototype=new $,rt.prototype.get=function(t){for(var e=this.root_;null!==e;){var n=t.compareTo(e.key);if(0>n)e=e.left;else{if(!(n>0))return e.value;e=e.right}}return null},rt.prototype.put=function(t,e){if(null===this.root_)return this.root_={key:t,value:e,left:null,right:null,parent:null,color:ts,getValue:function(){return this.value},getKey:function(){return this.key}},this.size_=1,null;var n,i,r=this.root_;do{if(n=r,i=t.compareTo(r.key),0>i)r=r.left;else{if(!(i>0)){var o=r.value;return r.value=e,o}r=r.right}}while(null!==r);var s={key:t,left:null,right:null,value:e,parent:n,color:ts,getValue:function(){return this.value},getKey:function(){return this.key}};return 0>i?n.left=s:n.right=s,this.fixAfterInsertion(s),this.size_++,null},rt.prototype.fixAfterInsertion=function(t){for(t.color=es;null!=t&&t!=this.root_&&t.parent.color==es;)if(tt(t)==nt(tt(tt(t)))){var e=it(tt(tt(t)));K(e)==es?(et(tt(t),ts),et(e,ts),et(tt(tt(t)),es),t=tt(tt(t))):(t==it(tt(t))&&(t=tt(t),this.rotateLeft(t)),et(tt(t),ts),et(tt(tt(t)),es),this.rotateRight(tt(tt(t))))}else{var e=nt(tt(tt(t)));K(e)==es?(et(tt(t),ts),et(e,ts),et(tt(tt(t)),es),t=tt(tt(t))):(t==nt(tt(t))&&(t=tt(t),this.rotateRight(t)),et(tt(t),ts),et(tt(tt(t)),es),this.rotateLeft(tt(tt(t))))}this.root_.color=ts},rt.prototype.values=function(){var t=new _,e=this.getFirstEntry();if(null!==e)for(t.add(e.value);null!==(e=rt.successor(e));)t.add(e.value);return t},rt.prototype.entrySet=function(){var t=new Q,e=this.getFirstEntry();if(null!==e)for(t.add(e);null!==(e=rt.successor(e));)t.add(e);return t},rt.prototype.rotateLeft=function(t){if(null!=t){var e=t.right;t.right=e.left,null!=e.left&&(e.left.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.left==t?t.parent.left=e:t.parent.right=e,e.left=t,t.parent=e}},rt.prototype.rotateRight=function(t){if(null!=t){var e=t.left;t.left=e.right,null!=e.right&&(e.right.parent=t),e.parent=t.parent,null==t.parent?this.root_=e:t.parent.right==t?t.parent.right=e:t.parent.left=e,e.right=t,t.parent=e}},rt.prototype.getFirstEntry=function(){var t=this.root_;if(null!=t)for(;null!=t.left;)t=t.left;return t},rt.successor=function(t){if(null===t)return null;if(null!==t.right){for(var e=t.right;null!==e.left;)e=e.left;return e}for(var e=t.parent,n=t;null!==e&&n===e.right;)n=e,e=e.parent;return e},rt.prototype.size=function(){return this.size_},e(ot.prototype,{interfaces_:function(){return[]},getClass:function(){return ot}}),st.prototype=new J,at.prototype=new st,at.prototype.contains=function(t){for(var e=0,n=this.array_.length;n>e;e++){var i=this.array_[e];if(0===i.compareTo(t))return!0}return!1},at.prototype.add=function(t){if(this.contains(t))return!1;for(var e=0,n=this.array_.length;n>e;e++){var i=this.array_[e];if(1===i.compareTo(t))return this.array_.splice(e,0,t),!0}return this.array_.push(t),!0},at.prototype.addAll=function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next());return!0},at.prototype.remove=function(t){throw new x},at.prototype.size=function(){return this.array_.length},at.prototype.isEmpty=function(){return 0===this.array_.length},at.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},at.prototype.iterator=function(){return new ns(this)};var ns=function(t){this.treeSet_=t,this.position_=0};ns.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new b;return this.treeSet_.array_[this.position_++]},ns.prototype.hasNext=function(){return this.position_<this.treeSet_.size()},ns.prototype.remove=function(){throw new x},ut.sort=function(){var t,e,n,i,r=arguments[0];if(1===arguments.length)return i=function(t,e){return t.compareTo(e)},void r.sort(i);if(2===arguments.length)n=arguments[1],i=function(t,e){return n.compare(t,e)},r.sort(i);else{if(3===arguments.length){e=r.slice(arguments[1],arguments[2]),e.sort();var o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length));for(r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}if(4===arguments.length){for(e=r.slice(arguments[1],arguments[2]),n=arguments[3],i=function(t,e){return n.compare(t,e)},e.sort(i),o=r.slice(0,arguments[1]).concat(e,r.slice(arguments[2],r.length)),r.splice(0,r.length),t=0;t<o.length;t++)r.push(o[t]);return}}},ut.asList=function(t){for(var e=new _,n=0,i=t.length;i>n;n++)e.add(t[n]);return e},e(lt.prototype,{interfaces_:function(){return[]},getClass:function(){return lt}}),lt.toDimensionSymbol=function(t){switch(t){case lt.FALSE:return lt.SYM_FALSE;case lt.TRUE:return lt.SYM_TRUE;case lt.DONTCARE:return lt.SYM_DONTCARE;case lt.P:return lt.SYM_P;case lt.L:return lt.SYM_L;case lt.A:return lt.SYM_A}throw new i("Unknown dimension value: "+t)},lt.toDimensionValue=function(t){switch(N.toUpperCase(t)){case lt.SYM_FALSE:return lt.FALSE;case lt.SYM_TRUE:return lt.TRUE;case lt.SYM_DONTCARE:return lt.DONTCARE;case lt.SYM_P:return lt.P;case lt.SYM_L:return lt.L;case lt.SYM_A:return lt.A}throw new i("Unknown dimension symbol: "+t)},lt.P=0,lt.L=1,lt.A=2,lt.FALSE=-1,lt.TRUE=-2,lt.DONTCARE=-3,lt.SYM_FALSE="F",lt.SYM_TRUE="T",lt.SYM_DONTCARE="*",lt.SYM_P="0",lt.SYM_L="1",lt.SYM_A="2",e(ct.prototype,{filter:function(t){},interfaces_:function(){return[]},getClass:function(){return ct}}),e(ht.prototype,{filter:function(t,e){},isDone:function(){},isGeometryChanged:function(){},interfaces_:function(){return[]},getClass:function(){return ht}}),c(ft,j),e(ft.prototype,{computeEnvelopeInternal:function(){for(var t=new w,e=0;e<this.geometries.length;e++)t.expandToInclude(this.geometries[e].getEnvelopeInternal());return t},getGeometryN:function(t){return this.geometries[t]},getSortIndex:function(){return j.SORTINDEX_GEOMETRYCOLLECTION},getCoordinates:function(){for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=0;n<this.geometries.length;n++)for(var i=this.geometries[n].getCoordinates(),r=0;r<i.length;r++)e++,t[e]=i[r];return t},getArea:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getArea();return t},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.geometries.length!==n.geometries.length)return!1;for(var i=0;i<this.geometries.length;i++)if(!this.geometries[i].equalsExact(n.geometries[i],e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<this.geometries.length;t++)this.geometries[t].normalize();ut.sort(this.geometries)},getCoordinate:function(){return this.isEmpty()?null:this.geometries[0].getCoordinate()},getBoundaryDimension:function(){for(var t=lt.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getBoundaryDimension());return t},getDimension:function(){for(var t=lt.FALSE,e=0;e<this.geometries.length;e++)t=Math.max(t,this.geometries[e].getDimension());return t},getLength:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getLength();return t},getNumPoints:function(){for(var t=0,e=0;e<this.geometries.length;e++)t+=this.geometries[e].getNumPoints();return t},getNumGeometries:function(){return this.geometries.length},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createGeometryCollection(e)},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=new at(ut.asList(this.geometries)),n=new at(ut.asList(t.geometries));return this.compare(e,n)}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o=i,s=this.getNumGeometries(),a=o.getNumGeometries(),u=0;s>u&&a>u;){var l=this.getGeometryN(u),c=o.getGeometryN(u),h=l.compareToSameClass(c,r);if(0!==h)return h;u++}return s>u?1:a>u?-1:0}},apply:function(){if(I(arguments[0],B))for(var t=arguments[0],e=0;e<this.geometries.length;e++)this.geometries[e].apply(t);else if(I(arguments[0],ht)){var n=arguments[0];if(0===this.geometries.length)return null;for(var e=0;e<this.geometries.length&&(this.geometries[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],ct)){var i=arguments[0];i.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(i)}else if(I(arguments[0],F)){var r=arguments[0];r.filter(this);for(var e=0;e<this.geometries.length;e++)this.geometries[e].apply(r)}},getBoundary:function(){return this.checkNotGeometryCollection(this),f.shouldNeverReachHere(),null},clone:function(){var t=j.prototype.clone.call(this);t.geometries=new Array(this.geometries.length).fill(null);for(var e=0;e<this.geometries.length;e++)t.geometries[e]=this.geometries[e].clone();return t},getGeometryType:function(){return"GeometryCollection"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new ft(t,this.factory)},isEmpty:function(){for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isEmpty())return!1;return!0},interfaces_:function(){return[]},getClass:function(){return ft}}),ft.serialVersionUID=-0x4f07bcb1f857d800,c(pt,ft),e(pt.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTILINESTRING},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.isEquivalentClass(t)?ft.prototype.equalsExact.call(this,t,e):!1}return ft.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return this.isClosed()?lt.FALSE:0},isClosed:function(){if(this.isEmpty())return!1;for(var t=0;t<this.geometries.length;t++)if(!this.geometries[t].isClosed())return!1;return!0},getDimension:function(){return 1},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[t-1-n]=this.geometries[n].reverse();return this.getFactory().createMultiLineString(e)},getBoundary:function(){return new dt(this).getBoundary()},getGeometryType:function(){return"MultiLineString"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new pt(t,this.factory)},interfaces_:function(){return[ot]},getClass:function(){return pt}}),pt.serialVersionUID=0x7155d2ab4afa8000,e(dt.prototype,{boundaryMultiLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();var e=this.computeBoundaryCoordinates(t);return 1===e.length?this.geomFact.createPoint(e[0]):this.geomFact.createMultiPointFromCoords(e)},getBoundary:function(){return this.geom instanceof Tt?this.boundaryLineString(this.geom):this.geom instanceof pt?this.boundaryMultiLineString(this.geom):this.geom.getBoundary()},boundaryLineString:function(t){if(this.geom.isEmpty())return this.getEmptyMultiPoint();if(t.isClosed()){var e=this.bnRule.isInBoundary(2);return e?t.getStartPoint():this.geomFact.createMultiPoint()}return this.geomFact.createMultiPoint([t.getStartPoint(),t.getEndPoint()])},getEmptyMultiPoint:function(){return this.geomFact.createMultiPoint()},computeBoundaryCoordinates:function(t){var e=new _;this.endpointMap=new rt;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);0!==i.getNumPoints()&&(this.addEndpoint(i.getCoordinateN(0)),this.addEndpoint(i.getCoordinateN(i.getNumPoints()-1)))}for(var r=this.endpointMap.entrySet().iterator();r.hasNext();){var o=r.next(),s=o.getValue(),a=s.count;this.bnRule.isInBoundary(a)&&e.add(o.getKey())}return X.toCoordinateArray(e)},addEndpoint:function(t){var e=this.endpointMap.get(t);null===e&&(e=new gt,this.endpointMap.put(t,e)),e.count++},interfaces_:function(){return[]},getClass:function(){return dt}}),dt.getBoundary=function(){if(1===arguments.length){var t=arguments[0],e=new dt(t);return e.getBoundary()}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=new dt(n,i);return e.getBoundary()}},e(gt.prototype,{interfaces_:function(){return[]},getClass:function(){return gt}}),e(Et.prototype,{interfaces_:function(){return[]},getClass:function(){return Et}}),Et.chars=function(t,e){for(var n=new Array(e).fill(null),i=0;e>i;i++)n[i]=t;return new String(n)},Et.getStackTrace=function(){if(1===arguments.length){var t=arguments[0],e=new bt,n=new mt(e);return t.printStackTrace(n),e.toString()}if(2===arguments.length){for(var i=arguments[0],r=arguments[1],o="",s=new vt(Et.getStackTrace(i)),a=new _t(s),u=0;r>u;u++)try{o+=a.readLine()+Et.NEWLINE}catch(t){if(!(t instanceof xt))throw t;f.shouldNeverReachHere()}finally{}return o}},Et.split=function(t,e){for(var n=e.length,i=new _,r=""+t,o=r.indexOf(e);o>=0;){var s=r.substring(0,o);i.add(s),r=r.substring(o+n),o=r.indexOf(e)}r.length>0&&i.add(r);for(var a=new Array(i.size()).fill(null),u=0;u<a.length;u++)a[u]=i.get(u);return a},Et.toString=function(){if(1===arguments.length){var t=arguments[0];return Et.SIMPLE_ORDINATE_FORMAT.format(t)}},Et.spaces=function(t){return Et.chars(" ",t)},Et.NEWLINE=P.getProperty("line.separator"),Et.SIMPLE_ORDINATE_FORMAT=new yt("0.#"),e(wt.prototype,{interfaces_:function(){return[]},getClass:function(){return wt}}),wt.copyCoord=function(t,e,n,i){for(var r=Math.min(t.getDimension(),n.getDimension()),o=0;r>o;o++)n.setOrdinate(i,o,t.getOrdinate(e,o))},wt.isRing=function(t){var e=t.size();return 0===e?!0:3>=e?!1:t.getOrdinate(0,D.X)===t.getOrdinate(e-1,D.X)&&t.getOrdinate(0,D.Y)===t.getOrdinate(e-1,D.Y)},wt.isEqual=function(t,e){var n=t.size(),i=e.size();if(n!==i)return!1;for(var o=Math.min(t.getDimension(),e.getDimension()),s=0;n>s;s++)for(var a=0;o>a;a++){var u=t.getOrdinate(s,a),l=e.getOrdinate(s,a);if(!(t.getOrdinate(s,a)===e.getOrdinate(s,a)||r.isNaN(u)&&r.isNaN(l)))return!1}return!0},wt.extend=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();if(wt.copy(e,0,i,0,r),r>0)for(var o=r;n>o;o++)wt.copy(e,r-1,i,o,1);return i},wt.reverse=function(t){for(var e=t.size()-1,n=Math.trunc(e/2),i=0;n>=i;i++)wt.swap(t,i,e-i)},wt.swap=function(t,e,n){if(e===n)return null;for(var i=0;i<t.getDimension();i++){var r=t.getOrdinate(e,i);t.setOrdinate(e,i,t.getOrdinate(n,i)),t.setOrdinate(n,i,r)}},wt.copy=function(t,e,n,i,r){for(var o=0;r>o;o++)wt.copyCoord(t,e+o,n,i+o)},wt.toString=function(){if(1===arguments.length){var t=arguments[0],e=t.size();if(0===e)return"()";var n=t.getDimension(),i=new L;i.append("(");for(var r=0;e>r;r++){r>0&&i.append(" ");for(var o=0;n>o;o++)o>0&&i.append(","),i.append(Et.toString(t.getOrdinate(r,o)))}return i.append(")"),i.toString()}},wt.ensureValidRing=function(t,e){var n=e.size();if(0===n)return e;if(3>=n)return wt.createClosedRing(t,e,4);var i=e.getOrdinate(0,D.X)===e.getOrdinate(n-1,D.X)&&e.getOrdinate(0,D.Y)===e.getOrdinate(n-1,D.Y);return i?e:wt.createClosedRing(t,e,n+1)},wt.createClosedRing=function(t,e,n){var i=t.create(n,e.getDimension()),r=e.size();wt.copy(e,0,i,0,r);for(var o=r;n>o;o++)wt.copy(e,0,i,o,1);return i},c(Tt,j),e(Tt.prototype,{computeEnvelopeInternal:function(){return this.isEmpty()?new w:this.points.expandEnvelope(new w)},isRing:function(){return this.isClosed()&&this.isSimple()},getSortIndex:function(){return j.SORTINDEX_LINESTRING},getCoordinates:function(){return this.points.toCoordinateArray()},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t;if(this.points.size()!==n.points.size())return!1;for(var i=0;i<this.points.size();i++)if(!this.equal(this.points.getCoordinate(i),n.points.getCoordinate(i),e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){for(var t=0;t<Math.trunc(this.points.size()/2);t++){var e=this.points.size()-1-t;if(!this.points.getCoordinate(t).equals(this.points.getCoordinate(e)))return this.points.getCoordinate(t).compareTo(this.points.getCoordinate(e))>0&&wt.reverse(this.points),null}},getCoordinate:function(){return this.isEmpty()?null:this.points.getCoordinate(0)},getBoundaryDimension:function(){return this.isClosed()?lt.FALSE:0},isClosed:function(){return this.isEmpty()?!1:this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))},getEndPoint:function(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)},getDimension:function(){return 1},getLength:function(){return ce.computeLength(this.points)},getNumPoints:function(){return this.points.size()},reverse:function(){var t=this.points.copy();wt.reverse(t);var e=this.getFactory().createLineString(t);return e},compareToSameClass:function(){if(1===arguments.length){for(var t=arguments[0],e=t,n=0,i=0;n<this.points.size()&&i<e.points.size();){var r=this.points.getCoordinate(n).compareTo(e.points.getCoordinate(i));if(0!==r)return r;n++,i++}return n<this.points.size()?1:i<e.points.size()?-1:0}if(2===arguments.length){var o=arguments[0],s=arguments[1],e=o;return s.compare(this.points,e.points)}},apply:function(){if(I(arguments[0],B))for(var t=arguments[0],e=0;e<this.points.size();e++)t.filter(this.points.getCoordinate(e));else if(I(arguments[0],ht)){var n=arguments[0];if(0===this.points.size())return null;for(var e=0;e<this.points.size()&&(n.filter(this.points,e),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],ct)){var i=arguments[0];i.filter(this)}else if(I(arguments[0],F)){var r=arguments[0];r.filter(this)}},getBoundary:function(){return new dt(this).getBoundary()},isEquivalentClass:function(t){return t instanceof Tt},clone:function(){var t=j.prototype.clone.call(this);return t.points=this.points.clone(),t},getCoordinateN:function(t){return this.points.getCoordinate(t)},getGeometryType:function(){return"LineString"},copy:function(){return new Tt(this.points.copy(),this.factory)},getCoordinateSequence:function(){return this.points},isEmpty:function(){return 0===this.points.size()},init:function(t){if(null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),1===t.size())throw new i("Invalid number of points in LineString (found "+t.size()+" - must be 0 or >= 2)");this.points=t},isCoordinate:function(t){for(var e=0;e<this.points.size();e++)if(this.points.getCoordinate(e).equals(t))return!0;return!1},getStartPoint:function(){return this.isEmpty()?null:this.getPointN(0)},getPointN:function(t){return this.getFactory().createPoint(this.points.getCoordinate(t))},interfaces_:function(){return[ot]},getClass:function(){return Tt}}),Tt.serialVersionUID=0x2b2b51ba435c8e00,e(St.prototype,{interfaces_:function(){return[]},getClass:function(){return St}}),c(At,j),e(At.prototype,{computeEnvelopeInternal:function(){if(this.isEmpty())return new w;var t=new w;return t.expandToInclude(this.coordinates.getX(0),this.coordinates.getY(0)),t},getSortIndex:function(){return j.SORTINDEX_POINT},getCoordinates:function(){return this.isEmpty()?[]:[this.getCoordinate()]},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.isEquivalentClass(t)?this.isEmpty()&&t.isEmpty()?!0:this.isEmpty()!==t.isEmpty()?!1:this.equal(t.getCoordinate(),this.getCoordinate(),e):!1}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){},getCoordinate:function(){return 0!==this.coordinates.size()?this.coordinates.getCoordinate(0):null},getBoundaryDimension:function(){return lt.FALSE},getDimension:function(){return 0},getNumPoints:function(){return this.isEmpty()?0:1},reverse:function(){return this.copy()},getX:function(){if(null===this.getCoordinate())throw new IllegalStateException("getX called on empty Point");return this.getCoordinate().x},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=t;return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=n;return i.compare(this.coordinates,e.coordinates)}},apply:function(){if(I(arguments[0],B)){var t=arguments[0];if(this.isEmpty())return null;t.filter(this.getCoordinate())}else if(I(arguments[0],ht)){var e=arguments[0];if(this.isEmpty())return null;e.filter(this.coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],ct)){var n=arguments[0];n.filter(this)}else if(I(arguments[0],F)){var i=arguments[0];i.filter(this)}},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},clone:function(){var t=j.prototype.clone.call(this);return t.coordinates=this.coordinates.clone(),t},getGeometryType:function(){return"Point"},copy:function(){return new At(this.coordinates.copy(),this.factory)},getCoordinateSequence:function(){return this.coordinates},getY:function(){if(null===this.getCoordinate())throw new IllegalStateException("getY called on empty Point");return this.getCoordinate().y},isEmpty:function(){return 0===this.coordinates.size()},init:function(t){null===t&&(t=this.getFactory().getCoordinateSequenceFactory().create([])),f.isTrue(t.size()<=1),this.coordinates=t},isSimple:function(){return!0},interfaces_:function(){return[St]},getClass:function(){return At}}),At.serialVersionUID=0x44077bad161cbc00,e(It.prototype,{interfaces_:function(){return[]},getClass:function(){return It}}),c(Ct,j),e(Ct.prototype,{computeEnvelopeInternal:function(){return this.shell.getEnvelopeInternal()},getSortIndex:function(){return j.SORTINDEX_POLYGON},getCoordinates:function(){if(this.isEmpty())return[];for(var t=new Array(this.getNumPoints()).fill(null),e=-1,n=this.shell.getCoordinates(),i=0;i<n.length;i++)e++,t[e]=n[i];for(var r=0;r<this.holes.length;r++)for(var o=this.holes[r].getCoordinates(),s=0;s<o.length;s++)e++,t[e]=o[s];return t},getArea:function(){var t=0;t+=Math.abs(ce.signedArea(this.shell.getCoordinateSequence()));for(var e=0;e<this.holes.length;e++)t-=Math.abs(ce.signedArea(this.holes[e].getCoordinateSequence()));return t},isRectangle:function(){if(0!==this.getNumInteriorRing())return!1;if(null===this.shell)return!1;if(5!==this.shell.getNumPoints())return!1;for(var t=this.shell.getCoordinateSequence(),e=this.getEnvelopeInternal(),n=0;5>n;n++){var i=t.getX(n);if(i!==e.getMinX()&&i!==e.getMaxX())return!1;var r=t.getY(n);if(r!==e.getMinY()&&r!==e.getMaxY())return!1}for(var o=t.getX(0),s=t.getY(0),n=1;4>=n;n++){var i=t.getX(n),r=t.getY(n),a=i!==o,u=r!==s;if(a===u)return!1;o=i,s=r}return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(!this.isEquivalentClass(t))return!1;var n=t,i=this.shell,r=n.shell;if(!i.equalsExact(r,e))return!1;if(this.holes.length!==n.holes.length)return!1;for(var o=0;o<this.holes.length;o++)if(!this.holes[o].equalsExact(n.holes[o],e))return!1;return!0}return j.prototype.equalsExact.apply(this,arguments)},normalize:function(){if(0===arguments.length){this.normalize(this.shell,!0);for(var t=0;t<this.holes.length;t++)this.normalize(this.holes[t],!1);ut.sort(this.holes)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];if(e.isEmpty())return null;var i=new Array(e.getCoordinates().length-1).fill(null);P.arraycopy(e.getCoordinates(),0,i,0,i.length);var r=X.minCoordinate(e.getCoordinates());X.scroll(i,r),P.arraycopy(i,0,e.getCoordinates(),0,i.length),e.getCoordinates()[i.length]=i[0],ce.isCCW(e.getCoordinates())===n&&X.reverse(e.getCoordinates())}},getCoordinate:function(){return this.shell.getCoordinate()},getNumInteriorRing:function(){return this.holes.length},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},getLength:function(){var t=0;t+=this.shell.getLength();for(var e=0;e<this.holes.length;e++)t+=this.holes[e].getLength();return t},getNumPoints:function(){for(var t=this.shell.getNumPoints(),e=0;e<this.holes.length;e++)t+=this.holes[e].getNumPoints();return t},reverse:function(){var t=this.copy();t.shell=this.shell.copy().reverse(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].copy().reverse();return t},convexHull:function(){return this.getExteriorRing().convexHull()},compareToSameClass:function(){if(1===arguments.length){var t=arguments[0],e=this.shell,n=t.shell;return e.compareToSameClass(n)}if(2===arguments.length){var i=arguments[0],r=arguments[1],o=i,e=this.shell,n=o.shell,s=e.compareToSameClass(n,r);if(0!==s)return s;for(var a=this.getNumInteriorRing(),u=o.getNumInteriorRing(),l=0;a>l&&u>l;){var c=this.getInteriorRingN(l),h=o.getInteriorRingN(l),f=c.compareToSameClass(h,r);if(0!==f)return f;l++}return a>l?1:u>l?-1:0}},apply:function(){if(I(arguments[0],B)){var t=arguments[0];this.shell.apply(t);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(t)}else if(I(arguments[0],ht)){var n=arguments[0];if(this.shell.apply(n),!n.isDone())for(var e=0;e<this.holes.length&&(this.holes[e].apply(n),!n.isDone());e++);n.isGeometryChanged()&&this.geometryChanged()}else if(I(arguments[0],ct)){var i=arguments[0];i.filter(this)}else if(I(arguments[0],F)){var r=arguments[0];r.filter(this),this.shell.apply(r);for(var e=0;e<this.holes.length;e++)this.holes[e].apply(r)}},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();var t=new Array(this.holes.length+1).fill(null);t[0]=this.shell;for(var e=0;e<this.holes.length;e++)t[e+1]=this.holes[e];return t.length<=1?this.getFactory().createLinearRing(t[0].getCoordinateSequence()):this.getFactory().createMultiLineString(t)},clone:function(){var t=j.prototype.clone.call(this);t.shell=this.shell.clone(),t.holes=new Array(this.holes.length).fill(null);for(var e=0;e<this.holes.length;e++)t.holes[e]=this.holes[e].clone();return t},getGeometryType:function(){return"Polygon"},copy:function(){for(var t=this.shell.copy(),e=new Array(this.holes.length).fill(null),n=0;n<e.length;n++)e[n]=this.holes[n].copy();return new Ct(t,e,this.factory)},getExteriorRing:function(){return this.shell},isEmpty:function(){return this.shell.isEmpty()},getInteriorRingN:function(t){return this.holes[t]},interfaces_:function(){return[It]},getClass:function(){return Ct}}),Ct.serialVersionUID=-0x307ffefd8dc97200,c(Lt,ft),e(Lt.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTIPOINT},isValid:function(){return!0},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.isEquivalentClass(t)?ft.prototype.equalsExact.call(this,t,e):!1}return ft.prototype.equalsExact.apply(this,arguments)},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.geometries[t].getCoordinate()}return ft.prototype.getCoordinate.apply(this,arguments)},getBoundaryDimension:function(){return lt.FALSE},getDimension:function(){return 0},getBoundary:function(){return this.getFactory().createGeometryCollection(null)},getGeometryType:function(){return"MultiPoint"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Lt(t,this.factory)},interfaces_:function(){return[St]},getClass:function(){return Lt}}),Lt.serialVersionUID=-0x6fb1ed4162e0fc00,c(Mt,Tt),e(Mt.prototype,{getSortIndex:function(){return j.SORTINDEX_LINEARRING},getBoundaryDimension:function(){return lt.FALSE},isClosed:function(){return this.isEmpty()?!0:Tt.prototype.isClosed.call(this)},reverse:function(){var t=this.points.copy();wt.reverse(t);var e=this.getFactory().createLinearRing(t);return e},validateConstruction:function(){if(!this.isEmpty()&&!Tt.prototype.isClosed.call(this))throw new i("Points of LinearRing do not form a closed linestring");if(this.getCoordinateSequence().size()>=1&&this.getCoordinateSequence().size()<Mt.MINIMUM_VALID_SIZE)throw new i("Invalid number of points in LinearRing (found "+this.getCoordinateSequence().size()+" - must be 0 or >= 4)")},getGeometryType:function(){return"LinearRing"},copy:function(){return new Mt(this.points.copy(),this.factory)},interfaces_:function(){return[]},getClass:function(){return Mt}}),Mt.MINIMUM_VALID_SIZE=4,Mt.serialVersionUID=-0x3b229e262367a600,c(Nt,ft),e(Nt.prototype,{getSortIndex:function(){return j.SORTINDEX_MULTIPOLYGON},equalsExact:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.isEquivalentClass(t)?ft.prototype.equalsExact.call(this,t,e):!1}return ft.prototype.equalsExact.apply(this,arguments)},getBoundaryDimension:function(){return 1},getDimension:function(){return 2},reverse:function(){for(var t=this.geometries.length,e=new Array(t).fill(null),n=0;n<this.geometries.length;n++)e[n]=this.geometries[n].reverse();return this.getFactory().createMultiPolygon(e)},getBoundary:function(){if(this.isEmpty())return this.getFactory().createMultiLineString();for(var t=new _,e=0;e<this.geometries.length;e++)for(var n=this.geometries[e],i=n.getBoundary(),r=0;r<i.getNumGeometries();r++)t.add(i.getGeometryN(r));var o=new Array(t.size()).fill(null);return this.getFactory().createMultiLineString(t.toArray(o))},getGeometryType:function(){return"MultiPolygon"},copy:function(){for(var t=new Array(this.geometries.length).fill(null),e=0;e<t.length;e++)t[e]=this.geometries[e].copy();return new Nt(t,this.factory)},interfaces_:function(){return[It]},getClass:function(){return Nt}}),Nt.serialVersionUID=-0x7a5aa1369171980,e(Rt.prototype,{setCopyUserData:function(t){this.isUserDataCopied=t},edit:function(t,e){if(null===t)return null;var n=this.editInternal(t,e);return this.isUserDataCopied&&n.setUserData(t.getUserData()),n},editInternal:function(t,e){return null===this.factory&&(this.factory=t.getFactory()),t instanceof ft?this.editGeometryCollection(t,e):t instanceof Ct?this.editPolygon(t,e):t instanceof At?e.edit(t,this.factory):t instanceof Tt?e.edit(t,this.factory):(f.shouldNeverReachHere("Unsupported Geometry class: "+t.getClass().getName()),null)},editGeometryCollection:function(t,e){for(var n=e.edit(t,this.factory),i=new _,r=0;r<n.getNumGeometries();r++){var o=this.edit(n.getGeometryN(r),e);null===o||o.isEmpty()||i.add(o)}return n.getClass()===Lt?this.factory.createMultiPoint(i.toArray([])):n.getClass()===pt?this.factory.createMultiLineString(i.toArray([])):n.getClass()===Nt?this.factory.createMultiPolygon(i.toArray([])):this.factory.createGeometryCollection(i.toArray([]))},editPolygon:function(t,e){var n=e.edit(t,this.factory);if(null===n&&(n=this.factory.createPolygon(null)),n.isEmpty())return n;var i=this.edit(n.getExteriorRing(),e);if(null===i||i.isEmpty())return this.factory.createPolygon();for(var r=new _,o=0;o<n.getNumInteriorRing();o++){var s=this.edit(n.getInteriorRingN(o),e);null===s||s.isEmpty()||r.add(s)}return this.factory.createPolygon(i,r.toArray([]))},interfaces_:function(){return[]},getClass:function(){return Rt}}),Rt.GeometryEditorOperation=Ot,e(Dt.prototype,{edit:function(t,e){return t},interfaces_:function(){return[Ot]},getClass:function(){return Dt}}),e(Pt.prototype,{edit:function(t,e){if(t instanceof Mt)return e.createLinearRing(this.editCoordinates(t.getCoordinates(),t));if(t instanceof Tt)return e.createLineString(this.editCoordinates(t.getCoordinates(),t));if(t instanceof At){var n=this.editCoordinates(t.getCoordinates(),t);return n.length>0?e.createPoint(n[0]):e.createPoint()}return t},interfaces_:function(){return[Ot]},getClass:function(){return Pt}}),e(kt.prototype,{edit:function(t,e){return t instanceof Mt?e.createLinearRing(this.edit(t.getCoordinateSequence(),t)):t instanceof Tt?e.createLineString(this.edit(t.getCoordinateSequence(),t)):t instanceof At?e.createPoint(this.edit(t.getCoordinateSequence(),t)):t},interfaces_:function(){return[Ot]},getClass:function(){return kt}}),Rt.NoOpGeometryOperation=Dt,Rt.CoordinateOperation=Pt,Rt.CoordinateSequenceOperation=kt,e(zt.prototype,{setOrdinate:function(t,e,n){switch(e){case D.X:this.coordinates[t].x=n;break;case D.Y:this.coordinates[t].y=n;break;case D.Z:this.coordinates[t].z=n;break;default:throw new i("invalid ordinateIndex")}},size:function(){return this.coordinates.length},getOrdinate:function(t,e){switch(e){case D.X:return this.coordinates[t].x;case D.Y:return this.coordinates[t].y;case D.Z:return this.coordinates[t].z}return r.NaN},getCoordinate:function(){if(1===arguments.length){var t=arguments[0];return this.coordinates[t]}if(2===arguments.length){var e=arguments[0],n=arguments[1];n.x=this.coordinates[e].x,n.y=this.coordinates[e].y,n.z=this.coordinates[e].z}},getCoordinateCopy:function(t){return new p(this.coordinates[t])},getDimension:function(){return this.dimension},getX:function(t){return this.coordinates[t].x},clone:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].clone();return new zt(t,this.dimension)},expandEnvelope:function(t){for(var e=0;e<this.coordinates.length;e++)t.expandToInclude(this.coordinates[e]);return t},copy:function(){for(var t=new Array(this.size()).fill(null),e=0;e<this.coordinates.length;e++)t[e]=this.coordinates[e].copy();return new zt(t,this.dimension)},toString:function(){if(this.coordinates.length>0){var t=new L(17*this.coordinates.length);t.append("("),t.append(this.coordinates[0]);for(var e=1;e<this.coordinates.length;e++)t.append(", "),t.append(this.coordinates[e]);return t.append(")"),t.toString()}return"()"},getY:function(t){return this.coordinates[t].y},toCoordinateArray:function(){return this.coordinates},interfaces_:function(){return[D,u]},getClass:function(){return zt}}),zt.serialVersionUID=-0xcb44a778db18e00,e(Ft.prototype,{readResolve:function(){return Ft.instance()},create:function(){if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new zt(t)}if(I(arguments[0],D)){var e=arguments[0];return new zt(e)}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return i>3&&(i=3),2>i?new zt(n):new zt(n,i)}},interfaces_:function(){return[z,u]},getClass:function(){return Ft}}),Ft.instance=function(){return Ft.instanceObject},Ft.serialVersionUID=-0x38e49fa6cf6f2e00,Ft.instanceObject=new Ft;var is,rs=Object.defineProperty,os=Bt({delete:Gt,has:Yt,get:Vt,set:Xt,keys:Zt,values:Ht,entries:$t,forEach:Kt,clear:Wt}),ss="undefined"!=typeof Map&&Map.prototype.values?Map:os;te.prototype=new H,te.prototype.get=function(t){return this.map_.get(t)||null},te.prototype.put=function(t,e){return this.map_.set(t,e),e},te.prototype.values=function(){for(var t=new _,e=this.map_.values(),n=e.next();!n.done;)t.add(n.value),n=e.next();return t},te.prototype.entrySet=function(){var t=new Q;return this.map_.entries().forEach(function(e){return t.add(e)}),t},te.prototype.size=function(){return this.map_.size()},e(ee.prototype,{equals:function(t){if(!(t instanceof ee))return!1;var e=t;return this.modelType===e.modelType&&this.scale===e.scale},compareTo:function(t){var e=t,n=this.getMaximumSignificantDigits(),i=e.getMaximumSignificantDigits();return new M(n).compareTo(new M(i))},getScale:function(){return this.scale},isFloating:function(){return this.modelType===ee.FLOATING||this.modelType===ee.FLOATING_SINGLE},getType:function(){return this.modelType},toString:function(){var t="UNKNOWN";return this.modelType===ee.FLOATING?t="Floating":this.modelType===ee.FLOATING_SINGLE?t="Floating-Single":this.modelType===ee.FIXED&&(t="Fixed (Scale="+this.getScale()+")"),t},makePrecise:function(){if("number"==typeof arguments[0]){var t=arguments[0];if(r.isNaN(t))return t;if(this.modelType===ee.FLOATING_SINGLE){var e=t;return e}return this.modelType===ee.FIXED?Math.round(t*this.scale)/this.scale:t}if(arguments[0]instanceof p){var n=arguments[0];if(this.modelType===ee.FLOATING)return null;n.x=this.makePrecise(n.x),n.y=this.makePrecise(n.y)}},getMaximumSignificantDigits:function(){var t=16;return this.modelType===ee.FLOATING?t=16:this.modelType===ee.FLOATING_SINGLE?t=6:this.modelType===ee.FIXED&&(t=1+Math.trunc(Math.ceil(Math.log(this.getScale())/Math.log(10)))),t},setScale:function(t){this.scale=Math.abs(t)},interfaces_:function(){return[u,o]},getClass:function(){return ee}}),ee.mostPrecise=function(t,e){return t.compareTo(e)>=0?t:e},e(ne.prototype,{readResolve:function(){return ne.nameToTypeMap.get(this.name)},toString:function(){return this.name},interfaces_:function(){return[u]},getClass:function(){return ne}}),ne.serialVersionUID=-552860263173159e4,ne.nameToTypeMap=new te,ee.Type=ne,ee.serialVersionUID=0x6bee6404e9a25c00,ee.FIXED=new ne("FIXED"),ee.FLOATING=new ne("FLOATING"),ee.FLOATING_SINGLE=new ne("FLOATING SINGLE"),ee.maximumPreciseValue=9007199254740992,e(ie.prototype,{toGeometry:function(t){return t.isNull()?this.createPoint(null):t.getMinX()===t.getMaxX()&&t.getMinY()===t.getMaxY()?this.createPoint(new p(t.getMinX(),t.getMinY())):t.getMinX()===t.getMaxX()||t.getMinY()===t.getMaxY()?this.createLineString([new p(t.getMinX(),t.getMinY()),new p(t.getMaxX(),t.getMaxY())]):this.createPolygon(this.createLinearRing([new p(t.getMinX(),t.getMinY()),new p(t.getMinX(),t.getMaxY()),new p(t.getMaxX(),t.getMaxY()),new p(t.getMaxX(),t.getMinY()),new p(t.getMinX(),t.getMinY())]),null)},createLineString:function(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLineString(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(I(arguments[0],D)){var e=arguments[0];return new Tt(e,this)}}},createMultiLineString:function(){if(0===arguments.length)return new pt(null,this);if(1===arguments.length){var t=arguments[0];return new pt(t,this)}},buildGeometry:function(t){for(var e=null,n=!1,i=!1,r=t.iterator();r.hasNext();){var o=r.next(),s=o.getClass();null===e&&(e=s),s!==e&&(n=!0),o.isGeometryCollectionOrDerived()&&(i=!0)}if(null===e)return this.createGeometryCollection();if(n||i)return this.createGeometryCollection(ie.toGeometryArray(t));var a=t.iterator().next(),u=t.size()>1;if(u){if(a instanceof Ct)return this.createMultiPolygon(ie.toPolygonArray(t));if(a instanceof Tt)return this.createMultiLineString(ie.toLineStringArray(t));if(a instanceof At)return this.createMultiPoint(ie.toPointArray(t));f.shouldNeverReachHere("Unhandled class: "+a.getClass().getName())}return a},createMultiPointFromCoords:function(t){return this.createMultiPoint(null!==t?this.getCoordinateSequenceFactory().create(t):null)},createPoint:function(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof p){var t=arguments[0];return this.createPoint(null!==t?this.getCoordinateSequenceFactory().create([t]):null)}if(I(arguments[0],D)){var e=arguments[0];return new At(e,this)}}},getCoordinateSequenceFactory:function(){return this.coordinateSequenceFactory},createPolygon:function(){if(0===arguments.length)return new Ct(null,null,this);if(1===arguments.length){if(I(arguments[0],D)){var t=arguments[0];return this.createPolygon(this.createLinearRing(t))}if(arguments[0]instanceof Array){var e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Mt){var n=arguments[0];return this.createPolygon(n,null)}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];return new Ct(i,r,this)}},getSRID:function(){return this.SRID},createGeometryCollection:function(){if(0===arguments.length)return new ft(null,this);if(1===arguments.length){var t=arguments[0];return new ft(t,this)}},createGeometry:function(t){var e=new Rt(this);return e.edit(t,{edit:function(){if(2===arguments.length){var t=arguments[0];arguments[1];return this.coordinateSequenceFactory.create(t)}}})},getPrecisionModel:function(){return this.precisionModel},createLinearRing:function(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return this.createLinearRing(null!==t?this.getCoordinateSequenceFactory().create(t):null)}if(I(arguments[0],D)){var e=arguments[0];return new Mt(e,this)}}},createMultiPolygon:function(){if(0===arguments.length)return new Nt(null,this);if(1===arguments.length){var t=arguments[0];return new Nt(t,this)}},createMultiPoint:function(){if(0===arguments.length)return new Lt(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){var t=arguments[0];return new Lt(t,this)}if(arguments[0]instanceof Array){var e=arguments[0];return this.createMultiPoint(null!==e?this.getCoordinateSequenceFactory().create(e):null)}if(I(arguments[0],D)){var n=arguments[0];if(null===n)return this.createMultiPoint(new Array(0).fill(null));for(var i=new Array(n.size()).fill(null),r=0;r<n.size();r++){var o=this.getCoordinateSequenceFactory().create(1,n.getDimension());wt.copy(n,r,o,0,1),i[r]=this.createPoint(o)}return this.createMultiPoint(i)}}},interfaces_:function(){return[u]},getClass:function(){return ie}}),ie.toMultiPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ie.toGeometryArray=function(t){if(null===t)return null;var e=new Array(t.size()).fill(null);return t.toArray(e)},ie.getDefaultCoordinateSequenceFactory=function(){return Ft.instance()},ie.toMultiLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ie.toLineStringArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ie.toMultiPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ie.toLinearRingArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ie.toPointArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ie.toPolygonArray=function(t){var e=new Array(t.size()).fill(null);return t.toArray(e)},ie.createPointFromInternalCoord=function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},ie.serialVersionUID=-0x5ea75f2051eeb400;var as={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};e(re.prototype,{read:function(t){var e,n,i;t=t.replace(/[\n\r]/g," ");var r=as.typeStr.exec(t);if(-1!==t.search("EMPTY")&&(r=as.emptyTypeStr.exec(t),r[2]=void 0),r&&(n=r[1].toLowerCase(),i=r[2],ls[n]&&(e=ls[n].apply(this,[i]))),void 0===e)throw new Error("Could not parse WKT "+t);return e},write:function(t){return this.extractGeometry(t)},extractGeometry:function(t){var e=t.getGeometryType().toLowerCase();if(!us[e])return null;var n,i=e.toUpperCase();return n=t.isEmpty()?i+" EMPTY":i+"("+us[e].apply(this,[t])+")"}});var us={coordinate:function(t){return t.x+" "+t.y},point:function(t){return us.coordinate.call(this,t.coordinates.coordinates[0])},multipoint:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push("("+us.point.apply(this,[t.geometries[n]])+")");return e.join(",")},linestring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;i>n;++n)e.push(us.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},linearring:function(t){for(var e=[],n=0,i=t.points.coordinates.length;i>n;++n)e.push(us.coordinate.apply(this,[t.points.coordinates[n]]));return e.join(",")},multilinestring:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push("("+us.linestring.apply(this,[t.geometries[n]])+")");return e.join(",")},polygon:function(t){var e=[];e.push("("+us.linestring.apply(this,[t.shell])+")");for(var n=0,i=t.holes.length;i>n;++n)e.push("("+us.linestring.apply(this,[t.holes[n]])+")");return e.join(",")},multipolygon:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push("("+us.polygon.apply(this,[t.geometries[n]])+")");return e.join(",")},geometrycollection:function(t){for(var e=[],n=0,i=t.geometries.length;i>n;++n)e.push(this.extractGeometry(t.geometries[n]));return e.join(",")}},ls={point:function(t){if(void 0===t)return this.geometryFactory.createPoint();var e=t.trim().split(as.spaces);return this.geometryFactory.createPoint(new p(Number.parseFloat(e[0]),Number.parseFloat(e[1])))},multipoint:function(t){if(void 0===t)return this.geometryFactory.createMultiPoint();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;o>r;++r)e=n[r].replace(as.trimParens,"$1"),i.push(ls.point.apply(this,[e]));return this.geometryFactory.createMultiPoint(i)},linestring:function(t){if(void 0===t)return this.geometryFactory.createLineString();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;o>r;++r)e=n[r].trim().split(as.spaces),i.push(new p(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLineString(i)},linearring:function(t){if(void 0===t)return this.geometryFactory.createLinearRing();for(var e,n=t.trim().split(","),i=[],r=0,o=n.length;o>r;++r)e=n[r].trim().split(as.spaces),i.push(new p(Number.parseFloat(e[0]),Number.parseFloat(e[1])));return this.geometryFactory.createLinearRing(i)},multilinestring:function(t){if(void 0===t)return this.geometryFactory.createMultiLineString();for(var e,n=t.trim().split(as.parenComma),i=[],r=0,o=n.length;o>r;++r)e=n[r].replace(as.trimParens,"$1"),i.push(ls.linestring.apply(this,[e]));return this.geometryFactory.createMultiLineString(i)},polygon:function(t){if(void 0===t)return this.geometryFactory.createPolygon();for(var e,n,i,r,o=t.trim().split(as.parenComma),s=[],a=0,u=o.length;u>a;++a)e=o[a].replace(as.trimParens,"$1"),n=ls.linestring.apply(this,[e]),i=this.geometryFactory.createLinearRing(n.points),0===a?r=i:s.push(i);return this.geometryFactory.createPolygon(r,s)},multipolygon:function(t){if(void 0===t)return this.geometryFactory.createMultiPolygon();for(var e,n=t.trim().split(as.doubleParenComma),i=[],r=0,o=n.length;o>r;++r)e=n[r].replace(as.trimParens,"$1"),i.push(ls.polygon.apply(this,[e]));return this.geometryFactory.createMultiPolygon(i)},geometrycollection:function(t){if(void 0===t)return this.geometryFactory.createGeometryCollection();t=t.replace(/,\s*([A-Za-z])/g,"|$1");for(var e=t.trim().split("|"),n=[],i=0,r=e.length;r>i;++i)n.push(this.read(e[i]));return this.geometryFactory.createGeometryCollection(n)}};e(oe.prototype,{write:function(t){return this.parser.write(t)}}),e(oe,{toLineString:function(t,e){if(2!==arguments.length)throw new Error("Not implemented");return"LINESTRING ( "+t.x+" "+t.y+", "+e.x+" "+e.y+" )"}}),e(se.prototype,{getIndexAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intLineIndex[t][e]},getTopologySummary:function(){var t=new L;return this.isEndPoint()&&t.append(" endpoint"),this._isProper&&t.append(" proper"),this.isCollinear()&&t.append(" collinear"),t.toString()},computeIntersection:function(t,e,n,i){this.inputLines[0][0]=t,this.inputLines[0][1]=e,this.inputLines[1][0]=n,this.inputLines[1][1]=i,this.result=this.computeIntersect(t,e,n,i)},getIntersectionNum:function(){return this.result},computeIntLineIndex:function(){if(0===arguments.length)null===this.intLineIndex&&(this.intLineIndex=Array(2).fill().map(function(){return Array(2)}),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){var t=arguments[0],e=this.getEdgeDistance(t,0),n=this.getEdgeDistance(t,1);e>n?(this.intLineIndex[t][0]=0,this.intLineIndex[t][1]=1):(this.intLineIndex[t][0]=1,this.intLineIndex[t][1]=0)}},isProper:function(){return this.hasIntersection()&&this._isProper},setPrecisionModel:function(t){this.precisionModel=t},isInteriorIntersection:function(){if(0===arguments.length)return this.isInteriorIntersection(0)?!0:!!this.isInteriorIntersection(1);if(1===arguments.length){for(var t=arguments[0],e=0;e<this.result;e++)if(!this.intPt[e].equals2D(this.inputLines[t][0])&&!this.intPt[e].equals2D(this.inputLines[t][1]))return!0;return!1}},getIntersection:function(t){return this.intPt[t]},isEndPoint:function(){return this.hasIntersection()&&!this._isProper},hasIntersection:function(){return this.result!==se.NO_INTERSECTION},getEdgeDistance:function(t,e){var n=se.computeEdgeDistance(this.intPt[e],this.inputLines[t][0],this.inputLines[t][1]);return n},isCollinear:function(){return this.result===se.COLLINEAR_INTERSECTION},toString:function(){return oe.toLineString(this.inputLines[0][0],this.inputLines[0][1])+" - "+oe.toLineString(this.inputLines[1][0],this.inputLines[1][1])+this.getTopologySummary()},getEndpoint:function(t,e){return this.inputLines[t][e]},isIntersection:function(t){for(var e=0;e<this.result;e++)if(this.intPt[e].equals2D(t))return!0;return!1},getIntersectionAlongSegment:function(t,e){return this.computeIntLineIndex(),this.intPt[this.intLineIndex[t][e]]},interfaces_:function(){return[]},getClass:function(){return se}}),se.computeEdgeDistance=function(t,e,n){var i=Math.abs(n.x-e.x),r=Math.abs(n.y-e.y),o=-1;if(t.equals(e))o=0;else if(t.equals(n))o=i>r?i:r;else{var s=Math.abs(t.x-e.x),a=Math.abs(t.y-e.y);o=i>r?s:a,0!==o||t.equals(e)||(o=Math.max(s,a))}return f.isTrue(!(0===o&&!t.equals(e)),"Bad distance calculation"),o},se.nonRobustComputeEdgeDistance=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=Math.sqrt(i*i+r*r);return f.isTrue(!(0===o&&!t.equals(e)),"Invalid distance calculation"),o},se.DONT_INTERSECT=0,se.DO_INTERSECT=1,se.COLLINEAR=2,se.NO_INTERSECTION=0,se.POINT_INTERSECTION=1,se.COLLINEAR_INTERSECTION=2,c(ae,se),e(ae.prototype,{isInSegmentEnvelopes:function(t){var e=new w(this.inputLines[0][0],this.inputLines[0][1]),n=new w(this.inputLines[1][0],this.inputLines[1][1]);return e.contains(t)&&n.contains(t)},computeIntersection:function(){if(3!==arguments.length)return se.prototype.computeIntersection.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2];return this._isProper=!1,w.intersects(e,n,t)&&0===ce.orientationIndex(e,n,t)&&0===ce.orientationIndex(n,e,t)?(this._isProper=!0,(t.equals(e)||t.equals(n))&&(this._isProper=!1),this.result=se.POINT_INTERSECTION,null):void(this.result=se.NO_INTERSECTION)},normalizeToMinimum:function(t,e,n,i,r){r.x=this.smallestInAbsValue(t.x,e.x,n.x,i.x),r.y=this.smallestInAbsValue(t.y,e.y,n.y,i.y),t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},safeHCoordinateIntersection:function(t,e,n,i){var r=null;try{r=k.intersection(t,e,n,i)}catch(o){if(!(o instanceof S))throw o;r=ae.nearestEndpoint(t,e,n,i)}finally{}return r},intersection:function(t,e,n,i){var r=this.intersectionWithNormalization(t,e,n,i);return this.isInSegmentEnvelopes(r)||(r=new p(ae.nearestEndpoint(t,e,n,i))),null!==this.precisionModel&&this.precisionModel.makePrecise(r),r},smallestInAbsValue:function(t,e,n,i){var r=t,o=Math.abs(r);return Math.abs(e)<o&&(r=e,o=Math.abs(e)),Math.abs(n)<o&&(r=n,o=Math.abs(n)),Math.abs(i)<o&&(r=i),r},checkDD:function(t,e,n,i,r){var o=O.intersection(t,e,n,i),s=this.isInSegmentEnvelopes(o);P.out.println("DD in env = "+s+"  --------------------- "+o),r.distance(o)>1e-4&&P.out.println("Distance = "+r.distance(o))},intersectionWithNormalization:function(t,e,n,i){var r=new p(t),o=new p(e),s=new p(n),a=new p(i),u=new p;this.normalizeToEnvCentre(r,o,s,a,u);var l=this.safeHCoordinateIntersection(r,o,s,a);return l.x+=u.x,l.y+=u.y,l},computeCollinearIntersection:function(t,e,n,i){var r=w.intersects(t,e,n),o=w.intersects(t,e,i),s=w.intersects(n,i,t),a=w.intersects(n,i,e);return r&&o?(this.intPt[0]=n,this.intPt[1]=i,se.COLLINEAR_INTERSECTION):s&&a?(this.intPt[0]=t,this.intPt[1]=e,se.COLLINEAR_INTERSECTION):r&&s?(this.intPt[0]=n,this.intPt[1]=t,!n.equals(t)||o||a?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):r&&a?(this.intPt[0]=n,this.intPt[1]=e,!n.equals(e)||o||s?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):o&&s?(this.intPt[0]=i,this.intPt[1]=t,!i.equals(t)||r||a?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):o&&a?(this.intPt[0]=i,this.intPt[1]=e,!i.equals(e)||r||s?se.COLLINEAR_INTERSECTION:se.POINT_INTERSECTION):se.NO_INTERSECTION},normalizeToEnvCentre:function(t,e,n,i,r){var o=t.x<e.x?t.x:e.x,s=t.y<e.y?t.y:e.y,a=t.x>e.x?t.x:e.x,u=t.y>e.y?t.y:e.y,l=n.x<i.x?n.x:i.x,c=n.y<i.y?n.y:i.y,h=n.x>i.x?n.x:i.x,f=n.y>i.y?n.y:i.y,p=o>l?o:l,d=h>a?a:h,g=s>c?s:c,m=f>u?u:f,v=(p+d)/2,y=(g+m)/2;r.x=v,r.y=y,t.x-=r.x,t.y-=r.y,e.x-=r.x,e.y-=r.y,n.x-=r.x,n.y-=r.y,i.x-=r.x,i.y-=r.y},computeIntersect:function(t,e,n,i){if(this._isProper=!1,!w.intersects(t,e,n,i))return se.NO_INTERSECTION;var r=ce.orientationIndex(t,e,n),o=ce.orientationIndex(t,e,i);if(r>0&&o>0||0>r&&0>o)return se.NO_INTERSECTION;var s=ce.orientationIndex(n,i,t),a=ce.orientationIndex(n,i,e);if(s>0&&a>0||0>s&&0>a)return se.NO_INTERSECTION;var u=0===r&&0===o&&0===s&&0===a;return u?this.computeCollinearIntersection(t,e,n,i):(0===r||0===o||0===s||0===a?(this._isProper=!1,t.equals2D(n)||t.equals2D(i)?this.intPt[0]=t:e.equals2D(n)||e.equals2D(i)?this.intPt[0]=e:0===r?this.intPt[0]=new p(n):0===o?this.intPt[0]=new p(i):0===s?this.intPt[0]=new p(t):0===a&&(this.intPt[0]=new p(e))):(this._isProper=!0,this.intPt[0]=this.intersection(t,e,n,i)),se.POINT_INTERSECTION)},interfaces_:function(){return[]},getClass:function(){return ae}}),ae.nearestEndpoint=function(t,e,n,i){var r=t,o=ce.distancePointLine(t,n,i),s=ce.distancePointLine(e,n,i);return o>s&&(o=s,r=e),s=ce.distancePointLine(n,t,e),o>s&&(o=s,r=n),s=ce.distancePointLine(i,t,e),o>s&&(o=s,r=i),r},e(ue.prototype,{interfaces_:function(){return[]},getClass:function(){return ue}}),ue.orientationIndex=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-e.x,s=n.y-e.y;return ue.signOfDet2x2(i,r,o,s)},ue.signOfDet2x2=function(t,e,n,i){var r=null,o=null,s=null,a=0;if(r=1,0===t||0===i)return 0===e||0===n?0:e>0?n>0?-r:r:n>0?r:-r;if(0===e||0===n)return i>0?t>0?r:-r:t>0?-r:r;if(e>0?i>0?i>=e||(r=-r,o=t,t=n,n=o,o=e,e=i,i=o):-i>=e?(r=-r,n=-n,i=-i):(o=t,t=-n,n=o,o=e,e=-i,i=o):i>0?i>=-e?(r=-r,t=-t,e=-e):(o=-t,t=n,n=o,o=-e,e=i,i=o):e>=i?(t=-t,e=-e,n=-n,i=-i):(r=-r,o=-t,t=-n,n=o,o=-e,e=-i,i=o),t>0){if(!(n>0))return r;if(!(n>=t))return r}else{if(n>0)return-r;if(!(t>=n))return-r;r=-r,t=-t,n=-n}for(;;){if(a+=1,s=Math.floor(n/t),n-=s*t,i-=s*e,0>i)return-r;if(i>e)return r;if(t>n+n){if(i+i>e)return r}else{if(e>i+i)return-r;n=t-n,i=e-i,r=-r}if(0===i)return 0===n?0:-r;if(0===n)return r;if(s=Math.floor(t/n),t-=s*n,e-=s*i,0>e)return r;if(e>i)return-r;if(n>t+t){if(e+e>i)return-r}else{if(i>e+e)return r;t=n-t,e=i-e,r=-r}if(0===e)return 0===t?0:r;if(0===t)return-r}},e(le.prototype,{countSegment:function(t,e){if(t.x<this.p.x&&e.x<this.p.x)return null;if(this.p.x===e.x&&this.p.y===e.y)return this.isPointOnSegment=!0,null;if(t.y===this.p.y&&e.y===this.p.y){var n=t.x,i=e.x;return n>i&&(n=e.x,i=t.x),this.p.x>=n&&this.p.x<=i&&(this.isPointOnSegment=!0),null}if(t.y>this.p.y&&e.y<=this.p.y||e.y>this.p.y&&t.y<=this.p.y){var r=t.x-this.p.x,o=t.y-this.p.y,s=e.x-this.p.x,a=e.y-this.p.y,u=ue.signOfDet2x2(r,o,s,a);if(0===u)return this.isPointOnSegment=!0,null;o>a&&(u=-u),u>0&&this.crossingCount++}},isPointInPolygon:function(){return this.getLocation()!==A.EXTERIOR},getLocation:function(){return this.isPointOnSegment?A.BOUNDARY:this.crossingCount%2===1?A.INTERIOR:A.EXTERIOR},isOnSegment:function(){return this.isPointOnSegment},interfaces_:function(){return[]},getClass:function(){return le}}),le.locatePointInRing=function(){if(arguments[0]instanceof p&&I(arguments[1],D)){for(var t=arguments[0],e=arguments[1],n=new le(t),i=new p,r=new p,o=1;o<e.size();o++)if(e.getCoordinate(o,i),e.getCoordinate(o-1,r),n.countSegment(i,r),n.isOnSegment())return n.getLocation();return n.getLocation()}if(arguments[0]instanceof p&&arguments[1]instanceof Array){for(var s=arguments[0],a=arguments[1],n=new le(s),o=1;o<a.length;o++){var i=a[o],r=a[o-1];if(n.countSegment(i,r),n.isOnSegment())return n.getLocation()}return n.getLocation()}},e(ce.prototype,{interfaces_:function(){return[]},getClass:function(){return ce}}),ce.orientationIndex=function(t,e,n){return O.orientationIndex(t,e,n)},ce.signedArea=function(){if(arguments[0]instanceof Array){var t=arguments[0];if(t.length<3)return 0;for(var e=0,n=t[0].x,i=1;i<t.length-1;i++){var r=t[i].x-n,o=t[i+1].y,s=t[i-1].y;e+=r*(s-o)}return e/2}if(I(arguments[0],D)){var a=arguments[0],u=a.size();if(3>u)return 0;var l=new p,c=new p,h=new p;a.getCoordinate(0,c),a.getCoordinate(1,h);var n=c.x;h.x-=n;for(var e=0,i=1;u-1>i;i++)l.y=c.y,c.x=h.x,c.y=h.y,a.getCoordinate(i+1,h),h.x-=n,e+=c.x*(l.y-h.y);return e/2}},ce.distanceLineLine=function(t,e,n,i){if(t.equals(e))return ce.distancePointLine(t,n,i);if(n.equals(i))return ce.distancePointLine(i,t,e);var r=!1;if(w.intersects(t,e,n,i)){var o=(e.x-t.x)*(i.y-n.y)-(e.y-t.y)*(i.x-n.x);if(0===o)r=!0;else{var s=(t.y-n.y)*(i.x-n.x)-(t.x-n.x)*(i.y-n.y),a=(t.y-n.y)*(e.x-t.x)-(t.x-n.x)*(e.y-t.y),u=a/o,l=s/o;(0>l||l>1||0>u||u>1)&&(r=!0)}}else r=!0;return r?C.min(ce.distancePointLine(t,n,i),ce.distancePointLine(e,n,i),ce.distancePointLine(n,t,e),ce.distancePointLine(i,t,e)):0},ce.isPointInRing=function(t,e){return ce.locatePointInRing(t,e)!==A.EXTERIOR},ce.computeLength=function(t){var e=t.size();if(1>=e)return 0;var n=0,i=new p;t.getCoordinate(0,i);for(var r=i.x,o=i.y,s=1;e>s;s++){t.getCoordinate(s,i);var a=i.x,u=i.y,l=a-r,c=u-o;n+=Math.sqrt(l*l+c*c),r=a,o=u}return n},ce.isCCW=function(t){var e=t.length-1;if(3>e)throw new i("Ring has fewer than 4 points, so orientation cannot be determined");for(var n=t[0],r=0,o=1;e>=o;o++){var s=t[o];s.y>n.y&&(n=s,r=o)}var a=r;do{a-=1,0>a&&(a=e)}while(t[a].equals2D(n)&&a!==r);var u=r;do{u=(u+1)%e}while(t[u].equals2D(n)&&u!==r);var l=t[a],c=t[u];if(l.equals2D(n)||c.equals2D(n)||l.equals2D(c))return!1;var h=ce.computeOrientation(l,n,c),f=!1;return f=0===h?l.x>c.x:h>0},ce.locatePointInRing=function(t,e){return le.locatePointInRing(t,e)},ce.distancePointLinePerpendicular=function(t,e,n){var i=(n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y),r=((e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y))/i;return Math.abs(r)*Math.sqrt(i)},ce.computeOrientation=function(t,e,n){return ce.orientationIndex(t,e,n)},ce.distancePointLine=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];if(0===e.length)throw new i("Line array must contain at least one vertex");for(var n=t.distance(e[0]),r=0;r<e.length-1;r++){var o=ce.distancePointLine(t,e[r],e[r+1]);n>o&&(n=o)}return n}if(3===arguments.length){var s=arguments[0],a=arguments[1],u=arguments[2];if(a.x===u.x&&a.y===u.y)return s.distance(a);var l=(u.x-a.x)*(u.x-a.x)+(u.y-a.y)*(u.y-a.y),c=((s.x-a.x)*(u.x-a.x)+(s.y-a.y)*(u.y-a.y))/l;if(0>=c)return s.distance(a);if(c>=1)return s.distance(u);var h=((a.y-s.y)*(u.x-a.x)-(a.x-s.x)*(u.y-a.y))/l;return Math.abs(h)*Math.sqrt(l)}},ce.isOnLine=function(t,e){for(var n=new ae,i=1;i<e.length;i++){var r=e[i-1],o=e[i];if(n.computeIntersection(t,r,o),n.hasIntersection())return!0}return!1},ce.CLOCKWISE=-1,ce.RIGHT=ce.CLOCKWISE,ce.COUNTERCLOCKWISE=1,ce.LEFT=ce.COUNTERCLOCKWISE,ce.COLLINEAR=0,ce.STRAIGHT=ce.COLLINEAR,e(he.prototype,{minX:function(){return Math.min(this.p0.x,this.p1.x)},orientationIndex:function(){if(arguments[0]instanceof he){var t=arguments[0],e=ce.orientationIndex(this.p0,this.p1,t.p0),n=ce.orientationIndex(this.p0,this.p1,t.p1);return e>=0&&n>=0?Math.max(e,n):0>=e&&0>=n?Math.max(e,n):0}if(arguments[0]instanceof p){var i=arguments[0];return ce.orientationIndex(this.p0,this.p1,i)}},toGeometry:function(t){return t.createLineString([this.p0,this.p1])},isVertical:function(){return this.p0.x===this.p1.x},equals:function(t){if(!(t instanceof he))return!1;var e=t;return this.p0.equals(e.p0)&&this.p1.equals(e.p1)},intersection:function(t){var e=new ae;return e.computeIntersection(this.p0,this.p1,t.p0,t.p1),e.hasIntersection()?e.getIntersection(0):null},project:function(){if(arguments[0]instanceof p){var t=arguments[0];if(t.equals(this.p0)||t.equals(this.p1))return new p(t);var e=this.projectionFactor(t),n=new p;return n.x=this.p0.x+e*(this.p1.x-this.p0.x),n.y=this.p0.y+e*(this.p1.y-this.p0.y),n}if(arguments[0]instanceof he){var i=arguments[0],r=this.projectionFactor(i.p0),o=this.projectionFactor(i.p1);if(r>=1&&o>=1)return null;if(0>=r&&0>=o)return null;var s=this.project(i.p0);0>r&&(s=this.p0),r>1&&(s=this.p1);var a=this.project(i.p1);return 0>o&&(a=this.p0),o>1&&(a=this.p1),new he(s,a)}},normalize:function(){this.p1.compareTo(this.p0)<0&&this.reverse()},angle:function(){return Math.atan2(this.p1.y-this.p0.y,this.p1.x-this.p0.x)},getCoordinate:function(t){return 0===t?this.p0:this.p1},distancePerpendicular:function(t){return ce.distancePointLinePerpendicular(t,this.p0,this.p1)},minY:function(){return Math.min(this.p0.y,this.p1.y)},midPoint:function(){return he.midPoint(this.p0,this.p1)},projectionFactor:function(t){if(t.equals(this.p0))return 0;if(t.equals(this.p1))return 1;var e=this.p1.x-this.p0.x,n=this.p1.y-this.p0.y,i=e*e+n*n;if(0>=i)return r.NaN;var o=((t.x-this.p0.x)*e+(t.y-this.p0.y)*n)/i;return o},closestPoints:function(t){var e=this.intersection(t);if(null!==e)return[e,e];var n=new Array(2).fill(null),i=r.MAX_VALUE,o=null,s=this.closestPoint(t.p0);i=s.distance(t.p0),n[0]=s,n[1]=t.p0;var a=this.closestPoint(t.p1);o=a.distance(t.p1),i>o&&(i=o,n[0]=a,n[1]=t.p1);var u=t.closestPoint(this.p0);o=u.distance(this.p0),i>o&&(i=o,n[0]=this.p0,n[1]=u);var l=t.closestPoint(this.p1);return o=l.distance(this.p1),i>o&&(i=o,n[0]=this.p1,n[1]=l),n},closestPoint:function(t){var e=this.projectionFactor(t);if(e>0&&1>e)return this.project(t);var n=this.p0.distance(t),i=this.p1.distance(t);return i>n?this.p0:this.p1},maxX:function(){return Math.max(this.p0.x,this.p1.x)},getLength:function(){return this.p0.distance(this.p1)},compareTo:function(t){var e=t,n=this.p0.compareTo(e.p0);return 0!==n?n:this.p1.compareTo(e.p1)},reverse:function(){var t=this.p0;this.p0=this.p1,this.p1=t},equalsTopo:function(t){return this.p0.equals(t.p0)&&this.p1.equals(t.p1)||this.p0.equals(t.p1)&&this.p1.equals(t.p0)},lineIntersection:function(t){try{var e=k.intersection(this.p0,this.p1,t.p0,t.p1);return e}catch(t){if(!(t instanceof S))throw t}finally{}return null},maxY:function(){return Math.max(this.p0.y,this.p1.y)},pointAlongOffset:function(t,e){var n=this.p0.x+t*(this.p1.x-this.p0.x),i=this.p0.y+t*(this.p1.y-this.p0.y),r=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,s=Math.sqrt(r*r+o*o),a=0,u=0;if(0!==e){if(0>=s)throw new IllegalStateException("Cannot compute offset from zero-length line segment");a=e*r/s,u=e*o/s}var l=n-u,c=i+a,h=new p(l,c);return h},setCoordinates:function(){if(1===arguments.length){var t=arguments[0];this.setCoordinates(t.p0,t.p1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=n.x,this.p1.y=n.y}},segmentFraction:function(t){var e=this.projectionFactor(t);return 0>e?e=0:(e>1||r.isNaN(e))&&(e=1),e},toString:function(){return"LINESTRING( "+this.p0.x+" "+this.p0.y+", "+this.p1.x+" "+this.p1.y+")"},isHorizontal:function(){return this.p0.y===this.p1.y},distance:function(){if(arguments[0]instanceof he){var t=arguments[0];return ce.distanceLineLine(this.p0,this.p1,t.p0,t.p1)}if(arguments[0]instanceof p){var e=arguments[0];return ce.distancePointLine(e,this.p0,this.p1)}},pointAlong:function(t){var e=new p;return e.x=this.p0.x+t*(this.p1.x-this.p0.x),e.y=this.p0.y+t*(this.p1.y-this.p0.y),e},hashCode:function(){var t=java.lang.Double.doubleToLongBits(this.p0.x);t^=31*java.lang.Double.doubleToLongBits(this.p0.y);var e=Math.trunc(t)^Math.trunc(t>>32),n=java.lang.Double.doubleToLongBits(this.p1.x);n^=31*java.lang.Double.doubleToLongBits(this.p1.y);var i=Math.trunc(n)^Math.trunc(n>>32);return e^i},interfaces_:function(){return[o,u]},getClass:function(){return he}}),he.midPoint=function(t,e){return new p((t.x+e.x)/2,(t.y+e.y)/2)},he.serialVersionUID=0x2d2172135f411c00,e(fe.prototype,{isIntersects:function(){return!this.isDisjoint()},isCovers:function(){var t=fe.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])||fe.isTrue(this.matrix[A.INTERIOR][A.BOUNDARY])||fe.isTrue(this.matrix[A.BOUNDARY][A.INTERIOR])||fe.isTrue(this.matrix[A.BOUNDARY][A.BOUNDARY]);return t&&this.matrix[A.EXTERIOR][A.INTERIOR]===lt.FALSE&&this.matrix[A.EXTERIOR][A.BOUNDARY]===lt.FALSE},isCoveredBy:function(){var t=fe.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])||fe.isTrue(this.matrix[A.INTERIOR][A.BOUNDARY])||fe.isTrue(this.matrix[A.BOUNDARY][A.INTERIOR])||fe.isTrue(this.matrix[A.BOUNDARY][A.BOUNDARY]);return t&&this.matrix[A.INTERIOR][A.EXTERIOR]===lt.FALSE&&this.matrix[A.BOUNDARY][A.EXTERIOR]===lt.FALSE},set:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.matrix[n][i]=lt.toDimensionValue(t.charAt(e))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.matrix[r][o]=s}},isContains:function(){return fe.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&this.matrix[A.EXTERIOR][A.INTERIOR]===lt.FALSE&&this.matrix[A.EXTERIOR][A.BOUNDARY]===lt.FALSE},setAtLeast:function(){if(1===arguments.length)for(var t=arguments[0],e=0;e<t.length;e++){var n=Math.trunc(e/3),i=e%3;this.setAtLeast(n,i,lt.toDimensionValue(t.charAt(e)))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];this.matrix[r][o]<s&&(this.matrix[r][o]=s)}},setAtLeastIfValid:function(t,e,n){t>=0&&e>=0&&this.setAtLeast(t,e,n)},isWithin:function(){return fe.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&this.matrix[A.INTERIOR][A.EXTERIOR]===lt.FALSE&&this.matrix[A.BOUNDARY][A.EXTERIOR]===lt.FALSE},isTouches:function(t,e){return t>e?this.isTouches(e,t):t===lt.A&&e===lt.A||t===lt.L&&e===lt.L||t===lt.L&&e===lt.A||t===lt.P&&e===lt.A||t===lt.P&&e===lt.L?this.matrix[A.INTERIOR][A.INTERIOR]===lt.FALSE&&(fe.isTrue(this.matrix[A.INTERIOR][A.BOUNDARY])||fe.isTrue(this.matrix[A.BOUNDARY][A.INTERIOR])||fe.isTrue(this.matrix[A.BOUNDARY][A.BOUNDARY])):!1},isOverlaps:function(t,e){return t===lt.P&&e===lt.P||t===lt.A&&e===lt.A?fe.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&fe.isTrue(this.matrix[A.INTERIOR][A.EXTERIOR])&&fe.isTrue(this.matrix[A.EXTERIOR][A.INTERIOR]):t===lt.L&&e===lt.L?1===this.matrix[A.INTERIOR][A.INTERIOR]&&fe.isTrue(this.matrix[A.INTERIOR][A.EXTERIOR])&&fe.isTrue(this.matrix[A.EXTERIOR][A.INTERIOR]):!1},isEquals:function(t,e){return t!==e?!1:fe.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&this.matrix[A.INTERIOR][A.EXTERIOR]===lt.FALSE&&this.matrix[A.BOUNDARY][A.EXTERIOR]===lt.FALSE&&this.matrix[A.EXTERIOR][A.INTERIOR]===lt.FALSE&&this.matrix[A.EXTERIOR][A.BOUNDARY]===lt.FALSE},toString:function(){for(var t=new L("123456789"),e=0;3>e;e++)for(var n=0;3>n;n++)t.setCharAt(3*e+n,lt.toDimensionSymbol(this.matrix[e][n]));return t.toString()},setAll:function(t){for(var e=0;3>e;e++)for(var n=0;3>n;n++)this.matrix[e][n]=t},get:function(t,e){return this.matrix[t][e]},transpose:function(){var t=this.matrix[1][0];return this.matrix[1][0]=this.matrix[0][1],this.matrix[0][1]=t,t=this.matrix[2][0],this.matrix[2][0]=this.matrix[0][2],this.matrix[0][2]=t,t=this.matrix[2][1],this.matrix[2][1]=this.matrix[1][2],this.matrix[1][2]=t,this},matches:function(t){if(9!==t.length)throw new i("Should be length 9: "+t);for(var e=0;3>e;e++)for(var n=0;3>n;n++)if(!fe.matches(this.matrix[e][n],t.charAt(3*e+n)))return!1;return!0},add:function(t){for(var e=0;3>e;e++)for(var n=0;3>n;n++)this.setAtLeast(e,n,t.get(e,n))},isDisjoint:function(){return this.matrix[A.INTERIOR][A.INTERIOR]===lt.FALSE&&this.matrix[A.INTERIOR][A.BOUNDARY]===lt.FALSE&&this.matrix[A.BOUNDARY][A.INTERIOR]===lt.FALSE&&this.matrix[A.BOUNDARY][A.BOUNDARY]===lt.FALSE},isCrosses:function(t,e){return t===lt.P&&e===lt.L||t===lt.P&&e===lt.A||t===lt.L&&e===lt.A?fe.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&fe.isTrue(this.matrix[A.INTERIOR][A.EXTERIOR]):t===lt.L&&e===lt.P||t===lt.A&&e===lt.P||t===lt.A&&e===lt.L?fe.isTrue(this.matrix[A.INTERIOR][A.INTERIOR])&&fe.isTrue(this.matrix[A.EXTERIOR][A.INTERIOR]):t===lt.L&&e===lt.L?0===this.matrix[A.INTERIOR][A.INTERIOR]:!1},interfaces_:function(){return[s]},getClass:function(){return fe}}),fe.matches=function(){if(Number.isInteger(arguments[0])&&"string"==typeof arguments[1]){var t=arguments[0],e=arguments[1];return e===lt.SYM_DONTCARE?!0:e===lt.SYM_TRUE&&(t>=0||t===lt.TRUE)?!0:e===lt.SYM_FALSE&&t===lt.FALSE?!0:e===lt.SYM_P&&t===lt.P?!0:e===lt.SYM_L&&t===lt.L?!0:e===lt.SYM_A&&t===lt.A}if("string"==typeof arguments[0]&&"string"==typeof arguments[1]){var n=arguments[0],i=arguments[1],r=new fe(n);return r.matches(i)}},fe.isTrue=function(t){return t>=0||t===lt.TRUE};var cs=Object.freeze({Coordinate:p,CoordinateList:E,Envelope:w,LineSegment:he,GeometryFactory:ie,Geometry:j,Point:At,LineString:Tt,LinearRing:Mt,Polygon:Ct,GeometryCollection:ft,MultiPoint:Lt,MultiLineString:pt,MultiPolygon:Nt,Dimension:lt,IntersectionMatrix:fe});e(pe.prototype,{addPoint:function(t){this.ptCount+=1,this.ptCentSum.x+=t.x,this.ptCentSum.y+=t.y},setBasePoint:function(t){null===this.areaBasePt&&(this.areaBasePt=t)},addLineSegments:function(t){for(var e=0,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);if(0!==i){e+=i;var r=(t[n].x+t[n+1].x)/2;this.lineCentSum.x+=i*r;var o=(t[n].y+t[n+1].y)/2;this.lineCentSum.y+=i*o}}this.totalLength+=e,0===e&&t.length>0&&this.addPoint(t[0])},addHole:function(t){for(var e=ce.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},getCentroid:function(){var t=new p;if(Math.abs(this.areasum2)>0)t.x=this.cg3.x/3/this.areasum2,t.y=this.cg3.y/3/this.areasum2;else if(this.totalLength>0)t.x=this.lineCentSum.x/this.totalLength,t.y=this.lineCentSum.y/this.totalLength;else{if(!(this.ptCount>0))return null;t.x=this.ptCentSum.x/this.ptCount,t.y=this.ptCentSum.y/this.ptCount}return t},addShell:function(t){t.length>0&&this.setBasePoint(t[0]);for(var e=!ce.isCCW(t),n=0;n<t.length-1;n++)this.addTriangle(this.areaBasePt,t[n],t[n+1],e);this.addLineSegments(t)},addTriangle:function(t,e,n,i){var r=i?1:-1;pe.centroid3(t,e,n,this.triangleCent3);var o=pe.area2(t,e,n);this.cg3.x+=r*o*this.triangleCent3.x,this.cg3.y+=r*o*this.triangleCent3.y,this.areasum2+=r*o},add:function(){if(arguments[0]instanceof Ct){var t=arguments[0];this.addShell(t.getExteriorRing().getCoordinates());for(var e=0;e<t.getNumInteriorRing();e++)this.addHole(t.getInteriorRingN(e).getCoordinates())}else if(arguments[0]instanceof j){var n=arguments[0];if(n.isEmpty())return null;if(n instanceof At)this.addPoint(n.getCoordinate());else if(n instanceof Tt)this.addLineSegments(n.getCoordinates());else if(n instanceof Ct){var i=n;this.add(i)}else if(n instanceof ft)for(var r=n,e=0;e<r.getNumGeometries();e++)this.add(r.getGeometryN(e))}},interfaces_:function(){return[]},getClass:function(){return pe}}),pe.area2=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(n.x-t.x)*(e.y-t.y)},pe.centroid3=function(t,e,n,i){return i.x=t.x+e.x+n.x,i.y=t.y+e.y+n.y,null},pe.getCentroid=function(t){var e=new pe(t);return e.getCentroid()},de.prototype=new Error,de.prototype.name="EmptyStackException",ge.prototype=new y,ge.prototype.add=function(t){return this.array_.push(t),!0},ge.prototype.get=function(t){if(0>t||t>=this.size())throw new IndexOutOfBoundsException;return this.array_[t]},ge.prototype.push=function(t){return this.array_.push(t),t},ge.prototype.pop=function(t){if(0===this.array_.length)throw new de;return this.array_.pop()},ge.prototype.peek=function(){if(0===this.array_.length)throw new de;return this.array_[this.array_.length-1]},ge.prototype.empty=function(){return 0===this.array_.length},ge.prototype.isEmpty=function(){return this.empty()},ge.prototype.search=function(t){return this.array_.indexOf(t)},ge.prototype.size=function(){return this.array_.length},ge.prototype.toArray=function(){for(var t=[],e=0,n=this.array_.length;n>e;e++)t.push(this.array_[e]);return t},e(me.prototype,{filter:function(t){this.treeSet.contains(t)||(this.list.add(t),this.treeSet.add(t))},getCoordinates:function(){var t=new Array(this.list.size()).fill(null);return this.list.toArray(t)},interfaces_:function(){return[B]},getClass:function(){return me}}),me.filterCoordinates=function(t){for(var e=new me,n=0;n<t.length;n++)e.filter(t[n]);return e.getCoordinates()},e(ve.prototype,{preSort:function(t){for(var e=null,n=1;n<t.length;n++)(t[n].y<t[0].y||t[n].y===t[0].y&&t[n].x<t[0].x)&&(e=t[0],t[0]=t[n],t[n]=e);return ut.sort(t,1,t.length,new ye(t[0])),t},computeOctRing:function(t){var e=this.computeOctPts(t),n=new E;return n.add(e,!1),n.size()<3?null:(n.closeRing(),n.toCoordinateArray())},lineOrPolygon:function(t){if(t=this.cleanRing(t),3===t.length)return this.geomFactory.createLineString([t[0],t[1]]);var e=this.geomFactory.createLinearRing(t);return this.geomFactory.createPolygon(e,null)},cleanRing:function(t){f.equals(t[0],t[t.length-1]);for(var e=new _,n=null,i=0;i<=t.length-2;i++){var r=t[i],o=t[i+1];r.equals(o)||null!==n&&this.isBetween(n,r,o)||(e.add(r),n=r)}e.add(t[t.length-1]);var s=new Array(e.size()).fill(null);return e.toArray(s)},isBetween:function(t,e,n){if(0!==ce.computeOrientation(t,e,n))return!1;if(t.x!==n.x){if(t.x<=e.x&&e.x<=n.x)return!0;if(n.x<=e.x&&e.x<=t.x)return!0}if(t.y!==n.y){if(t.y<=e.y&&e.y<=n.y)return!0;if(n.y<=e.y&&e.y<=t.y)return!0}return!1},reduce:function(t){var e=this.computeOctRing(t);if(null===e)return t;for(var n=new at,i=0;i<e.length;i++)n.add(e[i]);for(var i=0;i<t.length;i++)ce.isPointInRing(t[i],e)||n.add(t[i]);var r=X.toCoordinateArray(n);return r.length<3?this.padArray3(r):r},getConvexHull:function(){if(0===this.inputPts.length)return this.geomFactory.createGeometryCollection(null);if(1===this.inputPts.length)return this.geomFactory.createPoint(this.inputPts[0]);if(2===this.inputPts.length)return this.geomFactory.createLineString(this.inputPts);var t=this.inputPts;this.inputPts.length>50&&(t=this.reduce(this.inputPts));var e=this.preSort(t),n=this.grahamScan(e),i=this.toCoordinateArray(n);return this.lineOrPolygon(i)},padArray3:function(t){for(var e=new Array(3).fill(null),n=0;n<e.length;n++)n<t.length?e[n]=t[n]:e[n]=t[0];return e},computeOctPts:function(t){for(var e=new Array(8).fill(null),n=0;n<e.length;n++)e[n]=t[0];for(var i=1;i<t.length;i++)t[i].x<e[0].x&&(e[0]=t[i]),t[i].x-t[i].y<e[1].x-e[1].y&&(e[1]=t[i]),t[i].y>e[2].y&&(e[2]=t[i]),t[i].x+t[i].y>e[3].x+e[3].y&&(e[3]=t[i]),t[i].x>e[4].x&&(e[4]=t[i]),t[i].x-t[i].y>e[5].x-e[5].y&&(e[5]=t[i]),t[i].y<e[6].y&&(e[6]=t[i]),t[i].x+t[i].y<e[7].x+e[7].y&&(e[7]=t[i]);return e},toCoordinateArray:function(t){for(var e=new Array(t.size()).fill(null),n=0;n<t.size();n++){var i=t.get(n);e[n]=i}return e},grahamScan:function(t){var e=null,n=new ge;e=n.push(t[0]),e=n.push(t[1]),e=n.push(t[2]);for(var i=3;i<t.length;i++){for(e=n.pop();!n.empty()&&ce.computeOrientation(n.peek(),e,t[i])>0;)e=n.pop();e=n.push(e),e=n.push(t[i])}return e=n.push(t[0]),n},interfaces_:function(){return[]},getClass:function(){return ve}}),ve.extractCoordinates=function(t){var e=new me;return t.apply(e),e.getCoordinates()},e(ye.prototype,{compare:function(t,e){var n=t,i=e;return ye.polarCompare(this.origin,n,i)},interfaces_:function(){return[a]},getClass:function(){return ye}}),ye.polarCompare=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=ce.computeOrientation(t,e,n);if(a===ce.COUNTERCLOCKWISE)return 1;if(a===ce.CLOCKWISE)return-1;var u=i*i+r*r,l=o*o+s*s;return l>u?-1:u>l?1:0},ve.RadialComparator=ye,e(be.prototype,{transformPoint:function(t,e){return this.factory.createPoint(this.transformCoordinates(t.getCoordinateSequence(),t))},transformPolygon:function(t,e){var n=!0,i=this.transformLinearRing(t.getExteriorRing(),t);null!==i&&i instanceof Mt&&!i.isEmpty()||(n=!1);for(var r=new _,o=0;o<t.getNumInteriorRing();o++){var s=this.transformLinearRing(t.getInteriorRingN(o),t);null===s||s.isEmpty()||(s instanceof Mt||(n=!1),r.add(s))}if(n)return this.factory.createPolygon(i,r.toArray([]));var a=new _;return null!==i&&a.add(i),a.addAll(r),this.factory.buildGeometry(a)},createCoordinateSequence:function(t){return this.factory.getCoordinateSequenceFactory().create(t)},getInputGeometry:function(){return this.inputGeom},transformMultiLineString:function(t,e){for(var n=new _,i=0;i<t.getNumGeometries();i++){var r=this.transformLineString(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformCoordinates:function(t,e){return this.copy(t)},transformLineString:function(t,e){return this.factory.createLineString(this.transformCoordinates(t.getCoordinateSequence(),t))},transformMultiPoint:function(t,e){for(var n=new _,i=0;i<t.getNumGeometries();i++){var r=this.transformPoint(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},transformMultiPolygon:function(t,e){for(var n=new _,i=0;i<t.getNumGeometries();i++){var r=this.transformPolygon(t.getGeometryN(i),t);null!==r&&(r.isEmpty()||n.add(r))}return this.factory.buildGeometry(n)},copy:function(t){return t.copy()},transformGeometryCollection:function(t,e){for(var n=new _,i=0;i<t.getNumGeometries();i++){var r=this.transform(t.getGeometryN(i));null!==r&&(this.pruneEmptyGeometry&&r.isEmpty()||n.add(r))}return this.preserveGeometryCollectionType?this.factory.createGeometryCollection(ie.toGeometryArray(n)):this.factory.buildGeometry(n)},transform:function(t){if(this.inputGeom=t,this.factory=t.getFactory(),t instanceof At)return this.transformPoint(t,null);if(t instanceof Lt)return this.transformMultiPoint(t,null);if(t instanceof Mt)return this.transformLinearRing(t,null);if(t instanceof Tt)return this.transformLineString(t,null);if(t instanceof pt)return this.transformMultiLineString(t,null);if(t instanceof Ct)return this.transformPolygon(t,null);if(t instanceof Nt)return this.transformMultiPolygon(t,null);if(t instanceof ft)return this.transformGeometryCollection(t,null);throw new i("Unknown Geometry subtype: "+t.getClass().getName())},transformLinearRing:function(t,e){var n=this.transformCoordinates(t.getCoordinateSequence(),t);if(null===n)return this.factory.createLinearRing(null);var i=n.size();return i>0&&4>i&&!this.preserveType?this.factory.createLineString(n):this.factory.createLinearRing(n)},interfaces_:function(){return[]},getClass:function(){return be}}),e(xe.prototype,{snapVertices:function(t,e){for(var n=this._isClosed?t.size()-1:t.size(),i=0;n>i;i++){var r=t.get(i),o=this.findSnapForVertex(r,e);null!==o&&(t.set(i,new p(o)),0===i&&this._isClosed&&t.set(t.size()-1,new p(o)))}},findSnapForVertex:function(t,e){for(var n=0;n<e.length;n++){if(t.equals2D(e[n]))return null;if(t.distance(e[n])<this.snapTolerance)return e[n]}return null},snapTo:function(t){var e=new E(this.srcPts);this.snapVertices(e,t),this.snapSegments(e,t);var n=e.toCoordinateArray();return n},snapSegments:function(t,e){if(0===e.length)return null;var n=e.length;e[0].equals2D(e[e.length-1])&&(n=e.length-1);for(var i=0;n>i;i++){var r=e[i],o=this.findSegmentIndexToSnap(r,t);o>=0&&t.add(o+1,new p(r),!1)}},findSegmentIndexToSnap:function(t,e){for(var n=r.MAX_VALUE,i=-1,o=0;o<e.size()-1;o++){if(this.seg.p0=e.get(o),this.seg.p1=e.get(o+1),this.seg.p0.equals2D(t)||this.seg.p1.equals2D(t)){if(this.allowSnappingToSourceVertices)continue;return-1}var s=this.seg.distance(t);s<this.snapTolerance&&n>s&&(n=s,i=o)}return i},setAllowSnappingToSourceVertices:function(t){this.allowSnappingToSourceVertices=t},interfaces_:function(){return[]},getClass:function(){return xe}}),xe.isClosed=function(t){return t.length<=1?!1:t[0].equals2D(t[t.length-1])},e(_e.prototype,{snapTo:function(t,e){var n=this.extractTargetCoordinates(t),i=new Ee(e,n);return i.transform(this.srcGeom)},snapToSelf:function(t,e){var n=this.extractTargetCoordinates(this.srcGeom),i=new Ee(t,n,!0),r=i.transform(this.srcGeom),o=r;return e&&I(o,It)&&(o=r.buffer(0)),o},computeSnapTolerance:function(t){var e=this.computeMinimumSegmentLength(t),n=e/10;return n},extractTargetCoordinates:function(t){for(var e=new at,n=t.getCoordinates(),i=0;i<n.length;i++)e.add(n[i]);return e.toArray(new Array(0).fill(null))},computeMinimumSegmentLength:function(t){for(var e=r.MAX_VALUE,n=0;n<t.length-1;n++){var i=t[n].distance(t[n+1]);e>i&&(e=i)}return e},interfaces_:function(){return[]},getClass:function(){return _e}}),_e.snap=function(t,e,n){var i=new Array(2).fill(null),r=new _e(t);i[0]=r.snapTo(e,n);var o=new _e(e);return i[1]=o.snapTo(i[0],n),i},_e.computeOverlaySnapTolerance=function(){if(1===arguments.length){var t=arguments[0],e=_e.computeSizeBasedSnapTolerance(t),n=t.getPrecisionModel();if(n.getType()===ee.FIXED){var i=1/n.getScale()*2/1.415;i>e&&(e=i)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1];return Math.min(_e.computeOverlaySnapTolerance(r),_e.computeOverlaySnapTolerance(o))}},_e.computeSizeBasedSnapTolerance=function(t){var e=t.getEnvelopeInternal(),n=Math.min(e.getHeight(),e.getWidth()),i=n*_e.SNAP_PRECISION_FACTOR;return i},_e.snapToSelf=function(t,e,n){var i=new _e(t);return i.snapToSelf(e,n)},_e.SNAP_PRECISION_FACTOR=1e-9,c(Ee,be),e(Ee.prototype,{snapLine:function(t,e){var n=new xe(t,this.snapTolerance);return n.setAllowSnappingToSourceVertices(this.isSelfSnap),n.snapTo(e)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=this.snapLine(n,this.snapPts);return this.factory.getCoordinateSequenceFactory().create(i)},interfaces_:function(){return[]},getClass:function(){return Ee}}),e(we.prototype,{getCommon:function(){return r.longBitsToDouble(this.commonBits)},add:function(t){var e=r.doubleToLongBits(t);if(this.isFirst)return this.commonBits=e,this.commonSignExp=we.signExpBits(this.commonBits),this.isFirst=!1,null;var n=we.signExpBits(e);return n!==this.commonSignExp?(this.commonBits=0,null):(this.commonMantissaBitsCount=we.numCommonMostSigMantissaBits(this.commonBits,e),void(this.commonBits=we.zeroLowerBits(this.commonBits,64-(12+this.commonMantissaBitsCount))))},toString:function(){if(1===arguments.length){var t=arguments[0],e=r.longBitsToDouble(t),n=Long.toBinaryString(t),i="0000000000000000000000000000000000000000000000000000000000000000"+n,o=i.substring(i.length-64),s=o.substring(0,1)+"  "+o.substring(1,12)+"(exp) "+o.substring(12)+" [ "+e+" ]";return s}},interfaces_:function(){return[]},getClass:function(){return we}}),we.getBit=function(t,e){var n=1<<e;return 0!==(t&n)?1:0},we.signExpBits=function(t){return t>>52},we.zeroLowerBits=function(t,e){var n=(1<<e)-1,i=~n,r=t&i;return r},we.numCommonMostSigMantissaBits=function(t,e){for(var n=0,i=52;i>=0;i--){if(we.getBit(t,i)!==we.getBit(e,i))return n;n++}return 52},e(Te.prototype,{addCommonBits:function(t){var e=new Ae(this.commonCoord);t.apply(e),t.geometryChanged()},removeCommonBits:function(t){if(0===this.commonCoord.x&&0===this.commonCoord.y)return t;var e=new p(this.commonCoord);e.x=-e.x,e.y=-e.y;var n=new Ae(e);return t.apply(n),t.geometryChanged(),t},getCommonCoordinate:function(){return this.commonCoord},add:function(t){t.apply(this.ccFilter),this.commonCoord=this.ccFilter.getCommonCoordinate()},interfaces_:function(){return[]},getClass:function(){return Te}}),e(Se.prototype,{filter:function(t){this.commonBitsX.add(t.x),this.commonBitsY.add(t.y)},getCommonCoordinate:function(){return new p(this.commonBitsX.getCommon(),this.commonBitsY.getCommon())},interfaces_:function(){return[B]},getClass:function(){return Se}}),e(Ae.prototype,{filter:function(t,e){var n=t.getOrdinate(e,0)+this.trans.x,i=t.getOrdinate(e,1)+this.trans.y;t.setOrdinate(e,0,n),t.setOrdinate(e,1,i)},isDone:function(){return!1},isGeometryChanged:function(){return!0},interfaces_:function(){return[ht]},getClass:function(){return Ae}}),Te.CommonCoordinateFilter=Se,Te.Translater=Ae,e(Ie.prototype,{next:function(){if(this.atStart)return this.atStart=!1,Ie.isAtomic(this.parent)&&this.index++,this.parent;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return this.subcollectionIterator.next();this.subcollectionIterator=null}if(this.index>=this.max)throw new b;var t=this.parent.getGeometryN(this.index++);return t instanceof ft?(this.subcollectionIterator=new Ie(t),this.subcollectionIterator.next()):t},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){if(this.atStart)return!0;if(null!==this.subcollectionIterator){if(this.subcollectionIterator.hasNext())return!0;this.subcollectionIterator=null}return!(this.index>=this.max)},interfaces_:function(){return[g]},getClass:function(){return Ie}}),Ie.isAtomic=function(t){return!(t instanceof ft)},e(Ce.prototype,{locateInternal:function(){if(arguments[0]instanceof p&&arguments[1]instanceof Ct){var t=arguments[0],e=arguments[1];if(e.isEmpty())return A.EXTERIOR;var n=e.getExteriorRing(),i=this.locateInPolygonRing(t,n);if(i===A.EXTERIOR)return A.EXTERIOR;if(i===A.BOUNDARY)return A.BOUNDARY;for(var r=0;r<e.getNumInteriorRing();r++){var o=e.getInteriorRingN(r),s=this.locateInPolygonRing(t,o);if(s===A.INTERIOR)return A.EXTERIOR;if(s===A.BOUNDARY)return A.BOUNDARY}return A.INTERIOR}if(arguments[0]instanceof p&&arguments[1]instanceof Tt){var a=arguments[0],u=arguments[1];if(!u.getEnvelopeInternal().intersects(a))return A.EXTERIOR;var l=u.getCoordinates();return u.isClosed()||!a.equals(l[0])&&!a.equals(l[l.length-1])?ce.isOnLine(a,l)?A.INTERIOR:A.EXTERIOR:A.BOUNDARY}if(arguments[0]instanceof p&&arguments[1]instanceof At){var c=arguments[0],h=arguments[1],f=h.getCoordinate();return f.equals2D(c)?A.INTERIOR:A.EXTERIOR}},locateInPolygonRing:function(t,e){return e.getEnvelopeInternal().intersects(t)?ce.locatePointInRing(t,e.getCoordinates()):A.EXTERIOR},intersects:function(t,e){return this.locate(t,e)!==A.EXTERIOR},updateLocationInfo:function(t){t===A.INTERIOR&&(this.isIn=!0),t===A.BOUNDARY&&this.numBoundaries++},computeLocation:function(t,e){if(e instanceof At&&this.updateLocationInfo(this.locateInternal(t,e)),e instanceof Tt)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof Ct)this.updateLocationInfo(this.locateInternal(t,e));else if(e instanceof pt)for(var n=e,i=0;i<n.getNumGeometries();i++){var r=n.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,r))}else if(e instanceof Nt)for(var o=e,i=0;i<o.getNumGeometries();i++){var s=o.getGeometryN(i);this.updateLocationInfo(this.locateInternal(t,s))}else if(e instanceof ft)for(var a=new Ie(e);a.hasNext();){var u=a.next();u!==e&&this.computeLocation(t,u)}},locate:function(t,e){return e.isEmpty()?A.EXTERIOR:e instanceof Tt?this.locateInternal(t,e):e instanceof Ct?this.locateInternal(t,e):(this.isIn=!1,this.numBoundaries=0,this.computeLocation(t,e),this.boundaryRule.isInBoundary(this.numBoundaries)?A.BOUNDARY:this.numBoundaries>0||this.isIn?A.INTERIOR:A.EXTERIOR)},interfaces_:function(){return[]},getClass:function(){return Ce}}),e(Le.prototype,{interfaces_:function(){return[]},getClass:function(){return Le}}),Le.octant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the octant for point ( "+t+", "+e+" )");var n=Math.abs(t),r=Math.abs(e);return t>=0?e>=0?n>=r?0:1:n>=r?7:6:e>=0?n>=r?3:2:n>=r?4:5}if(arguments[0]instanceof p&&arguments[1]instanceof p){var o=arguments[0],s=arguments[1],a=s.x-o.x,u=s.y-o.y;if(0===a&&0===u)throw new i("Cannot compute the octant for two identical points "+o);return Le.octant(a,u)}},e(Me.prototype,{getCoordinates:function(){},size:function(){},getCoordinate:function(t){},isClosed:function(){},setData:function(t){},getData:function(){},interfaces_:function(){return[]},getClass:function(){return Me}}),e(Ne.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:Le.octant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},getData:function(){return this.data},toString:function(){return oe.toLineString(new zt(this.pts))},interfaces_:function(){return[Me]},getClass:function(){return Ne}}),e(Re.prototype,{getBounds:function(){},interfaces_:function(){return[]},getClass:function(){return Re}}),e(Oe.prototype,{getItem:function(){return this.item},getBounds:function(){return this.bounds},interfaces_:function(){return[Re,u]},getClass:function(){return Oe}}),e(De.prototype,{poll:function(){if(this.isEmpty())return null;var t=this.items.get(1);return this.items.set(1,this.items.get(this._size)),this._size-=1,this.reorder(1),t},size:function(){return this._size},reorder:function(t){for(var e=null,n=this.items.get(t);2*t<=this._size&&(e=2*t,e!==this._size&&this.items.get(e+1).compareTo(this.items.get(e))<0&&e++,this.items.get(e).compareTo(n)<0);t=e)this.items.set(t,this.items.get(e));this.items.set(t,n)},clear:function(){this._size=0,this.items.clear()},isEmpty:function(){return 0===this._size},add:function(t){this.items.add(null),this._size+=1;var e=this._size;for(this.items.set(0,t);t.compareTo(this.items.get(Math.trunc(e/2)))<0;e/=2)this.items.set(e,this.items.get(Math.trunc(e/2)));this.items.set(e,t)},interfaces_:function(){return[]},getClass:function(){return De}}),e(Pe.prototype,{visitItem:function(t){},interfaces_:function(){return[]},getClass:function(){return Pe}}),e(ke.prototype,{insert:function(t,e){},remove:function(t,e){},query:function(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){arguments[0],arguments[1]}},interfaces_:function(){return[]},getClass:function(){return ke}}),e(ze.prototype,{getLevel:function(){return this.level},size:function(){return this.childBoundables.size()},getChildBoundables:function(){return this.childBoundables},addChildBoundable:function(t){f.isTrue(null===this.bounds),this.childBoundables.add(t)},isEmpty:function(){return this.childBoundables.isEmpty()},getBounds:function(){return null===this.bounds&&(this.bounds=this.computeBounds()),this.bounds},interfaces_:function(){return[Re,u]},getClass:function(){return ze}}),ze.serialVersionUID=0x5a1e55ec41369800;var hs={reverseOrder:function(){return{compare:function(t,e){return e.compareTo(t)}}},min:function(t){return hs.sort(t),t.get(0)},sort:function(t,e){var n=t.toArray();e?ut.sort(n,e):ut.sort(n);for(var i=t.iterator(),r=0,o=n.length;o>r;r++)i.next(),i.set(n[r])},singletonList:function(t){var e=new _;return e.add(t),e}};e(Fe.prototype,{expandToQueue:function(t,e){var n=Fe.isComposite(this.boundable1),r=Fe.isComposite(this.boundable2);if(n&&r)return Fe.area(this.boundable1)>Fe.area(this.boundable2)?(this.expand(this.boundable1,this.boundable2,t,e),null):(this.expand(this.boundable2,this.boundable1,t,e),null);if(n)return this.expand(this.boundable1,this.boundable2,t,e),null;if(r)return this.expand(this.boundable2,this.boundable1,t,e),null;throw new i("neither boundable is composite")},isLeaves:function(){return!(Fe.isComposite(this.boundable1)||Fe.isComposite(this.boundable2))},compareTo:function(t){var e=t;return this._distance<e._distance?-1:this._distance>e._distance?1:0},expand:function(t,e,n,i){for(var r=t.getChildBoundables(),o=r.iterator();o.hasNext();){var s=o.next(),a=new Fe(s,e,this.itemDistance);a.getDistance()<i&&n.add(a)}},getBoundable:function(t){return 0===t?this.boundable1:this.boundable2},getDistance:function(){return this._distance},distance:function(){return this.isLeaves()?this.itemDistance.distance(this.boundable1,this.boundable2):this.boundable1.getBounds().distance(this.boundable2.getBounds())},interfaces_:function(){return[o]},getClass:function(){return Fe}}),Fe.area=function(t){return t.getBounds().getArea()},Fe.isComposite=function(t){return t instanceof ze},e(je.prototype,{getNodeCapacity:function(){return this.nodeCapacity},lastNode:function(t){return t.get(t.size()-1)},size:function t(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this.root));if(1===arguments.length){for(var e=arguments[0],t=0,n=e.getChildBoundables().iterator();n.hasNext();){var i=n.next();i instanceof ze?t+=this.size(i):i instanceof Oe&&(t+=1)}return t}},removeItem:function(t,e){for(var n=null,i=t.getChildBoundables().iterator();i.hasNext();){var r=i.next();r instanceof Oe&&r.getItem()===e&&(n=r)}return null!==n?(t.getChildBoundables().remove(n),!0):!1},itemsTree:function(){if(0===arguments.length){this.build();var t=this.itemsTree(this.root);return null===t?new _:t}if(1===arguments.length){for(var e=arguments[0],n=new _,i=e.getChildBoundables().iterator();i.hasNext();){var r=i.next();if(r instanceof ze){var o=this.itemsTree(r);null!==o&&n.add(o)}else r instanceof Oe?n.add(r.getItem()):f.shouldNeverReachHere()}return n.size()<=0?null:n}},insert:function(t,e){f.isTrue(!this.built,"Cannot insert items into an STR packed R-tree after it has been built."),this.itemBoundables.add(new Oe(t,e))},boundablesAtLevel:function(){if(1===arguments.length){var t=arguments[0],e=new _;return this.boundablesAtLevel(t,this.root,e),e}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];if(f.isTrue(n>-2),i.getLevel()===n)return r.add(i),null;for(var o=i.getChildBoundables().iterator();o.hasNext();){var s=o.next();s instanceof ze?this.boundablesAtLevel(n,s,r):(f.isTrue(s instanceof Oe),-1===n&&r.add(s))}return null}},query:function(){if(1===arguments.length){var t=arguments[0];this.build();var e=new _;return this.isEmpty()?e:(this.getIntersectsOp().intersects(this.root.getBounds(),t)&&this.query(t,this.root,e),e)}if(2===arguments.length){var n=arguments[0],i=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this.root.getBounds(),n)&&this.query(n,this.root,i)}else if(3===arguments.length)if(I(arguments[2],Pe)&&arguments[0]instanceof Object&&arguments[1]instanceof ze)for(var r=arguments[0],o=arguments[1],s=arguments[2],a=o.getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),r)&&(l instanceof ze?this.query(r,l,s):l instanceof Oe?s.visitItem(l.getItem()):f.shouldNeverReachHere())}else if(I(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof ze)for(var c=arguments[0],h=arguments[1],p=arguments[2],a=h.getChildBoundables(),u=0;u<a.size();u++){var l=a.get(u);this.getIntersectsOp().intersects(l.getBounds(),c)&&(l instanceof ze?this.query(c,l,p):l instanceof Oe?p.add(l.getItem()):f.shouldNeverReachHere())}},build:function(){return this.built?null:(this.root=this.itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this.itemBoundables,-1),this.itemBoundables=null,void(this.built=!0))},getRoot:function(){return this.build(),this.root},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.build(),this.getIntersectsOp().intersects(this.root.getBounds(),t)?this.remove(t,this.root,e):!1}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=this.removeItem(i,r);if(o)return!0;for(var s=null,a=i.getChildBoundables().iterator();a.hasNext();){var u=a.next();if(this.getIntersectsOp().intersects(u.getBounds(),n)&&u instanceof ze&&(o=this.remove(n,u,r))){s=u;break}}return null!==s&&s.getChildBoundables().isEmpty()&&i.getChildBoundables().remove(s),o}},createHigherLevels:function(t,e){f.isTrue(!t.isEmpty());var n=this.createParentBoundables(t,e+1);return 1===n.size()?n.get(0):this.createHigherLevels(n,e+1)},depth:function(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this.root));if(1===arguments.length){for(var t=arguments[0],e=0,n=t.getChildBoundables().iterator();n.hasNext();){var i=n.next();if(i instanceof ze){var r=this.depth(i);r>e&&(e=r)}}return e+1}},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var n=new _;n.add(this.createNode(e));var i=new _(t);hs.sort(i,this.getComparator());for(var r=i.iterator();r.hasNext();){var o=r.next();this.lastNode(n).getChildBoundables().size()===this.getNodeCapacity()&&n.add(this.createNode(e)),this.lastNode(n).addChildBoundable(o)}return n},isEmpty:function(){return this.built?this.root.isEmpty():this.itemBoundables.isEmpty()},interfaces_:function(){return[u]},getClass:function(){return je}}),je.compareDoubles=function(t,e){return t>e?1:e>t?-1:0},je.IntersectsOp=Be,je.serialVersionUID=-0x35ef64c82d4c5400,je.DEFAULT_NODE_CAPACITY=10,e(Ue.prototype,{distance:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Ue}}),c(Ge,je),e(Ge.prototype,{createParentBoundablesFromVerticalSlices:function(t,e){f.isTrue(t.length>0);for(var n=new _,i=0;i<t.length;i++)n.addAll(this.createParentBoundablesFromVerticalSlice(t[i],e));return n},createNode:function(t){return new Ve(t)},size:function(){return 0===arguments.length?je.prototype.size.call(this):je.prototype.size.apply(this,arguments)},insert:function(){if(2!==arguments.length)return je.prototype.insert.apply(this,arguments);var t=arguments[0],e=arguments[1];return t.isNull()?null:void je.prototype.insert.call(this,t,e)},getIntersectsOp:function(){return Ge.intersectsOp},verticalSlices:function(t,e){for(var n=Math.trunc(Math.ceil(t.size()/e)),i=new Array(e).fill(null),r=t.iterator(),o=0;e>o;o++){i[o]=new _;for(var s=0;r.hasNext()&&n>s;){var a=r.next();i[o].add(a),s++}}return i},query:function(){if(1===arguments.length){var t=arguments[0];return je.prototype.query.call(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];je.prototype.query.call(this,e,n)}else if(3===arguments.length)if(I(arguments[2],Pe)&&arguments[0]instanceof Object&&arguments[1]instanceof ze){var i=arguments[0],r=arguments[1],o=arguments[2];je.prototype.query.call(this,i,r,o)}else if(I(arguments[2],y)&&arguments[0]instanceof Object&&arguments[1]instanceof ze){var s=arguments[0],a=arguments[1],u=arguments[2];je.prototype.query.call(this,s,a,u)}},getComparator:function(){return Ge.yComparator},createParentBoundablesFromVerticalSlice:function(t,e){return je.prototype.createParentBoundables.call(this,t,e)},remove:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return je.prototype.remove.call(this,t,e)}return je.prototype.remove.apply(this,arguments)},depth:function(){return 0===arguments.length?je.prototype.depth.call(this):je.prototype.depth.apply(this,arguments)},createParentBoundables:function(t,e){f.isTrue(!t.isEmpty());var n=Math.trunc(Math.ceil(t.size()/this.getNodeCapacity())),i=new _(t);hs.sort(i,Ge.xComparator);var r=this.verticalSlices(i,Math.trunc(Math.ceil(Math.sqrt(n))));return this.createParentBoundablesFromVerticalSlices(r,e)},nearestNeighbour:function(){if(1===arguments.length){if(I(arguments[0],Ue)){var t=arguments[0],e=new Fe(this.getRoot(),this.getRoot(),t);return this.nearestNeighbour(e)}if(arguments[0]instanceof Fe){var n=arguments[0];return this.nearestNeighbour(n,r.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof Ge&&I(arguments[1],Ue)){var i=arguments[0],o=arguments[1],e=new Fe(this.getRoot(),i.getRoot(),o);return this.nearestNeighbour(e)}if(arguments[0]instanceof Fe&&"number"==typeof arguments[1]){var s=arguments[0],a=arguments[1],u=a,l=null,c=new De;for(c.add(s);!c.isEmpty()&&u>0;){var h=c.poll(),f=h.getDistance();if(f>=u)break;h.isLeaves()?(u=f,l=h):h.expandToQueue(c,u)}return[l.getBoundable(0).getItem(),l.getBoundable(1).getItem()]}}else if(3===arguments.length){var p=arguments[0],d=arguments[1],g=arguments[2],m=new Oe(p,d),e=new Fe(this.getRoot(),m,g);return this.nearestNeighbour(e)[0]}},interfaces_:function(){return[ke,u]},getClass:function(){return Ge}}),Ge.centreX=function(t){return Ge.avg(t.getMinX(),t.getMaxX())},Ge.avg=function(t,e){return(t+e)/2},Ge.centreY=function(t){return Ge.avg(t.getMinY(),t.getMaxY())},c(Ve,ze),e(Ve.prototype,{computeBounds:function(){for(var t=null,e=this.getChildBoundables().iterator();e.hasNext();){var n=e.next();null===t?t=new w(n.getBounds()):t.expandToInclude(n.getBounds())}return t},interfaces_:function(){return[]},getClass:function(){return Ve}}),Ge.STRtreeNode=Ve,Ge.serialVersionUID=0x39920f7d5f261e0,Ge.xComparator={interfaces_:function(){return[a]},compare:function(t,e){return je.compareDoubles(Ge.centreX(t.getBounds()),Ge.centreX(e.getBounds()))}},Ge.yComparator={interfaces_:function(){return[a]},compare:function(t,e){return je.compareDoubles(Ge.centreY(t.getBounds()),Ge.centreY(e.getBounds()))}},Ge.intersectsOp={interfaces_:function(){return[IntersectsOp]},intersects:function(t,e){return t.intersects(e)}},Ge.DEFAULT_NODE_CAPACITY=10,e(qe.prototype,{interfaces_:function(){return[]},getClass:function(){return qe}}),qe.relativeSign=function(t,e){return e>t?-1:t>e?1:0},qe.compare=function(t,e,n){if(e.equals2D(n))return 0;var i=qe.relativeSign(e.x,n.x),r=qe.relativeSign(e.y,n.y);switch(t){case 0:return qe.compareValue(i,r);case 1:return qe.compareValue(r,i);case 2:return qe.compareValue(r,-i);case 3:return qe.compareValue(-i,r);case 4:return qe.compareValue(-i,-r);case 5:return qe.compareValue(-r,-i);case 6:return qe.compareValue(-r,i);case 7:return qe.compareValue(i,-r)}return f.shouldNeverReachHere("invalid octant value"),0},qe.compareValue=function(t,e){return 0>t?-1:t>0?1:0>e?-1:e>0?1:0},e(Ye.prototype,{getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex)},compareTo:function(t){var e=t;return this.segmentIndex<e.segmentIndex?-1:this.segmentIndex>e.segmentIndex?1:this.coord.equals2D(e.coord)?0:qe.compare(this.segmentOctant,this.coord,e.coord)},isEndPoint:function(t){return 0!==this.segmentIndex||this._isInterior?this.segmentIndex===t:!0},isInterior:function(){return this._isInterior},interfaces_:function(){return[o]},getClass:function(){return Ye}}),e(Xe.prototype,{getSplitCoordinates:function(){var t=new E;this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next();this.addEdgeCoordinates(n,i,t),n=i}return t.toCoordinateArray()},addCollapsedNodes:function(){var t=new _;this.findCollapsesFromInsertedNodes(t),this.findCollapsesFromExistingVertices(t);for(var e=t.iterator();e.hasNext();){var n=e.next().intValue();this.add(this.edge.getCoordinate(n),n)}},print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}},findCollapsesFromExistingVertices:function(t){for(var e=0;e<this.edge.size()-2;e++){var n=this.edge.getCoordinate(e),i=(this.edge.getCoordinate(e+1),this.edge.getCoordinate(e+2));n.equals2D(i)&&t.add(new M(e+1))}},addEdgeCoordinates:function(t,e,n){var i=e.segmentIndex-t.segmentIndex+2,r=this.edge.getCoordinate(e.segmentIndex),o=e.isInterior()||!e.coord.equals2D(r);o||i--;n.add(new p(t.coord),!1);for(var s=t.segmentIndex+1;s<=e.segmentIndex;s++)n.add(this.edge.getCoordinate(s));o&&n.add(new p(e.coord))},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints(),this.addCollapsedNodes();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},findCollapseIndex:function(t,e,n){if(!t.coord.equals2D(e.coord))return!1;var i=e.segmentIndex-t.segmentIndex;return e.isInterior()||i--,1===i?(n[0]=t.segmentIndex+1,!0):!1},findCollapsesFromInsertedNodes:function(t){for(var e=new Array(1).fill(null),n=this.iterator(),i=n.next();n.hasNext();){var r=n.next(),o=this.findCollapseIndex(i,r,e);o&&t.add(new M(e[0])),i=r}},getEdge:function(){return this.edge},addEndpoints:function(){var t=this.edge.size()-1;this.add(this.edge.getCoordinate(0),0),this.add(this.edge.getCoordinate(t),t)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.getCoordinate(e.segmentIndex),r=e.isInterior()||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new p(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.getCoordinate(a);return r&&(o[s]=new p(e.coord)),new He(o,this.edge.getData())},add:function(t,e){var n=new Ye(this.edge,t,e,this.edge.getSegmentOctant(e)),i=this.nodeMap.get(n);return null!==i?(f.isTrue(i.coord.equals2D(t),"Found equal nodes with different coordinates"),i):(this.nodeMap.put(n,n),n)},checkSplitEdgesCorrectness:function(t){var e=this.edge.getCoordinates(),n=t.get(0),i=n.getCoordinate(0);if(!i.equals2D(e[0]))throw new l("bad split edge start point at "+i);var r=t.get(t.size()-1),o=r.getCoordinates(),s=o[o.length-1];if(!s.equals2D(e[e.length-1]))throw new l("bad split edge end point at "+s)},interfaces_:function(){return[]},getClass:function(){return Xe}}),e(We.prototype,{next:function(){return null===this.currNode?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):null===this.nextNode?null:this.nextNode.segmentIndex===this.currNode.segmentIndex?(this.currNode=this.nextNode,this.currSegIndex=this.currNode.segmentIndex,this.readNextNode(),this.currNode):(this.nextNode.segmentIndex>this.currNode.segmentIndex,null)},remove:function(){throw new UnsupportedOperationException(this.getClass().getName())},hasNext:function(){return null!==this.nextNode},readNextNode:function(){this.nodeIt.hasNext()?this.nextNode=this.nodeIt.next():this.nextNode=null},interfaces_:function(){return[g]},getClass:function(){return We}}),e(Ze.prototype,{addIntersection:function(t,e){},interfaces_:function(){return[Me]},getClass:function(){return Ze}}),e(He.prototype,{getCoordinates:function(){return this.pts},size:function(){return this.pts.length},getCoordinate:function(t){return this.pts[t]},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getSegmentOctant:function(t){return t===this.pts.length-1?-1:this.safeOctant(this.getCoordinate(t),this.getCoordinate(t+1))},setData:function(t){this.data=t},safeOctant:function(t,e){return t.equals2D(e)?0:Le.octant(t,e)},getData:function(){return this.data},addIntersection:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.addIntersectionNode(t,e)}else if(4===arguments.length){var n=arguments[0],i=arguments[1],r=(arguments[2],arguments[3]),o=new p(n.getIntersection(r));this.addIntersection(o,i)}},toString:function(){return oe.toLineString(new zt(this.pts))},getNodeList:function(){return this.nodeList},addIntersectionNode:function(t,e){var n=e,i=n+1;if(i<this.pts.length){var r=this.pts[i];t.equals2D(r)&&(n=i)}var o=this.nodeList.add(t,n);return o},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[Ze]},getClass:function(){return He}}),He.getNodedSubstrings=function(){if(1===arguments.length){var t=arguments[0],e=new _;return He.getNodedSubstrings(t,e),e}if(2===arguments.length)for(var n=arguments[0],i=arguments[1],r=n.iterator();r.hasNext();){var o=r.next();o.getNodeList().addSplitEdges(i)}},e($e.prototype,{overlap:function(){if(2===arguments.length){arguments[0],arguments[1]}else if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];t.getLineSegment(e,this.overlapSeg1),n.getLineSegment(i,this.overlapSeg2),this.overlap(this.overlapSeg1,this.overlapSeg2)}},interfaces_:function(){return[]},getClass:function(){return $e}}),e(Je.prototype,{getLineSegment:function(t,e){e.p0=this.pts[t],e.p1=this.pts[t+1]},computeSelect:function(t,e,n,i){var r=this.pts[e],o=this.pts[n];if(i.tempEnv1.init(r,o),n-e===1)return i.select(this,e),null;if(!t.intersects(i.tempEnv1))return null;var s=Math.trunc((e+n)/2);s>e&&this.computeSelect(t,e,s,i),n>s&&this.computeSelect(t,s,n,i)},getCoordinates:function(){for(var t=new Array(this.end-this.start+1).fill(null),e=0,n=this.start;n<=this.end;n++)t[e++]=this.pts[n];return t},computeOverlaps:function(t,e){this.computeOverlapsInternal(this.start,this.end,t,t.start,t.end,e)},setId:function(t){this.id=t},select:function(t,e){this.computeSelect(t,this.start,this.end,e)},getEnvelope:function(){if(null===this.env){var t=this.pts[this.start],e=this.pts[this.end];this.env=new w(t,e)}return this.env},getEndIndex:function(){return this.end},getStartIndex:function(){return this.start},getContext:function(){return this.context},getId:function(){return this.id},computeOverlapsInternal:function(t,e,n,i,r,o){var s=this.pts[t],a=this.pts[e],u=n.pts[i],l=n.pts[r];if(e-t===1&&r-i===1)return o.overlap(this,t,n,i),null;if(o.tempEnv1.init(s,a),o.tempEnv2.init(u,l),!o.tempEnv1.intersects(o.tempEnv2))return null;var c=Math.trunc((t+e)/2),h=Math.trunc((i+r)/2);c>t&&(h>i&&this.computeOverlapsInternal(t,c,n,i,h,o),r>h&&this.computeOverlapsInternal(t,c,n,h,r,o)),e>c&&(h>i&&this.computeOverlapsInternal(c,e,n,i,h,o),r>h&&this.computeOverlapsInternal(c,e,n,h,r,o))},interfaces_:function(){return[]},getClass:function(){return Je}}),e(Qe.prototype,{interfaces_:function(){return[]},getClass:function(){return Qe}}),Qe.isNorthern=function(t){return t===Qe.NE||t===Qe.NW},Qe.isOpposite=function(t,e){if(t===e)return!1;var n=(t-e+4)%4;return 2===n},Qe.commonHalfPlane=function(t,e){if(t===e)return t;var n=(t-e+4)%4;if(2===n)return-1;var i=e>t?t:e,r=t>e?t:e;return 0===i&&3===r?3:i},Qe.isInHalfPlane=function(t,e){return e===Qe.SE?t===Qe.SE||t===Qe.SW:t===e||t===e+1},Qe.quadrant=function(){if("number"==typeof arguments[0]&&"number"==typeof arguments[1]){var t=arguments[0],e=arguments[1];if(0===t&&0===e)throw new i("Cannot compute the quadrant for point ( "+t+", "+e+" )");return t>=0?e>=0?Qe.NE:Qe.SE:e>=0?Qe.NW:Qe.SW}if(arguments[0]instanceof p&&arguments[1]instanceof p){var n=arguments[0],r=arguments[1];if(r.x===n.x&&r.y===n.y)throw new i("Cannot compute the quadrant for two identical points "+n);return r.x>=n.x?r.y>=n.y?Qe.NE:Qe.SE:r.y>=n.y?Qe.NW:Qe.SW}},Qe.NE=0,Qe.NW=1,Qe.SW=2,Qe.SE=3,e(Ke.prototype,{interfaces_:function(){return[]},getClass:function(){return Ke}}),Ke.getChainStartIndices=function(t){var e=0,n=new _;n.add(new M(e));do{var i=Ke.findChainEnd(t,e);n.add(new M(i)),e=i}while(e<t.length-1);var r=Ke.toIntArray(n);return r},Ke.findChainEnd=function(t,e){for(var n=e;n<t.length-1&&t[n].equals2D(t[n+1]);)n++;if(n>=t.length-1)return t.length-1;for(var i=Qe.quadrant(t[n],t[n+1]),r=e+1;r<t.length;){if(!t[r-1].equals2D(t[r])){var o=Qe.quadrant(t[r-1],t[r]);if(o!==i)break}r++}return r-1},Ke.getChains=function(){if(1===arguments.length){var t=arguments[0];return Ke.getChains(t,null)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new _,r=Ke.getChainStartIndices(e),o=0;o<r.length-1;o++){var s=new Je(e,r[o],r[o+1],n);i.add(s)}return i}},Ke.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e(tn.prototype,{computeNodes:function(t){},getNodedSubstrings:function(){},interfaces_:function(){return[]},getClass:function(){return tn}}),e(en.prototype,{setSegmentIntersector:function(t){this.segInt=t},interfaces_:function(){return[tn]},getClass:function(){return en}}),c(nn,en),e(nn.prototype,{getMonotoneChains:function(){return this.monoChains},getNodedSubstrings:function(){return He.getNodedSubstrings(this.nodedSegStrings)},getIndex:function(){return this.index},add:function(t){for(var e=Ke.getChains(t.getCoordinates(),t),n=e.iterator();n.hasNext();){var i=n.next();i.setId(this.idCounter++),this.index.insert(i.getEnvelope(),i),this.monoChains.add(i)}},computeNodes:function(t){this.nodedSegStrings=t;for(var e=t.iterator();e.hasNext();)this.add(e.next());this.intersectChains()},intersectChains:function(){for(var t=new rn(this.segInt),e=this.monoChains.iterator();e.hasNext();)for(var n=e.next(),i=this.index.query(n.getEnvelope()),r=i.iterator();r.hasNext();){var o=r.next();if(o.getId()>n.getId()&&(n.computeOverlaps(o,t),this.nOverlaps++),this.segInt.isDone())return null}},interfaces_:function(){return[]},getClass:function(){return nn}}),c(rn,$e),e(rn.prototype,{overlap:function(){if(4!==arguments.length)return $e.prototype.overlap.apply(this,arguments);var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3],r=t.getContext(),o=n.getContext();this.si.processIntersections(r,e,o,i)},interfaces_:function(){return[]},getClass:function(){return rn}}),nn.SegmentOverlapAction=rn,c(on,l),e(on.prototype,{getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return on}}),on.msgWithCoord=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(sn.prototype,{processIntersections:function(t,e,n,i){},isDone:function(){},interfaces_:function(){return[]},getClass:function(){return sn}}),e(an.prototype,{getInteriorIntersection:function(){return this.interiorIntersection},setCheckEndSegmentsOnly:function(t){this.isCheckEndSegmentsOnly=t},getIntersectionSegments:function(){return this.intSegments},count:function(){return this.intersectionCount},getIntersections:function(){return this.intersections},setFindAllIntersections:function(t){this.findAllIntersections=t},setKeepIntersections:function(t){this.keepIntersections=t},processIntersections:function(t,e,n,i){if(!this.findAllIntersections&&this.hasIntersection())return null;if(t===n&&e===i)return null;if(this.isCheckEndSegmentsOnly){var r=this.isEndSegment(t,e)||this.isEndSegment(n,i);if(!r)return null}var o=t.getCoordinates()[e],s=t.getCoordinates()[e+1],a=n.getCoordinates()[i],u=n.getCoordinates()[i+1];this.li.computeIntersection(o,s,a,u),this.li.hasIntersection()&&this.li.isInteriorIntersection()&&(this.intSegments=new Array(4).fill(null),this.intSegments[0]=o,this.intSegments[1]=s,this.intSegments[2]=a,this.intSegments[3]=u,this.interiorIntersection=this.li.getIntersection(0),this.keepIntersections&&this.intersections.add(this.interiorIntersection),this.intersectionCount++)},isEndSegment:function(t,e){return 0===e?!0:e>=t.size()-2},hasIntersection:function(){return null!==this.interiorIntersection},isDone:function(){return this.findAllIntersections?!1:null!==this.interiorIntersection},interfaces_:function(){return[sn]},getClass:function(){return an}}),an.createAllIntersectionsFinder=function(t){var e=new an(t);return e.setFindAllIntersections(!0),e},an.createAnyIntersectionFinder=function(t){return new an(t)},an.createIntersectionCounter=function(t){var e=new an(t);return e.setFindAllIntersections(!0),e.setKeepIntersections(!1),e},e(un.prototype,{execute:function(){return null!==this.segInt?null:void this.checkInteriorIntersections()},getIntersections:function(){return this.segInt.getIntersections()},isValid:function(){return this.execute(),this._isValid},setFindAllIntersections:function(t){this.findAllIntersections=t},checkInteriorIntersections:function(){this._isValid=!0,this.segInt=new an(this.li),this.segInt.setFindAllIntersections(this.findAllIntersections);var t=new nn;return t.setSegmentIntersector(this.segInt),t.computeNodes(this.segStrings),this.segInt.hasIntersection()?(this._isValid=!1,null):void 0},checkValid:function(){if(this.execute(),!this._isValid)throw new on(this.getErrorMessage(),this.segInt.getInteriorIntersection())},getErrorMessage:function(){if(this._isValid)return"no intersections found";var t=this.segInt.getIntersectionSegments();return"found non-noded intersection between "+oe.toLineString(t[0],t[1])+" and "+oe.toLineString(t[2],t[3])},interfaces_:function(){return[]},getClass:function(){return un}}),un.computeIntersections=function(t){var e=new un(t);return e.setFindAllIntersections(!0),e.isValid(),e.getIntersections()},e(ln.prototype,{checkValid:function(){this.nv.checkValid()},interfaces_:function(){return[]},getClass:function(){return ln}}),ln.toSegmentStrings=function(t){for(var e=new _,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Ne(i.getCoordinates(),i))}return e},ln.checkValid=function(t){var e=new ln(t);e.checkValid()},e(cn.prototype,{map:function(t){for(var e=new _,n=0;n<t.getNumGeometries();n++){var i=this.mapOp.map(t.getGeometryN(n));i.isEmpty()||e.add(i)}return t.getFactory().createGeometryCollection(ie.toGeometryArray(e))},interfaces_:function(){return[]},getClass:function(){return cn}}),cn.map=function(t,e){var n=new cn(e);return n.map(t)},e(hn.prototype,{interfaces_:function(){return[]},getClass:function(){return hn}}),hn.opposite=function(t){return t===hn.LEFT?hn.RIGHT:t===hn.RIGHT?hn.LEFT:t},hn.ON=0,hn.LEFT=1,hn.RIGHT=2,e(fn.prototype,{setAllLocations:function(t){for(var e=0;e<this.location.length;e++)this.location[e]=t},isNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]!==A.NONE)return!1;return!0},setAllLocationsIfNull:function(t){for(var e=0;e<this.location.length;e++)this.location[e]===A.NONE&&(this.location[e]=t)},isLine:function(){return 1===this.location.length},merge:function(t){if(t.location.length>this.location.length){var e=new Array(3).fill(null);e[hn.ON]=this.location[hn.ON],e[hn.LEFT]=A.NONE,e[hn.RIGHT]=A.NONE,this.location=e}for(var n=0;n<this.location.length;n++)this.location[n]===A.NONE&&n<t.location.length&&(this.location[n]=t.location[n])},getLocations:function(){return this.location},flip:function(){if(this.location.length<=1)return null;var t=this.location[hn.LEFT];this.location[hn.LEFT]=this.location[hn.RIGHT],this.location[hn.RIGHT]=t},toString:function(){var t=new L;return this.location.length>1&&t.append(A.toLocationSymbol(this.location[hn.LEFT])),t.append(A.toLocationSymbol(this.location[hn.ON])),this.location.length>1&&t.append(A.toLocationSymbol(this.location[hn.RIGHT])),t.toString()},setLocations:function(t,e,n){this.location[hn.ON]=t,this.location[hn.LEFT]=e,this.location[hn.RIGHT]=n},get:function(t){return t<this.location.length?this.location[t]:A.NONE},isArea:function(){return this.location.length>1},isAnyNull:function(){for(var t=0;t<this.location.length;t++)if(this.location[t]===A.NONE)return!0;return!1},setLocation:function(){if(1===arguments.length){var t=arguments[0];this.setLocation(hn.ON,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.location[e]=n}},init:function(t){this.location=new Array(t).fill(null),this.setAllLocations(A.NONE)},isEqualOnSide:function(t,e){return this.location[e]===t.location[e]},allPositionsEqual:function(t){for(var e=0;e<this.location.length;e++)if(this.location[e]!==t)return!1;return!0},interfaces_:function(){return[]},getClass:function(){return fn}}),e(pn.prototype,{getGeometryCount:function(){var t=0;return this.elt[0].isNull()||t++,this.elt[1].isNull()||t++,t},setAllLocations:function(t,e){this.elt[t].setAllLocations(e)},isNull:function(t){return this.elt[t].isNull()},setAllLocationsIfNull:function(){if(1===arguments.length){var t=arguments[0];this.setAllLocationsIfNull(0,t),this.setAllLocationsIfNull(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1];this.elt[e].setAllLocationsIfNull(n)}},isLine:function(t){return this.elt[t].isLine()},merge:function(t){for(var e=0;2>e;e++)null===this.elt[e]&&null!==t.elt[e]?this.elt[e]=new fn(t.elt[e]):this.elt[e].merge(t.elt[e])},flip:function(){this.elt[0].flip(),this.elt[1].flip()},getLocation:function(){if(1===arguments.length){var t=arguments[0];return this.elt[t].get(hn.ON)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.elt[e].get(n)}},toString:function(){var t=new L;return null!==this.elt[0]&&(t.append("A:"),t.append(this.elt[0].toString())),null!==this.elt[1]&&(t.append(" B:"),t.append(this.elt[1].toString())),t.toString()},isArea:function(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){var t=arguments[0];return this.elt[t].isArea()}},isAnyNull:function(t){return this.elt[t].isAnyNull()},setLocation:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];this.elt[t].setLocation(hn.ON,e)}else if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];this.elt[n].setLocation(i,r)}},isEqualOnSide:function(t,e){return this.elt[0].isEqualOnSide(t.elt[0],e)&&this.elt[1].isEqualOnSide(t.elt[1],e)},allPositionsEqual:function(t,e){return this.elt[t].allPositionsEqual(e)},toLine:function(t){this.elt[t].isArea()&&(this.elt[t]=new fn(this.elt[t].location[0]))},interfaces_:function(){return[]},getClass:function(){return pn}}),pn.toLineLabel=function(t){for(var e=new pn(A.NONE),n=0;2>n;n++)e.setLocation(n,t.getLocation(n));return e},e(dn.prototype,{computeRing:function(){if(null!==this.ring)return null;for(var t=new Array(this.pts.size()).fill(null),e=0;e<this.pts.size();e++)t[e]=this.pts.get(e);this.ring=this.geometryFactory.createLinearRing(t),this._isHole=ce.isCCW(this.ring.getCoordinates())},isIsolated:function(){return 1===this.label.getGeometryCount()},computePoints:function(t){this.startDe=t;var e=t,n=!0;do{if(null===e)throw new on("Found null DirectedEdge");if(e.getEdgeRing()===this)throw new on("Directed Edge visited twice during ring-building at "+e.getCoordinate());this.edges.add(e);var i=e.getLabel();f.isTrue(i.isArea()),this.mergeLabel(i),this.addPoints(e.getEdge(),e.isForward(),n),n=!1,this.setEdgeRing(e,this),e=this.getNext(e)}while(e!==this.startDe)},getLinearRing:function(){return this.ring},getCoordinate:function(t){return this.pts.get(t)},computeMaxNodeDegree:function(){this.maxNodeDegree=0;var t=this.startDe;do{var e=t.getNode(),n=e.getEdges().getOutgoingDegree(this);n>this.maxNodeDegree&&(this.maxNodeDegree=n),t=this.getNext(t)}while(t!==this.startDe);this.maxNodeDegree*=2},addPoints:function(t,e,n){var i=t.getCoordinates();if(e){var r=1;n&&(r=0);for(var o=r;o<i.length;o++)this.pts.add(i[o])}else{var r=i.length-2;n&&(r=i.length-1);for(var o=r;o>=0;o--)this.pts.add(i[o])}},isHole:function(){return this._isHole},setInResult:function(){var t=this.startDe;do{t.getEdge().setInResult(!0),t=t.getNext()}while(t!==this.startDe)},containsPoint:function(t){var e=this.getLinearRing(),n=e.getEnvelopeInternal();if(!n.contains(t))return!1;if(!ce.isPointInRing(t,e.getCoordinates()))return!1;for(var i=this.holes.iterator();i.hasNext();){var r=i.next();if(r.containsPoint(t))return!1}return!0},addHole:function(t){this.holes.add(t)},isShell:function(){return null===this.shell},getLabel:function(){return this.label},getEdges:function(){return this.edges},getMaxNodeDegree:function(){return this.maxNodeDegree<0&&this.computeMaxNodeDegree(),this.maxNodeDegree},getShell:function(){return this.shell},mergeLabel:function(){if(1===arguments.length){var t=arguments[0];this.mergeLabel(t,0),this.mergeLabel(t,1)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=e.getLocation(n,hn.RIGHT);if(i===A.NONE)return null;if(this.label.getLocation(n)===A.NONE)return this.label.setLocation(n,i),null}},setShell:function(t){this.shell=t,null!==t&&t.addHole(this)},toPolygon:function(t){for(var e=new Array(this.holes.size()).fill(null),n=0;n<this.holes.size();n++)e[n]=this.holes.get(n).getLinearRing();var i=t.createPolygon(this.getLinearRing(),e);return i},interfaces_:function(){return[]},getClass:function(){return dn}}),c(gn,dn),e(gn.prototype,{setEdgeRing:function(t,e){t.setMinEdgeRing(e)},getNext:function(t){return t.getNextMin()},interfaces_:function(){return[]},getClass:function(){return gn}}),c(mn,dn),e(mn.prototype,{buildMinimalRings:function(){var t=new _,e=this.startDe;do{if(null===e.getMinEdgeRing()){var n=new gn(e,this.geometryFactory);t.add(n)}e=e.getNext()}while(e!==this.startDe);return t},setEdgeRing:function(t,e){t.setEdgeRing(e)},linkDirectedEdgesForMinimalEdgeRings:function(){var t=this.startDe;do{var e=t.getNode();e.getEdges().linkMinimalDirectedEdges(this),t=t.getNext()}while(t!==this.startDe)},getNext:function(t){return t.getNext()},interfaces_:function(){return[]},getClass:function(){return mn}}),e(vn.prototype,{setVisited:function(t){this._isVisited=t},setInResult:function(t){this._isInResult=t},isCovered:function(){return this._isCovered},isCoveredSet:function(){return this._isCoveredSet},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setCovered:function(t){this._isCovered=t,this._isCoveredSet=!0},updateIM:function(t){f.isTrue(this.label.getGeometryCount()>=2,"found partial label"),this.computeIM(t)},isInResult:function(){return this._isInResult},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return vn}}),c(yn,vn),e(yn.prototype,{isIncidentEdgeInResult:function(){for(var t=this.getEdges().getEdges().iterator();t.hasNext();){var e=t.next();if(e.getEdge().isInResult())return!0}return!1},isIsolated:function(){return 1===this.label.getGeometryCount()},getCoordinate:function(){return this.coord},print:function(t){t.println("node "+this.coord+" lbl: "+this.label)},computeIM:function(t){},computeMergedLocation:function(t,e){var n=A.NONE;if(n=this.label.getLocation(e),!t.isNull(e)){var i=t.getLocation(e);n!==A.BOUNDARY&&(n=i)}return n},setLabel:function(){if(2!==arguments.length)return vn.prototype.setLabel.apply(this,arguments);var t=arguments[0],e=arguments[1];null===this.label?this.label=new pn(t,e):this.label.setLocation(t,e)},getEdges:function(){return this.edges},mergeLabel:function(){if(arguments[0]instanceof yn){var t=arguments[0];this.mergeLabel(t.label)}else if(arguments[0]instanceof pn)for(var e=arguments[0],n=0;2>n;n++){var i=this.computeMergedLocation(e,n),r=this.label.getLocation(n);r===A.NONE&&this.label.setLocation(n,i)}},add:function(t){this.edges.insert(t),t.setNode(this)},setLabelBoundary:function(t){if(null===this.label)return null;var e=A.NONE;null!==this.label&&(e=this.label.getLocation(t));var n=null;switch(e){case A.BOUNDARY:n=A.INTERIOR;break;case A.INTERIOR:n=A.BOUNDARY;break;default:n=A.BOUNDARY}this.label.setLocation(t,n)},interfaces_:function(){return[]},getClass:function(){return yn}}),e(bn.prototype,{find:function(t){return this.nodeMap.get(t)},addNode:function(){if(arguments[0]instanceof p){var t=arguments[0],e=this.nodeMap.get(t);return null===e&&(e=this.nodeFact.createNode(t),this.nodeMap.put(t,e)),e}if(arguments[0]instanceof yn){var n=arguments[0],e=this.nodeMap.get(n.getCoordinate());return null===e?(this.nodeMap.put(n.getCoordinate(),n),n):(e.mergeLabel(n),e)}},print:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}},iterator:function(){return this.nodeMap.values().iterator()},values:function(){return this.nodeMap.values()},getBoundaryNodes:function(t){for(var e=new _,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().getLocation(t)===A.BOUNDARY&&e.add(i)}return e},add:function(t){var e=t.getCoordinate(),n=this.addNode(e);n.add(t)},interfaces_:function(){return[]},getClass:function(){return bn}}),e(xn.prototype,{compareDirection:function(t){return this.dx===t.dx&&this.dy===t.dy?0:this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:ce.computeOrientation(t.p0,t.p1,this.p1)},getDy:function(){return this.dy},getCoordinate:function(){return this.p0},setNode:function(t){this.node=t},print:function(t){var e=Math.atan2(this.dy,this.dx),n=this.getClass().getName(),i=n.lastIndexOf("."),r=n.substring(i+1);t.print("  "+r+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+e+"   "+this.label)},compareTo:function(t){var e=t;return this.compareDirection(e)},getDirectedCoordinate:function(){return this.p1},getDx:function(){return this.dx},getLabel:function(){return this.label},getEdge:function(){return this.edge},getQuadrant:function(){return this.quadrant},getNode:function(){return this.node},toString:function(){var t=Math.atan2(this.dy,this.dx),e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);return"  "+i+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+t+"   "+this.label},computeLabel:function(t){},init:function(t,e){this.p0=t,this.p1=e,this.dx=e.x-t.x,this.dy=e.y-t.y,this.quadrant=Qe.quadrant(this.dx,this.dy),f.isTrue(!(0===this.dx&&0===this.dy),"EdgeEnd with identical endpoints found")},interfaces_:function(){return[o]},getClass:function(){return xn}}),c(_n,xn),e(_n.prototype,{getNextMin:function(){return this.nextMin},getDepth:function(t){return this.depth[t]},setVisited:function(t){this._isVisited=t},computeDirectedLabel:function(){this.label=new pn(this.edge.getLabel()),this._isForward||this.label.flip()},getNext:function(){return this.next},setDepth:function(t,e){if(-999!==this.depth[t]&&this.depth[t]!==e)throw new on("assigned depths do not match",this.getCoordinate());this.depth[t]=e},isInteriorAreaEdge:function t(){for(var t=!0,e=0;2>e;e++)this.label.isArea(e)&&this.label.getLocation(e,hn.LEFT)===A.INTERIOR&&this.label.getLocation(e,hn.RIGHT)===A.INTERIOR||(t=!1);return t},setNextMin:function(t){this.nextMin=t},print:function(t){xn.prototype.print.call(this,t),t.print(" "+this.depth[hn.LEFT]+"/"+this.depth[hn.RIGHT]),t.print(" ("+this.getDepthDelta()+")"),this._isInResult&&t.print(" inResult")},setMinEdgeRing:function(t){this.minEdgeRing=t},isLineEdge:function(){var t=this.label.isLine(0)||this.label.isLine(1),e=!this.label.isArea(0)||this.label.allPositionsEqual(0,A.EXTERIOR),n=!this.label.isArea(1)||this.label.allPositionsEqual(1,A.EXTERIOR);return t&&e&&n},setEdgeRing:function(t){this.edgeRing=t},getMinEdgeRing:function(){return this.minEdgeRing},getDepthDelta:function(){var t=this.edge.getDepthDelta();return this._isForward||(t=-t),t},setInResult:function(t){this._isInResult=t},getSym:function(){return this.sym},isForward:function(){return this._isForward},getEdge:function(){return this.edge},printEdge:function(t){this.print(t),t.print(" "),this._isForward?this.edge.print(t):this.edge.printReverse(t)},setSym:function(t){this.sym=t},setVisitedEdge:function(t){this.setVisited(t),this.sym.setVisited(t)},setEdgeDepths:function(t,e){var n=this.getEdge().getDepthDelta();this._isForward||(n=-n);var i=1;t===hn.LEFT&&(i=-1);var r=hn.opposite(t),o=n*i,s=e+o;this.setDepth(t,e),this.setDepth(r,s)},getEdgeRing:function(){return this.edgeRing},isInResult:function(){return this._isInResult},setNext:function(t){this.next=t},isVisited:function(){return this._isVisited},interfaces_:function(){return[]},getClass:function(){return _n}}),_n.depthFactor=function(t,e){return t===A.EXTERIOR&&e===A.INTERIOR?1:t===A.INTERIOR&&e===A.EXTERIOR?-1:0},e(En.prototype,{createNode:function(t){return new yn(t,null)},interfaces_:function(){return[]},getClass:function(){return En}}),e(wn.prototype,{printEdges:function(t){t.println("Edges:");for(var e=0;e<this.edges.size();e++){t.println("edge "+e+":");var n=this.edges.get(e);n.print(t),n.eiList.print(t)}},find:function(t){return this.nodes.find(t)},addNode:function(){if(arguments[0]instanceof yn){var t=arguments[0];return this.nodes.addNode(t)}if(arguments[0]instanceof p){var e=arguments[0];return this.nodes.addNode(e)}},getNodeIterator:function(){return this.nodes.iterator()},linkResultDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().linkResultDirectedEdges()}},debugPrintln:function(t){P.out.println(t)},isBoundaryNode:function(t,e){var n=this.nodes.find(e);if(null===n)return!1;var i=n.getLabel();return null!==i&&i.getLocation(t)===A.BOUNDARY},linkAllDirectedEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().linkAllDirectedEdges()}},matchInSameDirection:function(t,e,n,i){return t.equals(n)?ce.computeOrientation(t,e,i)===ce.COLLINEAR&&Qe.quadrant(t,e)===Qe.quadrant(n,i):!1},getEdgeEnds:function(){return this.edgeEndList},debugPrint:function(t){P.out.print(t)},getEdgeIterator:function(){return this.edges.iterator()},findEdgeInSameDirection:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(this.matchInSameDirection(t,e,r[0],r[1]))return i;if(this.matchInSameDirection(t,e,r[r.length-1],r[r.length-2]))return i}return null},insertEdge:function(t){this.edges.add(t)},findEdgeEnd:function(t){for(var e=this.getEdgeEnds().iterator();e.hasNext();){var n=e.next();if(n.getEdge()===t)return n}return null},addEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.edges.add(n);var i=new _n(n,!0),r=new _n(n,!1);i.setSym(r),r.setSym(i),this.add(i),this.add(r)}},add:function(t){this.nodes.add(t),this.edgeEndList.add(t)},getNodes:function(){return this.nodes.values()},findEdge:function(t,e){for(var n=0;n<this.edges.size();n++){var i=this.edges.get(n),r=i.getCoordinates();if(t.equals(r[0])&&e.equals(r[1]))return i}return null},interfaces_:function(){return[]},getClass:function(){return wn}}),wn.linkResultDirectedEdges=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.getEdges().linkResultDirectedEdges()}},e(Tn.prototype,{sortShellsAndHoles:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isHole()?n.add(r):e.add(r)}},computePolygons:function(t){for(var e=new _,n=t.iterator();n.hasNext();){var i=n.next(),r=i.toPolygon(this.geometryFactory);e.add(r)}return e},placeFreeHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();if(null===i.getShell()){var r=this.findEdgeRingContaining(i,t);if(null===r)throw new on("unable to assign hole to a shell",i.getCoordinate(0));i.setShell(r)}}},buildMinimalEdgeRings:function(t,e,n){for(var i=new _,r=t.iterator();r.hasNext();){var o=r.next();if(o.getMaxNodeDegree()>2){o.linkDirectedEdgesForMinimalEdgeRings();var s=o.buildMinimalRings(),a=this.findShell(s);null!==a?(this.placePolygonHoles(a,s),e.add(a)):n.addAll(s)}else i.add(o)}return i},containsPoint:function(t){for(var e=this.shellList.iterator();e.hasNext();){var n=e.next();if(n.containsPoint(t))return!0}return!1},buildMaximalEdgeRings:function(t){for(var e=new _,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&i.getLabel().isArea()&&null===i.getEdgeRing()){var r=new mn(i,this.geometryFactory);e.add(r),r.setInResult()}}return e},placePolygonHoles:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next();i.isHole()&&i.setShell(t)}},getPolygons:function(){var t=this.computePolygons(this.shellList);return t},findEdgeRingContaining:function(t,e){for(var n=t.getLinearRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getLinearRing(),c=l.getEnvelopeInternal();null!==o&&(s=o.getLinearRing().getEnvelopeInternal());var h=!1;c.contains(i)&&ce.isPointInRing(r,l.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=u)}return o},findShell:function(t){for(var e=0,n=null,i=t.iterator();i.hasNext();){var r=i.next();r.isHole()||(n=r,e++)}return f.isTrue(1>=e,"found two shells in MinimalEdgeRing list"),n},add:function(){if(1===arguments.length){var t=arguments[0];this.add(t.getEdgeEnds(),t.getNodes())}else if(2===arguments.length){var e=arguments[0],n=arguments[1];wn.linkResultDirectedEdges(n);var i=this.buildMaximalEdgeRings(e),r=new _,o=this.buildMinimalEdgeRings(i,this.shellList,r);this.sortShellsAndHoles(o,this.shellList,r),this.placeFreeHoles(this.shellList,r)}},interfaces_:function(){return[]},getClass:function(){return Tn}}),e(Sn.prototype,{collectLines:function(t){for(var e=this.op.getGraph().getEdgeEnds().iterator();e.hasNext();){var n=e.next();this.collectLineEdge(n,t,this.lineEdgesList),this.collectBoundaryTouchEdge(n,t,this.lineEdgesList)}},labelIsolatedLine:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.op.getArgGeometry(e));t.getLabel().setLocation(e,n)},build:function(t){return this.findCoveredLineEdges(),this.collectLines(t),this.buildLines(t),this.resultLineList},collectLineEdge:function(t,e,n){var i=t.getLabel(),r=t.getEdge();t.isLineEdge()&&(t.isVisited()||!ii.isResultOfOp(i,e)||r.isCovered()||(n.add(r),t.setVisitedEdge(!0)))},findCoveredLineEdges:function(){for(var t=this.op.getGraph().getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().findCoveredLineEdges()}for(var n=this.op.getGraph().getEdgeEnds().iterator();n.hasNext();){var i=n.next(),r=i.getEdge();if(i.isLineEdge()&&!r.isCoveredSet()){var o=this.op.isCoveredByA(i.getCoordinate());r.setCovered(o)}}},labelIsolatedLines:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(i.isNull(0)?this.labelIsolatedLine(n,0):this.labelIsolatedLine(n,1))}},buildLines:function(t){for(var e=this.lineEdgesList.iterator();e.hasNext();){var n=e.next(),i=(n.getLabel(),this.geometryFactory.createLineString(n.getCoordinates()));this.resultLineList.add(i),n.setInResult(!0)}},collectBoundaryTouchEdge:function(t,e,n){var i=t.getLabel();return t.isLineEdge()?null:t.isVisited()?null:t.isInteriorAreaEdge()?null:t.getEdge().isInResult()?null:(f.isTrue(!(t.isInResult()||t.getSym().isInResult())||!t.getEdge().isInResult()),void(ii.isResultOfOp(i,e)&&e===ii.INTERSECTION&&(n.add(t.getEdge()),t.setVisitedEdge(!0))))},interfaces_:function(){return[]},getClass:function(){return Sn}}),e(An.prototype,{filterCoveredNodeToPoint:function(t){var e=t.getCoordinate();if(!this.op.isCoveredByLA(e)){var n=this.geometryFactory.createPoint(e);this.resultPointList.add(n)}},extractNonCoveredResultNodes:function(t){for(var e=this.op.getGraph().getNodes().iterator();e.hasNext();){var n=e.next();if(!(n.isInResult()||n.isIncidentEdgeInResult()||0!==n.getEdges().getDegree()&&t!==ii.INTERSECTION)){var i=n.getLabel();ii.isResultOfOp(i,t)&&this.filterCoveredNodeToPoint(n)}}},build:function(t){return this.extractNonCoveredResultNodes(t),this.resultPointList},interfaces_:function(){return[]},getClass:function(){return An}}),e(In.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return In}}),e(Cn.prototype,{locate:function(t){return Cn.locate(t,this.geom)},interfaces_:function(){return[In]},getClass:function(){return Cn}}),Cn.isPointInRing=function(t,e){return e.getEnvelopeInternal().intersects(t)?ce.isPointInRing(t,e.getCoordinates()):!1},Cn.containsPointInPolygon=function(t,e){if(e.isEmpty())return!1;var n=e.getExteriorRing();if(!Cn.isPointInRing(t,n))return!1;for(var i=0;i<e.getNumInteriorRing();i++){var r=e.getInteriorRingN(i);if(Cn.isPointInRing(t,r))return!1}return!0},Cn.containsPoint=function(t,e){if(e instanceof Ct)return Cn.containsPointInPolygon(t,e);if(e instanceof ft)for(var n=new Ie(e);n.hasNext();){var i=n.next();if(i!==e&&Cn.containsPoint(t,i))return!0}return!1},Cn.locate=function(t,e){return e.isEmpty()?A.EXTERIOR:Cn.containsPoint(t,e)?A.INTERIOR:A.EXTERIOR},e(Ln.prototype,{getNextCW:function(t){this.getEdges();var e=this.edgeList.indexOf(t),n=e-1;return 0===e&&(n=this.edgeList.size()-1),this.edgeList.get(n)},propagateSideLabels:function(t){for(var e=A.NONE,n=this.iterator();n.hasNext();){var i=n.next(),r=i.getLabel();r.isArea(t)&&r.getLocation(t,hn.LEFT)!==A.NONE&&(e=r.getLocation(t,hn.LEFT))}if(e===A.NONE)return null;for(var o=e,n=this.iterator();n.hasNext();){var i=n.next(),r=i.getLabel();if(r.getLocation(t,hn.ON)===A.NONE&&r.setLocation(t,hn.ON,o),r.isArea(t)){var s=r.getLocation(t,hn.LEFT),a=r.getLocation(t,hn.RIGHT);if(a!==A.NONE){if(a!==o)throw new on("side location conflict",i.getCoordinate());s===A.NONE&&f.shouldNeverReachHere("found single null side (at "+i.getCoordinate()+")"),o=s}else f.isTrue(r.getLocation(t,hn.LEFT)===A.NONE,"found single null side"),r.setLocation(t,hn.RIGHT,o),r.setLocation(t,hn.LEFT,o)}}},getCoordinate:function(){var t=this.iterator();if(!t.hasNext())return null;var e=t.next();return e.getCoordinate()},print:function(t){P.out.println("EdgeEndStar:   "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}},isAreaLabelsConsistent:function(t){return this.computeEdgeEndLabels(t.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)},checkAreaLabelsConsistent:function(t){var e=this.getEdges();if(e.size()<=0)return!0;var n=e.size()-1,i=e.get(n).getLabel(),r=i.getLocation(t,hn.LEFT);f.isTrue(r!==A.NONE,"Found unlabelled area edge");for(var o=r,s=this.iterator();s.hasNext();){var a=s.next(),u=a.getLabel();f.isTrue(u.isArea(t),"Found non-area edge");var l=u.getLocation(t,hn.LEFT),c=u.getLocation(t,hn.RIGHT);if(l===c)return!1;if(c!==o)return!1;o=l}return!0},findIndex:function(t){this.iterator();for(var e=0;e<this.edgeList.size();e++){var n=this.edgeList.get(e);if(n===t)return e}return-1},iterator:function(){return this.getEdges().iterator()},getEdges:function(){return null===this.edgeList&&(this.edgeList=new _(this.edgeMap.values())),this.edgeList},getLocation:function(t,e,n){return this.ptInAreaLocation[t]===A.NONE&&(this.ptInAreaLocation[t]=Cn.locate(e,n[t].getGeometry())),this.ptInAreaLocation[t]},toString:function(){var t=new L;t.append("EdgeEndStar:   "+this.getCoordinate()),t.append("\n");for(var e=this.iterator();e.hasNext();){var n=e.next();t.append(n),t.append("\n")}return t.toString()},computeEdgeEndLabels:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();n.computeLabel(t)}},computeLabelling:function(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);for(var e=[!1,!1],n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),o=0;2>o;o++)r.isLine(o)&&r.getLocation(o)===A.BOUNDARY&&(e[o]=!0);for(var n=this.iterator();n.hasNext();)for(var i=n.next(),r=i.getLabel(),o=0;2>o;o++)if(r.isAnyNull(o)){var s=A.NONE;if(e[o])s=A.EXTERIOR;else{var a=i.getCoordinate();s=this.getLocation(o,a,t)}r.setAllLocationsIfNull(o,s)}},getDegree:function(){return this.edgeMap.size()},insertEdgeEnd:function(t,e){this.edgeMap.put(t,e),this.edgeList=null},interfaces_:function(){return[]},getClass:function(){return Ln}}),c(Mn,Ln),e(Mn.prototype,{linkResultDirectedEdges:function(){this.getResultAreaEdges();for(var t=null,e=null,n=this.SCANNING_FOR_INCOMING,i=0;i<this.resultAreaEdgeList.size();i++){var r=this.resultAreaEdgeList.get(i),o=r.getSym();if(r.getLabel().isArea())switch(null===t&&r.isInResult()&&(t=r),n){case this.SCANNING_FOR_INCOMING:if(!o.isInResult())continue;e=o,n=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(!r.isInResult())continue;e.setNext(r),n=this.SCANNING_FOR_INCOMING}}if(n===this.LINKING_TO_OUTGOING){if(null===t)throw new on("no outgoing dirEdge found",this.getCoordinate());f.isTrue(t.isInResult(),"unable to link last incoming dirEdge"),e.setNext(t)}},insert:function(t){var e=t;this.insertEdgeEnd(e,e)},getRightmostEdge:function(){var t=this.getEdges(),e=t.size();if(1>e)return null;var n=t.get(0);if(1===e)return n;var i=t.get(e-1),r=n.getQuadrant(),o=i.getQuadrant();if(Qe.isNorthern(r)&&Qe.isNorthern(o))return n;if(!Qe.isNorthern(r)&&!Qe.isNorthern(o))return i;return 0!==n.getDy()?n:0!==i.getDy()?i:(f.shouldNeverReachHere("found two horizontal edges incident on node"),null)},print:function(t){P.out.println("DirectedEdgeStar: "+this.getCoordinate());for(var e=this.iterator();e.hasNext();){var n=e.next();t.print("out "),n.print(t),t.println(),t.print("in "),n.getSym().print(t),t.println()}},getResultAreaEdges:function(){if(null!==this.resultAreaEdgeList)return this.resultAreaEdgeList;this.resultAreaEdgeList=new _;for(var t=this.iterator();t.hasNext();){var e=t.next();(e.isInResult()||e.getSym().isInResult())&&this.resultAreaEdgeList.add(e)}return this.resultAreaEdgeList},updateLabelling:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.setAllLocationsIfNull(0,t.getLocation(0)),i.setAllLocationsIfNull(1,t.getLocation(1))}},linkAllDirectedEdges:function(){this.getEdges();for(var t=null,e=null,n=this.edgeList.size()-1;n>=0;n--){var i=this.edgeList.get(n),r=i.getSym();null===e&&(e=r),null!==t&&r.setNext(t),t=i}e.setNext(t)},computeDepths:function(){if(1===arguments.length){var t=arguments[0],e=this.findIndex(t),n=(t.getLabel(),t.getDepth(hn.LEFT)),i=t.getDepth(hn.RIGHT),r=this.computeDepths(e+1,this.edgeList.size(),n),o=this.computeDepths(0,e,r);if(o!==i)throw new on("depth mismatch at "+t.getCoordinate())}else if(3===arguments.length){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=u,c=s;a>c;c++){var h=this.edgeList.get(c);h.getLabel();h.setEdgeDepths(hn.RIGHT,l),l=h.getDepth(hn.LEFT)}return l}},mergeSymLabels:function(){for(var t=this.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();n.merge(e.getSym().getLabel())}},linkMinimalDirectedEdges:function(t){for(var e=null,n=null,i=this.SCANNING_FOR_INCOMING,r=this.resultAreaEdgeList.size()-1;r>=0;r--){var o=this.resultAreaEdgeList.get(r),s=o.getSym();switch(null===e&&o.getEdgeRing()===t&&(e=o),i){case this.SCANNING_FOR_INCOMING:if(s.getEdgeRing()!==t)continue;n=s,i=this.LINKING_TO_OUTGOING;break;case this.LINKING_TO_OUTGOING:if(o.getEdgeRing()!==t)continue;n.setNextMin(o),i=this.SCANNING_FOR_INCOMING}}i===this.LINKING_TO_OUTGOING&&(f.isTrue(null!==e,"found null for first outgoing dirEdge"),f.isTrue(e.getEdgeRing()===t,"unable to link last incoming dirEdge"),n.setNextMin(e))},getOutgoingDegree:function(){if(0===arguments.length){for(var t=0,e=this.iterator();e.hasNext();){var n=e.next();n.isInResult()&&t++}return t}if(1===arguments.length){for(var i=arguments[0],t=0,e=this.iterator();e.hasNext();){var n=e.next();n.getEdgeRing()===i&&t++}return t}},getLabel:function(){return this.label},findCoveredLineEdges:function(){for(var t=A.NONE,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();if(!n.isLineEdge()){if(n.isInResult()){t=A.INTERIOR;break}if(i.isInResult()){t=A.EXTERIOR;break}}}if(t===A.NONE)return null;for(var r=t,e=this.iterator();e.hasNext();){var n=e.next(),i=n.getSym();n.isLineEdge()?n.getEdge().setCovered(r===A.INTERIOR):(n.isInResult()&&(r=A.EXTERIOR),i.isInResult()&&(r=A.INTERIOR))}},computeLabelling:function(t){Ln.prototype.computeLabelling.call(this,t),this.label=new pn(A.NONE);for(var e=this.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge(),r=i.getLabel(),o=0;2>o;o++){var s=r.getLocation(o);s!==A.INTERIOR&&s!==A.BOUNDARY||this.label.setLocation(o,A.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return Mn}}),c(Nn,En),e(Nn.prototype,{createNode:function(t){return new yn(t,new Mn)},interfaces_:function(){return[]},getClass:function(){return Nn}}),e(Rn.prototype,{computeIntersections:function(t,e){this.mce.computeIntersectsForChain(this.chainIndex,t.mce,t.chainIndex,e)},interfaces_:function(){return[]},getClass:function(){return Rn}}),e(On.prototype,{isDelete:function(){return this.eventType===On.DELETE},setDeleteEventIndex:function(t){this.deleteEventIndex=t},getObject:function(){return this.obj},compareTo:function(t){var e=t;return this.xValue<e.xValue?-1:this.xValue>e.xValue?1:this.eventType<e.eventType?-1:this.eventType>e.eventType?1:0},getInsertEvent:function(){return this.insertEvent},isInsert:function(){return this.eventType===On.INSERT},isSameLabel:function(t){return null===this.label?!1:this.label===t.label},getDeleteEventIndex:function(){return this.deleteEventIndex},interfaces_:function(){return[o]},getClass:function(){return On}}),On.INSERT=1,On.DELETE=2,e(Dn.prototype,{interfaces_:function(){return[]},getClass:function(){return Dn}}),e(Pn.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if(Pn.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.getNumPoints()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},setIsDoneIfProperInt:function(t){this.isDoneWhenProperInt=t},hasProperInteriorIntersection:function(){return this.hasProperInterior},isBoundaryPointInternal:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinate();if(t.isIntersection(r))return!0}return!1},hasProperIntersection:function(){return this.hasProper},hasIntersection:function(){return this._hasIntersection},isDone:function(){return this._isDone},isBoundaryPoint:function(t,e){return null===e?!1:this.isBoundaryPointInternal(t,e[0])?!0:!!this.isBoundaryPointInternal(t,e[1])},setBoundaryNodes:function(t,e){this.bdyNodes=new Array(2).fill(null),this.bdyNodes[0]=t,this.bdyNodes[1]=e},addIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&(this.recordIsolated&&(t.setIsolated(!1),n.setIsolated(!1)),this.numIntersections++,this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,!this.includeProper&&this.li.isProper()||(t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)),this.li.isProper()&&(this.properIntersectionPoint=this.li.getIntersection(0).copy(),this.hasProper=!0,this.isDoneWhenProperInt&&(this._isDone=!0),this.isBoundaryPoint(this.li,this.bdyNodes)||(this.hasProperInterior=!0))))},interfaces_:function(){return[]},getClass:function(){return Pn}}),Pn.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},c(kn,Dn),e(kn.prototype,{prepareEvents:function(){hs.sort(this.events);for(var t=0;t<this.events.size();t++){var e=this.events.get(t);e.isDelete()&&e.getInsertEvent().setDeleteEventIndex(t)}},computeIntersections:function(){if(1===arguments.length){var t=arguments[0];this.nOverlaps=0,this.prepareEvents();for(var e=0;e<this.events.size();e++){var n=this.events.get(e);if(n.isInsert()&&this.processOverlaps(e,n.getDeleteEventIndex(),n,t),t.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof Pn&&I(arguments[0],y)&&I(arguments[1],y)){var i=arguments[0],r=arguments[1],o=arguments[2];this.addEdges(i,i),this.addEdges(r,r),this.computeIntersections(o)}else if("boolean"==typeof arguments[2]&&I(arguments[0],y)&&arguments[1]instanceof Pn){var s=arguments[0],a=arguments[1],u=arguments[2];u?this.addEdges(s,null):this.addEdges(s),this.computeIntersections(a)}},addEdge:function(t,e){for(var n=t.getMonotoneChainEdge(),i=n.getStartIndexes(),r=0;r<i.length-1;r++){var o=new Rn(n,r),s=new On(e,n.getMinX(r),o);this.events.add(s),this.events.add(new On(n.getMaxX(r),s))}},processOverlaps:function(t,e,n,i){for(var r=n.getObject(),o=t;e>o;o++){var s=this.events.get(o);if(s.isInsert()){var a=s.getObject();n.isSameLabel(s)||(r.computeIntersections(a,i),this.nOverlaps++)}}},addEdges:function(){if(1===arguments.length)for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.addEdge(n,n)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1],e=i.iterator();e.hasNext();){var n=e.next();this.addEdge(n,r)}},interfaces_:function(){return[]},getClass:function(){return kn}}),e(zn.prototype,{getMin:function(){return this.min},intersects:function(t,e){return!(this.min>e||this.max<t)},getMax:function(){return this.max},toString:function(){return oe.toLineString(new p(this.min,0),new p(this.max,0))},interfaces_:function(){return[]},getClass:function(){return zn}}),e(Fn.prototype,{compare:function(t,e){var n=t,i=e,r=(n.min+n.max)/2,o=(i.min+i.max)/2;return o>r?-1:r>o?1:0},interfaces_:function(){return[a]},getClass:function(){return Fn}}),zn.NodeComparator=Fn,c(jn,zn),e(jn.prototype,{query:function(t,e,n){return this.intersects(t,e)?void n.visitItem(this.item):null},interfaces_:function(){return[]},getClass:function(){return jn}}),c(Bn,zn),e(Bn.prototype,{buildExtent:function(t,e){this.min=Math.min(t.min,e.min),this.max=Math.max(t.max,e.max)},query:function(t,e,n){return this.intersects(t,e)?(null!==this.node1&&this.node1.query(t,e,n),void(null!==this.node2&&this.node2.query(t,e,n))):null},interfaces_:function(){return[]},getClass:function(){return Bn}}),e(Un.prototype,{buildTree:function(){hs.sort(this.leaves,new IntervalRTreeNode.NodeComparator);for(var t=this.leaves,e=null,n=new _;;){if(this.buildLevel(t,n),1===n.size())return n.get(0);e=t,t=n,n=e}},insert:function(t,e,n){if(null!==this.root)throw new IllegalStateException("Index cannot be added to once it has been queried");this.leaves.add(new jn(t,e,n))},query:function(t,e,n){this.init(),this.root.query(t,e,n)},buildRoot:function(){return null!==this.root?null:void(this.root=this.buildTree())},printNode:function(t){P.out.println(oe.toLineString(new p(t.min,this.level),new p(t.max,this.level)))},init:function(){return null!==this.root?null:void this.buildRoot()},buildLevel:function(t,e){this.level++,e.clear();for(var n=0;n<t.size();n+=2){var i=t.get(n),r=n+1<t.size()?t.get(n):null;if(null===r)e.add(i);else{var o=new Bn(t.get(n),t.get(n+1));e.add(o)}}},interfaces_:function(){return[]},getClass:function(){return Un}}),e(Gn.prototype,{filter:function(t){if(this.isForcedToLineString&&t instanceof Mt){var e=t.getFactory().createLineString(t.getCoordinateSequence());return this.lines.add(e),null}t instanceof Tt&&this.lines.add(t)},setForceToLineString:function(t){this.isForcedToLineString=t},interfaces_:function(){return[F]},getClass:function(){return Gn}}),Gn.getGeometry=function(){if(1===arguments.length){var t=arguments[0];return t.getFactory().buildGeometry(Gn.getLines(t))}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e.getFactory().buildGeometry(Gn.getLines(e,n))}},Gn.getLines=function(){if(1===arguments.length){var t=arguments[0];return Gn.getLines(t,!1)}if(2===arguments.length){if(I(arguments[0],m)&&I(arguments[1],m)){for(var e=arguments[0],n=arguments[1],i=e.iterator();i.hasNext();){var r=i.next();Gn.getLines(r,n)}return n}if(arguments[0]instanceof j&&"boolean"==typeof arguments[1]){var o=arguments[0],s=arguments[1],a=new _;return o.apply(new Gn(a,s)),a}if(arguments[0]instanceof j&&I(arguments[1],m)){var u=arguments[0],l=arguments[1];return u instanceof Tt?l.add(u):u.apply(new Gn(l)),l}}else if(3===arguments.length){if("boolean"==typeof arguments[2]&&I(arguments[0],m)&&I(arguments[1],m)){for(var c=arguments[0],h=arguments[1],f=arguments[2],i=c.iterator();i.hasNext();){var r=i.next();Gn.getLines(r,h,f)}return h}if("boolean"==typeof arguments[2]&&arguments[0]instanceof j&&I(arguments[1],m)){var p=arguments[0],d=arguments[1],g=arguments[2];return p.apply(new Gn(d,g)),d}}},e(Vn.prototype,{visitItem:function(t){this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Pe]},getClass:function(){return Vn}}),e(qn.prototype,{locate:function(t){var e=new le(t),n=new Yn(e);return this.index.query(t.y,t.y,n),e.getLocation()},interfaces_:function(){return[In]},getClass:function(){return qn}}),e(Yn.prototype,{visitItem:function(t){var e=t;this.counter.countSegment(e.getCoordinate(0),e.getCoordinate(1))},interfaces_:function(){return[Pe]},getClass:function(){return Yn}}),e(Xn.prototype,{init:function(t){for(var e=Gn.getLines(t),n=e.iterator();n.hasNext();){var i=n.next(),r=i.getCoordinates();this.addLine(r)}},addLine:function(t){for(var e=1;e<t.length;e++){var n=new he(t[e-1],t[e]),i=Math.min(n.p0.y,n.p1.y),r=Math.max(n.p0.y,n.p1.y);this.index.insert(i,r,n)}},query:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Vn;return this.index.query(t,e,n),n.getItems()}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];this.index.query(i,r,o)}},interfaces_:function(){return[]},getClass:function(){return Xn}}),qn.SegmentVisitor=Yn,qn.IntervalIndexedGeometry=Xn,e(Wn.prototype,{getSegmentIndex:function(){return this.segmentIndex},getCoordinate:function(){return this.coord},print:function(t){t.print(this.coord),t.print(" seg # = "+this.segmentIndex),t.println(" dist = "+this.dist)},compareTo:function(t){var e=t;return this.compare(e.segmentIndex,e.dist)},isEndPoint:function(t){return 0===this.segmentIndex&&0===this.dist?!0:this.segmentIndex===t},toString:function(){return this.coord+" seg # = "+this.segmentIndex+" dist = "+this.dist},getDistance:function(){return this.dist},compare:function(t,e){return this.segmentIndex<t?-1:this.segmentIndex>t?1:this.dist<e?-1:this.dist>e?1:0},interfaces_:function(){return[o]},getClass:function(){return Wn}}),e(Zn.prototype,{print:function(t){t.println("Intersections:");for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t)}},iterator:function(){return this.nodeMap.values().iterator()},addSplitEdges:function(t){this.addEndpoints();for(var e=this.iterator(),n=e.next();e.hasNext();){var i=e.next(),r=this.createSplitEdge(n,i);t.add(r),n=i}},addEndpoints:function(){var t=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[t],t,0)},createSplitEdge:function(t,e){var n=e.segmentIndex-t.segmentIndex+2,i=this.edge.pts[e.segmentIndex],r=e.dist>0||!e.coord.equals2D(i);r||n--;var o=new Array(n).fill(null),s=0;o[s++]=new p(t.coord);for(var a=t.segmentIndex+1;a<=e.segmentIndex;a++)o[s++]=this.edge.pts[a];return r&&(o[s]=e.coord),new Qn(o,new pn(this.edge.label))},add:function(t,e,n){var i=new Wn(t,e,n),r=this.nodeMap.get(i);return null!==r?r:(this.nodeMap.put(i,i),i)},isIntersection:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();if(n.coord.equals(t))return!0}return!1},interfaces_:function(){return[]},getClass:function(){return Zn}}),e(Hn.prototype,{getChainStartIndices:function(t){var e=0,n=new _;n.add(new M(e));do{var i=this.findChainEnd(t,e);n.add(new M(i)),e=i}while(e<t.length-1);var r=Hn.toIntArray(n);return r},findChainEnd:function(t,e){for(var n=Qe.quadrant(t[e],t[e+1]),i=e+1;i<t.length;){var r=Qe.quadrant(t[i-1],t[i]);if(r!==n)break;i++}return i-1},interfaces_:function(){return[]},getClass:function(){return Hn}}),Hn.toIntArray=function(t){for(var e=new Array(t.size()).fill(null),n=0;n<e.length;n++)e[n]=t.get(n).intValue();return e},e($n.prototype,{getCoordinates:function(){return this.pts},getMaxX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return e>n?e:n},getMinX:function(t){var e=this.pts[this.startIndex[t]].x,n=this.pts[this.startIndex[t+1]].x;return n>e?e:n},computeIntersectsForChain:function(){if(4===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=arguments[3];this.computeIntersectsForChain(this.startIndex[t],this.startIndex[t+1],e,e.startIndex[n],e.startIndex[n+1],i)}else if(6===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],a=arguments[3],u=arguments[4],l=arguments[5],c=this.pts[r],h=this.pts[o],f=s.pts[a],p=s.pts[u];if(o-r===1&&u-a===1)return l.addIntersections(this.e,r,s.e,a),null;if(this.env1.init(c,h),this.env2.init(f,p),!this.env1.intersects(this.env2))return null;var d=Math.trunc((r+o)/2),g=Math.trunc((a+u)/2);d>r&&(g>a&&this.computeIntersectsForChain(r,d,s,a,g,l),u>g&&this.computeIntersectsForChain(r,d,s,g,u,l)),o>d&&(g>a&&this.computeIntersectsForChain(d,o,s,a,g,l),u>g&&this.computeIntersectsForChain(d,o,s,g,u,l))}},getStartIndexes:function(){return this.startIndex},computeIntersects:function(t,e){for(var n=0;n<this.startIndex.length-1;n++)for(var i=0;i<t.startIndex.length-1;i++)this.computeIntersectsForChain(n,t,i,e)},interfaces_:function(){return[]},getClass:function(){return $n}}),e(Jn.prototype,{getDepth:function(t,e){return this.depth[t][e]},setDepth:function(t,e,n){this.depth[t][e]=n},isNull:function(){if(0===arguments.length){for(var t=0;2>t;t++)for(var e=0;3>e;e++)if(this.depth[t][e]!==Jn.NULL_VALUE)return!1;return!0}if(1===arguments.length){var n=arguments[0];return this.depth[n][1]===Jn.NULL_VALUE}if(2===arguments.length){var i=arguments[0],r=arguments[1];return this.depth[i][r]===Jn.NULL_VALUE}},normalize:function(){for(var t=0;2>t;t++)if(!this.isNull(t)){var e=this.depth[t][1];this.depth[t][2]<e&&(e=this.depth[t][2]),0>e&&(e=0);for(var n=1;3>n;n++){var i=0;this.depth[t][n]>e&&(i=1),this.depth[t][n]=i}}},getDelta:function(t){return this.depth[t][hn.RIGHT]-this.depth[t][hn.LEFT]},getLocation:function(t,e){return this.depth[t][e]<=0?A.EXTERIOR:A.INTERIOR},toString:function(){return"A: "+this.depth[0][1]+","+this.depth[0][2]+" B: "+this.depth[1][1]+","+this.depth[1][2]},add:function(){if(1===arguments.length)for(var t=arguments[0],e=0;2>e;e++)for(var n=1;3>n;n++){var i=t.getLocation(e,n);i!==A.EXTERIOR&&i!==A.INTERIOR||(this.isNull(e,n)?this.depth[e][n]=Jn.depthAtLocation(i):this.depth[e][n]+=Jn.depthAtLocation(i))}else if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];s===A.INTERIOR&&this.depth[r][o]++}},interfaces_:function(){return[]},getClass:function(){return Jn}}),Jn.depthAtLocation=function(t){return t===A.EXTERIOR?0:t===A.INTERIOR?1:Jn.NULL_VALUE},Jn.NULL_VALUE=-1,c(Qn,vn),e(Qn.prototype,{getDepth:function(){return this.depth},getCollapsedEdge:function(){var t=new Array(2).fill(null);t[0]=this.pts[0],t[1]=this.pts[1];var e=new Qn(t,pn.toLineLabel(this.label));return e},isIsolated:function(){return this._isIsolated},getCoordinates:function(){return this.pts},setIsolated:function(t){this._isIsolated=t},setName:function(t){this.name=t},equals:function(t){if(!(t instanceof Qn))return!1;var e=t;if(this.pts.length!==e.pts.length)return!1;for(var n=!0,i=!0,r=this.pts.length,o=0;o<this.pts.length;o++)if(this.pts[o].equals2D(e.pts[o])||(n=!1),this.pts[o].equals2D(e.pts[--r])||(i=!1),!n&&!i)return!1;return!0},getCoordinate:function(){if(0===arguments.length)return this.pts.length>0?this.pts[0]:null;if(1===arguments.length){var t=arguments[0];return this.pts[t]}},print:function(t){t.print("edge "+this.name+": "),t.print("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.print(","),t.print(this.pts[e].x+" "+this.pts[e].y);t.print(")  "+this.label+" "+this.depthDelta)},computeIM:function(t){Qn.updateIM(this.label,t)},isCollapsed:function(){return this.label.isArea()?3!==this.pts.length?!1:!!this.pts[0].equals(this.pts[2]):!1},isClosed:function(){return this.pts[0].equals(this.pts[this.pts.length-1])},getMaximumSegmentIndex:function(){return this.pts.length-1},getDepthDelta:function(){return this.depthDelta},getNumPoints:function(){return this.pts.length},printReverse:function(t){t.print("edge "+this.name+": ");for(var e=this.pts.length-1;e>=0;e--)t.print(this.pts[e]+" ");t.println("")},getMonotoneChainEdge:function(){return null===this.mce&&(this.mce=new $n(this)),this.mce},getEnvelope:function(){if(null===this.env){this.env=new w;for(var t=0;t<this.pts.length;t++)this.env.expandToInclude(this.pts[t])}return this.env},addIntersection:function(t,e,n,i){var r=new p(t.getIntersection(i)),o=e,s=t.getEdgeDistance(n,i),a=o+1;if(a<this.pts.length){var u=this.pts[a];r.equals2D(u)&&(o=a,s=0)}this.eiList.add(r,o,s)},toString:function(){var t=new L;t.append("edge "+this.name+": "),t.append("LINESTRING (");for(var e=0;e<this.pts.length;e++)e>0&&t.append(","),t.append(this.pts[e].x+" "+this.pts[e].y);return t.append(")  "+this.label+" "+this.depthDelta),t.toString()},isPointwiseEqual:function(t){if(this.pts.length!==t.pts.length)return!1;for(var e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0},setDepthDelta:function(t){this.depthDelta=t},getEdgeIntersectionList:function(){return this.eiList},addIntersections:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++)this.addIntersection(t,e,n,i)},interfaces_:function(){return[]},getClass:function(){return Qn}}),Qn.updateIM=function(){if(2!==arguments.length)return vn.prototype.updateIM.apply(this,arguments);var t=arguments[0],e=arguments[1];e.setAtLeastIfValid(t.getLocation(0,hn.ON),t.getLocation(1,hn.ON),1),t.isArea()&&(e.setAtLeastIfValid(t.getLocation(0,hn.LEFT),t.getLocation(1,hn.LEFT),2),e.setAtLeastIfValid(t.getLocation(0,hn.RIGHT),t.getLocation(1,hn.RIGHT),2))},c(Kn,wn),e(Kn.prototype,{insertBoundaryPoint:function(t,e){var n=this.nodes.addNode(e),i=n.getLabel(),r=1,o=A.NONE;o=i.getLocation(t,hn.ON),o===A.BOUNDARY&&r++;var s=Kn.determineBoundary(this.boundaryNodeRule,r);i.setLocation(t,s)},computeSelfNodes:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this.computeSelfNodes(t,e,!1)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2],o=new Pn(n,!0,!1);o.setIsDoneIfProperInt(r);var s=this.createEdgeSetIntersector(),a=this.parentGeom instanceof Mt||this.parentGeom instanceof Ct||this.parentGeom instanceof Nt,u=i||!a;return s.computeIntersections(this.edges,o,u),this.addSelfIntersectionNodes(this.argIndex),o}},computeSplitEdges:function(t){for(var e=this.edges.iterator();e.hasNext();){var n=e.next();n.eiList.addSplitEdges(t)}},computeEdgeIntersections:function(t,e,n){var i=new Pn(e,n,!0);i.setBoundaryNodes(this.getBoundaryNodes(),t.getBoundaryNodes());var r=this.createEdgeSetIntersector();return r.computeIntersections(this.edges,t.edges,i),i},getGeometry:function(){return this.parentGeom},getBoundaryNodeRule:function(){return this.boundaryNodeRule},hasTooFewPoints:function(){return this._hasTooFewPoints},addPoint:function(){if(arguments[0]instanceof At){var t=arguments[0],e=t.getCoordinate();this.insertPoint(this.argIndex,e,A.INTERIOR)}else if(arguments[0]instanceof p){var n=arguments[0];this.insertPoint(this.argIndex,n,A.INTERIOR)}},addPolygon:function(t){this.addPolygonRing(t.getExteriorRing(),A.EXTERIOR,A.INTERIOR);for(var e=0;e<t.getNumInteriorRing();e++){var n=t.getInteriorRingN(e);this.addPolygonRing(n,A.INTERIOR,A.EXTERIOR)}},addEdge:function(t){this.insertEdge(t);var e=t.getCoordinates();this.insertPoint(this.argIndex,e[0],A.BOUNDARY),this.insertPoint(this.argIndex,e[e.length-1],A.BOUNDARY)},addLineString:function(t){var e=X.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return this._hasTooFewPoints=!0,this.invalidPoint=e[0],null;var n=new Qn(e,new pn(this.argIndex,A.INTERIOR));this.lineEdgeMap.put(t,n),this.insertEdge(n),f.isTrue(e.length>=2,"found LineString with single point"),this.insertBoundaryPoint(this.argIndex,e[0]),this.insertBoundaryPoint(this.argIndex,e[e.length-1])},getInvalidPoint:function(){return this.invalidPoint},getBoundaryPoints:function(){for(var t=this.getBoundaryNodes(),e=new Array(t.size()).fill(null),n=0,i=t.iterator();i.hasNext();){var r=i.next();e[n++]=r.getCoordinate().copy()}return e},getBoundaryNodes:function(){return null===this.boundaryNodes&&(this.boundaryNodes=this.nodes.getBoundaryNodes(this.argIndex)),this.boundaryNodes},addSelfIntersectionNode:function(t,e,n){return this.isBoundaryNode(t,e)?null:void(n===A.BOUNDARY&&this.useBoundaryDeterminationRule?this.insertBoundaryPoint(t,e):this.insertPoint(t,e,n))},addPolygonRing:function(t,e,n){if(t.isEmpty())return null;var i=X.removeRepeatedPoints(t.getCoordinates());if(i.length<4)return this._hasTooFewPoints=!0,this.invalidPoint=i[0],null;var r=e,o=n;ce.isCCW(i)&&(r=n,o=e);var s=new Qn(i,new pn(this.argIndex,A.BOUNDARY,r,o));this.lineEdgeMap.put(t,s),this.insertEdge(s),this.insertPoint(this.argIndex,i[0],A.BOUNDARY)},insertPoint:function(t,e,n){var i=this.nodes.addNode(e),r=i.getLabel();null===r?i.label=new pn(t,n):r.setLocation(t,n)},createEdgeSetIntersector:function(){return new kn},addSelfIntersectionNodes:function(t){for(var e=this.edges.iterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.eiList.iterator();r.hasNext();){var o=r.next();this.addSelfIntersectionNode(t,o.coord,i)}},add:function(){if(1!==arguments.length)return wn.prototype.add.apply(this,arguments);var t=arguments[0];if(t.isEmpty())return null;if(t instanceof Nt&&(this.useBoundaryDeterminationRule=!1),t instanceof Ct)this.addPolygon(t);else if(t instanceof Tt)this.addLineString(t);else if(t instanceof At)this.addPoint(t);else if(t instanceof Lt)this.addCollection(t);else if(t instanceof pt)this.addCollection(t);else if(t instanceof Nt)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},locate:function(t){return I(this.parentGeom,It)&&this.parentGeom.getNumGeometries()>50?(null===this.areaPtLocator&&(this.areaPtLocator=new qn(this.parentGeom)),this.areaPtLocator.locate(t)):this.ptLocator.locate(t,this.parentGeom)},findEdge:function(){if(1===arguments.length){var t=arguments[0];return this.lineEdgeMap.get(t)}return wn.prototype.findEdge.apply(this,arguments)},interfaces_:function(){return[]},getClass:function(){return Kn}}),Kn.determineBoundary=function(t,e){return t.isInBoundary(e)?A.BOUNDARY:A.INTERIOR},e(ti.prototype,{getArgGeometry:function(t){return this.arg[t].getGeometry()},setComputationPrecision:function(t){this.resultPrecisionModel=t,this.li.setPrecisionModel(this.resultPrecisionModel)},interfaces_:function(){return[]},getClass:function(){return ti}}),e(ei.prototype,{compareTo:function(t){var e=t,n=ei.compareOriented(this.pts,this._orientation,e.pts,e._orientation);return n},interfaces_:function(){return[o]},getClass:function(){return ei}}),ei.orientation=function(t){return 1===X.increasingDirection(t)},ei.compareOriented=function(t,e,n,i){for(var r=e?1:-1,o=i?1:-1,s=e?t.length:-1,a=i?n.length:-1,u=e?0:t.length-1,l=i?0:n.length-1;;){var c=t[u].compareTo(n[l]);if(0!==c)return c;u+=r,l+=o;var h=u===s,f=l===a;if(h&&!f)return-1;if(!h&&f)return 1;if(h&&f)return 0}},e(ni.prototype,{print:function(t){t.print("MULTILINESTRING ( ");for(var e=0;e<this.edges.size();e++){var n=this.edges.get(e);e>0&&t.print(","),t.print("(");for(var i=n.getCoordinates(),r=0;r<i.length;r++)r>0&&t.print(","),t.print(i[r].x+" "+i[r].y);t.println(")")}t.print(")  ")},addAll:function(t){for(var e=t.iterator();e.hasNext();)this.add(e.next())},findEdgeIndex:function(t){for(var e=0;e<this.edges.size();e++)if(this.edges.get(e).equals(t))return e;return-1},iterator:function(){return this.edges.iterator()},getEdges:function(){return this.edges},get:function(t){return this.edges.get(t)},findEqualEdge:function(t){var e=new ei(t.getCoordinates()),n=this.ocaMap.get(e);return n},add:function(t){this.edges.add(t);var e=new ei(t.getCoordinates());this.ocaMap.put(e,t)},interfaces_:function(){return[]},getClass:function(){return ni}}),c(ii,ti),e(ii.prototype,{insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new pn(t.getLabel()),i.flip());var r=e.getDepth();r.isNull()&&r.add(n),r.add(i),n.merge(i)}else this.edgeList.add(t)},getGraph:function(){return this.graph},cancelDuplicateResultEdges:function(){for(var t=this.graph.getEdgeEnds().iterator();t.hasNext();){var e=t.next(),n=e.getSym();e.isInResult()&&n.isInResult()&&(e.setInResult(!1),n.setInResult(!1))}},isCoveredByLA:function(t){return this.isCovered(t,this.resultLineList)?!0:!!this.isCovered(t,this.resultPolyList)},computeGeometry:function(t,e,n,i){var r=new _;return r.addAll(t),r.addAll(e),r.addAll(n),r.isEmpty()?ii.createEmptyResult(i,this.arg[0].getGeometry(),this.arg[1].getGeometry(),this.geomFact):this.geomFact.buildGeometry(r)},mergeSymLabels:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().mergeSymLabels()}},isCovered:function(t,e){for(var n=e.iterator();n.hasNext();){var i=n.next(),r=this.ptLocator.locate(t,i);if(r!==A.EXTERIOR)return!0}return!1},replaceCollapsedEdges:function(){for(var t=new _,e=this.edgeList.iterator();e.hasNext();){var n=e.next();n.isCollapsed()&&(e.remove(),t.add(n.getCollapsedEdge()))}this.edgeList.addAll(t)},updateNodeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next(),n=e.getEdges().getLabel();e.getLabel().merge(n)}},getResultGeometry:function(t){return this.computeOverlay(t),this.resultGeom},insertUniqueEdges:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertUniqueEdge(n)}},computeOverlay:function(t){this.copyPoints(0),this.copyPoints(1),this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1),this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!0);var e=new _;this.arg[0].computeSplitEdges(e),this.arg[1].computeSplitEdges(e);this.insertUniqueEdges(e),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),ln.checkValid(this.edgeList.getEdges()),this.graph.addEdges(this.edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(t),this.cancelDuplicateResultEdges();var n=new Tn(this.geomFact);n.add(this.graph),this.resultPolyList=n.getPolygons();var i=new Sn(this,this.geomFact,this.ptLocator);this.resultLineList=i.build(t);var r=new An(this,this.geomFact,this.ptLocator);this.resultPointList=r.build(t),this.resultGeom=this.computeGeometry(this.resultPointList,this.resultLineList,this.resultPolyList,t)},labelIncompleteNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setLocation(e,n)},copyPoints:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next(),i=this.graph.addNode(n.getCoordinate());i.setLabel(t,n.getLabel().getLocation(t))}},findResultAreaEdges:function(t){for(var e=this.graph.getEdgeEnds().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();i.isArea()&&!n.isInteriorAreaEdge()&&ii.isResultOfOp(i.getLocation(0,hn.RIGHT),i.getLocation(1,hn.RIGHT),t)&&n.setInResult(!0)}},computeLabelsFromDepths:function(){for(var t=this.edgeList.iterator();t.hasNext();){var e=t.next(),n=e.getLabel(),i=e.getDepth();if(!i.isNull()){i.normalize();for(var r=0;2>r;r++)n.isNull(r)||!n.isArea()||i.isNull(r)||(0===i.getDelta(r)?n.toLine(r):(f.isTrue(!i.isNull(r,hn.LEFT),"depth of LEFT side has not been initialized"),n.setLocation(r,hn.LEFT,i.getLocation(r,hn.LEFT)),f.isTrue(!i.isNull(r,hn.RIGHT),"depth of RIGHT side has not been initialized"),n.setLocation(r,hn.RIGHT,i.getLocation(r,hn.RIGHT))))}}},computeLabelling:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.getEdges().computeLabelling(this.arg)}this.mergeSymLabels(),this.updateNodeLabelling()},labelIncompleteNodes:function(){for(var t=0,e=this.graph.getNodes().iterator();e.hasNext();){var n=e.next(),i=n.getLabel();n.isIsolated()&&(t++,i.isNull(0)?this.labelIncompleteNode(n,0):this.labelIncompleteNode(n,1)),n.getEdges().updateLabelling(i)}},isCoveredByA:function(t){return!!this.isCovered(t,this.resultPolyList)},interfaces_:function(){return[]},getClass:function(){return ii}}),ii.overlayOp=function(t,e,n){var i=new ii(t,e),r=i.getResultGeometry(n);return r},ii.intersection=function(t,e){if(t.isEmpty()||e.isEmpty())return ii.createEmptyResult(ii.INTERSECTION,t,e,t.getFactory());if(t.isGeometryCollection()){var n=e;return cn.map(t,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(n)}})}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,ii.INTERSECTION)},ii.symDifference=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ii.createEmptyResult(ii.SYMDIFFERENCE,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,ii.SYMDIFFERENCE)},ii.resultDimension=function(t,e,n){var i=e.getDimension(),r=n.getDimension(),o=-1;switch(t){case ii.INTERSECTION:o=Math.min(i,r);break;case ii.UNION:o=Math.max(i,r);break;case ii.DIFFERENCE:o=i;break;case ii.SYMDIFFERENCE:o=Math.max(i,r)}return o},ii.createEmptyResult=function(t,e,n,i){var r=null;switch(ii.resultDimension(t,e,n)){case-1:r=i.createGeometryCollection(new Array(0).fill(null));break;case 0:r=i.createPoint();break;case 1:r=i.createLineString();break;case 2:r=i.createPolygon()}return r},ii.difference=function(t,e){return t.isEmpty()?ii.createEmptyResult(ii.DIFFERENCE,t,e,t.getFactory()):e.isEmpty()?t.copy():(t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,ii.DIFFERENCE))},ii.isResultOfOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=t.getLocation(0),i=t.getLocation(1);return ii.isResultOfOp(n,i,e)}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2];switch(r===A.BOUNDARY&&(r=A.INTERIOR),o===A.BOUNDARY&&(o=A.INTERIOR),s){case ii.INTERSECTION:return r===A.INTERIOR&&o===A.INTERIOR;case ii.UNION:return r===A.INTERIOR||o===A.INTERIOR;case ii.DIFFERENCE:return r===A.INTERIOR&&o!==A.INTERIOR;case ii.SYMDIFFERENCE:return r===A.INTERIOR&&o!==A.INTERIOR||r!==A.INTERIOR&&o===A.INTERIOR}return!1}},ii.INTERSECTION=1,ii.UNION=2,ii.DIFFERENCE=3,ii.SYMDIFFERENCE=4,e(ri.prototype,{selfSnap:function(t){var e=new _e(t),n=e.snapTo(t,this.snapTolerance);return n},removeCommonBits:function(t){this.cbr=new Te,this.cbr.add(t[0]),this.cbr.add(t[1]);var e=new Array(2).fill(null);return e[0]=this.cbr.removeCommonBits(t[0].copy()),e[1]=this.cbr.removeCommonBits(t[1].copy()),e},prepareResult:function(t){return this.cbr.addCommonBits(t),t},getResultGeometry:function(t){var e=this.snap(this.geom),n=ii.overlayOp(e[0],e[1],t);return this.prepareResult(n)},checkValid:function(t){t.isValid()||P.out.println("Snapped geometry is invalid")},computeSnapTolerance:function(){this.snapTolerance=_e.computeOverlaySnapTolerance(this.geom[0],this.geom[1])},snap:function(t){var e=this.removeCommonBits(t),n=_e.snap(e[0],e[1],this.snapTolerance);return n},interfaces_:function(){return[]},getClass:function(){return ri}}),ri.overlayOp=function(t,e,n){var i=new ri(t,e);return i.getResultGeometry(n)},ri.union=function(t,e){return ri.overlayOp(t,e,ii.UNION)},ri.intersection=function(t,e){return ri.overlayOp(t,e,ii.INTERSECTION)},ri.symDifference=function(t,e){return ri.overlayOp(t,e,ii.SYMDIFFERENCE)},ri.difference=function(t,e){return ri.overlayOp(t,e,ii.DIFFERENCE)},e(oi.prototype,{getResultGeometry:function(t){var e=null,n=!1,i=null;try{e=ii.overlayOp(this.geom[0],this.geom[1],t);var r=!0;r&&(n=!0)}catch(t){if(!(t instanceof l))throw t;i=t}finally{}if(!n)try{e=ri.overlayOp(this.geom[0],this.geom[1],t)}catch(t){throw t instanceof l?i:t}finally{}return e},interfaces_:function(){return[]},getClass:function(){return oi}}),oi.overlayOp=function(t,e,n){var i=new oi(t,e);return i.getResultGeometry(n)},oi.union=function(t,e){return oi.overlayOp(t,e,ii.UNION)},oi.intersection=function(t,e){return oi.overlayOp(t,e,ii.INTERSECTION)},oi.symDifference=function(t,e){return oi.overlayOp(t,e,ii.SYMDIFFERENCE)},oi.difference=function(t,e){return oi.overlayOp(t,e,ii.DIFFERENCE)},e(si.prototype,{addPolygon:function(t){if(t.isEmpty())return null;var e=null,n=0,i=this.horizontalBisector(t);if(0===i.getLength())n=0,e=i.getCoordinate();else{var r=oi.overlayOp(i,t,ii.INTERSECTION),o=this.widestGeometry(r);n=o.getEnvelopeInternal().getWidth(),e=si.centre(o.getEnvelopeInternal())}(null===this.interiorPoint||n>this.maxWidth)&&(this.interiorPoint=e,this.maxWidth=n)},getInteriorPoint:function(){return this.interiorPoint},widestGeometry:function t(){if(arguments[0]instanceof ft){var e=arguments[0];if(e.isEmpty())return e;for(var t=e.getGeometryN(0),n=1;n<e.getNumGeometries();n++)e.getGeometryN(n).getEnvelopeInternal().getWidth()>t.getEnvelopeInternal().getWidth()&&(t=e.getGeometryN(n));return t}if(arguments[0]instanceof j){var i=arguments[0];return i instanceof ft?this.widestGeometry(i):i}},horizontalBisector:function(t){var e=t.getEnvelopeInternal(),n=ai.getBisectorY(t);return this.factory.createLineString([new p(e.getMinX(),n),new p(e.getMaxX(),n)])},add:function(t){if(t instanceof Ct)this.addPolygon(t);else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))},interfaces_:function(){return[]},getClass:function(){return si}}),si.centre=function(t){return new p(si.avg(t.getMinX(),t.getMaxX()),si.avg(t.getMinY(),t.getMaxY()))},si.avg=function(t,e){return(t+e)/2},e(ai.prototype,{updateInterval:function(t){t<=this.centreY?t>this.loY&&(this.loY=t):t>this.centreY&&t<this.hiY&&(this.hiY=t)},getBisectorY:function(){this.process(this.poly.getExteriorRing());for(var t=0;t<this.poly.getNumInteriorRing();t++)this.process(this.poly.getInteriorRingN(t));var e=si.avg(this.hiY,this.loY);return e},process:function(t){for(var e=t.getCoordinateSequence(),n=0;n<e.size();n++){var i=e.getY(n);this.updateInterval(i)}},interfaces_:function(){return[]},getClass:function(){return ai}}),ai.getBisectorY=function(t){var e=new ai(t);return e.getBisectorY()},si.SafeBisectorFinder=ai,e(ui.prototype,{addEndpoints:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof Tt)this.addEndpoints(t.getCoordinates());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addEndpoints(e.getGeometryN(n))}else if(arguments[0]instanceof Array){var i=arguments[0];this.add(i[0]),this.add(i[i.length-1])}},getInteriorPoint:function(){return this.interiorPoint},addInterior:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof Tt)this.addInterior(t.getCoordinates());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.addInterior(e.getGeometryN(n))}else if(arguments[0]instanceof Array)for(var i=arguments[0],n=1;n<i.length-1;n++)this.add(i[n])},add:function(t){var e=t.distance(this.centroid);e<this.minDistance&&(this.interiorPoint=new p(t),this.minDistance=e)},interfaces_:function(){return[]},getClass:function(){return ui}}),e(li.prototype,{getInteriorPoint:function(){return this.interiorPoint},add:function(){if(arguments[0]instanceof j){var t=arguments[0];if(t instanceof At)this.add(t.getCoordinate());else if(t instanceof ft)for(var e=t,n=0;n<e.getNumGeometries();n++)this.add(e.getGeometryN(n))}else if(arguments[0]instanceof p){var i=arguments[0],r=i.distance(this.centroid);r<this.minDistance&&(this.interiorPoint=new p(i),this.minDistance=r)}},interfaces_:function(){return[]},getClass:function(){return li}}),e(ci.prototype,{interfaces_:function(){return[]},getClass:function(){return ci}}),ci.toDegrees=function(t){return 180*t/Math.PI},ci.normalize=function(t){for(;t>Math.PI;)t-=ci.PI_TIMES_2;for(;t<=-Math.PI;)t+=ci.PI_TIMES_2;return t},ci.angle=function(){if(1===arguments.length){var t=arguments[0];return Math.atan2(t.y,t.x)}if(2===arguments.length){var e=arguments[0],n=arguments[1],i=n.x-e.x,r=n.y-e.y;return Math.atan2(r,i)}},ci.isAcute=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=n.x-e.x,s=n.y-e.y,a=i*o+r*s;return a>0},ci.isObtuse=function(t,e,n){var i=t.x-e.x,r=t.y-e.y,o=n.x-e.x,s=n.y-e.y,a=i*o+r*s;return 0>a},ci.interiorAngle=function(t,e,n){var i=ci.angle(e,t),r=ci.angle(e,n);return Math.abs(r-i)},ci.normalizePositive=function(t){if(0>t){for(;0>t;)t+=ci.PI_TIMES_2;t>=ci.PI_TIMES_2&&(t=0)}else{for(;t>=ci.PI_TIMES_2;)t-=ci.PI_TIMES_2;0>t&&(t=0)}return t},ci.angleBetween=function(t,e,n){var i=ci.angle(e,t),r=ci.angle(e,n);return ci.diff(i,r)},ci.diff=function(t,e){var n=null;return n=e>t?e-t:t-e,n>Math.PI&&(n=2*Math.PI-n),n},ci.toRadians=function(t){return t*Math.PI/180},ci.getTurn=function(t,e){var n=Math.sin(e-t);return n>0?ci.COUNTERCLOCKWISE:0>n?ci.CLOCKWISE:ci.NONE},ci.angleBetweenOriented=function(t,e,n){var i=ci.angle(e,t),r=ci.angle(e,n),o=r-i;return o<=-Math.PI?o+ci.PI_TIMES_2:o>Math.PI?o-ci.PI_TIMES_2:o},ci.PI_TIMES_2=2*Math.PI,ci.PI_OVER_2=Math.PI/2,ci.PI_OVER_4=Math.PI/4,ci.COUNTERCLOCKWISE=ce.COUNTERCLOCKWISE,ci.CLOCKWISE=ce.CLOCKWISE,ci.NONE=ce.COLLINEAR,e(hi.prototype,{area:function(){return hi.area(this.p0,this.p1,this.p2)},signedArea:function(){return hi.signedArea(this.p0,this.p1,this.p2)},interpolateZ:function(t){if(null===t)throw new i("Supplied point is null.");return hi.interpolateZ(t,this.p0,this.p1,this.p2)},longestSideLength:function(){return hi.longestSideLength(this.p0,this.p1,this.p2)},isAcute:function(){return hi.isAcute(this.p0,this.p1,this.p2)},circumcentre:function(){return hi.circumcentre(this.p0,this.p1,this.p2)},area3D:function(){return hi.area3D(this.p0,this.p1,this.p2)},centroid:function(){return hi.centroid(this.p0,this.p1,this.p2)},inCentre:function(){return hi.inCentre(this.p0,this.p1,this.p2)},interfaces_:function(){return[]},getClass:function(){return hi}}),hi.area=function(t,e,n){return Math.abs(((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2)},hi.signedArea=function(t,e,n){return((n.x-t.x)*(e.y-t.y)-(e.x-t.x)*(n.y-t.y))/2},hi.det=function(t,e,n,i){return t*i-e*n},hi.interpolateZ=function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=i.x-r,u=n.y-o,l=i.y-o,c=s*l-a*u,h=t.x-r,f=t.y-o,p=(l*h-a*f)/c,d=(-u*h+s*f)/c,g=e.z+p*(n.z-e.z)+d*(i.z-e.z);return g},hi.longestSideLength=function(t,e,n){var i=t.distance(e),r=e.distance(n),o=n.distance(t),s=i;return r>s&&(s=r),o>s&&(s=o),s},hi.isAcute=function(t,e,n){return ci.isAcute(t,e,n)&&ci.isAcute(e,n,t)?!!ci.isAcute(n,t,e):!1},hi.circumcentre=function(t,e,n){var i=n.x,r=n.y,o=t.x-i,s=t.y-r,a=e.x-i,u=e.y-r,l=2*hi.det(o,s,a,u),c=hi.det(s,o*o+s*s,u,a*a+u*u),h=hi.det(o,o*o+s*s,a,a*a+u*u),f=i-c/l,d=r+h/l;return new p(f,d)},hi.perpendicularBisector=function(t,e){var n=e.x-t.x,i=e.y-t.y,r=new k(t.x+n/2,t.y+i/2,1),o=new k(t.x-i+n/2,t.y+n+i/2,1);return new k(r,o)},hi.angleBisector=function(t,e,n){var i=e.distance(t),r=e.distance(n),o=i/(i+r),s=n.x-t.x,a=n.y-t.y,u=new p(t.x+o*s,t.y+o*a);return u},hi.area3D=function(t,e,n){var i=e.x-t.x,r=e.y-t.y,o=e.z-t.z,s=n.x-t.x,a=n.y-t.y,u=n.z-t.z,l=r*u-o*a,c=o*s-i*u,h=i*a-r*s,f=l*l+c*c+h*h,p=Math.sqrt(f)/2;return p},hi.centroid=function(t,e,n){var i=(t.x+e.x+n.x)/3,r=(t.y+e.y+n.y)/3;return new p(i,r)},hi.inCentre=function(t,e,n){var i=e.distance(n),r=t.distance(n),o=t.distance(e),s=i+r+o,a=(i*t.x+r*e.x+o*n.x)/s,u=(i*t.y+r*e.y+o*n.y)/s;return new p(a,u)},e(fi.prototype,{getRadius:function(){return this.compute(),this.radius},getDiameter:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[1];return this.input.getFactory().createLineString([t,e])},getExtremalPoints:function(){return this.compute(),this.extremalPts},computeCirclePoints:function(){if(this.input.isEmpty())return this.extremalPts=new Array(0).fill(null),null;if(1===this.input.getNumPoints()){var t=this.input.getCoordinates();return this.extremalPts=[new p(t[0])],null}var e=this.input.convexHull(),n=e.getCoordinates(),t=n;if(n[0].equals2D(n[n.length-1])&&(t=new Array(n.length-1).fill(null),X.copyDeep(n,0,t,0,n.length-1)),t.length<=2)return this.extremalPts=X.copyDeep(t),null;for(var i=fi.lowestPoint(t),r=fi.pointWitMinAngleWithX(t,i),o=0;o<t.length;o++){var s=fi.pointWithMinAngleWithSegment(t,i,r);if(ci.isObtuse(i,s,r))return this.extremalPts=[new p(i),new p(r)],null;if(ci.isObtuse(s,i,r))i=s;else{if(!ci.isObtuse(s,r,i))return this.extremalPts=[new p(i),new p(r),new p(s)],null;r=s}}f.shouldNeverReachHere("Logic failure in Minimum Bounding Circle algorithm!")},compute:function(){return null!==this.extremalPts?null:(this.computeCirclePoints(),this.computeCentre(),void(null!==this.centre&&(this.radius=this.centre.distance(this.extremalPts[0]))))},getFarthestPoints:function(){switch(this.compute(),this.extremalPts.length){case 0:return this.input.getFactory().createLineString();case 1:return this.input.getFactory().createPoint(this.centre)}var t=this.extremalPts[0],e=this.extremalPts[this.extremalPts.length-1];return this.input.getFactory().createLineString([t,e])},getCircle:function(){if(this.compute(),null===this.centre)return this.input.getFactory().createPolygon();var t=this.input.getFactory().createPoint(this.centre);return 0===this.radius?t:t.buffer(this.radius)},getCentre:function(){return this.compute(),this.centre},computeCentre:function(){switch(this.extremalPts.length){case 0:this.centre=null;break;case 1:this.centre=this.extremalPts[0];break;case 2:this.centre=new p((this.extremalPts[0].x+this.extremalPts[1].x)/2,(this.extremalPts[0].y+this.extremalPts[1].y)/2);break;case 3:this.centre=hi.circumcentre(this.extremalPts[0],this.extremalPts[1],this.extremalPts[2])}},interfaces_:function(){return[]},getClass:function(){return fi}}),fi.pointWitMinAngleWithX=function(t,e){for(var n=r.MAX_VALUE,i=null,o=0;o<t.length;o++){var s=t[o];if(s!==e){var a=s.x-e.x,u=s.y-e.y;0>u&&(u=-u);var l=Math.sqrt(a*a+u*u),c=u/l;n>c&&(n=c,i=s)}}return i},fi.lowestPoint=function(t){for(var e=t[0],n=1;n<t.length;n++)t[n].y<e.y&&(e=t[n]);return e},fi.pointWithMinAngleWithSegment=function(t,e,n){for(var i=r.MAX_VALUE,o=null,s=0;s<t.length;s++){var a=t[s];if(a!==e&&a!==n){var u=ci.angleBetween(e,a,n);i>u&&(i=u,o=a)}}return o},e(pi.prototype,{getWidthCoordinate:function(){return this.computeMinimumDiameter(),this.minWidthPt},getSupportingSegment:function(){return this.computeMinimumDiameter(),this.inputGeom.getFactory().createLineString([this.minBaseSeg.p0,this.minBaseSeg.p1])},getDiameter:function(){if(this.computeMinimumDiameter(),null===this.minWidthPt)return this.inputGeom.getFactory().createLineString(null);var t=this.minBaseSeg.project(this.minWidthPt);return this.inputGeom.getFactory().createLineString([t,this.minWidthPt])},computeWidthConvex:function(t){t instanceof Ct?this.convexHullPts=t.getExteriorRing().getCoordinates():this.convexHullPts=t.getCoordinates(),0===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=null,this.minBaseSeg=null):1===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[0]):2===this.convexHullPts.length||3===this.convexHullPts.length?(this.minWidth=0,this.minWidthPt=this.convexHullPts[0],this.minBaseSeg.p0=this.convexHullPts[0],this.minBaseSeg.p1=this.convexHullPts[1]):this.computeConvexRingMinDiameter(this.convexHullPts)},computeConvexRingMinDiameter:function(t){this.minWidth=r.MAX_VALUE;for(var e=1,n=new he,i=0;i<t.length-1;i++)n.p0=t[i],n.p1=t[i+1],e=this.findMaxPerpDistance(t,n,e)},computeMinimumDiameter:function(){if(null!==this.minWidthPt)return null;if(this.isConvex)this.computeWidthConvex(this.inputGeom);else{var t=new ve(this.inputGeom).getConvexHull();this.computeWidthConvex(t)}},getLength:function(){return this.computeMinimumDiameter(),this.minWidth},findMaxPerpDistance:function(t,e,n){for(var i=e.distancePerpendicular(t[n]),r=i,o=n,s=o;r>=i;)i=r,o=s,s=pi.nextIndex(t,o),r=e.distancePerpendicular(t[s]);return i<this.minWidth&&(this.minPtIndex=o,this.minWidth=i,this.minWidthPt=t[this.minPtIndex],this.minBaseSeg=new he(e)),o},getMinimumRectangle:function(){if(this.computeMinimumDiameter(),0===this.minWidth)return this.minBaseSeg.p0.equals2D(this.minBaseSeg.p1)?this.inputGeom.getFactory().createPoint(this.minBaseSeg.p0):this.minBaseSeg.toGeometry(this.inputGeom.getFactory());for(var t=this.minBaseSeg.p1.x-this.minBaseSeg.p0.x,e=this.minBaseSeg.p1.y-this.minBaseSeg.p0.y,n=r.MAX_VALUE,i=-r.MAX_VALUE,o=r.MAX_VALUE,s=-r.MAX_VALUE,a=0;a<this.convexHullPts.length;a++){var u=pi.computeC(t,e,this.convexHullPts[a]);u>i&&(i=u),n>u&&(n=u);var l=pi.computeC(-e,t,this.convexHullPts[a]);l>s&&(s=l),o>l&&(o=l)}var c=pi.computeSegmentForLine(-t,-e,s),h=pi.computeSegmentForLine(-t,-e,o),f=pi.computeSegmentForLine(-e,t,i),p=pi.computeSegmentForLine(-e,t,n),d=f.lineIntersection(c),g=p.lineIntersection(c),m=p.lineIntersection(h),v=f.lineIntersection(h),y=this.inputGeom.getFactory().createLinearRing([d,g,m,v,d]);return this.inputGeom.getFactory().createPolygon(y,null)},interfaces_:function(){return[]},getClass:function(){return pi}}),pi.nextIndex=function(t,e){return e++,e>=t.length&&(e=0),e},pi.computeC=function(t,e,n){return t*n.y-e*n.x},pi.getMinimumDiameter=function(t){return new pi(t).getDiameter()},pi.getMinimumRectangle=function(t){return new pi(t).getMinimumRectangle()},pi.computeSegmentForLine=function(t,e,n){var i=null,r=null;return Math.abs(e)>Math.abs(t)?(i=new p(0,n/e),r=new p(1,n/e-t/e)):(i=new p(n/t,0),r=new p(n/t-e/t,1)),new he(i,r)};var fs=Object.freeze({Centroid:pe,CGAlgorithms:ce,ConvexHull:ve,InteriorPointArea:si,InteriorPointLine:ui,InteriorPointPoint:li,RobustLineIntersector:ae,MinimumBoundingCircle:fi,MinimumDiameter:pi});e(di.prototype,{getResultGeometry:function(){return new gi(this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(0>=t)throw new i("Tolerance must be positive");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return di}}),di.densifyPoints=function(t,e,n){for(var i=new he,r=new E,o=0;o<t.length-1;o++){i.p0=t[o],i.p1=t[o+1],r.add(i.p0,!1);var s=i.getLength(),a=Math.trunc(s/e)+1;if(a>1)for(var u=s/a,l=1;a>l;l++){var c=l*u/s,h=i.pointAlong(c);n.makePrecise(h),r.add(h,!1)}}return r.add(t[t.length-1],!1),r.toCoordinateArray()},di.densify=function(t,e){var n=new di(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(gi,be),e(gi.prototype,{transformMultiPolygon:function(t,e){var n=be.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformPolygon:function(t,e){var n=be.prototype.transformPolygon.call(this,t,e);return e instanceof Nt?n:this.createValidArea(n)},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=di.densifyPoints(n,this.distanceTolerance,e.getPrecisionModel());return e instanceof Tt&&1===i.length&&(i=new Array(0).fill(null)),this.factory.getCoordinateSequenceFactory().create(i)},createValidArea:function(t){return t.buffer(0)},interfaces_:function(){return[]},getClass:function(){return gi}}),di.DensifyTransformer=gi;var ps=Object.freeze({Densifier:di});e(mi.prototype,{find:function(t){var e=this;do{if(null===e)return null;if(e.dest().equals2D(t))return e;e=e.oNext()}while(e!==this);return null},dest:function(){return this._sym._orig},oNext:function(){return this._sym._next},insert:function(t){if(this.oNext()===this)return this.insertAfter(t),null;var e=this.compareTo(t),n=this;do{var i=n.oNext(),r=i.compareTo(t);if(r!==e||i===this)return n.insertAfter(t),null;n=i}while(n!==this);f.shouldNeverReachHere()},insertAfter:function(t){f.equals(this._orig,t.orig());var e=this.oNext();this._sym.setNext(t),t.sym().setNext(e)},degree:function t(){var t=0,e=this;do{t++,e=e.oNext()}while(e!==this);return t},equals:function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return this._orig.equals2D(t)&&this._sym._orig.equals(e)}},deltaY:function(){return this._sym._orig.y-this._orig.y},sym:function(){return this._sym},prev:function(){return this._sym.next()._sym},compareAngularDirection:function(t){var e=this.deltaX(),n=this.deltaY(),i=t.deltaX(),r=t.deltaY();if(e===i&&n===r)return 0;var o=Qe.quadrant(e,n),s=Qe.quadrant(i,r);return o>s?1:s>o?-1:ce.computeOrientation(t._orig,t.dest(),this.dest())},prevNode:function(){for(var t=this;2===t.degree();)if(t=t.prev(),t===this)return null;return t},compareTo:function(t){var e=t,n=this.compareAngularDirection(e);return n},next:function(){return this._next},setSym:function(t){this._sym=t},orig:function(){return this._orig},toString:function(){return"HE("+this._orig.x+" "+this._orig.y+", "+this._sym._orig.x+" "+this._sym._orig.y+")"},setNext:function(t){this._next=t},init:function(t){this.setSym(t),t.setSym(this),this.setNext(t),t.setNext(this)},deltaX:function(){return this._sym._orig.x-this._orig.x},interfaces_:function(){return[]},getClass:function(){return mi}}),mi.init=function(t,e){if(null!==t._sym||null!==e._sym||null!==t._next||null!==e._next)throw new IllegalStateException("Edges are already initialized");return t.init(e),t},mi.create=function(t,e){var n=new mi(t),i=new mi(e);return n.init(i),n},c(vi,mi),e(vi.prototype,{mark:function(){this._isMarked=!0},setMark:function(t){this._isMarked=t},isMarked:function(){return this._isMarked},interfaces_:function(){return[]},getClass:function(){return vi}}),vi.setMarkBoth=function(t,e){t.setMark(e),t.sym().setMark(e)},vi.isMarked=function(t){return t.isMarked()},vi.setMark=function(t,e){t.setMark(e)},vi.markBoth=function(t){t.mark(),t.sym().mark()},vi.mark=function(t){t.mark()},e(yi.prototype,{insert:function(t,e,n){var i=this.create(t,e);null!==n?n.insert(i):this.vertexMap.put(t,i);var r=this.vertexMap.get(e);return null!==r?r.insert(i.sym()):this.vertexMap.put(e,i.sym()),i},create:function(t,e){var n=this.createEdge(t),i=this.createEdge(e);return mi.init(n,i),n},createEdge:function(t){return new mi(t)},addEdge:function(t,e){if(!yi.isValidEdge(t,e))return null;var n=this.vertexMap.get(t),i=null;if(null!==n&&(i=n.find(e)),null!==i)return i;var r=this.insert(t,e,n);return r},getVertexEdges:function(){return this.vertexMap.values()},findEdge:function(t,e){var n=this.vertexMap.get(t);return null===n?null:n.find(e)},interfaces_:function(){return[]},getClass:function(){return yi}}),yi.isValidEdge=function(t,e){var n=e.compareTo(t);return 0!==n},c(bi,vi),e(bi.prototype,{setStart:function(){this._isStart=!0},isStart:function(){return this._isStart},interfaces_:function(){return[]},getClass:function(){return bi}}),c(xi,yi),e(xi.prototype,{createEdge:function(t){return new bi(t)},interfaces_:function(){return[]},getClass:function(){return xi}}),e(_i.prototype,{addLine:function(t){this.lines.add(this.factory.createLineString(t.toCoordinateArray()))},updateRingStartEdge:function(t){return t.isStart()||(t=t.sym(),t.isStart())?null===this.ringStartEdge?(this.ringStartEdge=t,null):void(t.orig().compareTo(this.ringStartEdge.orig())<0&&(this.ringStartEdge=t)):null},getResult:function(){return null===this.result&&this.computeResult(),this.result},process:function(t){var e=t.prevNode();null===e&&(e=t),this.stackEdges(e),this.buildLines()},buildRing:function(t){var e=new E,n=t;for(e.add(n.orig().copy(),!1);2===n.sym().degree();){var i=n.next();if(i===t)break;e.add(i.orig().copy(),!1),n=i}e.add(n.dest().copy(),!1),this.addLine(e)},buildLine:function(t){var e=new E,n=t;for(this.ringStartEdge=null,vi.markBoth(n),e.add(n.orig().copy(),!1);2===n.sym().degree();){this.updateRingStartEdge(n);var i=n.next();if(i===t)return this.buildRing(this.ringStartEdge),null;e.add(i.orig().copy(),!1),n=i,vi.markBoth(n)}e.add(n.dest().copy(),!1),this.stackEdges(n.sym()),this.addLine(e)},stackEdges:function(t){var e=t;do{vi.isMarked(e)||this.nodeEdgeStack.add(e),e=e.oNext()}while(e!==t)},computeResult:function(){for(var t=this.graph.getVertexEdges(),e=t.iterator();e.hasNext();){var n=e.next();vi.isMarked(n)||this.process(n)}this.result=this.factory.buildGeometry(this.lines)},buildLines:function(){for(;!this.nodeEdgeStack.empty();){var t=this.nodeEdgeStack.pop();vi.isMarked(t)||this.buildLine(t)}},add:function(){if(arguments[0]instanceof j){var t=arguments[0];t.apply({interfaces_:function(){return[F]},filter:function(t){t instanceof Tt&&this.add(t)}})}else if(I(arguments[0],m))for(var e=arguments[0],n=e.iterator();n.hasNext();){var i=n.next();this.add(i)}else if(arguments[0]instanceof Tt){var r=arguments[0];null===this.factory&&(this.factory=r.getFactory());for(var o=r.getCoordinateSequence(),s=!1,n=1;n<o.size();n++){var a=this.graph.addEdge(o.getCoordinate(n-1),o.getCoordinate(n));null!==a&&(s||(a.setStart(),s=!0))}}},interfaces_:function(){return[]},getClass:function(){return _i}}),_i.dissolve=function(t){var e=new _i;return e.add(t),e.getResult()};var ds=Object.freeze({LineDissolver:_i});e(Ei.prototype,{hasChildren:function(){for(var t=0;4>t;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;4>e;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},getNodeCount:function(){for(var t=0,e=0;4>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+1},size:function(){for(var t=0,e=0;4>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){if(!this.isSearchMatch(t))return null;e.addAll(this.items);for(var n=0;4>n;n++)null!==this.subnode[n]&&this.subnode[n].addAllItemsFromOverlapping(t,e)},visitItems:function(t,e){for(var n=this.items.iterator();n.hasNext();)e.visitItem(n.next())},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;4>i;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n?n:n=this.items.remove(e)},visit:function(t,e){if(!this.isSearchMatch(t))return null;this.visitItems(t,e);for(var n=0;4>n;n++)null!==this.subnode[n]&&this.subnode[n].visit(t,e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;4>e;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},isEmpty:function t(){var t=!0;this.items.isEmpty()||(t=!1);for(var e=0;4>e;e++)null!==this.subnode[e]&&(this.subnode[e].isEmpty()||(t=!1));return t},add:function(t){this.items.add(t)},interfaces_:function(){return[u]},getClass:function(){return Ei}}),Ei.getSubnodeIndex=function(t,e,n){var i=-1;return t.getMinX()>=e&&(t.getMinY()>=n&&(i=3),t.getMaxY()<=n&&(i=1)),t.getMaxX()<=e&&(t.getMinY()>=n&&(i=2),t.getMaxY()<=n&&(i=0)),i},wi.exponent=function(t){return Ti(64,t)-1023},wi.powerOf2=function(t){return Math.pow(2,t)},e(Si.prototype,{getLevel:function(){return this.level},computeKey:function(){if(1===arguments.length){var t=arguments[0];for(this.level=Si.computeQuadLevel(t),this.env=new w,this.computeKey(this.level,t);!this.env.contains(t);)this.level+=1,this.computeKey(this.level,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=wi.powerOf2(e);this.pt.x=Math.floor(n.getMinX()/i)*i,this.pt.y=Math.floor(n.getMinY()/i)*i,this.env.init(this.pt.x,this.pt.x+i,this.pt.y,this.pt.y+i)}},getEnvelope:function(){return this.env},getCentre:function(){return new p((this.env.getMinX()+this.env.getMaxX())/2,(this.env.getMinY()+this.env.getMaxY())/2)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Si}}),Si.computeQuadLevel=function(t){var e=t.getWidth(),n=t.getHeight(),i=e>n?e:n,r=wi.exponent(i)+1;return r},c(Ai,Ei),e(Ai.prototype,{find:function(t){var e=Ei.getSubnodeIndex(t,this.centrex,this.centrey);if(-1===e)return this;if(null!==this.subnode[e]){var n=this.subnode[e];return n.find(t)}return this},isSearchMatch:function(t){return this.env.intersects(t)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getEnvelope:function(){return this.env},getNode:function(t){var e=Ei.getSubnodeIndex(t,this.centrex,this.centrey);if(-1!==e){var n=this.getSubnode(e);return n.getNode(t)}return this},createSubnode:function(t){var e=0,n=0,i=0,r=0;switch(t){case 0:e=this.env.getMinX(),n=this.centrex,i=this.env.getMinY(),r=this.centrey;break;case 1:e=this.centrex,n=this.env.getMaxX(),i=this.env.getMinY(),r=this.centrey;break;case 2:e=this.env.getMinX(),n=this.centrex,i=this.centrey,r=this.env.getMaxY();break;case 3:e=this.centrex,n=this.env.getMaxX(),i=this.centrey,r=this.env.getMaxY()}var o=new w(e,n,i,r),s=new Ai(o,this.level-1);return s},insertNode:function(t){f.isTrue(null===this.env||this.env.contains(t.env));var e=Ei.getSubnodeIndex(t.env,this.centrex,this.centrey);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insertNode(t),this.subnode[e]=n}},interfaces_:function(){return[]},getClass:function(){return Ai}}),Ai.createNode=function(t){var e=new Si(t),n=new Ai(e.getEnvelope(),e.getLevel());return n},Ai.createExpanded=function(t,e){var n=new w(e);null!==t&&n.expandToInclude(t.env);var i=Ai.createNode(n);return null!==t&&i.insertNode(t),i},e(Ii.prototype,{interfaces_:function(){return[]},getClass:function(){return Ii}}),Ii.isZeroWidth=function(t,e){var n=e-t;if(0===n)return!0;var i=Math.max(Math.abs(t),Math.abs(e)),r=n/i,o=wi.exponent(r);return o<=Ii.MIN_BINARY_EXPONENT},Ii.MIN_BINARY_EXPONENT=-50,c(Ci,Ei),e(Ci.prototype,{insert:function(t,e){var n=Ei.getSubnodeIndex(t,Ci.origin.x,Ci.origin.y);if(-1===n)return this.add(e),null;var i=this.subnode[n];if(null===i||!i.getEnvelope().contains(t)){var r=Ai.createExpanded(i,t);this.subnode[n]=r}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){f.isTrue(t.getEnvelope().contains(e));var i=Ii.isZeroWidth(e.getMinX(),e.getMaxX()),r=Ii.isZeroWidth(e.getMinY(),e.getMaxY()),o=null;o=i||r?t.find(e):t.getNode(e),o.add(n)},interfaces_:function(){return[]},getClass:function(){return Ci}}),Ci.origin=new p(0,0),e(Li.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=Li.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){var t=arguments[0],e=new Vn;return this.query(t,e),e.getItems()}if(2===arguments.length){var n=arguments[0],i=arguments[1];this.root.visit(n,i)}},queryAll:function(){var t=new _;return this.root.addAllItems(t),t},remove:function(t,e){var n=Li.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e);var n=t.getHeight();n<this.minExtent&&n>0&&(this.minExtent=n)},depth:function(){return null!==this.root?this.root.depth():0},isEmpty:function(){return null===this.root},interfaces_:function(){return[ke,u]},getClass:function(){return Li}}),Li.ensureExtent=function(t,e){var n=t.getMinX(),i=t.getMaxX(),r=t.getMinY(),o=t.getMaxY();return n!==i&&r!==o?t:(n===i&&(n-=e/2,i=n+e/2),r===o&&(r-=e/2,o=r+e/2),new w(n,i,r,o))},Li.serialVersionUID=-0x678b60c967a25400;var gs=Object.freeze({Quadtree:Li}),ms=Object.freeze({STRtree:Ge}),vs=Object.freeze({quadtree:gs,strtree:ms}),ys=["Point","MultiPoint","LineString","MultiLineString","Polygon","MultiPolygon"];e(Mi.prototype,{read:function(t){var e=void 0;e="string"==typeof t?JSON.parse(t):t;var n=e.type;if(!bs[n])throw new Error("Unknown GeoJSON type: "+e.type);return-1!==ys.indexOf(n)?bs[n].apply(this,[e.coordinates]):"GeometryCollection"===n?bs[n].apply(this,[e.geometries]):bs[n].apply(this,[e])},write:function(t){var e=t.getGeometryType();if(!xs[e])throw new Error("Geometry is not supported");return xs[e].apply(this,[t])}});var bs={Feature:function(t){var e={};for(var n in t)e[n]=t[n];if(t.geometry){var i=t.geometry.type;if(!bs[i])throw new Error("Unknown GeoJSON type: "+t.type);e.geometry=this.read(t.geometry)}return t.bbox&&(e.bbox=bs.bbox.apply(this,[t.bbox])),e},FeatureCollection:function(t){var e={};if(t.features){e.features=[];for(var n=0;n<t.features.length;++n)e.features.push(this.read(t.features[n]))}return t.bbox&&(e.bbox=this.parse.bbox.apply(this,[t.bbox])),e},coordinates:function t(e){for(var t=[],n=0;n<e.length;++n){var i=e[n];t.push(new p(i[0],i[1]))}return t},bbox:function(t){return this.geometryFactory.createLinearRing([new p(t[0],t[1]),new p(t[2],t[1]),new p(t[2],t[3]),new p(t[0],t[3]),new p(t[0],t[1])])},Point:function(t){var e=new p(t[0],t[1]);return this.geometryFactory.createPoint(e)},MultiPoint:function(t){for(var e=[],n=0;n<t.length;++n)e.push(bs.Point.apply(this,[t[n]]));return this.geometryFactory.createMultiPoint(e)},LineString:function(t){var e=bs.coordinates.apply(this,[t]);return this.geometryFactory.createLineString(e)},MultiLineString:function(t){for(var e=[],n=0;n<t.length;++n)e.push(bs.LineString.apply(this,[t[n]]));return this.geometryFactory.createMultiLineString(e)},Polygon:function(t){for(var e=bs.coordinates.apply(this,[t[0]]),n=this.geometryFactory.createLinearRing(e),i=[],r=1;r<t.length;++r){var o=t[r],s=bs.coordinates.apply(this,[o]),a=this.geometryFactory.createLinearRing(s);i.push(a)}return this.geometryFactory.createPolygon(n,i)},MultiPolygon:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(bs.Polygon.apply(this,[i]))}return this.geometryFactory.createMultiPolygon(e)},GeometryCollection:function(t){for(var e=[],n=0;n<t.length;++n){var i=t[n];e.push(this.read(i))}return this.geometryFactory.createGeometryCollection(e)}},xs={coordinate:function(t){return[t.x,t.y]},Point:function(t){var e=xs.coordinate.apply(this,[t.getCoordinate()]);return{type:"Point",coordinates:e}},MultiPoint:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=xs.Point.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPoint",coordinates:e}},LineString:function(t){for(var e=[],n=t.getCoordinates(),i=0;i<n.length;++i){var r=n[i];e.push(xs.coordinate.apply(this,[r]))}return{type:"LineString",coordinates:e}},MultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=xs.LineString.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiLineString",coordinates:e}},Polygon:function(t){var e=[],n=xs.LineString.apply(this,[t.shell]);e.push(n.coordinates);for(var i=0;i<t.holes.length;++i){var r=t.holes[i],o=xs.LineString.apply(this,[r]);e.push(o.coordinates)}return{type:"Polygon",coordinates:e}},MultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=xs.Polygon.apply(this,[i]);e.push(r.coordinates)}return{type:"MultiPolygon",coordinates:e}},GeometryCollection:function(t){for(var e=[],n=0;n<t.geometries.length;++n){var i=t.geometries[n],r=i.getGeometryType();e.push(xs[r].apply(this,[i]))}return{type:"GeometryCollection",geometries:e}}};e(Ni.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===ee.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){var e,n;if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(e=0,n=t.points.length;n>e;e++)this.precisionModel.makePrecise(t.points[e]);else if(t.geometries)for(e=0,n=t.geometries.length;n>e;e++)this.reducePrecision(t.geometries[e])}}),e(Ri.prototype,{write:function(t){return this.parser.write(t)}}),e(Oi.prototype,{read:function(t){var e=this.parser.read(t);return this.precisionModel.getType()===ee.FIXED&&this.reducePrecision(e),e},reducePrecision:function(t){if(t.coordinate)this.precisionModel.makePrecise(t.coordinate);else if(t.points)for(var e=0,n=t.points.coordinates.length;n>e;e++)this.precisionModel.makePrecise(t.points.coordinates[e]);else if(t.geometries)for(var i=0,r=t.geometries.length;r>i;i++)this.reducePrecision(t.geometries[i])}}),e(Pi.prototype,{read:function(t){return t instanceof ol.geom.Point?this.convertFromPoint(t):t instanceof ol.geom.LineString?this.convertFromLineString(t):t instanceof ol.geom.LinearRing?this.convertFromLinearRing(t):t instanceof ol.geom.Polygon?this.convertFromPolygon(t):t instanceof ol.geom.MultiPoint?this.convertFromMultiPoint(t):t instanceof ol.geom.MultiLineString?this.convertFromMultiLineString(t):t instanceof ol.geom.MultiPolygon?this.convertFromMultiPolygon(t):t instanceof ol.geom.GeometryCollection?this.convertFromCollection(t):void 0},convertFromPoint:function(t){var e=t.getCoordinates();return this.geometryFactory.createPoint(new p(e[0],e[1]))},convertFromLineString:function(t){return this.geometryFactory.createLineString(t.getCoordinates().map(function(t){return new p(t[0],t[1])}))},convertFromLinearRing:function(t){return this.geometryFactory.createLinearRing(t.getCoordinates().map(function(t){return new p(t[0],t[1])}))},convertFromPolygon:function(t){for(var e=t.getLinearRings(),n=null,i=[],r=0;r<e.length;r++){var o=this.convertFromLinearRing(e[r]);0===r?n=o:i.push(o)}return this.geometryFactory.createPolygon(n,i)},convertFromMultiPoint:function(t){var e=t.getPoints().map(function(t){return this.convertFromPoint(t)},this);return this.geometryFactory.createMultiPoint(e)},convertFromMultiLineString:function(t){var e=t.getLineStrings().map(function(t){return this.convertFromLineString(t)},this);return this.geometryFactory.createMultiLineString(e)},convertFromMultiPolygon:function(t){var e=t.getPolygons().map(function(t){return this.convertFromPolygon(t)},this);return this.geometryFactory.createMultiPolygon(e)},convertFromCollection:function(t){var e=t.getGeometries().map(function(t){return this.read(t)},this);return this.geometryFactory.createGeometryCollection(e)},write:function(t){return"Point"===t.getGeometryType()?this.convertToPoint(t.getCoordinate()):"LineString"===t.getGeometryType()?this.convertToLineString(t):"LinearRing"===t.getGeometryType()?this.convertToLinearRing(t):"Polygon"===t.getGeometryType()?this.convertToPolygon(t):"MultiPoint"===t.getGeometryType()?this.convertToMultiPoint(t):"MultiLineString"===t.getGeometryType()?this.convertToMultiLineString(t):"MultiPolygon"===t.getGeometryType()?this.convertToMultiPolygon(t):"GeometryCollection"===t.getGeometryType()?this.convertToCollection(t):void 0},convertToPoint:function(t){return new ol.geom.Point([t.x,t.y])},convertToLineString:function(t){var e=t.points.coordinates.map(Di);return new ol.geom.LineString(e)},convertToLinearRing:function(t){var e=t.points.coordinates.map(Di);return new ol.geom.LinearRing(e)},convertToPolygon:function(t){for(var e=[t.shell.points.coordinates.map(Di)],n=0;n<t.holes.length;n++)e.push(t.holes[n].points.coordinates.map(Di));return new ol.geom.Polygon(e)},convertToMultiPoint:function(t){return new ol.geom.MultiPoint(t.getCoordinates().map(Di))},convertToMultiLineString:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToLineString(t.geometries[n]).getCoordinates());return new ol.geom.MultiLineString(e)},convertToMultiPolygon:function(t){for(var e=[],n=0;n<t.geometries.length;n++)e.push(this.convertToPolygon(t.geometries[n]).getCoordinates());return new ol.geom.MultiPolygon(e)},convertToCollection:function(t){for(var e=[],n=0;n<t.geometries.length;n++){var i=t.geometries[n];e.push(this.write(i))}return new ol.geom.GeometryCollection(e)}});var _s=Object.freeze({GeoJSONReader:Ni,GeoJSONWriter:Ri,OL3Parser:Pi,WKTReader:Oi,WKTWriter:oe});e(ki.prototype,{rescale:function(){if(I(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.rescale(n.getCoordinates())}else if(arguments[0]instanceof Array){var i=arguments[0],r=null,o=null;2===i.length&&(r=new p(i[0]),o=new p(i[1]));for(var e=0;e<i.length;e++)i[e].x=i[e].x/this.scaleFactor+this.offsetX,i[e].y=i[e].y/this.scaleFactor+this.offsetY;2===i.length&&i[0].equals2D(i[1])&&P.out.println(i)}},scale:function(){if(I(arguments[0],m)){for(var t=arguments[0],e=new _,n=t.iterator();n.hasNext();){var i=n.next();e.add(new He(this.scale(i.getCoordinates()),i.getData()))}return e}if(arguments[0]instanceof Array){for(var r=arguments[0],o=new Array(r.length).fill(null),n=0;n<r.length;n++)o[n]=new p(Math.round((r[n].x-this.offsetX)*this.scaleFactor),Math.round((r[n].y-this.offsetY)*this.scaleFactor),r[n].z);var s=X.removeRepeatedPoints(o);return s}},isIntegerPrecision:function(){return 1===this.scaleFactor},getNodedSubstrings:function(){var t=this.noder.getNodedSubstrings();return this.isScaled&&this.rescale(t),t},computeNodes:function(t){var e=t;this.isScaled&&(e=this.scale(t)),this.noder.computeNodes(e)},interfaces_:function(){return[tn]},getClass:function(){return ki}});var Es=Object.freeze({MCIndexNoder:nn,ScaledNoder:ki,SegmentString:Me});e(zi.prototype,{isSimpleMultiPoint:function(t){if(t.isEmpty())return!0;for(var e=new at,n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n),r=i.getCoordinate();if(e.contains(r))return this.nonSimpleLocation=r,!1;e.add(r)}return!0},isSimplePolygonal:function(t){for(var e=Gn.getLines(t),n=e.iterator();n.hasNext();){var i=n.next();if(!this.isSimpleLinearGeometry(i))return!1}return!0},hasClosedEndpointIntersection:function(t){for(var e=new rt,n=t.getEdgeIterator();n.hasNext();){var i=n.next(),r=(i.getMaximumSegmentIndex(),i.isClosed()),o=i.getCoordinate(0);this.addEndpoint(e,o,r);var s=i.getCoordinate(i.getNumPoints()-1);this.addEndpoint(e,s,r)}for(var n=e.values().iterator();n.hasNext();){var a=n.next();if(a.isClosed&&2!==a.degree)return this.nonSimpleLocation=a.getCoordinate(),!0}return!1},getNonSimpleLocation:function(){return this.nonSimpleLocation},isSimpleLinearGeometry:function(t){if(t.isEmpty())return!0;var e=new Kn(0,t),n=new ae,i=e.computeSelfNodes(n,!0);return i.hasIntersection()?i.hasProperIntersection()?(this.nonSimpleLocation=i.getProperIntersectionPoint(),!1):this.hasNonEndpointIntersection(e)?!1:!this.isClosedEndpointsInInterior||!this.hasClosedEndpointIntersection(e):!0},hasNonEndpointIntersection:function(t){for(var e=t.getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getMaximumSegmentIndex(),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next();if(!o.isEndPoint(i))return this.nonSimpleLocation=o.getCoordinate(),!0}return!1},addEndpoint:function(t,e,n){var i=t.get(e);null===i&&(i=new Fi(e),t.put(e,i)),i.addEndpoint(n)},computeSimple:function(t){return this.nonSimpleLocation=null,t.isEmpty()?!0:t instanceof Tt?this.isSimpleLinearGeometry(t):t instanceof pt?this.isSimpleLinearGeometry(t):t instanceof Lt?this.isSimpleMultiPoint(t):I(t,It)?this.isSimplePolygonal(t):t instanceof ft?this.isSimpleGeometryCollection(t):!0},isSimple:function(){return this.nonSimpleLocation=null,this.computeSimple(this.inputGeom)},isSimpleGeometryCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.computeSimple(n))return!1}return!0},interfaces_:function(){return[]},getClass:function(){return zi}}),e(Fi.prototype,{addEndpoint:function(t){this.degree++,this.isClosed|=t},getCoordinate:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Fi}}),zi.EndpointInfo=Fi,e(ji.prototype,{getEndCapStyle:function(){return this.endCapStyle},isSingleSided:function(){return this._isSingleSided},setQuadrantSegments:function(t){this.quadrantSegments=t,0===this.quadrantSegments&&(this.joinStyle=ji.JOIN_BEVEL),this.quadrantSegments<0&&(this.joinStyle=ji.JOIN_MITRE,this.mitreLimit=Math.abs(this.quadrantSegments)),0>=t&&(this.quadrantSegments=1),this.joinStyle!==ji.JOIN_ROUND&&(this.quadrantSegments=ji.DEFAULT_QUADRANT_SEGMENTS)},getJoinStyle:function(){return this.joinStyle},setJoinStyle:function(t){this.joinStyle=t},setSimplifyFactor:function(t){this.simplifyFactor=0>t?0:t},getSimplifyFactor:function(){return this.simplifyFactor},getQuadrantSegments:function(){return this.quadrantSegments},setEndCapStyle:function(t){this.endCapStyle=t},getMitreLimit:function(){return this.mitreLimit},setMitreLimit:function(t){this.mitreLimit=t},setSingleSided:function(t){this._isSingleSided=t},interfaces_:function(){return[]},getClass:function(){return ji}}),ji.bufferDistanceError=function(t){var e=Math.PI/2/t;return 1-Math.cos(e/2)},ji.CAP_ROUND=1,ji.CAP_FLAT=2,ji.CAP_SQUARE=3,ji.JOIN_ROUND=1,ji.JOIN_MITRE=2,ji.JOIN_BEVEL=3,ji.DEFAULT_QUADRANT_SEGMENTS=8,ji.DEFAULT_MITRE_LIMIT=5,ji.DEFAULT_SIMPLIFY_FACTOR=.01,e(Bi.prototype,{getCoordinate:function(){return this.minCoord},getRightmostSide:function(t,e){var n=this.getRightmostSideOfSegment(t,e);return 0>n&&(n=this.getRightmostSideOfSegment(t,e-1)),0>n&&(this.minCoord=null,this.checkForRightmostCoordinate(t)),n},findRightmostEdgeAtVertex:function(){var t=this.minDe.getEdge().getCoordinates();f.isTrue(this.minIndex>0&&this.minIndex<t.length,"rightmost point expected to be interior vertex of edge");var e=t[this.minIndex-1],n=t[this.minIndex+1],i=ce.computeOrientation(this.minCoord,n,e),r=!1;e.y<this.minCoord.y&&n.y<this.minCoord.y&&i===ce.COUNTERCLOCKWISE?r=!0:e.y>this.minCoord.y&&n.y>this.minCoord.y&&i===ce.CLOCKWISE&&(r=!0),r&&(this.minIndex=this.minIndex-1)},getRightmostSideOfSegment:function(t,e){var n=t.getEdge(),i=n.getCoordinates();if(0>e||e+1>=i.length)return-1;if(i[e].y===i[e+1].y)return-1;var r=hn.LEFT;return i[e].y<i[e+1].y&&(r=hn.RIGHT),r},getEdge:function(){return this.orientedDe},checkForRightmostCoordinate:function(t){for(var e=t.getEdge().getCoordinates(),n=0;n<e.length-1;n++)(null===this.minCoord||e[n].x>this.minCoord.x)&&(this.minDe=t,this.minIndex=n,this.minCoord=e[n])},findRightmostEdgeAtNode:function(){var t=this.minDe.getNode(),e=t.getEdges();this.minDe=e.getRightmostEdge(),this.minDe.isForward()||(this.minDe=this.minDe.getSym(),this.minIndex=this.minDe.getEdge().getCoordinates().length-1)},findEdge:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();n.isForward()&&this.checkForRightmostCoordinate(n)}f.isTrue(0!==this.minIndex||this.minCoord.equals(this.minDe.getCoordinate()),"inconsistency in rightmost processing"),0===this.minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this.orientedDe=this.minDe;var i=this.getRightmostSide(this.minDe,this.minIndex);i===hn.LEFT&&(this.orientedDe=this.minDe.getSym())},interfaces_:function(){return[]},getClass:function(){return Bi}}),Ui.prototype.addLast=function(t){this.array_.push(t)},Ui.prototype.removeFirst=function(){return this.array_.shift()},Ui.prototype.isEmpty=function(){return 0===this.array_.length},e(Gi.prototype,{clearVisitedEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.setVisited(!1)}},getRightmostCoordinate:function(){return this.rightMostCoord},computeNodeDepth:function(t){for(var e=null,n=t.getEdges().iterator();n.hasNext();){var i=n.next();if(i.isVisited()||i.getSym().isVisited()){e=i;break}}if(null===e)throw new on("unable to find edge to compute depths at "+t.getCoordinate());t.getEdges().computeDepths(e);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();i.setVisited(!0),this.copySymDepths(i)}},computeDepth:function(t){this.clearVisitedEdges();var e=this.finder.getEdge();e.getNode(),e.getLabel();e.setEdgeDepths(hn.RIGHT,t),this.copySymDepths(e),this.computeDepths(e)},create:function(t){this.addReachable(t),this.finder.findEdge(this.dirEdgeList),this.rightMostCoord=this.finder.getCoordinate()},findResultEdges:function(){for(var t=this.dirEdgeList.iterator();t.hasNext();){var e=t.next();e.getDepth(hn.RIGHT)>=1&&e.getDepth(hn.LEFT)<=0&&!e.isInteriorAreaEdge()&&e.setInResult(!0)}},computeDepths:function(t){var e=new Q,n=new Ui,i=t.getNode();for(n.addLast(i),e.add(i),t.setVisited(!0);!n.isEmpty();){var r=n.removeFirst();e.add(r),this.computeNodeDepth(r);for(var o=r.getEdges().iterator();o.hasNext();){var s=o.next(),a=s.getSym();if(!a.isVisited()){var u=a.getNode();e.contains(u)||(n.addLast(u),e.add(u))}}}},compareTo:function(t){var e=t;return this.rightMostCoord.x<e.rightMostCoord.x?-1:this.rightMostCoord.x>e.rightMostCoord.x?1:0},getEnvelope:function(){if(null===this.env){for(var t=new w,e=this.dirEdgeList.iterator();e.hasNext();)for(var n=e.next(),i=n.getEdge().getCoordinates(),r=0;r<i.length-1;r++)t.expandToInclude(i[r]);this.env=t}return this.env},addReachable:function(t){var e=new ge;for(e.add(t);!e.empty();){var n=e.pop();this.add(n,e)}},copySymDepths:function(t){var e=t.getSym();e.setDepth(hn.LEFT,t.getDepth(hn.RIGHT)),e.setDepth(hn.RIGHT,t.getDepth(hn.LEFT))},add:function(t,e){t.setVisited(!0),this.nodes.add(t);for(var n=t.getEdges().iterator();n.hasNext();){var i=n.next();this.dirEdgeList.add(i);var r=i.getSym(),o=r.getNode();o.isVisited()||e.push(o)}},getNodes:function(){return this.nodes},getDirectedEdges:function(){return this.dirEdgeList},interfaces_:function(){return[o]},getClass:function(){return Gi}}),e(Vi.prototype,{isDeletable:function(t,e,n,i){var r=this.inputLine[t],o=this.inputLine[e],s=this.inputLine[n];return this.isConcave(r,o,s)&&this.isShallow(r,o,s,i)?this.isShallowSampled(r,o,t,n,i):!1},deleteShallowConcavities:function(){for(var t=1,e=(this.inputLine.length-1,this.findNextNonDeletedIndex(t)),n=this.findNextNonDeletedIndex(e),i=!1;n<this.inputLine.length;){var r=!1;this.isDeletable(t,e,n,this.distanceTol)&&(this.isDeleted[e]=Vi.DELETE,r=!0,i=!0),t=r?n:e,e=this.findNextNonDeletedIndex(t),n=this.findNextNonDeletedIndex(e)}return i},isShallowConcavity:function(t,e,n,i){var r=ce.computeOrientation(t,e,n),o=r===this.angleOrientation;if(!o)return!1;var s=ce.distancePointLine(e,t,n);return i>s},isShallowSampled:function(t,e,n,i,r){var o=Math.trunc((i-n)/Vi.NUM_PTS_TO_CHECK);0>=o&&(o=1);for(var s=n;i>s;s+=o)if(!this.isShallow(t,e,this.inputLine[s],r))return!1;return!0},isConcave:function t(e,n,i){var r=ce.computeOrientation(e,n,i),t=r===this.angleOrientation;return t},simplify:function(t){this.distanceTol=Math.abs(t),0>t&&(this.angleOrientation=ce.CLOCKWISE),this.isDeleted=new Array(this.inputLine.length).fill(null);var e=!1;do{e=this.deleteShallowConcavities()}while(e);return this.collapseLine()},findNextNonDeletedIndex:function(t){for(var e=t+1;e<this.inputLine.length&&this.isDeleted[e]===Vi.DELETE;)e++;return e},isShallow:function(t,e,n,i){var r=ce.distancePointLine(e,t,n);return i>r},collapseLine:function(){for(var t=new E,e=0;e<this.inputLine.length;e++)this.isDeleted[e]!==Vi.DELETE&&t.add(this.inputLine[e]);return t.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return Vi}}),Vi.simplify=function(t,e){var n=new Vi(t);return n.simplify(e)},Vi.INIT=0,Vi.DELETE=1,Vi.KEEP=1,Vi.NUM_PTS_TO_CHECK=10,e(qi.prototype,{getCoordinates:function(){var t=this.ptList.toArray(qi.COORDINATE_ARRAY_TYPE);return t},setPrecisionModel:function(t){this.precisionModel=t},addPt:function(t){var e=new p(t);return this.precisionModel.makePrecise(e),this.isRedundant(e)?null:void this.ptList.add(e)},reverse:function(){},addPts:function(t,e){if(e)for(var n=0;n<t.length;n++)this.addPt(t[n]);else for(var n=t.length-1;n>=0;n--)this.addPt(t[n])},isRedundant:function(t){if(this.ptList.size()<1)return!1;var e=this.ptList.get(this.ptList.size()-1),n=t.distance(e);return n<this.minimimVertexDistance},toString:function(){var t=new ie,e=t.createLineString(this.getCoordinates());return e.toString()},closeRing:function(){if(this.ptList.size()<1)return null;var t=new p(this.ptList.get(0)),e=this.ptList.get(this.ptList.size()-1),n=null;return this.ptList.size()>=2&&(n=this.ptList.get(this.ptList.size()-2)),t.equals(e)?null:void this.ptList.add(t)},setMinimumVertexDistance:function(t){this.minimimVertexDistance=t},interfaces_:function(){return[]},getClass:function(){return qi}}),qi.COORDINATE_ARRAY_TYPE=new Array(0).fill(null),e(Yi.prototype,{addNextSegment:function(t,e){if(this.s0=this.s1,this.s1=this.s2,this.s2=t,this.seg0.setCoordinates(this.s0,this.s1),this.computeOffsetSegment(this.seg0,this.side,this.distance,this.offset0),this.seg1.setCoordinates(this.s1,this.s2),this.computeOffsetSegment(this.seg1,this.side,this.distance,this.offset1),this.s1.equals(this.s2))return null;var n=ce.computeOrientation(this.s0,this.s1,this.s2),i=n===ce.CLOCKWISE&&this.side===hn.LEFT||n===ce.COUNTERCLOCKWISE&&this.side===hn.RIGHT;0===n?this.addCollinear(e):i?this.addOutsideTurn(n,e):this.addInsideTurn(n,e)},addLineEndCap:function(t,e){var n=new he(t,e),i=new he;this.computeOffsetSegment(n,hn.LEFT,this.distance,i);var r=new he;this.computeOffsetSegment(n,hn.RIGHT,this.distance,r);var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o);switch(this.bufParams.getEndCapStyle()){case ji.CAP_ROUND:this.segList.addPt(i.p1),this.addFilletArc(e,a+Math.PI/2,a-Math.PI/2,ce.CLOCKWISE,this.distance),this.segList.addPt(r.p1);break;case ji.CAP_FLAT:this.segList.addPt(i.p1),this.segList.addPt(r.p1);break;case ji.CAP_SQUARE:var u=new p;u.x=Math.abs(this.distance)*Math.cos(a),u.y=Math.abs(this.distance)*Math.sin(a);var l=new p(i.p1.x+u.x,i.p1.y+u.y),c=new p(r.p1.x+u.x,r.p1.y+u.y);this.segList.addPt(l),this.segList.addPt(c)}},getCoordinates:function(){var t=this.segList.getCoordinates();return t},addMitreJoin:function(t,e,n,i){var r=!0,o=null;try{o=k.intersection(e.p0,e.p1,n.p0,n.p1);var s=0>=i?1:o.distance(t)/Math.abs(i);s>this.bufParams.getMitreLimit()&&(r=!1)}catch(t){if(!(t instanceof S))throw t;o=new p(0,0),r=!1}finally{}r?this.segList.addPt(o):this.addLimitedMitreJoin(e,n,i,this.bufParams.getMitreLimit())},addFilletCorner:function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=Math.atan2(s,o),u=n.x-t.x,l=n.y-t.y,c=Math.atan2(l,u);i===ce.CLOCKWISE?c>=a&&(a+=2*Math.PI):a>=c&&(a-=2*Math.PI),this.segList.addPt(e),this.addFilletArc(t,a,c,i,r),this.segList.addPt(n)},addOutsideTurn:function(t,e){return this.offset0.p1.distance(this.offset1.p0)<this.distance*Yi.OFFSET_SEGMENT_SEPARATION_FACTOR?(this.segList.addPt(this.offset0.p1),null):void(this.bufParams.getJoinStyle()===ji.JOIN_MITRE?this.addMitreJoin(this.s1,this.offset0,this.offset1,this.distance):this.bufParams.getJoinStyle()===ji.JOIN_BEVEL?this.addBevelJoin(this.offset0,this.offset1):(e&&this.segList.addPt(this.offset0.p1),this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,t,this.distance),this.segList.addPt(this.offset1.p0)))},createSquare:function(t){this.segList.addPt(new p(t.x+this.distance,t.y+this.distance)),this.segList.addPt(new p(t.x+this.distance,t.y-this.distance)),this.segList.addPt(new p(t.x-this.distance,t.y-this.distance)),this.segList.addPt(new p(t.x-this.distance,t.y+this.distance)),this.segList.closeRing()},addSegments:function(t,e){this.segList.addPts(t,e)},addFirstSegment:function(){this.segList.addPt(this.offset1.p0)},addLastSegment:function(){this.segList.addPt(this.offset1.p1)},initSideSegments:function(t,e,n){this.s1=t,this.s2=e,this.side=n,this.seg1.setCoordinates(t,e),this.computeOffsetSegment(this.seg1,n,this.distance,this.offset1)},addLimitedMitreJoin:function(t,e,n,i){var r=this.seg0.p1,o=ci.angle(r,this.seg0.p0),s=(ci.angle(r,this.seg1.p1),ci.angleBetweenOriented(this.seg0.p0,r,this.seg1.p1)),a=s/2,u=ci.normalize(o+a),l=ci.normalize(u+Math.PI),c=i*n,h=c*Math.abs(Math.sin(a)),f=n-h,d=r.x+c*Math.cos(l),g=r.y+c*Math.sin(l),m=new p(d,g),v=new he(r,m),y=v.pointAlongOffset(1,f),b=v.pointAlongOffset(1,-f);this.side===hn.LEFT?(this.segList.addPt(y),this.segList.addPt(b)):(this.segList.addPt(b),this.segList.addPt(y))},computeOffsetSegment:function(t,e,n,i){var r=e===hn.LEFT?1:-1,o=t.p1.x-t.p0.x,s=t.p1.y-t.p0.y,a=Math.sqrt(o*o+s*s),u=r*n*o/a,l=r*n*s/a;i.p0.x=t.p0.x-l,i.p0.y=t.p0.y+u,i.p1.x=t.p1.x-l,i.p1.y=t.p1.y+u},addFilletArc:function(t,e,n,i,r){var o=i===ce.CLOCKWISE?-1:1,s=Math.abs(e-n),a=Math.trunc(s/this.filletAngleQuantum+.5);if(1>a)return null;var u=null,l=null;u=0,l=s/a;for(var c=u,h=new p;s>c;){var f=e+o*c;h.x=t.x+r*Math.cos(f),h.y=t.y+r*Math.sin(f),this.segList.addPt(h),c+=l}},addInsideTurn:function(t,e){if(this.li.computeIntersection(this.offset0.p0,this.offset0.p1,this.offset1.p0,this.offset1.p1),this.li.hasIntersection())this.segList.addPt(this.li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this.offset0.p1.distance(this.offset1.p0)<this.distance*Yi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this.segList.addPt(this.offset0.p1);else{if(this.segList.addPt(this.offset0.p1),this.closingSegLengthFactor>0){var n=new p((this.closingSegLengthFactor*this.offset0.p1.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset0.p1.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(n);var i=new p((this.closingSegLengthFactor*this.offset1.p0.x+this.s1.x)/(this.closingSegLengthFactor+1),(this.closingSegLengthFactor*this.offset1.p0.y+this.s1.y)/(this.closingSegLengthFactor+1));this.segList.addPt(i)}else this.segList.addPt(this.s1);this.segList.addPt(this.offset1.p0)}},createCircle:function(t){var e=new p(t.x+this.distance,t.y);this.segList.addPt(e),this.addFilletArc(t,0,2*Math.PI,-1,this.distance),this.segList.closeRing()},addBevelJoin:function(t,e){this.segList.addPt(t.p1),this.segList.addPt(e.p0)},init:function(t){this.distance=t,this.maxCurveSegmentError=t*(1-Math.cos(this.filletAngleQuantum/2)),this.segList=new qi,this.segList.setPrecisionModel(this.precisionModel),this.segList.setMinimumVertexDistance(t*Yi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)},addCollinear:function(t){this.li.computeIntersection(this.s0,this.s1,this.s1,this.s2);var e=this.li.getIntersectionNum();e>=2&&(this.bufParams.getJoinStyle()===ji.JOIN_BEVEL||this.bufParams.getJoinStyle()===ji.JOIN_MITRE?(t&&this.segList.addPt(this.offset0.p1),this.segList.addPt(this.offset1.p0)):this.addFilletCorner(this.s1,this.offset0.p1,this.offset1.p0,ce.CLOCKWISE,this.distance))},closeRing:function(){this.segList.closeRing()},hasNarrowConcaveAngle:function(){return this._hasNarrowConcaveAngle},interfaces_:function(){return[]},getClass:function(){return Yi}}),Yi.OFFSET_SEGMENT_SEPARATION_FACTOR=.001,Yi.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=.001,Yi.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,Yi.MAX_CLOSING_SEG_LEN_FACTOR=80,e(Xi.prototype,{getOffsetCurve:function(t,e){if(this.distance=e,0===e)return null;var n=0>e,i=Math.abs(e),r=this.getSegGen(i);t.length<=1?this.computePointCurve(t[0],r):this.computeOffsetCurve(t,n,r);var o=r.getCoordinates();return n&&X.reverse(o),o},computeSingleSidedBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){n.addSegments(t,!0);var r=Vi.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],hn.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{n.addSegments(t,!1);var a=Vi.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],hn.LEFT),n.addFirstSegment();for(var s=2;u>=s;s++)n.addNextSegment(a[s],!0)}n.addLastSegment(),n.closeRing()},computeRingBufferCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);e===hn.RIGHT&&(i=-i);var r=Vi.simplify(t,i),o=r.length-1;n.initSideSegments(r[o-1],r[0],e);for(var s=1;o>=s;s++){var a=1!==s;n.addNextSegment(r[s],a)}n.closeRing()},computeLineBufferCurve:function(t,e){var n=this.simplifyTolerance(this.distance),i=Vi.simplify(t,n),r=i.length-1;e.initSideSegments(i[0],i[1],hn.LEFT);for(var o=2;r>=o;o++)e.addNextSegment(i[o],!0);e.addLastSegment(),e.addLineEndCap(i[r-1],i[r]);var s=Vi.simplify(t,-n),a=s.length-1;e.initSideSegments(s[a],s[a-1],hn.LEFT);for(var o=a-2;o>=0;o--)e.addNextSegment(s[o],!0);e.addLastSegment(),e.addLineEndCap(s[1],s[0]),e.closeRing()},computePointCurve:function(t,e){switch(this.bufParams.getEndCapStyle()){case ji.CAP_ROUND:e.createCircle(t);break;case ji.CAP_SQUARE:e.createSquare(t)}},getLineCurve:function(t,e){if(this.distance=e,0>e&&!this.bufParams.isSingleSided())return null;if(0===e)return null;var n=Math.abs(e),i=this.getSegGen(n);if(t.length<=1)this.computePointCurve(t[0],i);else if(this.bufParams.isSingleSided()){var r=0>e;this.computeSingleSidedBufferCurve(t,r,i)}else this.computeLineBufferCurve(t,i);var o=i.getCoordinates();return o},getBufferParameters:function(){return this.bufParams},simplifyTolerance:function(t){return t*this.bufParams.getSimplifyFactor()},getRingCurve:function(t,e,n){if(this.distance=n,t.length<=2)return this.getLineCurve(t,n);if(0===n)return Xi.copyCoordinates(t);var i=this.getSegGen(n);return this.computeRingBufferCurve(t,e,i),i.getCoordinates()},computeOffsetCurve:function(t,e,n){var i=this.simplifyTolerance(this.distance);if(e){var r=Vi.simplify(t,-i),o=r.length-1;n.initSideSegments(r[o],r[o-1],hn.LEFT),n.addFirstSegment();for(var s=o-2;s>=0;s--)n.addNextSegment(r[s],!0)}else{var a=Vi.simplify(t,i),u=a.length-1;n.initSideSegments(a[0],a[1],hn.LEFT),n.addFirstSegment();for(var s=2;u>=s;s++)n.addNextSegment(a[s],!0)}n.addLastSegment()},getSegGen:function(t){return new Yi(this.precisionModel,this.bufParams,t)},interfaces_:function(){return[]},getClass:function(){return Xi}}),Xi.copyCoordinates=function(t){for(var e=new Array(t.length).fill(null),n=0;n<e.length;n++)e[n]=new p(t[n]);return e},e(Wi.prototype,{findStabbedSegments:function(){if(1===arguments.length){for(var t=arguments[0],e=new _,n=this.subgraphs.iterator();n.hasNext();){var i=n.next(),r=i.getEnvelope();t.y<r.getMinY()||t.y>r.getMaxY()||this.findStabbedSegments(t,i.getDirectedEdges(),e)}return e}if(3===arguments.length)if(I(arguments[2],y)&&arguments[0]instanceof p&&arguments[1]instanceof _n)for(var o=arguments[0],s=arguments[1],a=arguments[2],u=s.getEdge().getCoordinates(),n=0;n<u.length-1;n++){this.seg.p0=u[n],this.seg.p1=u[n+1],this.seg.p0.y>this.seg.p1.y&&this.seg.reverse();var l=Math.max(this.seg.p0.x,this.seg.p1.x);if(!(l<o.x||this.seg.isHorizontal()||o.y<this.seg.p0.y||o.y>this.seg.p1.y||ce.computeOrientation(this.seg.p0,this.seg.p1,o)===ce.RIGHT)){var c=s.getDepth(hn.LEFT);this.seg.p0.equals(u[n])||(c=s.getDepth(hn.RIGHT));var h=new Zi(this.seg,c);a.add(h)}}else if(I(arguments[2],y)&&arguments[0]instanceof p&&I(arguments[1],y))for(var f=arguments[0],d=arguments[1],g=arguments[2],n=d.iterator();n.hasNext();){var m=n.next();m.isForward()&&this.findStabbedSegments(f,m,g)}},getDepth:function(t){var e=this.findStabbedSegments(t);if(0===e.size())return 0;var n=hs.min(e);return n.leftDepth},interfaces_:function(){return[]},getClass:function(){return Wi}}),e(Zi.prototype,{compareTo:function(t){var e=t;if(this.upwardSeg.minX()>=e.upwardSeg.maxX())return 1;if(this.upwardSeg.maxX()<=e.upwardSeg.minX())return-1;var n=this.upwardSeg.orientationIndex(e.upwardSeg);return 0!==n?n:(n=-1*e.upwardSeg.orientationIndex(this.upwardSeg),0!==n?n:this.upwardSeg.compareTo(e.upwardSeg))},compareX:function(t,e){var n=t.p0.compareTo(e.p0);return 0!==n?n:t.p1.compareTo(e.p1)},toString:function(){return this.upwardSeg.toString()},interfaces_:function(){return[o]},getClass:function(){return Zi}}),Wi.DepthSegment=Zi,e(Hi.prototype,{addPoint:function(t){if(this.distance<=0)return null;var e=t.getCoordinates(),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,A.EXTERIOR,A.INTERIOR)},addPolygon:function(t){var e=this.distance,n=hn.LEFT;this.distance<0&&(e=-this.distance,n=hn.RIGHT);var i=t.getExteriorRing(),r=X.removeRepeatedPoints(i.getCoordinates());if(this.distance<0&&this.isErodedCompletely(i,this.distance))return null;if(this.distance<=0&&r.length<3)return null;this.addPolygonRing(r,e,n,A.EXTERIOR,A.INTERIOR);for(var o=0;o<t.getNumInteriorRing();o++){var s=t.getInteriorRingN(o),a=X.removeRepeatedPoints(s.getCoordinates());this.distance>0&&this.isErodedCompletely(s,-this.distance)||this.addPolygonRing(a,e,hn.opposite(n),A.INTERIOR,A.EXTERIOR)}},isTriangleErodedCompletely:function(t,e){var n=new hi(t[0],t[1],t[2]),i=n.inCentre(),r=ce.distancePointLine(i,n.p0,n.p1);return r<Math.abs(e)},addLineString:function(t){if(this.distance<=0&&!this.curveBuilder.getBufferParameters().isSingleSided())return null;var e=X.removeRepeatedPoints(t.getCoordinates()),n=this.curveBuilder.getLineCurve(e,this.distance);this.addCurve(n,A.EXTERIOR,A.INTERIOR)},addCurve:function(t,e,n){if(null===t||t.length<2)return null;var i=new He(t,new pn(0,A.BOUNDARY,e,n));this.curveList.add(i)},getCurves:function(){return this.add(this.inputGeom),this.curveList},addPolygonRing:function(t,e,n,i,r){if(0===e&&t.length<Mt.MINIMUM_VALID_SIZE)return null;var o=i,s=r;t.length>=Mt.MINIMUM_VALID_SIZE&&ce.isCCW(t)&&(o=r,s=i,n=hn.opposite(n));var a=this.curveBuilder.getRingCurve(t,n,e);this.addCurve(a,o,s)},add:function(t){if(t.isEmpty())return null;if(t instanceof Ct)this.addPolygon(t);else if(t instanceof Tt)this.addLineString(t);else if(t instanceof At)this.addPoint(t);else if(t instanceof Lt)this.addCollection(t);else if(t instanceof pt)this.addCollection(t);else if(t instanceof Nt)this.addCollection(t);else{if(!(t instanceof ft))throw new UnsupportedOperationException(t.getClass().getName());this.addCollection(t)}},isErodedCompletely:function(t,e){var n=t.getCoordinates();if(n.length<4)return 0>e;if(4===n.length)return this.isTriangleErodedCompletely(n,e);var i=t.getEnvelopeInternal(),r=Math.min(i.getHeight(),i.getWidth());return 0>e&&2*Math.abs(e)>r},addCollection:function(t){for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);this.add(n)}},interfaces_:function(){return[]},getClass:function(){return Hi}}),e($i.prototype,{isTrivialIntersection:function(t,e,n,i){if(t===n&&1===this.li.getIntersectionNum()){if($i.isAdjacentSegments(e,i))return!0;if(t.isClosed()){var r=t.size()-1;if(0===e&&i===r||0===i&&e===r)return!0}}return!1},getProperIntersectionPoint:function(){return this.properIntersectionPoint},hasProperInteriorIntersection:function(){return this.hasProperInterior},getLineIntersector:function(){return this.li},hasProperIntersection:function(){return this.hasProper},processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;this.numTests++;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&(this.numIntersections++,this.li.isInteriorIntersection()&&(this.numInteriorIntersections++,this.hasInterior=!0),this.isTrivialIntersection(t,e,n,i)||(this._hasIntersection=!0,t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1),this.li.isProper()&&(this.numProperIntersections++,this.hasProper=!0,this.hasProperInterior=!0)))},hasIntersection:function(){return this._hasIntersection},isDone:function(){return!1},hasInteriorIntersection:function(){return this.hasInterior},interfaces_:function(){return[sn]},getClass:function(){return $i}}),$i.isAdjacentSegments=function(t,e){return 1===Math.abs(t-e)},e(Ji.prototype,{setWorkingPrecisionModel:function(t){this.workingPrecisionModel=t},insertUniqueEdge:function(t){var e=this.edgeList.findEqualEdge(t);if(null!==e){var n=e.getLabel(),i=t.getLabel();e.isPointwiseEqual(t)||(i=new pn(t.getLabel()),i.flip()),n.merge(i);var r=Ji.depthDelta(i),o=e.getDepthDelta(),s=o+r;e.setDepthDelta(s)}else this.edgeList.add(t),t.setDepthDelta(Ji.depthDelta(t.getLabel()))},buildSubgraphs:function(t,e){for(var n=new _,i=t.iterator();i.hasNext();){var r=i.next(),o=r.getRightmostCoordinate(),s=new Wi(n),a=s.getDepth(o);r.computeDepth(a),r.findResultEdges(),n.add(r),e.add(r.getDirectedEdges(),r.getNodes())}},createSubgraphs:function(t){for(var e=new _,n=t.getNodes().iterator();n.hasNext();){var i=n.next();if(!i.isVisited()){var r=new Gi;r.create(i),e.add(r)}}return hs.sort(e,hs.reverseOrder()),e},createEmptyResultGeometry:function(){var t=this.geomFact.createPolygon();return t},getNoder:function(t){if(null!==this.workingNoder)return this.workingNoder;var e=new nn,n=new ae;return n.setPrecisionModel(t),e.setSegmentIntersector(new $i(n)),e},buffer:function(t,e){var n=this.workingPrecisionModel;null===n&&(n=t.getPrecisionModel()),this.geomFact=t.getFactory();var i=new Xi(n,this.bufParams),r=new Hi(t,e,i),o=r.getCurves();if(o.size()<=0)return this.createEmptyResultGeometry();this.computeNodedEdges(o,n),this.graph=new wn(new Nn),this.graph.addEdges(this.edgeList.getEdges());var s=this.createSubgraphs(this.graph),a=new Tn(this.geomFact);this.buildSubgraphs(s,a);var u=a.getPolygons();if(u.size()<=0)return this.createEmptyResultGeometry();var l=this.geomFact.buildGeometry(u);return l},computeNodedEdges:function(t,e){var n=this.getNoder(e);n.computeNodes(t);for(var i=n.getNodedSubstrings(),r=i.iterator();r.hasNext();){var o=r.next(),s=o.getCoordinates();if(2!==s.length||!s[0].equals2D(s[1])){var a=o.getData(),u=new Qn(o.getCoordinates(),new pn(a));this.insertUniqueEdge(u)}}},setNoder:function(t){this.workingNoder=t},interfaces_:function(){return[]},getClass:function(){return Ji}}),Ji.depthDelta=function(t){var e=t.getLocation(0,hn.LEFT),n=t.getLocation(0,hn.RIGHT);return e===A.INTERIOR&&n===A.EXTERIOR?1:e===A.EXTERIOR&&n===A.INTERIOR?-1:0},Ji.convertSegStrings=function(t){for(var e=new ie,n=new _;t.hasNext();){var i=t.next(),r=e.createLineString(i.getCoordinates());n.add(r)}return e.buildGeometry(n)},e(Qi.prototype,{checkEndPtVertexIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next(),n=e.getCoordinates();this.checkEndPtVertexIntersections(n[0],this.segStrings),this.checkEndPtVertexIntersections(n[n.length-1],this.segStrings)}else if(2===arguments.length)for(var i=arguments[0],r=arguments[1],t=r.iterator();t.hasNext();)for(var e=t.next(),n=e.getCoordinates(),o=1;o<n.length-1;o++)if(n[o].equals(i))throw new l("found endpt/interior pt intersection at index "+o+" :pt "+i)},checkInteriorIntersections:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();)for(var e=t.next(),n=this.segStrings.iterator();n.hasNext();){var i=n.next();this.checkInteriorIntersections(e,i)}else if(2===arguments.length)for(var r=arguments[0],o=arguments[1],s=r.getCoordinates(),a=o.getCoordinates(),u=0;u<s.length-1;u++)for(var c=0;c<a.length-1;c++)this.checkInteriorIntersections(r,u,o,c);else if(4===arguments.length){var h=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3];if(h===p&&f===d)return null;var g=h.getCoordinates()[f],m=h.getCoordinates()[f+1],v=p.getCoordinates()[d],y=p.getCoordinates()[d+1];if(this.li.computeIntersection(g,m,v,y),this.li.hasIntersection()&&(this.li.isProper()||this.hasInteriorIntersection(this.li,g,m)||this.hasInteriorIntersection(this.li,v,y)))throw new l("found non-noded intersection at "+g+"-"+m+" and "+v+"-"+y)}},checkValid:function(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()},checkCollapses:function(){if(0===arguments.length)for(var t=this.segStrings.iterator();t.hasNext();){var e=t.next();this.checkCollapses(e)}else if(1===arguments.length)for(var n=arguments[0],i=n.getCoordinates(),t=0;t<i.length-2;t++)this.checkCollapse(i[t],i[t+1],i[t+2])},hasInteriorIntersection:function(t,e,n){for(var i=0;i<t.getIntersectionNum();i++){var r=t.getIntersection(i);if(!r.equals(e)&&!r.equals(n))return!0}return!1},checkCollapse:function(t,e,n){if(t.equals(n))throw new l("found non-noded collapse at "+Qi.fact.createLineString([t,e,n]))},interfaces_:function(){return[]},getClass:function(){return Qi}}),Qi.fact=new ie,e(Ki.prototype,{intersectsScaled:function(t,e){var n=Math.min(t.x,e.x),i=Math.max(t.x,e.x),r=Math.min(t.y,e.y),o=Math.max(t.y,e.y),s=this.maxx<n||this.minx>i||this.maxy<r||this.miny>o;if(s)return!1;var a=this.intersectsToleranceSquare(t,e);return f.isTrue(!(s&&a),"Found bad envelope test"),a},initCorners:function(t){var e=.5;this.minx=t.x-e,this.maxx=t.x+e,this.miny=t.y-e,this.maxy=t.y+e,this.corner[0]=new p(this.maxx,this.maxy),this.corner[1]=new p(this.minx,this.maxy),this.corner[2]=new p(this.minx,this.miny),this.corner[3]=new p(this.maxx,this.miny)},intersects:function(t,e){return 1===this.scaleFactor?this.intersectsScaled(t,e):(this.copyScaled(t,this.p0Scaled),this.copyScaled(e,this.p1Scaled),this.intersectsScaled(this.p0Scaled,this.p1Scaled))},scale:function(t){return Math.round(t*this.scaleFactor)},getCoordinate:function(){return this.originalPt},copyScaled:function(t,e){e.x=this.scale(t.x),e.y=this.scale(t.y)},getSafeEnvelope:function(){if(null===this.safeEnv){var t=Ki.SAFE_ENV_EXPANSION_FACTOR/this.scaleFactor;this.safeEnv=new w(this.originalPt.x-t,this.originalPt.x+t,this.originalPt.y-t,this.originalPt.y+t)}return this.safeEnv},intersectsPixelClosure:function(t,e){return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),this.li.hasIntersection()?!0:(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.hasIntersection()?!0:(this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.hasIntersection()?!0:(this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),!!this.li.hasIntersection())))},intersectsToleranceSquare:function(t,e){var n=!1,i=!1;return this.li.computeIntersection(t,e,this.corner[0],this.corner[1]),this.li.isProper()?!0:(this.li.computeIntersection(t,e,this.corner[1],this.corner[2]),this.li.isProper()?!0:(this.li.hasIntersection()&&(n=!0),this.li.computeIntersection(t,e,this.corner[2],this.corner[3]),this.li.isProper()?!0:(this.li.hasIntersection()&&(i=!0),this.li.computeIntersection(t,e,this.corner[3],this.corner[0]),this.li.isProper()?!0:n&&i?!0:t.equals(this.pt)?!0:!!e.equals(this.pt))))},addSnappedNode:function(t,e){var n=t.getCoordinate(e),i=t.getCoordinate(e+1);return this.intersects(n,i)?(t.addIntersection(this.getCoordinate(),e),!0):!1},interfaces_:function(){return[]},getClass:function(){return Ki}}),Ki.SAFE_ENV_EXPANSION_FACTOR=.75,e(tr.prototype,{select:function(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){var t=arguments[0],e=arguments[1];t.getLineSegment(e,this.selectedSegment),this.select(this.selectedSegment)}},interfaces_:function(){return[]},getClass:function(){return tr}}),e(er.prototype,{snap:function(){if(1===arguments.length){var t=arguments[0];return this.snap(t,null,-1)}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2],r=e.getSafeEnvelope(),o=new nr(e,n,i);return this.index.query(r,{interfaces_:function(){return[Pe]},visitItem:function(t){var e=t;e.select(r,o)}}),o.isNodeAdded()}},interfaces_:function(){return[]},getClass:function(){return er}}),c(nr,tr),e(nr.prototype,{isNodeAdded:function(){return this._isNodeAdded},select:function(){if(2!==arguments.length)return tr.prototype.select.apply(this,arguments);var t=arguments[0],e=arguments[1],n=t.getContext();return null!==this.parentEdge&&n===this.parentEdge&&e===this.hotPixelVertexIndex?null:void(this._isNodeAdded=this.hotPixel.addSnappedNode(n,e))},interfaces_:function(){return[]},getClass:function(){return nr}}),er.HotPixelSnapAction=nr,e(ir.prototype,{processIntersections:function(t,e,n,i){if(t===n&&e===i)return null;var r=t.getCoordinates()[e],o=t.getCoordinates()[e+1],s=n.getCoordinates()[i],a=n.getCoordinates()[i+1];if(this.li.computeIntersection(r,o,s,a),this.li.hasIntersection()&&this.li.isInteriorIntersection()){for(var u=0;u<this.li.getIntersectionNum();u++)this.interiorIntersections.add(this.li.getIntersection(u));t.addIntersections(this.li,e,0),n.addIntersections(this.li,i,1)}},isDone:function(){return!1},getInteriorIntersections:function(){return this.interiorIntersections},interfaces_:function(){return[sn]},getClass:function(){return ir}}),e(rr.prototype,{checkCorrectness:function(t){var e=He.getNodedSubstrings(t),n=new Qi(e);try{n.checkValid()}catch(t){if(!(t instanceof T))throw t;t.printStackTrace()}finally{}},getNodedSubstrings:function(){return He.getNodedSubstrings(this.nodedSegStrings)},snapRound:function(t,e){var n=this.findInteriorIntersections(t,e);this.computeIntersectionSnaps(n),this.computeVertexSnaps(t)},findInteriorIntersections:function(t,e){var n=new ir(e);return this.noder.setSegmentIntersector(n),this.noder.computeNodes(t),n.getInteriorIntersections()},computeVertexSnaps:function(){if(I(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.computeVertexSnaps(n)}else if(arguments[0]instanceof He)for(var i=arguments[0],r=i.getCoordinates(),o=0;o<r.length;o++){var s=new Ki(r[o],this.scaleFactor,this.li),a=this.pointSnapper.snap(s,i,o);a&&i.addIntersection(r[o],o)}},computeNodes:function(t){this.nodedSegStrings=t,this.noder=new nn,this.pointSnapper=new er(this.noder.getIndex()),this.snapRound(t,this.li)},computeIntersectionSnaps:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=new Ki(n,this.scaleFactor,this.li);this.pointSnapper.snap(i)}},interfaces_:function(){return[tn]},getClass:function(){return rr}}),e(or.prototype,{bufferFixedPrecision:function(t){var e=new ki(new rr(new ee(1)),t.getScale()),n=new Ji(this.bufParams);n.setWorkingPrecisionModel(t),n.setNoder(e),this.resultGeometry=n.buffer(this.argGeom,this.distance)},bufferReducedPrecision:function(){if(0===arguments.length){for(var t=or.MAX_PRECISION_DIGITS;t>=0;t--){try{this.bufferReducedPrecision(t)}catch(t){if(!(t instanceof on))throw t;this.saveException=t}finally{}if(null!==this.resultGeometry)return null}throw this.saveException}if(1===arguments.length){var e=arguments[0],n=or.precisionScaleFactor(this.argGeom,this.distance,e),i=new ee(n);this.bufferFixedPrecision(i)}},computeGeometry:function(){if(this.bufferOriginalPrecision(),null!==this.resultGeometry)return null;var t=this.argGeom.getFactory().getPrecisionModel();t.getType()===ee.FIXED?this.bufferFixedPrecision(t):this.bufferReducedPrecision()},setQuadrantSegments:function(t){this.bufParams.setQuadrantSegments(t)},bufferOriginalPrecision:function(){try{var t=new Ji(this.bufParams);this.resultGeometry=t.buffer(this.argGeom,this.distance)}catch(t){if(!(t instanceof l))throw t;this.saveException=t}finally{}},getResultGeometry:function(t){return this.distance=t,this.computeGeometry(),this.resultGeometry},setEndCapStyle:function(t){this.bufParams.setEndCapStyle(t)},interfaces_:function(){return[]},getClass:function(){return or}}),or.bufferOp=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new or(t),i=n.getResultGeometry(e);return i}if(3===arguments.length){if(Number.isInteger(arguments[2])&&arguments[0]instanceof j&&"number"==typeof arguments[1]){var r=arguments[0],o=arguments[1],s=arguments[2],a=new or(r);a.setQuadrantSegments(s);var i=a.getResultGeometry(o);return i}if(arguments[2]instanceof ji&&arguments[0]instanceof j&&"number"==typeof arguments[1]){var u=arguments[0],l=arguments[1],c=arguments[2],a=new or(u,c),i=a.getResultGeometry(l);return i}}else if(4===arguments.length){var h=arguments[0],f=arguments[1],p=arguments[2],d=arguments[3],a=new or(h);a.setQuadrantSegments(p),a.setEndCapStyle(d);var i=a.getResultGeometry(f);return i}},or.precisionScaleFactor=function(t,e,n){var i=t.getEnvelopeInternal(),r=C.max(Math.abs(i.getMaxX()),Math.abs(i.getMaxY()),Math.abs(i.getMinX()),Math.abs(i.getMinY())),o=e>0?e:0,s=r+2*o,a=Math.trunc(Math.log(s)/Math.log(10)+1),u=n-a,l=Math.pow(10,u);return l},or.CAP_ROUND=ji.CAP_ROUND,or.CAP_BUTT=ji.CAP_FLAT,or.CAP_FLAT=ji.CAP_FLAT,or.CAP_SQUARE=ji.CAP_SQUARE,or.MAX_PRECISION_DIGITS=12;var ws=Object.freeze({BufferOp:or,BufferParameters:ji});e(sr.prototype,{filter:function(t){t instanceof Ct&&this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return sr}}),sr.getPolygons=function(){if(1===arguments.length){var t=arguments[0];return sr.getPolygons(t,new _)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof Ct?n.add(e):e instanceof ft&&e.apply(new sr(n)),n}},e(ar.prototype,{isInsideArea:function(){return this.segIndex===ar.INSIDE_AREA},getCoordinate:function(){return this.pt},getGeometryComponent:function(){return this.component},getSegmentIndex:function(){return this.segIndex},interfaces_:function(){return[]},getClass:function(){return ar}}),ar.INSIDE_AREA=-1,e(ur.prototype,{filter:function(t){t instanceof At&&this.pts.add(t)},interfaces_:function(){return[ct]},getClass:function(){return ur}}),ur.getPoints=function(){if(1===arguments.length){var t=arguments[0];return t instanceof At?hs.singletonList(t):ur.getPoints(t,new _)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return e instanceof At?n.add(e):e instanceof ft&&e.apply(new ur(n)),n}},e(lr.prototype,{filter:function(t){(t instanceof At||t instanceof Tt||t instanceof Ct)&&this.locations.add(new ar(t,0,t.getCoordinate()))},interfaces_:function(){return[ct]},getClass:function(){return lr}}),lr.getLocations=function(t){var e=new _;return t.apply(new lr(e)),e},e(cr.prototype,{computeContainmentDistance:function(){if(0===arguments.length){var t=new Array(2).fill(null);if(this.computeContainmentDistance(0,t),this.minDistance<=this.terminateDistance)return null;this.computeContainmentDistance(1,t)}else if(2===arguments.length){var e=arguments[0],n=arguments[1],i=1-e,r=sr.getPolygons(this.geom[e]);if(r.size()>0){var o=lr.getLocations(this.geom[i]);if(this.computeContainmentDistance(o,r,n),this.minDistance<=this.terminateDistance)return this.minDistanceLocation[i]=n[0],this.minDistanceLocation[e]=n[1],null}}else if(3===arguments.length)if(arguments[2]instanceof Array&&I(arguments[0],y)&&I(arguments[1],y)){for(var s=arguments[0],a=arguments[1],u=arguments[2],l=0;l<s.size();l++)for(var c=s.get(l),h=0;h<a.size();h++)if(this.computeContainmentDistance(c,a.get(h),u),this.minDistance<=this.terminateDistance)return null}else if(arguments[2]instanceof Array&&arguments[0]instanceof ar&&arguments[1]instanceof Ct){var f=arguments[0],p=arguments[1],d=arguments[2],g=f.getCoordinate();if(A.EXTERIOR!==this.ptLocator.locate(g,p))return this.minDistance=0,d[0]=f,d[1]=new ar(p,g),null}},computeMinDistanceLinesPoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this.minDistance<=this.terminateDistance)return null}},computeFacetDistance:function(){var t=new Array(2).fill(null),e=Gn.getLines(this.geom[0]),n=Gn.getLines(this.geom[1]),i=ur.getPoints(this.geom[0]),r=ur.getPoints(this.geom[1]);return this.computeMinDistanceLines(e,n,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(e,r,t),this.updateMinDistance(t,!1),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistanceLinesPoints(n,i,t),this.updateMinDistance(t,!0),this.minDistance<=this.terminateDistance?null:(t[0]=null,t[1]=null,this.computeMinDistancePoints(i,r,t),void this.updateMinDistance(t,!1))))},nearestLocations:function(){return this.computeMinDistance(),this.minDistanceLocation},updateMinDistance:function(t,e){return null===t[0]?null:void(e?(this.minDistanceLocation[0]=t[1],this.minDistanceLocation[1]=t[0]):(this.minDistanceLocation[0]=t[0],this.minDistanceLocation[1]=t[1]))},nearestPoints:function(){this.computeMinDistance();var t=[this.minDistanceLocation[0].getCoordinate(),this.minDistanceLocation[1].getCoordinate()];return t},computeMinDistance:function(){if(0===arguments.length){if(null!==this.minDistanceLocation)return null;if(this.minDistanceLocation=new Array(2).fill(null),this.computeContainmentDistance(),this.minDistance<=this.terminateDistance)return null;this.computeFacetDistance()}else if(3===arguments.length)if(arguments[2]instanceof Array&&arguments[0]instanceof Tt&&arguments[1]instanceof At){var t=arguments[0],e=arguments[1],n=arguments[2];if(t.getEnvelopeInternal().distance(e.getEnvelopeInternal())>this.minDistance)return null;for(var i=t.getCoordinates(),r=e.getCoordinate(),o=0;o<i.length-1;o++){var s=ce.distancePointLine(r,i[o],i[o+1]);if(s<this.minDistance){this.minDistance=s;var a=new he(i[o],i[o+1]),u=a.closestPoint(r);n[0]=new ar(t,o,u),n[1]=new ar(e,0,r)}if(this.minDistance<=this.terminateDistance)return null}}else if(arguments[2]instanceof Array&&arguments[0]instanceof Tt&&arguments[1]instanceof Tt){var l=arguments[0],c=arguments[1],h=arguments[2];if(l.getEnvelopeInternal().distance(c.getEnvelopeInternal())>this.minDistance)return null;for(var i=l.getCoordinates(),f=c.getCoordinates(),o=0;o<i.length-1;o++)for(var p=0;p<f.length-1;p++){var s=ce.distanceLineLine(i[o],i[o+1],f[p],f[p+1]);if(s<this.minDistance){this.minDistance=s;var d=new he(i[o],i[o+1]),g=new he(f[p],f[p+1]),m=d.closestPoints(g);h[0]=new ar(l,o,m[0]),h[1]=new ar(c,p,m[1])}if(this.minDistance<=this.terminateDistance)return null}}},computeMinDistancePoints:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o),a=r.getCoordinate().distance(s.getCoordinate());if(a<this.minDistance&&(this.minDistance=a,n[0]=new ar(r,0,r.getCoordinate()),n[1]=new ar(s,0,s.getCoordinate())),this.minDistance<=this.terminateDistance)return null}},distance:function(){if(null===this.geom[0]||null===this.geom[1])throw new i("null geometries are not supported");return this.geom[0].isEmpty()||this.geom[1].isEmpty()?0:(this.computeMinDistance(),this.minDistance)},computeMinDistanceLines:function(t,e,n){for(var i=0;i<t.size();i++)for(var r=t.get(i),o=0;o<e.size();o++){var s=e.get(o);if(this.computeMinDistance(r,s,n),this.minDistance<=this.terminateDistance)return null}},interfaces_:function(){return[]},getClass:function(){return cr}}),cr.distance=function(t,e){var n=new cr(t,e);return n.distance()},cr.isWithinDistance=function(t,e,n){var i=new cr(t,e,n);return i.distance()<=n},cr.nearestPoints=function(t,e){var n=new cr(t,e);return n.nearestPoints()};var Ts=Object.freeze({DistanceOp:cr});e(hr.prototype,{getCoordinates:function(){if(null===this.coordinates){for(var t=0,e=0,n=new E,i=this.directedEdges.iterator();i.hasNext();){var r=i.next();r.getEdgeDirection()?t++:e++,n.add(r.getEdge().getLine().getCoordinates(),!1,r.getEdgeDirection())}this.coordinates=n.toCoordinateArray(),e>t&&X.reverse(this.coordinates)}return this.coordinates},toLineString:function(){return this.factory.createLineString(this.getCoordinates())},add:function(t){this.directedEdges.add(t)},interfaces_:function(){return[]},getClass:function(){return hr}}),e(fr.prototype,{setVisited:function(t){this._isVisited=t},isMarked:function(){return this._isMarked},setData:function(t){this.data=t},getData:function(){return this.data},setMarked:function(t){this._isMarked=t},getContext:function(){return this.data},isVisited:function(){return this._isVisited},setContext:function(t){this.data=t},interfaces_:function(){return[]},getClass:function(){return fr}}),fr.getComponentWithVisitedState=function(t,e){for(;t.hasNext();){var n=t.next();if(n.isVisited()===e)return n}return null},fr.setVisited=function(t,e){for(;t.hasNext();){var n=t.next();n.setVisited(e)}},fr.setMarked=function(t,e){for(;t.hasNext();){var n=t.next();n.setMarked(e)}},c(pr,fr),e(pr.prototype,{isRemoved:function(){return null===this.parentEdge},compareDirection:function(t){return this.quadrant>t.quadrant?1:this.quadrant<t.quadrant?-1:ce.computeOrientation(t.p0,t.p1,this.p1)},getCoordinate:function(){return this.from.getCoordinate()},print:function(t){var e=this.getClass().getName(),n=e.lastIndexOf("."),i=e.substring(n+1);t.print("  "+i+": "+this.p0+" - "+this.p1+" "+this.quadrant+":"+this.angle)},getDirectionPt:function(){return this.p1},getAngle:function(){return this.angle},compareTo:function(t){var e=t;return this.compareDirection(e)},getFromNode:function(){return this.from},getSym:function(){return this.sym},setEdge:function(t){this.parentEdge=t},remove:function(){this.sym=null,this.parentEdge=null},getEdge:function(){return this.parentEdge},getQuadrant:function(){return this.quadrant},setSym:function(t){this.sym=t},getToNode:function(){return this.to},getEdgeDirection:function(){return this.edgeDirection},interfaces_:function(){return[o]},getClass:function(){return pr}}),pr.toEdges=function(t){for(var e=new _,n=t.iterator();n.hasNext();)e.add(n.next().parentEdge);return e},c(dr,pr),e(dr.prototype,{getNext:function(){return 2!==this.getToNode().getDegree()?null:this.getToNode().getOutEdges().getEdges().get(0)===this.getSym()?this.getToNode().getOutEdges().getEdges().get(1):(f.isTrue(this.getToNode().getOutEdges().getEdges().get(1)===this.getSym()),this.getToNode().getOutEdges().getEdges().get(0))},interfaces_:function(){return[]},getClass:function(){return dr}}),c(gr,fr),e(gr.prototype,{isRemoved:function(){return null===this.dirEdge},setDirectedEdges:function(t,e){this.dirEdge=[t,e],t.setEdge(this),e.setEdge(this),t.setSym(e),e.setSym(t),t.getFromNode().addOutEdge(t),e.getFromNode().addOutEdge(e)},getDirEdge:function(){if(Number.isInteger(arguments[0])){var t=arguments[0];return this.dirEdge[t]}if(arguments[0]instanceof vr){var e=arguments[0];return this.dirEdge[0].getFromNode()===e?this.dirEdge[0]:this.dirEdge[1].getFromNode()===e?this.dirEdge[1]:null}},remove:function(){this.dirEdge=null},getOppositeNode:function(t){return this.dirEdge[0].getFromNode()===t?this.dirEdge[0].getToNode():this.dirEdge[1].getFromNode()===t?this.dirEdge[1].getToNode():null},interfaces_:function(){return[]},getClass:function(){return gr}}),e(mr.prototype,{getNextEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e+1))},getCoordinate:function(){var t=this.iterator();if(!t.hasNext())return null;var e=t.next();return e.getCoordinate()},iterator:function(){return this.sortEdges(),this.outEdges.iterator()},sortEdges:function(){this.sorted||(hs.sort(this.outEdges),this.sorted=!0)},remove:function(t){this.outEdges.remove(t)},getEdges:function(){return this.sortEdges(),this.outEdges},getNextCWEdge:function(t){var e=this.getIndex(t);return this.outEdges.get(this.getIndex(e-1))},getIndex:function(){if(arguments[0]instanceof gr){var t=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var n=this.outEdges.get(e);if(n.getEdge()===t)return e}return-1}if(arguments[0]instanceof pr){var i=arguments[0];this.sortEdges();for(var e=0;e<this.outEdges.size();e++){var n=this.outEdges.get(e);if(n===i)return e}return-1}if(Number.isInteger(arguments[0])){var r=arguments[0],o=r%this.outEdges.size();return 0>o&&(o+=this.outEdges.size()),o}},add:function(t){this.outEdges.add(t),this.sorted=!1},getDegree:function(){return this.outEdges.size()},interfaces_:function(){return[]},getClass:function(){return mr}}),c(vr,fr),e(vr.prototype,{isRemoved:function(){return null===this.pt},addOutEdge:function(t){this.deStar.add(t)},getCoordinate:function(){return this.pt},getOutEdges:function(){return this.deStar},remove:function(){if(0===arguments.length)this.pt=null;else if(1===arguments.length){var t=arguments[0];this.deStar.remove(t)}},getIndex:function(t){return this.deStar.getIndex(t)},getDegree:function(){return this.deStar.getDegree()},interfaces_:function(){return[]},getClass:function(){return vr}}),vr.getEdgesBetween=function(t,e){var n=pr.toEdges(t.getOutEdges().getEdges()),i=new Q(n),r=pr.toEdges(e.getOutEdges().getEdges());return i.retainAll(r),i},c(yr,gr),e(yr.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return yr}}),e(br.prototype,{find:function(t){return this.nodeMap.get(t)},iterator:function(){return this.nodeMap.values().iterator()},remove:function(t){return this.nodeMap.remove(t)},values:function(){return this.nodeMap.values()},add:function(t){return this.nodeMap.put(t.getCoordinate(),t),t},interfaces_:function(){return[]},getClass:function(){return br}}),e(xr.prototype,{findNodesOfDegree:function(t){for(var e=new _,n=this.nodeIterator();n.hasNext();){var i=n.next();i.getDegree()===t&&e.add(i)}return e},dirEdgeIterator:function(){return this.dirEdges.iterator()},edgeIterator:function(){return this.edges.iterator()},remove:function(){if(arguments[0]instanceof gr){var t=arguments[0];this.remove(t.getDirEdge(0)),this.remove(t.getDirEdge(1)),this.edges.remove(t),t.remove()}else if(arguments[0]instanceof pr){var e=arguments[0],n=e.getSym();null!==n&&n.setSym(null),e.getFromNode().remove(e),e.remove(),this.dirEdges.remove(e)}else if(arguments[0]instanceof vr){for(var i=arguments[0],r=i.getOutEdges().getEdges(),o=r.iterator();o.hasNext();){var s=o.next(),n=s.getSym();null!==n&&this.remove(n),this.dirEdges.remove(s);var a=s.getEdge();null!==a&&this.edges.remove(a)}this.nodeMap.remove(i.getCoordinate()),i.remove()}},findNode:function(t){return this.nodeMap.find(t)},getEdges:function(){return this.edges},nodeIterator:function(){return this.nodeMap.iterator()},contains:function(){if(arguments[0]instanceof gr){var t=arguments[0];return this.edges.contains(t)}if(arguments[0]instanceof pr){var e=arguments[0];return this.dirEdges.contains(e)}},add:function(){if(arguments[0]instanceof vr){var t=arguments[0];this.nodeMap.add(t)}else if(arguments[0]instanceof gr){var e=arguments[0];this.edges.add(e),this.add(e.getDirEdge(0)),this.add(e.getDirEdge(1))}else if(arguments[0]instanceof pr){var n=arguments[0];this.dirEdges.add(n)}},getNodes:function(){return this.nodeMap.values()},interfaces_:function(){return[]},getClass:function(){return xr}}),c(_r,xr),e(_r.prototype,{addEdge:function(t){if(t.isEmpty())return null;var e=X.removeRepeatedPoints(t.getCoordinates());if(e.length<=1)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),s=new dr(r,o,e[1],!0),a=new dr(o,r,e[e.length-2],!1),u=new yr(t);u.setDirectedEdges(s,a),this.add(u)},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new vr(t),this.add(e)),e},interfaces_:function(){return[]},getClass:function(){return _r}}),e(Er.prototype,{buildEdgeStringsForUnprocessedNodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();e.isMarked()||(f.isTrue(2===e.getDegree()),this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForNonDegree2Nodes:function(){for(var t=this.graph.getNodes().iterator();t.hasNext();){var e=t.next();2!==e.getDegree()&&(this.buildEdgeStringsStartingAt(e),e.setMarked(!0))}},buildEdgeStringsForObviousStartNodes:function(){this.buildEdgeStringsForNonDegree2Nodes()},getMergedLineStrings:function(){return this.merge(),this.mergedLineStrings},buildEdgeStringsStartingAt:function(t){for(var e=t.getOutEdges().iterator();e.hasNext();){var n=e.next();n.getEdge().isMarked()||this.edgeStrings.add(this.buildEdgeStringStartingWith(n))}},merge:function(){if(null!==this.mergedLineStrings)return null;fr.setMarked(this.graph.nodeIterator(),!1),fr.setMarked(this.graph.edgeIterator(),!1),this.edgeStrings=new _,this.buildEdgeStringsForObviousStartNodes(),this.buildEdgeStringsForIsolatedLoops(),this.mergedLineStrings=new _;for(var t=this.edgeStrings.iterator();t.hasNext();){var e=t.next();this.mergedLineStrings.add(e.toLineString())}},buildEdgeStringStartingWith:function(t){var e=new hr(this.factory),n=t;do{e.add(n),n.getEdge().setMarked(!0),n=n.getNext()}while(null!==n&&n!==t);return e},add:function(){if(arguments[0]instanceof j){var t=arguments[0];t.apply({interfaces_:function(){return[F]},filter:function(t){t instanceof Tt&&this.add(t)}})}else if(I(arguments[0],m)){var e=arguments[0];this.mergedLineStrings=null;for(var n=e.iterator();n.hasNext();){var i=n.next();this.add(i)}}else if(arguments[0]instanceof Tt){var r=arguments[0];null===this.factory&&(this.factory=r.getFactory()),this.graph.addEdge(r)}},buildEdgeStringsForIsolatedLoops:function(){this.buildEdgeStringsForUnprocessedNodes()},interfaces_:function(){return[]},getClass:function(){return Er}});var Ss=Object.freeze({LineMerger:Er}),As=Object.freeze({OverlayOp:ii});c(wr,pr),e(wr.prototype,{getNext:function(){return this.next},isInRing:function(){return null!==this.edgeRing},setRing:function(t){this.edgeRing=t},setLabel:function(t){this.label=t},getLabel:function(){return this.label},setNext:function(t){this.next=t},getRing:function(){return this.edgeRing},interfaces_:function(){return[]},getClass:function(){return wr}}),c(Tr,gr),e(Tr.prototype,{getLine:function(){return this.line},interfaces_:function(){return[]},getClass:function(){return Tr}}),e(Sr.prototype,{isIncluded:function(){return this._isIncluded},getCoordinates:function(){if(null===this.ringPts){for(var t=new E,e=this.deList.iterator();e.hasNext();){var n=e.next(),i=n.getEdge();Sr.addEdge(i.getLine().getCoordinates(),n.getEdgeDirection(),t)}this.ringPts=t.toCoordinateArray()}return this.ringPts},isIncludedSet:function(){return this._isIncludedSet},isValid:function(){return this.getCoordinates(),this.ringPts.length<=3?!1:(this.getRing(),this.ring.isValid())},build:function(t){var e=t;do{this.add(e),e.setRing(this),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t)},isOuterHole:function(){return this._isHole?!this.hasShell():!1},getPolygon:function(){var t=null;if(null!==this.holes){t=new Array(this.holes.size()).fill(null);for(var e=0;e<this.holes.size();e++)t[e]=this.holes.get(e)}var n=this.factory.createPolygon(this.ring,t);return n},isHole:function(){return this._isHole},isProcessed:function(){return this._isProcessed},addHole:function(){if(arguments[0]instanceof Mt){var t=arguments[0];null===this.holes&&(this.holes=new _),this.holes.add(t)}else if(arguments[0]instanceof Sr){var e=arguments[0];e.setShell(this);var n=e.getRing();null===this.holes&&(this.holes=new _),this.holes.add(n)}},setIncluded:function(t){this._isIncluded=t,this._isIncludedSet=!0},getOuterHole:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),n=e.getSym().getRing();if(n.isOuterHole())return n}return null},computeHole:function(){var t=this.getRing();this._isHole=ce.isCCW(t.getCoordinates())},hasShell:function(){return null!==this.shell},isOuterShell:function(){return null!==this.getOuterHole()},getLineString:function(){return this.getCoordinates(),this.factory.createLineString(this.ringPts)},toString:function(){return oe.toLineString(new zt(this.getCoordinates()))},getShell:function(){return this.isHole()?this.shell:this},add:function(t){this.deList.add(t)},getRing:function(){if(null!==this.ring)return this.ring;this.getCoordinates(),this.ringPts.length<3&&P.out.println(this.ringPts);try{this.ring=this.factory.createLinearRing(this.ringPts)}catch(t){if(!(t instanceof T))throw t;P.out.println(this.ringPts)}finally{}return this.ring},updateIncluded:function(){if(this.isHole())return null;for(var t=0;t<this.deList.size();t++){var e=this.deList.get(t),n=e.getSym().getRing().getShell();if(null!==n&&n.isIncludedSet())return this.setIncluded(!n.isIncluded()),null}},setShell:function(t){this.shell=t},setProcessed:function(t){this._isProcessed=t},interfaces_:function(){return[]},getClass:function(){return Sr}}),Sr.findDirEdgesInRing=function(t){var e=t,n=new _;do{n.add(e),e=e.getNext(),f.isTrue(null!==e,"found null DE in ring"),f.isTrue(e===t||!e.isInRing(),"found DE already in ring")}while(e!==t);return n},Sr.addEdge=function(t,e,n){if(e)for(var i=0;i<t.length;i++)n.add(t[i],!1);else for(var i=t.length-1;i>=0;i--)n.add(t[i],!1)},Sr.findEdgeRingContaining=function(t,e){for(var n=t.getRing(),i=n.getEnvelopeInternal(),r=n.getCoordinateN(0),o=null,s=null,a=e.iterator();a.hasNext();){var u=a.next(),l=u.getRing(),c=l.getEnvelopeInternal();if(!c.equals(i)&&c.contains(i)){r=X.ptNotInList(n.getCoordinates(),l.getCoordinates());var h=!1;ce.isPointInRing(r,l.getCoordinates())&&(h=!0),h&&(null===o||s.contains(c))&&(o=u,s=o.getRing().getEnvelopeInternal())}}return o},e(Ar.prototype,{compare:function(t,e){var n=t,i=e;return n.getRing().getEnvelope().compareTo(i.getRing().getEnvelope())},interfaces_:function(){return[a]},getClass:function(){return Ar}}),Sr.EnvelopeComparator=Ar,c(Ir,xr),e(Ir.prototype,{findEdgeRing:function(t){var e=new Sr(this.factory);return e.build(t),e},computeDepthParity:function(){if(0===arguments.length)for(;;){var t=null;if(null===t)return null;this.computeDepthParity(t)}else if(1===arguments.length){arguments[0]}},computeNextCWEdges:function(){for(var t=this.nodeIterator();t.hasNext();){var e=t.next();Ir.computeNextCWEdges(e)}},addEdge:function(t){if(t.isEmpty())return null;var e=X.removeRepeatedPoints(t.getCoordinates());if(e.length<2)return null;var n=e[0],i=e[e.length-1],r=this.getNode(n),o=this.getNode(i),s=new wr(r,o,e[1],!0),a=new wr(o,r,e[e.length-2],!1),u=new Tr(t);u.setDirectedEdges(s,a),this.add(u)},deleteCutEdges:function(){this.computeNextCWEdges(),Ir.findLabeledEdgeRings(this.dirEdges);for(var t=new _,e=this.dirEdges.iterator();e.hasNext();){var n=e.next();if(!n.isMarked()){var i=n.getSym();if(n.getLabel()===i.getLabel()){n.setMarked(!0),i.setMarked(!0);var r=n.getEdge();t.add(r.getLine())}}}return t},getEdgeRings:function(){this.computeNextCWEdges(),Ir.label(this.dirEdges,-1);var t=Ir.findLabeledEdgeRings(this.dirEdges);this.convertMaximalToMinimalEdgeRings(t);for(var e=new _,n=this.dirEdges.iterator();n.hasNext();){var i=n.next();if(!i.isMarked()&&!i.isInRing()){var r=this.findEdgeRing(i);e.add(r)}}return e},getNode:function(t){var e=this.findNode(t);return null===e&&(e=new vr(t),this.add(e)),e},convertMaximalToMinimalEdgeRings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getLabel(),r=Ir.findIntersectionNodes(n,i);if(null!==r)for(var o=r.iterator();o.hasNext();){var s=o.next();Ir.computeNextCCWEdges(s,i)}}},deleteDangles:function(){for(var t=this.findNodesOfDegree(1),e=new Q,n=new ge,i=t.iterator();i.hasNext();)n.push(i.next());for(;!n.isEmpty();){var r=n.pop();Ir.deleteAllEdges(r);for(var o=r.getOutEdges().getEdges(),i=o.iterator();i.hasNext();){var s=i.next();s.setMarked(!0);var a=s.getSym();null!==a&&a.setMarked(!0);var u=s.getEdge();e.add(u.getLine());var l=s.getToNode();1===Ir.getDegreeNonDeleted(l)&&n.push(l)}}return e},interfaces_:function(){return[]},getClass:function(){return Ir}}),Ir.findLabeledEdgeRings=function(t){for(var e=new _,n=1,i=t.iterator();i.hasNext();){var r=i.next();if(!(r.isMarked()||r.getLabel()>=0)){e.add(r);var o=Sr.findDirEdgesInRing(r);Ir.label(o,n),n++}}return e},Ir.getDegreeNonDeleted=function(t){for(var e=t.getOutEdges().getEdges(),n=0,i=e.iterator();i.hasNext();){var r=i.next();r.isMarked()||n++}return n},Ir.deleteAllEdges=function(t){for(var e=t.getOutEdges().getEdges(),n=e.iterator();n.hasNext();){var i=n.next();i.setMarked(!0);var r=i.getSym();null!==r&&r.setMarked(!0)}},Ir.label=function(t,e){for(var n=t.iterator();n.hasNext();){var i=n.next();i.setLabel(e)}},Ir.computeNextCWEdges=function(t){for(var e=t.getOutEdges(),n=null,i=null,r=e.getEdges().iterator();r.hasNext();){var o=r.next();if(!o.isMarked()){if(null===n&&(n=o),null!==i){var s=i.getSym();s.setNext(o)}i=o}}if(null!==i){var s=i.getSym();s.setNext(n)}},Ir.computeNextCCWEdges=function(t,e){for(var n=t.getOutEdges(),i=null,r=null,o=n.getEdges(),s=o.size()-1;s>=0;s--){var a=o.get(s),u=a.getSym(),l=null;a.getLabel()===e&&(l=a);var c=null;u.getLabel()===e&&(c=u),null===l&&null===c||(null!==c&&(r=c),null!==l&&(null!==r&&(r.setNext(l),r=null),null===i&&(i=l)))}null!==r&&(f.isTrue(null!==i),r.setNext(i))},Ir.getDegree=function(t,e){for(var n=t.getOutEdges().getEdges(),i=0,r=n.iterator();r.hasNext();){var o=r.next();o.getLabel()===e&&i++}return i},Ir.findIntersectionNodes=function(t,e){var n=t,i=null;do{var r=n.getFromNode();Ir.getDegree(r,e)>1&&(null===i&&(i=new _),i.add(r)),n=n.getNext(),f.isTrue(null!==n,"found null DE in ring"),f.isTrue(n===t||!n.isInRing(),"found DE already in ring")}while(n!==t);return i},e(Cr.prototype,{getGeometry:function(){return null===this.geomFactory&&(this.geomFactory=new ie),this.polygonize(),this.extractOnlyPolygonal?this.geomFactory.buildGeometry(this.polyList):this.geomFactory.createGeometryCollection(ie.toGeometryArray(this.polyList))},getInvalidRingLines:function(){return this.polygonize(),this.invalidRingLines},findValidRings:function(t,e,n){for(var i=t.iterator();i.hasNext();){var r=i.next();r.isValid()?e.add(r):n.add(r.getLineString())}},polygonize:function(){if(null!==this.polyList)return null;if(this.polyList=new _,null===this.graph)return null;this.dangles=this.graph.deleteDangles(),this.cutEdges=this.graph.deleteCutEdges();var t=this.graph.getEdgeRings(),e=new _;this.invalidRingLines=new _,this.isCheckingRingsValid?this.findValidRings(t,e,this.invalidRingLines):e=t,this.findShellsAndHoles(e),Cr.assignHolesToShells(this.holeList,this.shellList),hs.sort(this.shellList,new Sr.EnvelopeComparator);var n=!0;this.extractOnlyPolygonal&&(Cr.findDisjointShells(this.shellList),n=!1),this.polyList=Cr.extractPolygons(this.shellList,n)},getDangles:function(){return this.polygonize(),this.dangles},getCutEdges:function(){return this.polygonize(),this.cutEdges},getPolygons:function(){return this.polygonize(),this.polyList},add:function(){if(I(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.add(n)}else if(arguments[0]instanceof Tt){var i=arguments[0];this.geomFactory=i.getFactory(),null===this.graph&&(this.graph=new Ir(this.geomFactory)),this.graph.addEdge(i)}else if(arguments[0]instanceof j){var r=arguments[0];r.apply(this.lineStringAdder)}},setCheckRingsValid:function(t){this.isCheckingRingsValid=t},findShellsAndHoles:function(t){this.holeList=new _,this.shellList=new _;for(var e=t.iterator();e.hasNext();){var n=e.next();n.computeHole(),n.isHole()?this.holeList.add(n):this.shellList.add(n)}},interfaces_:function(){return[]},getClass:function(){return Cr}}),Cr.findOuterShells=function(t){for(var e=t.iterator();e.hasNext();){var n=e.next(),i=n.getOuterHole();null===i||i.isProcessed()||(n.setIncluded(!0),i.setProcessed(!0))}},Cr.extractPolygons=function(t,e){for(var n=new _,i=t.iterator();i.hasNext();){var r=i.next();(e||r.isIncluded())&&n.add(r.getPolygon())}return n},Cr.assignHolesToShells=function(t,e){for(var n=t.iterator();n.hasNext();){var i=n.next();Cr.assignHoleToShell(i,e)}},Cr.assignHoleToShell=function(t,e){var n=Sr.findEdgeRingContaining(t,e);null!==n&&n.addHole(t)},Cr.findDisjointShells=function(t){Cr.findOuterShells(t);var e=null;do{e=!1;for(var n=t.iterator();n.hasNext();){var i=n.next();i.isIncludedSet()||(i.updateIncluded(),i.isIncludedSet()||(e=!0))}}while(e)},e(Lr.prototype,{filter:function(t){t instanceof Tt&&this.p.add(t)},interfaces_:function(){return[F]},getClass:function(){return Lr}}),Cr.LineStringAdder=Lr;var Is=Object.freeze({Polygonizer:Cr});e(Mr.prototype,{createEdgeEndForNext:function(t,e,n,i){var r=n.segmentIndex+1;if(r>=t.getNumPoints()&&null===i)return null;var o=t.getCoordinate(r);null!==i&&i.segmentIndex===n.segmentIndex&&(o=i.coord);var s=new xn(t,n.coord,o,new pn(t.getLabel()));e.add(s)},createEdgeEndForPrev:function(t,e,n,i){var r=n.segmentIndex;if(0===n.dist){if(0===r)return null;r--}var o=t.getCoordinate(r);null!==i&&i.segmentIndex>=r&&(o=i.coord);var s=new pn(t.getLabel());s.flip();var a=new xn(t,n.coord,o,s);e.add(a)},computeEdgeEnds:function(){if(1===arguments.length){for(var t=arguments[0],e=new _,n=t;n.hasNext();){var i=n.next();this.computeEdgeEnds(i,e)}return e}if(2===arguments.length){var r=arguments[0],o=arguments[1],s=r.getEdgeIntersectionList();s.addEndpoints();var a=s.iterator(),u=null,l=null;if(!a.hasNext())return null;var c=a.next();do{u=l,l=c,c=null,a.hasNext()&&(c=a.next()),null!==l&&(this.createEdgeEndForPrev(r,o,l,u),this.createEdgeEndForNext(r,o,l,c))}while(null!==l)}},interfaces_:function(){return[]},getClass:function(){return Mr}}),c(Nr,xn),e(Nr.prototype,{insert:function(t){this.edgeEnds.add(t)},print:function(t){t.println("EdgeEndBundle--\x3e Label: "+this.label);for(var e=this.iterator();e.hasNext();){var n=e.next();n.print(t),t.println()}},iterator:function(){return this.edgeEnds.iterator()},getEdgeEnds:function(){return this.edgeEnds},computeLabelOn:function(t,e){for(var n=0,i=!1,r=this.iterator();r.hasNext();){var o=r.next(),s=o.getLabel().getLocation(t);s===A.BOUNDARY&&n++,s===A.INTERIOR&&(i=!0)}var s=A.NONE;i&&(s=A.INTERIOR),n>0&&(s=Kn.determineBoundary(e,n)),this.label.setLocation(t,s)},computeLabelSide:function(t,e){for(var n=this.iterator();n.hasNext();){var i=n.next();if(i.getLabel().isArea()){var r=i.getLabel().getLocation(t,e);if(r===A.INTERIOR)return this.label.setLocation(t,e,A.INTERIOR),null;r===A.EXTERIOR&&this.label.setLocation(t,e,A.EXTERIOR)}}},getLabel:function(){return this.label},computeLabelSides:function(t){this.computeLabelSide(t,hn.LEFT),this.computeLabelSide(t,hn.RIGHT)},updateIM:function(t){Qn.updateIM(this.label,t)},computeLabel:function(t){for(var e=!1,n=this.iterator();n.hasNext();){var i=n.next();i.getLabel().isArea()&&(e=!0)}e?this.label=new pn(A.NONE,A.NONE,A.NONE):this.label=new pn(A.NONE);for(var r=0;2>r;r++)this.computeLabelOn(r,t),e&&this.computeLabelSides(r)},interfaces_:function(){return[]},getClass:function(){return Nr}}),c(Rr,Ln),e(Rr.prototype,{updateIM:function(t){for(var e=this.iterator();e.hasNext();){var n=e.next();n.updateIM(t)}},insert:function(t){var e=this.edgeMap.get(t);null===e?(e=new Nr(t),this.insertEdgeEnd(t,e)):e.insert(t)},interfaces_:function(){return[]},getClass:function(){return Rr}}),c(Or,yn),e(Or.prototype,{updateIMFromEdges:function(t){this.edges.updateIM(t)},computeIM:function(t){t.setAtLeastIfValid(this.label.getLocation(0),this.label.getLocation(1),0)},interfaces_:function(){return[]},getClass:function(){return Or}}),c(Dr,En),e(Dr.prototype,{createNode:function(t){return new Or(t,new Rr)},interfaces_:function(){return[]},getClass:function(){return Dr}}),e(Pr.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},computeProperIntersectionIM:function(t,e){var n=this.arg[0].getGeometry().getDimension(),i=this.arg[1].getGeometry().getDimension(),r=t.hasProperIntersection(),o=t.hasProperInteriorIntersection();2===n&&2===i?r&&e.setAtLeast("212101212"):2===n&&1===i?(r&&e.setAtLeast("FFF0FFFF2"),o&&e.setAtLeast("1FFFFF1FF")):1===n&&2===i?(r&&e.setAtLeast("F0FFFFFF2"),o&&e.setAtLeast("1F1FFFFFF")):1===n&&1===i&&o&&e.setAtLeast("0FFFFFFFF")},labelIsolatedEdges:function(t,e){for(var n=this.arg[t].getEdgeIterator();n.hasNext();){var i=n.next();i.isIsolated()&&(this.labelIsolatedEdge(i,e,this.arg[e].getGeometry()),this.isolatedEdges.add(i))}},labelIsolatedEdge:function(t,e,n){if(n.getDimension()>0){var i=this.ptLocator.locate(t.getCoordinate(),n);t.getLabel().setAllLocations(e,i)}else t.getLabel().setAllLocations(e,A.EXTERIOR)},computeIM:function(){var t=new fe;if(t.set(A.EXTERIOR,A.EXTERIOR,2),!this.arg[0].getGeometry().getEnvelopeInternal().intersects(this.arg[1].getGeometry().getEnvelopeInternal()))return this.computeDisjointIM(t),t;this.arg[0].computeSelfNodes(this.li,!1),this.arg[1].computeSelfNodes(this.li,!1);var e=this.arg[0].computeEdgeIntersections(this.arg[1],this.li,!1);this.computeIntersectionNodes(0),this.computeIntersectionNodes(1),this.copyNodesAndLabels(0),this.copyNodesAndLabels(1),this.labelIsolatedNodes(),this.computeProperIntersectionIM(e,t);var n=new Mr,i=n.computeEdgeEnds(this.arg[0].getEdgeIterator());this.insertEdgeEnds(i);var r=n.computeEdgeEnds(this.arg[1].getEdgeIterator());return this.insertEdgeEnds(r),this.labelNodeEdges(),this.labelIsolatedEdges(0,1),this.labelIsolatedEdges(1,0),this.updateIM(t),t},labelNodeEdges:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next();e.getEdges().computeLabelling(this.arg)}},copyNodesAndLabels:function(t){for(var e=this.arg[t].getNodeIterator();e.hasNext();){var n=e.next(),i=this.nodes.addNode(n.getCoordinate());i.setLabel(t,n.getLabel().getLocation(t))}},labelIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this.nodes.find(o.coord);s.getLabel().isNull(t)&&(i===A.BOUNDARY?s.setLabelBoundary(t):s.setLabel(t,A.INTERIOR))}},labelIsolatedNode:function(t,e){var n=this.ptLocator.locate(t.getCoordinate(),this.arg[e].getGeometry());t.getLabel().setAllLocations(e,n)},computeIntersectionNodes:function(t){for(var e=this.arg[t].getEdgeIterator();e.hasNext();)for(var n=e.next(),i=n.getLabel().getLocation(t),r=n.getEdgeIntersectionList().iterator();r.hasNext();){var o=r.next(),s=this.nodes.addNode(o.coord);i===A.BOUNDARY?s.setLabelBoundary(t):s.getLabel().isNull(t)&&s.setLabel(t,A.INTERIOR)}},labelIsolatedNodes:function(){for(var t=this.nodes.iterator();t.hasNext();){var e=t.next(),n=e.getLabel();f.isTrue(n.getGeometryCount()>0,"node with empty label found"),e.isIsolated()&&(n.isNull(0)?this.labelIsolatedNode(e,0):this.labelIsolatedNode(e,1))}},updateIM:function(t){for(var e=this.isolatedEdges.iterator();e.hasNext();){var n=e.next();n.updateIM(t)}for(var i=this.nodes.iterator();i.hasNext();){var r=i.next();r.updateIM(t),r.updateIMFromEdges(t)}},computeDisjointIM:function(t){var e=this.arg[0].getGeometry();e.isEmpty()||(t.set(A.INTERIOR,A.EXTERIOR,e.getDimension()),t.set(A.BOUNDARY,A.EXTERIOR,e.getBoundaryDimension()));var n=this.arg[1].getGeometry();n.isEmpty()||(t.set(A.EXTERIOR,A.INTERIOR,n.getDimension()),t.set(A.EXTERIOR,A.BOUNDARY,n.getBoundaryDimension()))},interfaces_:function(){return[]},getClass:function(){return Pr}}),e(kr.prototype,{isContainedInBoundary:function(t){if(t instanceof Ct)return!1;if(t instanceof At)return this.isPointContainedInBoundary(t);if(t instanceof Tt)return this.isLineStringContainedInBoundary(t);for(var e=0;e<t.getNumGeometries();e++){var n=t.getGeometryN(e);if(!this.isContainedInBoundary(n))return!1}return!0},isLineSegmentContainedInBoundary:function(t,e){if(t.equals(e))return this.isPointContainedInBoundary(t);if(t.x===e.x){if(t.x===this.rectEnv.getMinX()||t.x===this.rectEnv.getMaxX())return!0}else if(t.y===e.y&&(t.y===this.rectEnv.getMinY()||t.y===this.rectEnv.getMaxY()))return!0;return!1},isLineStringContainedInBoundary:function(t){for(var e=t.getCoordinateSequence(),n=new p,i=new p,r=0;r<e.size()-1;r++)if(e.getCoordinate(r,n),e.getCoordinate(r+1,i),!this.isLineSegmentContainedInBoundary(n,i))return!1;return!0},isPointContainedInBoundary:function(){if(arguments[0]instanceof At){var t=arguments[0];return this.isPointContainedInBoundary(t.getCoordinate())}if(arguments[0]instanceof p){var e=arguments[0];return e.x===this.rectEnv.getMinX()||e.x===this.rectEnv.getMaxX()||e.y===this.rectEnv.getMinY()||e.y===this.rectEnv.getMaxY()}},contains:function(t){return this.rectEnv.contains(t.getEnvelopeInternal())?!this.isContainedInBoundary(t):!1},interfaces_:function(){return[]},getClass:function(){return kr}}),kr.contains=function(t,e){var n=new kr(t);return n.contains(e)},e(zr.prototype,{intersects:function(t,e){var n=new w(t,e);if(!this.rectEnv.intersects(n))return!1;if(this.rectEnv.intersects(t))return!0;if(this.rectEnv.intersects(e))return!0;if(t.compareTo(e)>0){var i=t;t=e,e=i}var r=!1;return e.y>t.y&&(r=!0),r?this.li.computeIntersection(t,e,this.diagDown0,this.diagDown1):this.li.computeIntersection(t,e,this.diagUp0,this.diagUp1),!!this.li.hasIntersection()},interfaces_:function(){return[]},getClass:function(){return zr}}),e(Fr.prototype,{applyTo:function(t){for(var e=0;e<t.getNumGeometries()&&!this._isDone;e++){var n=t.getGeometryN(e);if(n instanceof ft)this.applyTo(n);else if(this.visit(n),this.isDone())return this._isDone=!0,null}},interfaces_:function(){return[]},getClass:function(){return Fr}}),e(jr.prototype,{intersects:function(t){if(!this.rectEnv.intersects(t.getEnvelopeInternal()))return!1;var e=new Br(this.rectEnv);if(e.applyTo(t),e.intersects())return!0;var n=new Ur(this.rectangle);if(n.applyTo(t),n.containsPoint())return!0;var i=new Gr(this.rectangle);return i.applyTo(t),!!i.intersects()},interfaces_:function(){return[]},getClass:function(){return jr}}),jr.intersects=function(t,e){var n=new jr(t);return n.intersects(e)},c(Br,Fr),e(Br.prototype,{isDone:function(){return this._intersects===!0},visit:function(t){var e=t.getEnvelopeInternal();return this.rectEnv.intersects(e)?this.rectEnv.contains(e)?(this._intersects=!0,null):e.getMinX()>=this.rectEnv.getMinX()&&e.getMaxX()<=this.rectEnv.getMaxX()?(this._intersects=!0,null):e.getMinY()>=this.rectEnv.getMinY()&&e.getMaxY()<=this.rectEnv.getMaxY()?(this._intersects=!0,null):void 0:null},intersects:function(){return this._intersects},interfaces_:function(){return[]},getClass:function(){return Br}}),c(Ur,Fr),e(Ur.prototype,{isDone:function(){return this._containsPoint===!0},visit:function(t){if(!(t instanceof Ct))return null;var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;for(var n=new p,i=0;4>i;i++)if(this.rectSeq.getCoordinate(i,n),e.contains(n)&&Cn.containsPointInPolygon(n,t))return this._containsPoint=!0,null},containsPoint:function(){return this._containsPoint},interfaces_:function(){return[]},getClass:function(){return Ur}}),c(Gr,Fr),e(Gr.prototype,{intersects:function(){return this.hasIntersection},isDone:function(){return this.hasIntersection===!0},visit:function(t){var e=t.getEnvelopeInternal();if(!this.rectEnv.intersects(e))return null;var n=Gn.getLines(t);this.checkIntersectionWithLineStrings(n)},checkIntersectionWithLineStrings:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();if(this.checkIntersectionWithSegments(n),this.hasIntersection)return null}},checkIntersectionWithSegments:function(t){for(var e=t.getCoordinateSequence(),n=1;n<e.size();n++)if(e.getCoordinate(n-1,this.p0),e.getCoordinate(n,this.p1),this.rectIntersector.intersects(this.p0,this.p1))return this.hasIntersection=!0,null},interfaces_:function(){return[]},getClass:function(){return Gr}}),c(Vr,ti),e(Vr.prototype,{getIntersectionMatrix:function(){return this._relate.computeIM()},interfaces_:function(){return[]},getClass:function(){return Vr}}),Vr.covers=function(t,e){return t.getEnvelopeInternal().covers(e.getEnvelopeInternal())?t.isRectangle()?!0:Vr.relate(t,e).isCovers():!1},Vr.intersects=function(t,e){return t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())?t.isRectangle()?jr.intersects(t,e):e.isRectangle()?jr.intersects(e,t):Vr.relate(t,e).isIntersects():!1},Vr.touches=function(t,e){return t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())?Vr.relate(t,e).isTouches(t.getDimension(),e.getDimension()):!1},Vr.within=function(t,e){return e.contains(t)},Vr.coveredBy=function(t,e){return Vr.covers(e,t)},Vr.relate=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new Vr(t,e),i=n.getIntersectionMatrix();return i}if(3===arguments.length){if("string"==typeof arguments[2]&&arguments[0]instanceof j&&arguments[1]instanceof j){var r=arguments[0],o=arguments[1],s=arguments[2];return Vr.relateWithCheck(r,o).matches(s)}if(I(arguments[2],U)&&arguments[0]instanceof j&&arguments[1]instanceof j){var a=arguments[0],u=arguments[1],l=arguments[2],n=new Vr(a,u,l),i=n.getIntersectionMatrix();return i}}},Vr.overlaps=function(t,e){return t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())?Vr.relate(t,e).isOverlaps(t.getDimension(),e.getDimension()):!1},Vr.disjoint=function(t,e){return!t.intersects(e)},Vr.relateWithCheck=function(t,e){return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),Vr.relate(t,e)},Vr.crosses=function(t,e){return t.getEnvelopeInternal().intersects(e.getEnvelopeInternal())?Vr.relate(t,e).isCrosses(t.getDimension(),e.getDimension()):!1},Vr.contains=function(t,e){return t.getEnvelopeInternal().contains(e.getEnvelopeInternal())?t.isRectangle()?kr.contains(t,e):Vr.relate(t,e).isContains():!1};var Cs=Object.freeze({RelateOp:Vr});e(qr.prototype,{extractElements:function(t,e){if(null===t)return null;for(var n=0;n<t.getNumGeometries();n++){var i=t.getGeometryN(n);this.skipEmpty&&i.isEmpty()||e.add(i)}},combine:function(){for(var t=new _,e=this.inputGeoms.iterator();e.hasNext();){var n=e.next();this.extractElements(n,t)}return 0===t.size()?null!==this.geomFactory?this.geomFactory.createGeometryCollection(null):null:this.geomFactory.buildGeometry(t)},interfaces_:function(){return[]},getClass:function(){return qr}}),qr.combine=function(){if(1===arguments.length){var t=arguments[0],e=new qr(t);return e.combine()}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=new qr(qr.createList(n,i));return e.combine()}if(3===arguments.length){var r=arguments[0],o=arguments[1],s=arguments[2],e=new qr(qr.createList(r,o,s));return e.combine()}},qr.extractFactory=function(t){return t.isEmpty()?null:t.iterator().next().getFactory()},qr.createList=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1],n=new _;return n.add(t),n.add(e),n}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2],n=new _;return n.add(i),n.add(r),n.add(o),n}},e(Yr.prototype,{union:function(){for(var t=new Ce,e=new at,n=0;n<this.pointGeom.getNumGeometries();n++){var i=this.pointGeom.getGeometryN(n),r=i.getCoordinate(),o=t.locate(r,this.otherGeom);o===A.EXTERIOR&&e.add(r)}if(0===e.size())return this.otherGeom;var s=null,a=X.toCoordinateArray(e);return s=1===a.length?this.geomFact.createPoint(a[0]):this.geomFact.createMultiPointFromCoords(a),qr.combine(s,this.otherGeom)},interfaces_:function(){return[]},getClass:function(){return Yr}}),Yr.union=function(t,e){var n=new Yr(t,e);return n.union()},e(Xr.prototype,{filter:function(t){-1!==this.sortIndex&&t.getSortIndex()!==this.sortIndex||this.comps.add(t)},interfaces_:function(){return[ct]},getClass:function(){return Xr}}),Xr.extract=function(){if(2===arguments.length){var t=arguments[0],e=arguments[1];return Xr.extract(t,e,new _)}if(3===arguments.length){var n=arguments[0],i=arguments[1],r=arguments[2];return n.getSortIndex()===i?r.add(n):n instanceof ft&&n.apply(new Xr(i,r)),r}},e(Wr.prototype,{reduceToGeometries:function(t){for(var e=new _,n=t.iterator();n.hasNext();){var i=n.next(),r=null;I(i,y)?r=this.unionTree(i):i instanceof j&&(r=i),e.add(r)}return e},extractByEnvelope:function(t,e,n){for(var i=new _,r=0;r<e.getNumGeometries();r++){var o=e.getGeometryN(r);o.getEnvelopeInternal().intersects(t)?i.add(o):n.add(o)}return this.geomFactory.buildGeometry(i)},unionOptimized:function(t,e){var n=t.getEnvelopeInternal(),i=e.getEnvelopeInternal();if(!n.intersects(i)){var r=qr.combine(t,e);return r}if(t.getNumGeometries()<=1&&e.getNumGeometries()<=1)return this.unionActual(t,e);var o=n.intersection(i);return this.unionUsingEnvelopeIntersection(t,e,o)},union:function(){if(null===this.inputPolys)throw new IllegalStateException("union() method cannot be called twice");if(this.inputPolys.isEmpty())return null;this.geomFactory=this.inputPolys.iterator().next().getFactory();for(var t=new Ge(Wr.STRTREE_NODE_CAPACITY),e=this.inputPolys.iterator();e.hasNext();){var n=e.next();t.insert(n.getEnvelopeInternal(),n)}this.inputPolys=null;var i=t.itemsTree(),r=this.unionTree(i);return r},binaryUnion:function(){if(1===arguments.length){var t=arguments[0];return this.binaryUnion(t,0,t.size())}if(3===arguments.length){var e=arguments[0],n=arguments[1],i=arguments[2];if(1>=i-n){var r=Wr.getGeometry(e,n);return this.unionSafe(r,null)}if(i-n===2)return this.unionSafe(Wr.getGeometry(e,n),Wr.getGeometry(e,n+1));var o=Math.trunc((i+n)/2),r=this.binaryUnion(e,n,o),s=this.binaryUnion(e,o,i);return this.unionSafe(r,s)}},repeatedUnion:function(t){for(var e=null,n=t.iterator();n.hasNext();){var i=n.next();e=null===e?i.copy():e.union(i)}return e},unionSafe:function(t,e){return null===t&&null===e?null:null===t?e.copy():null===e?t.copy():this.unionOptimized(t,e)},unionActual:function(t,e){return Wr.restrictToPolygons(t.union(e))},unionTree:function(t){var e=this.reduceToGeometries(t),n=this.binaryUnion(e);return n},unionUsingEnvelopeIntersection:function(t,e,n){var i=new _,r=this.extractByEnvelope(n,t,i),o=this.extractByEnvelope(n,e,i),s=this.unionActual(r,o);i.add(s);var a=qr.combine(i);return a},bufferUnion:function(){if(1===arguments.length){var t=arguments[0],e=t.get(0).getFactory(),n=e.buildGeometry(t),i=n.buffer(0);return i}if(2===arguments.length){var r=arguments[0],o=arguments[1],e=r.getFactory(),n=e.createGeometryCollection([r,o]),i=n.buffer(0);return i}},interfaces_:function(){return[]},getClass:function(){return Wr}}),Wr.restrictToPolygons=function(t){if(I(t,It))return t;var e=sr.getPolygons(t);return 1===e.size()?e.get(0):t.getFactory().createMultiPolygon(ie.toPolygonArray(e))},Wr.getGeometry=function(t,e){return e>=t.size()?null:t.get(e)},Wr.union=function(t){var e=new Wr(t);return e.union()},Wr.STRTREE_NODE_CAPACITY=4,e(Zr.prototype,{unionNoOpt:function(t){var e=this.geomFact.createPoint();return oi.overlayOp(t,e,ii.UNION)},unionWithNull:function(t,e){return null===t&&null===e?null:null===e?t:null===t?e:t.union(e)},extract:function(){if(I(arguments[0],m))for(var t=arguments[0],e=t.iterator();e.hasNext();){var n=e.next();this.extract(n)}else if(arguments[0]instanceof j){var i=arguments[0];null===this.geomFact&&(this.geomFact=i.getFactory()),Xr.extract(i,j.SORTINDEX_POLYGON,this.polygons),Xr.extract(i,j.SORTINDEX_LINESTRING,this.lines),Xr.extract(i,j.SORTINDEX_POINT,this.points)}},union:function t(){if(null===this.geomFact)return null;var e=null;if(this.points.size()>0){var n=this.geomFact.buildGeometry(this.points);e=this.unionNoOpt(n)}var i=null;if(this.lines.size()>0){var r=this.geomFact.buildGeometry(this.lines);i=this.unionNoOpt(r)}var o=null;this.polygons.size()>0&&(o=Wr.union(this.polygons));var s=this.unionWithNull(i,o),t=null;return t=null===e?s:null===s?e:Yr.union(e,s),null===t?this.geomFact.createGeometryCollection():t},interfaces_:function(){return[]},getClass:function(){return Zr}}),Zr.union=function(){if(1===arguments.length){if(I(arguments[0],m)){var t=arguments[0],e=new Zr(t);return e.union()}if(arguments[0]instanceof j){var n=arguments[0],e=new Zr(n);return e.union()}}else if(2===arguments.length){var i=arguments[0],r=arguments[1],e=new Zr(i,r);return e.union()}};var Ls=Object.freeze({UnaryUnionOp:Zr});e(Hr.prototype,{visitInteriorRing:function(t,e){var n=t.getCoordinates(),i=n[0],r=Hr.findDifferentPoint(n,i),o=e.findEdgeInSameDirection(i,r),s=e.findEdgeEnd(o),a=null;s.getLabel().getLocation(0,hn.RIGHT)===A.INTERIOR?a=s:s.getSym().getLabel().getLocation(0,hn.RIGHT)===A.INTERIOR&&(a=s.getSym()),f.isTrue(null!==a,"unable to find dirEdge with Interior on RHS"),this.visitLinkedDirectedEdges(a)},visitShellInteriors:function(t,e){if(t instanceof Ct){var n=t;this.visitInteriorRing(n.getExteriorRing(),e)}if(t instanceof Nt)for(var i=t,r=0;r<i.getNumGeometries();r++){var n=i.getGeometryN(r);this.visitInteriorRing(n.getExteriorRing(),e)}},getCoordinate:function(){return this.disconnectedRingcoord},setInteriorEdgesInResult:function(t){for(var e=t.getEdgeEnds().iterator();e.hasNext();){var n=e.next();n.getLabel().getLocation(0,hn.RIGHT)===A.INTERIOR&&n.setInResult(!0)}},visitLinkedDirectedEdges:function(t){var e=t,n=t;do{f.isTrue(null!==n,"found null Directed Edge"),n.setVisited(!0),n=n.getNext()}while(n!==e)},buildEdgeRings:function(t){for(var e=new _,n=t.iterator();n.hasNext();){var i=n.next();if(i.isInResult()&&null===i.getEdgeRing()){var r=new mn(i,this.geometryFactory);r.linkDirectedEdgesForMinimalEdgeRings();var o=r.buildMinimalRings();e.addAll(o)}}return e},hasUnvisitedShellEdge:function(t){for(var e=0;e<t.size();e++){var n=t.get(e);if(!n.isHole()){var i=n.getEdges(),r=i.get(0);if(r.getLabel().getLocation(0,hn.RIGHT)===A.INTERIOR)for(var o=0;o<i.size();o++)if(r=i.get(o),!r.isVisited())return this.disconnectedRingcoord=r.getCoordinate(),!0}}return!1},isInteriorsConnected:function(){var t=new _;this.geomGraph.computeSplitEdges(t);var e=new wn(new Nn);e.addEdges(t),this.setInteriorEdgesInResult(e),e.linkResultDirectedEdges();var n=this.buildEdgeRings(e.getEdgeEnds());return this.visitShellInteriors(this.geomGraph.getGeometry(),e),!this.hasUnvisitedShellEdge(n)},interfaces_:function(){return[]},getClass:function(){return Hr}}),Hr.findDifferentPoint=function(t,e){for(var n=0;n<t.length;n++)if(!t[n].equals(e))return t[n];return null},e($r.prototype,{hasChildren:function(){for(var t=0;2>t;t++)if(null!==this.subnode[t])return!0;return!1},isPrunable:function(){return!(this.hasChildren()||this.hasItems())},addAllItems:function(t){t.addAll(this.items);for(var e=0;2>e;e++)null!==this.subnode[e]&&this.subnode[e].addAllItems(t);return t},size:function(){for(var t=0,e=0;2>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].size());return t+this.items.size()},addAllItemsFromOverlapping:function(t,e){return null===t||this.isSearchMatch(t)?(e.addAll(this.items),null!==this.subnode[0]&&this.subnode[0].addAllItemsFromOverlapping(t,e),void(null!==this.subnode[1]&&this.subnode[1].addAllItemsFromOverlapping(t,e))):null},hasItems:function(){return!this.items.isEmpty()},remove:function(t,e){if(!this.isSearchMatch(t))return!1;for(var n=!1,i=0;2>i;i++)if(null!==this.subnode[i]&&(n=this.subnode[i].remove(t,e))){this.subnode[i].isPrunable()&&(this.subnode[i]=null);break}return n?n:n=this.items.remove(e)},getItems:function(){return this.items},depth:function(){for(var t=0,e=0;2>e;e++)if(null!==this.subnode[e]){var n=this.subnode[e].depth();n>t&&(t=n)}return t+1},nodeSize:function(){for(var t=0,e=0;2>e;e++)null!==this.subnode[e]&&(t+=this.subnode[e].nodeSize());return t+1},add:function(t){this.items.add(t)},interfaces_:function(){return[]},getClass:function(){return $r}}),$r.getSubnodeIndex=function(t,e){var n=-1;return t.min>=e&&(n=1),t.max<=e&&(n=0),n},e(Jr.prototype,{expandToInclude:function(t){t.max>this.max&&(this.max=t.max),t.min<this.min&&(this.min=t.min)},getWidth:function(){return this.max-this.min},overlaps:function(){if(1===arguments.length){var t=arguments[0];return this.overlaps(t.min,t.max)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return!(this.min>n||this.max<e)}},getMin:function(){return this.min},toString:function(){return"["+this.min+", "+this.max+"]"},contains:function(){if(1===arguments.length){if(arguments[0]instanceof Jr){var t=arguments[0];return this.contains(t.min,t.max)}if("number"==typeof arguments[0]){var e=arguments[0];return e>=this.min&&e<=this.max}}else if(2===arguments.length){var n=arguments[0],i=arguments[1];return n>=this.min&&i<=this.max}},init:function(t,e){this.min=t,this.max=e,t>e&&(this.min=e,this.max=t)},getMax:function(){return this.max},interfaces_:function(){return[]},getClass:function(){return Jr}}),e(Qr.prototype,{getInterval:function(){return this.interval},getLevel:function(){return this.level},computeKey:function(t){for(this.level=Qr.computeLevel(t),this.interval=new Jr,this.computeInterval(this.level,t);!this.interval.contains(t);)this.level+=1,this.computeInterval(this.level,t)},computeInterval:function(t,e){var n=wi.powerOf2(t);this.pt=Math.floor(e.getMin()/n)*n,this.interval.init(this.pt,this.pt+n)},getPoint:function(){return this.pt},interfaces_:function(){return[]},getClass:function(){return Qr}}),Qr.computeLevel=function(t){var e=t.getWidth(),n=wi.exponent(e)+1;return n},c(Kr,$r),e(Kr.prototype,{getInterval:function(){return this.interval},find:function(t){var e=$r.getSubnodeIndex(t,this.centre);if(-1===e)return this;if(null!==this.subnode[e]){var n=this.subnode[e];return n.find(t)}return this},insert:function(t){f.isTrue(null===this.interval||this.interval.contains(t.interval));var e=$r.getSubnodeIndex(t.interval,this.centre);if(t.level===this.level-1)this.subnode[e]=t;else{var n=this.createSubnode(e);n.insert(t),this.subnode[e]=n}},isSearchMatch:function(t){return t.overlaps(this.interval)},getSubnode:function(t){return null===this.subnode[t]&&(this.subnode[t]=this.createSubnode(t)),this.subnode[t]},getNode:function(t){var e=$r.getSubnodeIndex(t,this.centre);if(-1!==e){var n=this.getSubnode(e);return n.getNode(t)}return this},createSubnode:function(t){var e=0,n=0;switch(t){case 0:e=this.interval.getMin(),n=this.centre;break;case 1:e=this.centre,n=this.interval.getMax()}var i=new Jr(e,n),r=new Kr(i,this.level-1);return r},interfaces_:function(){return[]},getClass:function(){return Kr}}),Kr.createNode=function(t){var e=new Qr(t),n=new Kr(e.getInterval(),e.getLevel());return n},Kr.createExpanded=function(t,e){var n=new Jr(e);null!==t&&n.expandToInclude(t.interval);var i=Kr.createNode(n);return null!==t&&i.insert(t),i},c(to,$r),e(to.prototype,{insert:function(t,e){var n=$r.getSubnodeIndex(t,to.origin);if(-1===n)return this.add(e),null;var i=this.subnode[n];if(null===i||!i.getInterval().contains(t)){var r=Kr.createExpanded(i,t);this.subnode[n]=r}this.insertContained(this.subnode[n],t,e)},isSearchMatch:function(t){return!0},insertContained:function(t,e,n){f.isTrue(t.getInterval().contains(e));var i=Ii.isZeroWidth(e.getMin(),e.getMax()),r=null;r=i?t.find(e):t.getNode(e),r.add(n)},interfaces_:function(){return[]},getClass:function(){return to}}),to.origin=0,e(eo.prototype,{size:function(){return null!==this.root?this.root.size():0},insert:function(t,e){this.collectStats(t);var n=eo.ensureExtent(t,this.minExtent);this.root.insert(n,e)},query:function(){if(1===arguments.length){if("number"==typeof arguments[0]){var t=arguments[0];return this.query(new Jr(t,t))}if(arguments[0]instanceof Jr){var e=arguments[0],n=new _;return this.query(e,n),n}}else if(2===arguments.length){var i=arguments[0],r=arguments[1];this.root.addAllItemsFromOverlapping(i,r)}},iterator:function(){var t=new _;return this.root.addAllItems(t),t.iterator()},remove:function(t,e){var n=eo.ensureExtent(t,this.minExtent);return this.root.remove(n,e)},collectStats:function(t){var e=t.getWidth();e<this.minExtent&&e>0&&(this.minExtent=e)},depth:function(){return null!==this.root?this.root.depth():0},nodeSize:function(){return null!==this.root?this.root.nodeSize():0},interfaces_:function(){return[]},getClass:function(){return eo}}),eo.ensureExtent=function(t,e){var n=t.getMin(),i=t.getMax();return n!==i?t:(n===i&&(n-=e/2,i=n+e/2),new Jr(n,i))},e(no.prototype,{isInside:function(t){},interfaces_:function(){return[]},getClass:function(){return no}}),e(io.prototype,{testLineSegment:function(t,e){var n=null,i=null,r=null,o=null,s=null,a=e.p0,u=e.p1;i=a.x-t.x,r=a.y-t.y,o=u.x-t.x,s=u.y-t.y,(r>0&&0>=s||s>0&&0>=r)&&(n=ue.signOfDet2x2(i,r,o,s)/(s-r),n>0&&this.crossings++)},buildIndex:function(){this.tree=new eo;for(var t=X.removeRepeatedPoints(this.ring.getCoordinates()),e=Ke.getChains(t),n=0;n<e.size();n++){var i=e.get(n),r=i.getEnvelope();this.interval.min=r.getMinY(),this.interval.max=r.getMaxY(),this.tree.insert(this.interval,i)}},testMonotoneChain:function(t,e,n){n.select(t,e)},isInside:function(t){this.crossings=0;var e=new w(r.NEGATIVE_INFINITY,r.POSITIVE_INFINITY,t.y,t.y);this.interval.min=t.y,this.interval.max=t.y;for(var n=this.tree.query(this.interval),i=new ro(this,t),o=n.iterator();o.hasNext();){var s=o.next();this.testMonotoneChain(e,i,s)}return this.crossings%2===1},interfaces_:function(){return[no]},getClass:function(){return io}}),c(ro,tr),e(ro.prototype,{select:function(){if(1!==arguments.length)return tr.prototype.select.apply(this,arguments);var t=arguments[0];this.mcp.testLineSegment(this.p,t)},interfaces_:function(){return[]},getClass:function(){return ro}}),io.MCSelecter=ro,e(oo.prototype,{insertEdgeEnds:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.nodes.add(n)}},getNodeIterator:function(){return this.nodes.iterator()},copyNodesAndLabels:function(t,e){for(var n=t.getNodeIterator();n.hasNext();){var i=n.next(),r=this.nodes.addNode(i.getCoordinate());r.setLabel(e,i.getLabel().getLocation(e))}},build:function(t){this.computeIntersectionNodes(t,0),this.copyNodesAndLabels(t,0);var e=new Mr,n=e.computeEdgeEnds(t.getEdgeIterator());this.insertEdgeEnds(n)},computeIntersectionNodes:function(t,e){for(var n=t.getEdgeIterator();n.hasNext();)for(var i=n.next(),r=i.getLabel().getLocation(e),o=i.getEdgeIntersectionList().iterator();o.hasNext();){var s=o.next(),a=this.nodes.addNode(s.coord);r===A.BOUNDARY?a.setLabelBoundary(e):a.getLabel().isNull(e)&&a.setLabel(e,A.INTERIOR)}},interfaces_:function(){return[]},getClass:function(){return oo}}),e(so.prototype,{isNodeEdgeAreaLabelsConsistent:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();){var e=t.next();if(!e.getEdges().isAreaLabelsConsistent(this.geomGraph))return this.invalidPoint=e.getCoordinate().copy(),!1}return!0},getInvalidPoint:function(){return this.invalidPoint},hasDuplicateRings:function(){for(var t=this.nodeGraph.getNodeIterator();t.hasNext();)for(var e=t.next(),n=e.getEdges().iterator();n.hasNext();){var i=n.next();if(i.getEdgeEnds().size()>1)return this.invalidPoint=i.getEdge().getCoordinate(0),!0}return!1},isNodeConsistentArea:function(){var t=this.geomGraph.computeSelfNodes(this.li,!0,!0);return t.hasProperIntersection()?(this.invalidPoint=t.getProperIntersectionPoint(),!1):(this.nodeGraph.build(this.geomGraph),this.isNodeEdgeAreaLabelsConsistent())},interfaces_:function(){return[]},getClass:function(){return so}}),e(ao.prototype,{buildIndex:function(){this.index=new Ge;for(var t=0;t<this.rings.size();t++){var e=this.rings.get(t),n=e.getEnvelopeInternal();this.index.insert(n,e)}},getNestedPoint:function(){return this.nestedPt},isNonNested:function(){this.buildIndex();for(var t=0;t<this.rings.size();t++)for(var e=this.rings.get(t),n=e.getCoordinates(),i=this.index.query(e.getEnvelopeInternal()),r=0;r<i.size();r++){var o=i.get(r),s=o.getCoordinates();if(e!==o&&e.getEnvelopeInternal().intersects(o.getEnvelopeInternal())){var a=lo.findPtNotNode(n,o,this.graph);if(null!==a){var u=ce.isPointInRing(a,s);if(u)return this.nestedPt=a,!1}}}return!0},add:function(t){this.rings.add(t),this.totalEnv.expandToInclude(t.getEnvelopeInternal())},interfaces_:function(){return[]},getClass:function(){return ao}}),e(uo.prototype,{getErrorType:function(){return this.errorType},getMessage:function(){return uo.errMsg[this.errorType]},getCoordinate:function(){return this.pt},toString:function(){var t="";return null!==this.pt&&(t=" at or near point "+this.pt),this.getMessage()+t},interfaces_:function(){return[]},getClass:function(){return uo}}),uo.ERROR=0,uo.REPEATED_POINT=1,uo.HOLE_OUTSIDE_SHELL=2,uo.NESTED_HOLES=3,uo.DISCONNECTED_INTERIOR=4,uo.SELF_INTERSECTION=5,uo.RING_SELF_INTERSECTION=6,uo.NESTED_SHELLS=7,uo.DUPLICATE_RINGS=8,uo.TOO_FEW_POINTS=9,uo.INVALID_COORDINATE=10,uo.RING_NOT_CLOSED=11,uo.errMsg=["Topology Validation Error","Repeated Point","Hole lies outside shell","Holes are nested","Interior is disconnected","Self-intersection","Ring Self-intersection","Nested shells","Duplicate Rings","Too few distinct points in geometry component","Invalid Coordinate","Ring is not closed"],e(lo.prototype,{checkInvalidCoordinates:function(){if(arguments[0]instanceof Array){for(var t=arguments[0],e=0;e<t.length;e++)if(!lo.isValid(t[e]))return this.validErr=new uo(uo.INVALID_COORDINATE,t[e]),null}else if(arguments[0]instanceof Ct){var n=arguments[0];if(this.checkInvalidCoordinates(n.getExteriorRing().getCoordinates()),null!==this.validErr)return null;for(var e=0;e<n.getNumInteriorRing();e++)if(this.checkInvalidCoordinates(n.getInteriorRingN(e).getCoordinates()),null!==this.validErr)return null}},checkHolesNotNested:function(t,e){for(var n=new ao(e),i=0;i<t.getNumInteriorRing();i++){var r=t.getInteriorRingN(i);n.add(r)}var o=n.isNonNested();o||(this.validErr=new uo(uo.NESTED_HOLES,n.getNestedPoint()))},checkConsistentArea:function(t){var e=new so(t),n=e.isNodeConsistentArea();return n?void(e.hasDuplicateRings()&&(this.validErr=new uo(uo.DUPLICATE_RINGS,e.getInvalidPoint()))):(this.validErr=new uo(uo.SELF_INTERSECTION,e.getInvalidPoint()),null)},isValid:function(){return this.checkValid(this.parentGeometry),null===this.validErr},checkShellInsideHole:function(t,e,n){var i=t.getCoordinates(),r=e.getCoordinates(),o=lo.findPtNotNode(i,e,n);if(null!==o){var s=ce.isPointInRing(o,r);if(!s)return o}var a=lo.findPtNotNode(r,t,n);if(null!==a){var u=ce.isPointInRing(a,i);return u?a:null}return f.shouldNeverReachHere("points in shell and hole appear to be equal"),null},checkNoSelfIntersectingRings:function(t){for(var e=t.getEdgeIterator();e.hasNext();){var n=e.next();if(this.checkNoSelfIntersectingRing(n.getEdgeIntersectionList()),null!==this.validErr)return null}},checkConnectedInteriors:function(t){var e=new Hr(t);e.isInteriorsConnected()||(this.validErr=new uo(uo.DISCONNECTED_INTERIOR,e.getCoordinate()))},checkNoSelfIntersectingRing:function(t){for(var e=new at,n=!0,i=t.iterator();i.hasNext();){var r=i.next();if(n)n=!1;else{if(e.contains(r.coord))return this.validErr=new uo(uo.RING_SELF_INTERSECTION,r.coord),null;e.add(r.coord)}}},checkHolesInShell:function(t,e){for(var n=t.getExteriorRing(),i=new io(n),r=0;r<t.getNumInteriorRing();r++){var o=t.getInteriorRingN(r),s=lo.findPtNotNode(o.getCoordinates(),n,e);if(null===s)return null;var a=!i.isInside(s);if(a)return this.validErr=new uo(uo.HOLE_OUTSIDE_SHELL,s),null}},checkTooFewPoints:function(t){return t.hasTooFewPoints()?(this.validErr=new uo(uo.TOO_FEW_POINTS,t.getInvalidPoint()),null):void 0},getValidationError:function(){return this.checkValid(this.parentGeometry),this.validErr},checkValid:function(){if(arguments[0]instanceof At){var t=arguments[0];this.checkInvalidCoordinates(t.getCoordinates())}else if(arguments[0]instanceof Lt){var e=arguments[0];this.checkInvalidCoordinates(e.getCoordinates())}else if(arguments[0]instanceof Mt){var n=arguments[0];if(this.checkInvalidCoordinates(n.getCoordinates()),null!==this.validErr)return null;if(this.checkClosedRing(n),null!==this.validErr)return null;var i=new Kn(0,n);if(this.checkTooFewPoints(i),null!==this.validErr)return null;var r=new ae;i.computeSelfNodes(r,!0,!0),this.checkNoSelfIntersectingRings(i)}else if(arguments[0]instanceof Tt){var o=arguments[0];if(this.checkInvalidCoordinates(o.getCoordinates()),null!==this.validErr)return null;var i=new Kn(0,o);this.checkTooFewPoints(i)}else if(arguments[0]instanceof Ct){var s=arguments[0];if(this.checkInvalidCoordinates(s),null!==this.validErr)return null;if(this.checkClosedRings(s),null!==this.validErr)return null;var i=new Kn(0,s);if(this.checkTooFewPoints(i),null!==this.validErr)return null;if(this.checkConsistentArea(i),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this.validErr))return null;if(this.checkHolesInShell(s,i),null!==this.validErr)return null;if(this.checkHolesNotNested(s,i),null!==this.validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof Nt){for(var a=arguments[0],u=0;u<a.getNumGeometries();u++){var l=a.getGeometryN(u);if(this.checkInvalidCoordinates(l),null!==this.validErr)return null;if(this.checkClosedRings(l),null!==this.validErr)return null}var i=new Kn(0,a);if(this.checkTooFewPoints(i),null!==this.validErr)return null;if(this.checkConsistentArea(i),null!==this.validErr)return null;if(!this.isSelfTouchingRingFormingHoleValid&&(this.checkNoSelfIntersectingRings(i),null!==this.validErr))return null;for(var u=0;u<a.getNumGeometries();u++){var l=a.getGeometryN(u);if(this.checkHolesInShell(l,i),null!==this.validErr)return null}for(var u=0;u<a.getNumGeometries();u++){var l=a.getGeometryN(u);if(this.checkHolesNotNested(l,i),null!==this.validErr)return null}if(this.checkShellsNotNested(a,i),null!==this.validErr)return null;this.checkConnectedInteriors(i)}else if(arguments[0]instanceof ft)for(var c=arguments[0],u=0;u<c.getNumGeometries();u++){var h=c.getGeometryN(u);if(this.checkValid(h),null!==this.validErr)return null}else if(arguments[0]instanceof j){var f=arguments[0];if(this.validErr=null,f.isEmpty())return null;if(f instanceof At)this.checkValid(f);else if(f instanceof Lt)this.checkValid(f);else if(f instanceof Mt)this.checkValid(f);else if(f instanceof Tt)this.checkValid(f);else if(f instanceof Ct)this.checkValid(f);else if(f instanceof Nt)this.checkValid(f);else{if(!(f instanceof ft))throw new UnsupportedOperationException(f.getClass().getName());this.checkValid(f)}}},setSelfTouchingRingFormingHoleValid:function(t){this.isSelfTouchingRingFormingHoleValid=t},checkShellNotNested:function(t,e,n){var i=t.getCoordinates(),r=e.getExteriorRing(),o=r.getCoordinates(),s=lo.findPtNotNode(i,r,n);if(null===s)return null;var a=ce.isPointInRing(s,o);if(!a)return null;if(e.getNumInteriorRing()<=0)return this.validErr=new uo(uo.NESTED_SHELLS,s),null;for(var u=null,l=0;l<e.getNumInteriorRing();l++){var c=e.getInteriorRingN(l);if(u=this.checkShellInsideHole(t,c,n),null===u)return null}this.validErr=new uo(uo.NESTED_SHELLS,u)},checkClosedRings:function(t){if(this.checkClosedRing(t.getExteriorRing()),null!==this.validErr)return null;for(var e=0;e<t.getNumInteriorRing();e++)if(this.checkClosedRing(t.getInteriorRingN(e)),null!==this.validErr)return null},checkClosedRing:function(t){if(!t.isClosed()){var e=null;t.getNumPoints()>=1&&(e=t.getCoordinateN(0)),this.validErr=new uo(uo.RING_NOT_CLOSED,e)}},checkShellsNotNested:function(t,e){for(var n=0;n<t.getNumGeometries();n++)for(var i=t.getGeometryN(n),r=i.getExteriorRing(),o=0;o<t.getNumGeometries();o++)if(n!==o){var s=t.getGeometryN(o);if(this.checkShellNotNested(r,s,e),null!==this.validErr)return null}},interfaces_:function(){return[]},getClass:function(){return lo}}),lo.findPtNotNode=function(t,e,n){for(var i=n.findEdge(e),r=i.getEdgeIntersectionList(),o=0;o<t.length;o++){var s=t[o];if(!r.isIntersection(s))return s}return null},lo.isValid=function(){if(arguments[0]instanceof j){var t=arguments[0],e=new lo(t);return e.isValid()}if(arguments[0]instanceof p){var n=arguments[0];return r.isNaN(n.x)?!1:r.isInfinite(n.x)?!1:r.isNaN(n.y)?!1:!r.isInfinite(n.y)}};var Ms=Object.freeze({IsValidOp:lo}),Ns=Object.freeze({BoundaryOp:dt,IsSimpleOp:zi,buffer:ws,distance:Ts,linemerge:Ss,overlay:As,polygonize:Is,relate:Cs,union:Ls,valid:Ms});c(co,Rt.CoordinateOperation),e(co.prototype,{editCoordinates:function(t,e){if(0===t.length)return null;for(var n=new Array(t.length).fill(null),i=0;i<t.length;i++){var r=new p(t[i]);this.targetPM.makePrecise(r),n[i]=r}var o=new E(n,!1),s=o.toCoordinateArray(),a=0;e instanceof Tt&&(a=2),e instanceof Mt&&(a=4);var u=n;return this.removeCollapsed&&(u=null),s.length<a?u:s},interfaces_:function(){return[]},getClass:function(){return co}}),e(ho.prototype,{fixPolygonalTopology:function(t){var e=t;this.changePrecisionModel||(e=this.changePM(t,this.targetPM));var n=e.buffer(0),i=n;return this.changePrecisionModel||(i=t.getFactory().createGeometry(n)),i},reducePointwise:function(t){var e=null;if(this.changePrecisionModel){var n=this.createFactory(t.getFactory(),this.targetPM);e=new Rt(n)}else e=new Rt;var i=this.removeCollapsed;t.getDimension()>=2&&(i=!0);var r=e.edit(t,new co(this.targetPM,i));return r},changePM:function(t,e){var n=this.createEditor(t.getFactory(),e);return n.edit(t,new Rt.NoOpGeometryOperation)},setRemoveCollapsedComponents:function(t){this.removeCollapsed=t},createFactory:function(t,e){var n=new ie(e,t.getSRID(),t.getCoordinateSequenceFactory());return n},setChangePrecisionModel:function(t){this.changePrecisionModel=t},reduce:function(t){var e=this.reducePointwise(t);return this.isPointwise?e:I(e,It)?e.isValid()?e:this.fixPolygonalTopology(e):e},setPointwise:function(t){this.isPointwise=t},createEditor:function(t,e){if(t.getPrecisionModel()===e)return new Rt;var n=this.createFactory(t,e),i=new Rt(n);return i},interfaces_:function(){return[]},getClass:function(){return ho}}),ho.reduce=function(t,e){var n=new ho(e);return n.reduce(t)},ho.reducePointwise=function(t,e){var n=new ho(e);return n.setPointwise(!0),n.reduce(t)};var Rs=Object.freeze({GeometryPrecisionReducer:ho});e(fo.prototype,{simplifySection:function(t,e){if(t+1===e)return null;this.seg.p0=this.pts[t],this.seg.p1=this.pts[e];for(var n=-1,i=t,r=t+1;e>r;r++){var o=this.seg.distance(this.pts[r]);o>n&&(n=o,i=r)}if(n<=this.distanceTolerance)for(var r=t+1;e>r;r++)this.usePt[r]=!1;else this.simplifySection(t,i),this.simplifySection(i,e)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(){this.usePt=new Array(this.pts.length).fill(null);for(var t=0;t<this.pts.length;t++)this.usePt[t]=!0;this.simplifySection(0,this.pts.length-1);for(var e=new E,t=0;t<this.pts.length;t++)this.usePt[t]&&e.add(new p(this.pts[t]));return e.toCoordinateArray()},interfaces_:function(){return[]},getClass:function(){return fo}}),fo.simplify=function(t,e){var n=new fo(t);return n.setDistanceTolerance(e),n.simplify()},e(po.prototype,{setEnsureValid:function(t){this.isEnsureValidTopology=t},getResultGeometry:function(){return this.inputGeom.isEmpty()?this.inputGeom.copy():new go(this.isEnsureValidTopology,this.distanceTolerance).transform(this.inputGeom)},setDistanceTolerance:function(t){if(0>t)throw new i("Tolerance must be non-negative");this.distanceTolerance=t},interfaces_:function(){return[]},getClass:function(){return po}}),po.simplify=function(t,e){var n=new po(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(go,be),e(go.prototype,{transformPolygon:function(t,e){if(t.isEmpty())return null;var n=be.prototype.transformPolygon.call(this,t,e);return e instanceof Nt?n:this.createValidArea(n)},createValidArea:function(t){return this.isEnsureValidTopology?t.buffer(0):t},transformCoordinates:function(t,e){var n=t.toCoordinateArray(),i=null;return i=0===n.length?new Array(0).fill(null):fo.simplify(n,this.distanceTolerance),this.factory.getCoordinateSequenceFactory().create(i)},transformMultiPolygon:function(t,e){var n=be.prototype.transformMultiPolygon.call(this,t,e);return this.createValidArea(n)},transformLinearRing:function(t,e){var n=e instanceof Ct,i=be.prototype.transformLinearRing.call(this,t,e);return!n||i instanceof Mt?i:null},interfaces_:function(){return[]},getClass:function(){return go}}),po.DPTransformer=go,c(mo,he),e(mo.prototype,{getIndex:function(){return this.index},getParent:function(){return this.parent},interfaces_:function(){return[]},getClass:function(){return mo}}),e(vo.prototype,{addToResult:function(t){this.resultSegs.add(t)},asLineString:function(){return this.parentLine.getFactory().createLineString(vo.extractCoordinates(this.resultSegs))},getResultSize:function(){var t=this.resultSegs.size();return 0===t?0:t+1},getParent:function(){return this.parentLine},getSegment:function(t){return this.segs[t]},getParentCoordinates:function(){return this.parentLine.getCoordinates()},getMinimumSize:function(){return this.minimumSize},asLinearRing:function(){return this.parentLine.getFactory().createLinearRing(vo.extractCoordinates(this.resultSegs))},getSegments:function(){return this.segs},init:function(){var t=this.parentLine.getCoordinates();this.segs=new Array(t.length-1).fill(null);for(var e=0;e<t.length-1;e++){var n=new mo(t[e],t[e+1],this.parentLine,e);this.segs[e]=n}},getResultCoordinates:function(){return vo.extractCoordinates(this.resultSegs)},interfaces_:function(){return[]},getClass:function(){return vo}}),vo.extractCoordinates=function(t){for(var e=new Array(t.size()+1).fill(null),n=null,i=0;i<t.size();i++)n=t.get(i),e[i]=n.p0;return e[e.length-1]=n.p1,e},e(yo.prototype,{remove:function(t){this.index.remove(new w(t.p0,t.p1),t)},add:function(){if(arguments[0]instanceof vo)for(var t=arguments[0],e=t.getSegments(),n=0;n<e.length;n++){var i=e[n];this.add(i)}else if(arguments[0]instanceof he){var r=arguments[0];this.index.insert(new w(r.p0,r.p1),r)}},query:function(t){var e=new w(t.p0,t.p1),n=new bo(t);this.index.query(e,n);var i=n.getItems();return i},interfaces_:function(){return[]},getClass:function(){return yo}}),e(bo.prototype,{visitItem:function(t){var e=t;w.intersects(e.p0,e.p1,this.querySeg.p0,this.querySeg.p1)&&this.items.add(t)},getItems:function(){return this.items},interfaces_:function(){return[Pe]},getClass:function(){return bo}}),e(xo.prototype,{flatten:function(t,e){var n=this.linePts[t],i=this.linePts[e],r=new he(n,i);return this.remove(this.line,t,e),this.outputIndex.add(r),r},hasBadIntersection:function(t,e,n){return this.hasBadOutputIntersection(n)?!0:!!this.hasBadInputIntersection(t,e,n)},setDistanceTolerance:function(t){this.distanceTolerance=t},simplifySection:function(t,e,n){n+=1;var i=new Array(2).fill(null);if(t+1===e){var r=this.line.getSegment(t);return this.line.addToResult(r),null}var o=!0;if(this.line.getResultSize()<this.line.getMinimumSize()){var s=n+1;s<this.line.getMinimumSize()&&(o=!1)}var a=new Array(1).fill(null),u=this.findFurthestPoint(this.linePts,t,e,a);a[0]>this.distanceTolerance&&(o=!1);var l=new he;if(l.p0=this.linePts[t],l.p1=this.linePts[e],i[0]=t,i[1]=e,this.hasBadIntersection(this.line,i,l)&&(o=!1),o){var r=this.flatten(t,e);return this.line.addToResult(r),null}this.simplifySection(t,u,n),this.simplifySection(u,e,n)},hasBadOutputIntersection:function(t){for(var e=this.outputIndex.query(t),n=e.iterator();n.hasNext();){var i=n.next();if(this.hasInteriorIntersection(i,t))return!0}return!1},findFurthestPoint:function(t,e,n,i){var r=new he;r.p0=t[e],r.p1=t[n];for(var o=-1,s=e,a=e+1;n>a;a++){var u=t[a],l=r.distance(u);l>o&&(o=l,s=a)}return i[0]=o,s},simplify:function(t){this.line=t,this.linePts=t.getParentCoordinates(),this.simplifySection(0,this.linePts.length-1,0)},remove:function(t,e,n){for(var i=e;n>i;i++){var r=t.getSegment(i);this.inputIndex.remove(r)}},hasInteriorIntersection:function(t,e){return this.li.computeIntersection(t.p0,t.p1,e.p0,e.p1),this.li.isInteriorIntersection()},hasBadInputIntersection:function(t,e,n){for(var i=this.inputIndex.query(n),r=i.iterator();r.hasNext();){var o=r.next();if(this.hasInteriorIntersection(o,n)){if(xo.isInLineSection(t,e,o))continue;return!0}}return!1},interfaces_:function(){return[]},getClass:function(){return xo}}),xo.isInLineSection=function(t,e,n){if(n.getParent()!==t.getParent())return!1;var i=n.getIndex();return i>=e[0]&&i<e[1]},e(_o.prototype,{setDistanceTolerance:function(t){this.distanceTolerance=t},simplify:function(t){for(var e=t.iterator();e.hasNext();)this.inputIndex.add(e.next());for(var e=t.iterator();e.hasNext();){var n=new xo(this.inputIndex,this.outputIndex);n.setDistanceTolerance(this.distanceTolerance),n.simplify(e.next())}},interfaces_:function(){return[]},getClass:function(){return _o}}),e(Eo.prototype,{getResultGeometry:function(){if(this.inputGeom.isEmpty())return this.inputGeom.copy();this.linestringMap=new te,this.inputGeom.apply(new To(this)),this.lineSimplifier.simplify(this.linestringMap.values());var t=new wo(this.linestringMap).transform(this.inputGeom);return t},setDistanceTolerance:function(t){if(0>t)throw new i("Tolerance must be non-negative");this.lineSimplifier.setDistanceTolerance(t)},interfaces_:function(){return[]},getClass:function(){return Eo}}),Eo.simplify=function(t,e){var n=new Eo(t);return n.setDistanceTolerance(e),n.getResultGeometry()},c(wo,be),e(wo.prototype,{transformCoordinates:function(t,e){if(0===t.size())return null;if(e instanceof Tt){var n=this.linestringMap.get(e);return this.createCoordinateSequence(n.getResultCoordinates())}return be.prototype.transformCoordinates.call(this,t,e)},interfaces_:function(){return[]},getClass:function(){return wo}}),e(To.prototype,{filter:function(t){if(t instanceof Tt){var e=t;if(e.isEmpty())return null;var n=e.isClosed()?4:2,i=new vo(e,n);this.tps.linestringMap.put(e,i)}},interfaces_:function(){return[F]},getClass:function(){return To}}),Eo.LineStringTransformer=wo,Eo.LineStringMapBuilderFilter=To;var Os=Object.freeze({DouglasPeuckerSimplifier:po,TopologyPreservingSimplifier:Eo});e(So.prototype,{splitAt:function(){if(1===arguments.length){var t=arguments[0],e=this.minimumLen/this.segLen;if(t.distance(this.seg.p0)<this.minimumLen)return this.splitPt=this.seg.pointAlong(e),null;if(t.distance(this.seg.p1)<this.minimumLen)return this.splitPt=So.pointAlongReverse(this.seg,e),null;this.splitPt=t}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this.getConstrainedLength(n),o=r/this.segLen;i.equals2D(this.seg.p0)?this.splitPt=this.seg.pointAlong(o):this.splitPt=So.pointAlongReverse(this.seg,o)}},setMinimumLength:function(t){this.minimumLen=t},getConstrainedLength:function(t){return t<this.minimumLen?this.minimumLen:t},getSplitPoint:function(){return this.splitPt},interfaces_:function(){return[]},getClass:function(){return So}}),So.pointAlongReverse=function(t,e){var n=new p;return n.x=t.p1.x-e*(t.p1.x-t.p0.x),n.y=t.p1.y-e*(t.p1.y-t.p0.y),n},e(Ao.prototype,{findSplitPoint:function(t,e){},interfaces_:function(){return[]},getClass:function(){return Ao}}),e(Io.prototype,{findSplitPoint:function(t,e){var n=t.getLineSegment(),i=n.getLength(),r=i/2,o=new So(n),s=Io.projectedSplitPoint(t,e),a=2*s.distance(e)*.8,u=a;return u>r&&(u=r),o.setMinimumLength(u),o.splitAt(s),o.getSplitPoint()},interfaces_:function(){return[Ao]},getClass:function(){return Io}}),Io.projectedSplitPoint=function(t,e){var n=t.getLineSegment(),i=n.project(e);return i},e(Co.prototype,{interfaces_:function(){return[]},getClass:function(){return Co}}),Co.triArea=function(t,e,n){return(e.x-t.x)*(n.y-t.y)-(e.y-t.y)*(n.x-t.x)},Co.isInCircleDDNormalized=function(t,e,n,i){var r=R.valueOf(t.x).selfSubtract(i.x),o=R.valueOf(t.y).selfSubtract(i.y),s=R.valueOf(e.x).selfSubtract(i.x),a=R.valueOf(e.y).selfSubtract(i.y),u=R.valueOf(n.x).selfSubtract(i.x),l=R.valueOf(n.y).selfSubtract(i.y),c=r.multiply(a).selfSubtract(s.multiply(o)),h=s.multiply(l).selfSubtract(u.multiply(a)),f=u.multiply(o).selfSubtract(r.multiply(l)),p=r.multiply(r).selfAdd(o.multiply(o)),d=s.multiply(s).selfAdd(a.multiply(a)),g=u.multiply(u).selfAdd(l.multiply(l)),m=p.selfMultiply(h).selfAdd(d.selfMultiply(f)).selfAdd(g.selfMultiply(c)),v=m.doubleValue()>0;return v},Co.checkRobustInCircle=function(t,e,n,i){var r=Co.isInCircleNonRobust(t,e,n,i),o=Co.isInCircleDDSlow(t,e,n,i),s=Co.isInCircleCC(t,e,n,i),a=hi.circumcentre(t,e,n);P.out.println("p radius diff a = "+Math.abs(i.distance(a)-t.distance(a))/t.distance(a)),r===o&&r===s||(P.out.println("inCircle robustness failure (double result = "+r+", DD result = "+o+", CC result = "+s+")"),P.out.println(oe.toLineString(new zt([t,e,n,i]))),P.out.println("Circumcentre = "+oe.toPoint(a)+" radius = "+t.distance(a)),P.out.println("p radius diff a = "+Math.abs(i.distance(a)/t.distance(a)-1)),P.out.println("p radius diff b = "+Math.abs(i.distance(a)/e.distance(a)-1)),P.out.println("p radius diff c = "+Math.abs(i.distance(a)/n.distance(a)-1)),P.out.println())},Co.isInCircleDDFast=function(t,e,n,i){var r=R.sqr(t.x).selfAdd(R.sqr(t.y)).selfMultiply(Co.triAreaDDFast(e,n,i)),o=R.sqr(e.x).selfAdd(R.sqr(e.y)).selfMultiply(Co.triAreaDDFast(t,n,i)),s=R.sqr(n.x).selfAdd(R.sqr(n.y)).selfMultiply(Co.triAreaDDFast(t,e,i)),a=R.sqr(i.x).selfAdd(R.sqr(i.y)).selfMultiply(Co.triAreaDDFast(t,e,n)),u=r.selfSubtract(o).selfAdd(s).selfSubtract(a),l=u.doubleValue()>0;return l},Co.isInCircleCC=function(t,e,n,i){var r=hi.circumcentre(t,e,n),o=t.distance(r),s=i.distance(r)-o;return 0>=s},Co.isInCircleNormalized=function(t,e,n,i){var r=t.x-i.x,o=t.y-i.y,s=e.x-i.x,a=e.y-i.y,u=n.x-i.x,l=n.y-i.y,c=r*a-s*o,h=s*l-u*a,f=u*o-r*l,p=r*r+o*o,d=s*s+a*a,g=u*u+l*l,m=p*h+d*f+g*c;return m>0},Co.isInCircleDDSlow=function(t,e,n,i){var r=R.valueOf(i.x),o=R.valueOf(i.y),s=R.valueOf(t.x),a=R.valueOf(t.y),u=R.valueOf(e.x),l=R.valueOf(e.y),c=R.valueOf(n.x),h=R.valueOf(n.y),f=s.multiply(s).add(a.multiply(a)).multiply(Co.triAreaDDSlow(u,l,c,h,r,o)),p=u.multiply(u).add(l.multiply(l)).multiply(Co.triAreaDDSlow(s,a,c,h,r,o)),d=c.multiply(c).add(h.multiply(h)).multiply(Co.triAreaDDSlow(s,a,u,l,r,o)),g=r.multiply(r).add(o.multiply(o)).multiply(Co.triAreaDDSlow(s,a,u,l,c,h)),m=f.subtract(p).add(d).subtract(g),v=m.doubleValue()>0;return v},Co.isInCircleNonRobust=function(t,e,n,i){var r=(t.x*t.x+t.y*t.y)*Co.triArea(e,n,i)-(e.x*e.x+e.y*e.y)*Co.triArea(t,n,i)+(n.x*n.x+n.y*n.y)*Co.triArea(t,e,i)-(i.x*i.x+i.y*i.y)*Co.triArea(t,e,n)>0;return r},Co.isInCircleRobust=function(t,e,n,i){return Co.isInCircleNormalized(t,e,n,i)},Co.triAreaDDSlow=function(t,e,n,i,r,o){return n.subtract(t).multiply(o.subtract(e)).subtract(i.subtract(e).multiply(r.subtract(t)))},Co.triAreaDDFast=function(t,e,n){var i=R.valueOf(e.x).selfSubtract(t.x).selfMultiply(R.valueOf(n.y).selfSubtract(t.y)),r=R.valueOf(e.y).selfSubtract(t.y).selfMultiply(R.valueOf(n.x).selfSubtract(t.x));return i.selfSubtract(r)},e(Lo.prototype,{circleCenter:function(t,e){var n=new Lo(this.getX(),this.getY()),i=this.bisector(n,t),r=this.bisector(t,e),o=new k(i,r),s=null;try{s=new Lo(o.getX(),o.getY())}catch(i){if(!(i instanceof S))throw i;P.err.println("a: "+n+"  b: "+t+"  c: "+e),P.err.println(i)}finally{}return s},dot:function(t){return this.p.x*t.getX()+this.p.y*t.getY()},magn:function(){return Math.sqrt(this.p.x*this.p.x+this.p.y*this.p.y)},getZ:function(){return this.p.z},bisector:function(t,e){var n=e.getX()-t.getX(),i=e.getY()-t.getY(),r=new k(t.getX()+n/2,t.getY()+i/2,1),o=new k(t.getX()-i+n/2,t.getY()+n+i/2,1);return new k(r,o)},equals:function(){if(1===arguments.length){var t=arguments[0];return this.p.x===t.getX()&&this.p.y===t.getY()}if(2===arguments.length){var e=arguments[0],n=arguments[1];return this.p.distance(e.getCoordinate())<n}},getCoordinate:function(){return this.p},isInCircle:function(t,e,n){return Co.isInCircleRobust(t.p,e.p,n.p,this.p)},interpolateZValue:function(t,e,n){var i=t.getX(),r=t.getY(),o=e.getX()-i,s=n.getX()-i,a=e.getY()-r,u=n.getY()-r,l=o*u-s*a,c=this.getX()-i,h=this.getY()-r,f=(u*c-s*h)/l,p=(-a*c+o*h)/l,d=t.getZ()+f*(e.getZ()-t.getZ())+p*(n.getZ()-t.getZ());return d},midPoint:function(t){var e=(this.p.x+t.getX())/2,n=(this.p.y+t.getY())/2,i=(this.p.z+t.getZ())/2;return new Lo(e,n,i)},rightOf:function(t){return this.isCCW(t.dest(),t.orig())},isCCW:function(t,e){return(t.p.x-this.p.x)*(e.p.y-this.p.y)-(t.p.y-this.p.y)*(e.p.x-this.p.x)>0},getX:function(){return this.p.x},crossProduct:function(t){return this.p.x*t.getY()-this.p.y*t.getX()},setZ:function(t){this.p.z=t},times:function(t){return new Lo(t*this.p.x,t*this.p.y)},cross:function(){return new Lo(this.p.y,-this.p.x)},leftOf:function(t){return this.isCCW(t.orig(),t.dest())},toString:function(){return"POINT ("+this.p.x+" "+this.p.y+")"},sub:function(t){return new Lo(this.p.x-t.getX(),this.p.y-t.getY())},getY:function(){return this.p.y},classify:function(t,e){var n=this,i=e.sub(t),r=n.sub(t),o=i.crossProduct(r);return o>0?Lo.LEFT:0>o?Lo.RIGHT:i.getX()*r.getX()<0||i.getY()*r.getY()<0?Lo.BEHIND:i.magn()<r.magn()?Lo.BEYOND:t.equals(n)?Lo.ORIGIN:e.equals(n)?Lo.DESTINATION:Lo.BETWEEN},sum:function(t){return new Lo(this.p.x+t.getX(),this.p.y+t.getY())},distance:function(t,e){return Math.sqrt(Math.pow(e.getX()-t.getX(),2)+Math.pow(e.getY()-t.getY(),2))},circumRadiusRatio:function(t,e){var n=this.circleCenter(t,e),i=this.distance(n,t),r=this.distance(this,t),o=this.distance(t,e);return r>o&&(r=o),o=this.distance(e,this),r>o&&(r=o),i/r},interfaces_:function(){return[]},getClass:function(){return Lo}}),Lo.interpolateZ=function(){if(3===arguments.length){var t=arguments[0],e=arguments[1],n=arguments[2],i=e.distance(n),r=t.distance(e),o=n.z-e.z,s=e.z+o*(r/i);return s}if(4===arguments.length){var a=arguments[0],u=arguments[1],l=arguments[2],c=arguments[3],h=u.x,f=u.y,p=l.x-h,d=c.x-h,g=l.y-f,m=c.y-f,v=p*m-d*g,y=a.x-h,b=a.y-f,x=(m*y-d*b)/v,_=(-g*y+p*b)/v,E=u.z+x*(l.z-u.z)+_*(c.z-u.z);return E}},Lo.LEFT=0,Lo.RIGHT=1,Lo.BEYOND=2,Lo.BEHIND=3,Lo.BETWEEN=4,Lo.ORIGIN=5,Lo.DESTINATION=6,c(Mo,Lo),e(Mo.prototype,{getConstraint:function(){return this.constraint},setOnConstraint:function(t){this._isOnConstraint=t},merge:function(t){t._isOnConstraint&&(this._isOnConstraint=!0,this.constraint=t.constraint)},isOnConstraint:function(){return this._isOnConstraint},setConstraint:function(t){this._isOnConstraint=!0,this.constraint=t},interfaces_:function(){return[]},getClass:function(){return Mo}}),e(No.prototype,{equalsNonOriented:function(t){return this.equalsOriented(t)?!0:!!this.equalsOriented(t.sym())},toLineSegment:function(){return new he(this.vertex.getCoordinate(),this.dest().getCoordinate())},dest:function(){return this.sym().orig()},oNext:function(){return this.next},equalsOriented:function(t){return!(!this.orig().getCoordinate().equals2D(t.orig().getCoordinate())||!this.dest().getCoordinate().equals2D(t.dest().getCoordinate()))},dNext:function(){return this.sym().oNext().sym()},lPrev:function(){return this.next.sym()},rPrev:function(){return this.sym().oNext()},rot:function(){return this._rot},oPrev:function(){return this._rot.next._rot},sym:function(){return this._rot._rot},setOrig:function(t){this.vertex=t},lNext:function(){return this.invRot().oNext().rot()},getLength:function(){return this.orig().getCoordinate().distance(this.dest().getCoordinate())},invRot:function(){return this._rot.sym()},setDest:function(t){this.sym().setOrig(t)},setData:function(t){this.data=t},getData:function(){return this.data},delete:function(){this._rot=null},orig:function(){return this.vertex},rNext:function(){return this._rot.next.invRot()},toString:function(){var t=this.vertex.getCoordinate(),e=this.dest().getCoordinate();return oe.toLineString(t,e)},isLive:function(){return null!==this._rot},getPrimary:function(){return this.orig().getCoordinate().compareTo(this.dest().getCoordinate())<=0?this:this.sym()},dPrev:function(){return this.invRot().oNext().invRot()},setNext:function(t){this.next=t},interfaces_:function(){return[]},getClass:function(){return No}}),No.makeEdge=function(t,e){var n=new No,i=new No,r=new No,o=new No;n._rot=i,i._rot=r,r._rot=o,o._rot=n,n.setNext(n),i.setNext(o),r.setNext(r),o.setNext(i);var s=n;return s.setOrig(t),s.setDest(e),s},No.swap=function(t){var e=t.oPrev(),n=t.sym().oPrev();No.splice(t,e),No.splice(t.sym(),n),No.splice(t,e.lNext()),No.splice(t.sym(),n.lNext()),t.setOrig(e.dest()),t.setDest(n.dest())},No.splice=function(t,e){var n=t.oNext().rot(),i=e.oNext().rot(),r=e.oNext(),o=t.oNext(),s=i.oNext(),a=n.oNext();t.setNext(r),e.setNext(o),n.setNext(s),i.setNext(a)},No.connect=function(t,e){var n=No.makeEdge(t.dest(),e.orig());return No.splice(n,t.lNext()),No.splice(n.sym(),e),n},e(Ro.prototype,{insertSite:function(t){var e=this.subdiv.locate(t);if(this.subdiv.isVertexOfEdge(e,t))return e;this.subdiv.isOnEdge(e,t.getCoordinate())&&(e=e.oPrev(),this.subdiv.delete(e.oNext()));var n=this.subdiv.makeEdge(e.orig(),t);No.splice(n,e);var i=n;do{n=this.subdiv.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==i);for(;;){var r=e.oPrev();if(r.dest().rightOf(e)&&t.isInCircle(e.orig(),r.dest(),e.dest()))No.swap(e),e=e.oPrev();else{if(e.oNext()===i)return n;e=e.oNext().lPrev()}}},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},interfaces_:function(){return[]},getClass:function(){return Ro}}),e(Oo.prototype,{locate:function(t){},interfaces_:function(){return[]},getClass:function(){return Oo}}),e(Do.prototype,{init:function(){this.lastEdge=this.findEdge()},locate:function(t){this.lastEdge.isLive()||this.init();var e=this.subdiv.locateFromEdge(t,this.lastEdge);return this.lastEdge=e,e},findEdge:function(){var t=this.subdiv.getEdges();return t.iterator().next()},interfaces_:function(){return[Oo]},getClass:function(){return Do}}),c(Po,l),e(Po.prototype,{getSegment:function(){return this.seg},interfaces_:function(){return[]},getClass:function(){return Po}}),Po.msgWithSpatial=function(t,e){return null!==e?t+" [ "+e+" ]":t},e(ko.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return ko}}),e(zo.prototype,{getTriangleVertices:function(t){var e=new Bo;return this.visitTriangles(e,t),e.getTriangleVertices()},isFrameVertex:function(t){return t.equals(this.frameVertex[0])?!0:t.equals(this.frameVertex[1])?!0:!!t.equals(this.frameVertex[2])},isVertexOfEdge:function(t,e){return!(!e.equals(t.orig(),this.tolerance)&&!e.equals(t.dest(),this.tolerance))},connect:function(t,e){var n=No.connect(t,e);return this.quadEdges.add(n),n},getVoronoiCellPolygon:function(t,e){var n=new _,i=t;do{var r=t.rot().orig().getCoordinate();n.add(r),t=t.oPrev()}while(t!==i);var o=new E;o.addAll(n,!1),o.closeRing(),o.size()<4&&(P.out.println(o),o.add(o.get(o.size()-1),!0));var s=o.toCoordinateArray(),a=e.createPolygon(e.createLinearRing(s),null),u=i.orig();return a.setUserData(u.getCoordinate()),a},setLocator:function(t){this.locator=t},initSubdiv:function(){var t=this.makeEdge(this.frameVertex[0],this.frameVertex[1]),e=this.makeEdge(this.frameVertex[1],this.frameVertex[2]);No.splice(t.sym(),e);var n=this.makeEdge(this.frameVertex[2],this.frameVertex[0]);return No.splice(e.sym(),n),No.splice(n.sym(),t),t},isFrameBorderEdge:function(t){var e=new Array(3).fill(null);zo.getTriangleEdges(t,e);var n=new Array(3).fill(null);zo.getTriangleEdges(t.sym(),n);var i=t.lNext().dest();if(this.isFrameVertex(i))return!0;var r=t.sym().lNext().dest();return!!this.isFrameVertex(r)},makeEdge:function(t,e){var n=No.makeEdge(t,e);return this.quadEdges.add(n),n},visitTriangles:function(t,e){this.visitedKey++;var n=new ge;n.push(this.startingEdge);for(var i=new Q;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=this.fetchTriangleToVisit(r,n,e,i);null!==o&&t.visit(o)}}},isFrameEdge:function(t){return!(!this.isFrameVertex(t.orig())&&!this.isFrameVertex(t.dest()))},isOnEdge:function(t,e){this.seg.setCoordinates(t.orig().getCoordinate(),t.dest().getCoordinate());var n=this.seg.distance(e);return n<this.edgeCoincidenceTolerance},getEnvelope:function(){return new w(this.frameEnv)},createFrame:function(t){var e=t.getWidth(),n=t.getHeight(),i=0;i=e>n?10*e:10*n,this.frameVertex[0]=new Lo((t.getMaxX()+t.getMinX())/2,t.getMaxY()+i),this.frameVertex[1]=new Lo(t.getMinX()-i,t.getMinY()-i),this.frameVertex[2]=new Lo(t.getMaxX()+i,t.getMinY()-i),this.frameEnv=new w(this.frameVertex[0].getCoordinate(),this.frameVertex[1].getCoordinate()),this.frameEnv.expandToInclude(this.frameVertex[2].getCoordinate())},getTriangleCoordinates:function(t){var e=new Uo;return this.visitTriangles(e,t),e.getTriangles()},getVertices:function(t){for(var e=new Q,n=this.quadEdges.iterator();n.hasNext();){var i=n.next(),r=i.orig();!t&&this.isFrameVertex(r)||e.add(r);var o=i.dest();!t&&this.isFrameVertex(o)||e.add(o)}return e},fetchTriangleToVisit:function(t,e,n,i){var r=t,o=0,s=!1;do{this.triEdges[o]=r,this.isFrameEdge(r)&&(s=!0);var a=r.sym();i.contains(a)||e.push(a),i.add(r),o++,r=r.lNext()}while(r!==t);return s&&!n?null:this.triEdges},getEdges:function(){if(0===arguments.length)return this.quadEdges;if(1===arguments.length){for(var t=arguments[0],e=this.getPrimaryEdges(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createLineString([o.orig().getCoordinate(),o.dest().getCoordinate()])}return t.createMultiLineString(n)}},getVertexUniqueEdges:function(t){for(var e=new _,n=new Q,i=this.quadEdges.iterator();i.hasNext();){var r=i.next(),o=r.orig();n.contains(o)||(n.add(o),!t&&this.isFrameVertex(o)||e.add(r));var s=r.sym(),a=s.orig();n.contains(a)||(n.add(a),!t&&this.isFrameVertex(a)||e.add(s))}return e},getTriangleEdges:function(t){var e=new jo;return this.visitTriangles(e,t),e.getTriangleEdges()},getPrimaryEdges:function(t){this.visitedKey++;var e=new _,n=new ge;n.push(this.startingEdge);for(var i=new Q;!n.empty();){var r=n.pop();if(!i.contains(r)){var o=r.getPrimary();!t&&this.isFrameEdge(o)||e.add(o),n.push(r.oNext()),n.push(r.sym().oNext()),i.add(r),i.add(r.sym())}}return e},delete:function(t){No.splice(t,t.oPrev()),No.splice(t.sym(),t.sym().oPrev());var e=t.sym(),n=t.rot(),i=t.rot().sym();this.quadEdges.remove(t),this.quadEdges.remove(e),this.quadEdges.remove(n),this.quadEdges.remove(i),t.delete(),e.delete(),n.delete(),i.delete()},locateFromEdge:function(t,e){for(var n=0,i=this.quadEdges.size(),r=e;;){if(n++,n>i)throw new Po(r.toLineSegment());if(t.equals(r.orig())||t.equals(r.dest()))break;if(t.rightOf(r))r=r.sym();else if(t.rightOf(r.oNext())){if(t.rightOf(r.dPrev()))break;r=r.dPrev()}else r=r.oNext()}return r},getTolerance:function(){return this.tolerance},getVoronoiCellPolygons:function(t){this.visitTriangles(new Fo,!0);for(var e=new _,n=this.getVertexUniqueEdges(!1),i=n.iterator();i.hasNext();){var r=i.next();e.add(this.getVoronoiCellPolygon(r,t))}return e},getVoronoiDiagram:function(t){var e=this.getVoronoiCellPolygons(t);return t.createGeometryCollection(ie.toGeometryArray(e))},getTriangles:function(t){for(var e=this.getTriangleCoordinates(!1),n=new Array(e.size()).fill(null),i=0,r=e.iterator();r.hasNext();){var o=r.next();n[i++]=t.createPolygon(t.createLinearRing(o),null)}return t.createGeometryCollection(n)},insertSite:function(t){var e=this.locate(t);if(t.equals(e.orig(),this.tolerance)||t.equals(e.dest(),this.tolerance))return e;var n=this.makeEdge(e.orig(),t);No.splice(n,e);var i=n;do{n=this.connect(e,n.sym()),e=n.oPrev()}while(e.lNext()!==i);return i},locate:function(){if(1===arguments.length){if(arguments[0]instanceof Lo){var t=arguments[0];return this.locator.locate(t)}if(arguments[0]instanceof p){var e=arguments[0];return this.locator.locate(new Lo(e))}}else if(2===arguments.length){var n=arguments[0],i=arguments[1],r=this.locator.locate(new Lo(n));if(null===r)return null;var o=r;r.dest().getCoordinate().equals2D(n)&&(o=r.sym());var s=o;do{if(s.dest().getCoordinate().equals2D(i))return s;s=s.oNext()}while(s!==o);return null}},interfaces_:function(){return[]},getClass:function(){return zo}}),zo.getTriangleEdges=function(t,e){if(e[0]=t,e[1]=e[0].lNext(),e[2]=e[1].lNext(),e[2].lNext()!==e[0])throw new i("Edges do not form a triangle")},e(Fo.prototype,{visit:function(t){for(var e=t[0].orig().getCoordinate(),n=t[1].orig().getCoordinate(),i=t[2].orig().getCoordinate(),r=hi.circumcentre(e,n,i),o=new Lo(r),s=0;3>s;s++)t[s].rot().setOrig(o)},interfaces_:function(){return[ko]},getClass:function(){return Fo}}),e(jo.prototype,{getTriangleEdges:function(){return this.triList},visit:function(t){this.triList.add(t.clone())},interfaces_:function(){return[ko]},getClass:function(){return jo}}),e(Bo.prototype,{visit:function(t){this.triList.add([t[0].orig(),t[1].orig(),t[2].orig()])},getTriangleVertices:function(){return this.triList},interfaces_:function(){return[ko]},getClass:function(){return Bo}}),e(Uo.prototype,{checkTriangleSize:function(t){var e="";t.length>=2?e=oe.toLineString(t[0],t[1]):t.length>=1&&(e=oe.toPoint(t[0]))},visit:function(t){this.coordList.clear();for(var e=0;3>e;e++){var n=t[e].orig();this.coordList.add(n.getCoordinate())}if(this.coordList.size()>0){this.coordList.closeRing();var i=this.coordList.toCoordinateArray();if(4!==i.length)return null;this.triCoords.add(i)}},getTriangles:function(){return this.triCoords},interfaces_:function(){return[ko]},getClass:function(){return Uo}}),zo.TriangleCircumcentreVisitor=Fo,zo.TriangleEdgesListVisitor=jo,zo.TriangleVertexListVisitor=Bo,zo.TriangleCoordinatesVisitor=Uo,zo.EDGE_COINCIDENCE_TOL_FACTOR=1e3,e(Go.prototype,{getLineSegment:function(){return this.ls},getEndZ:function(){var t=this.ls.getCoordinate(1);return t.z},getStartZ:function(){var t=this.ls.getCoordinate(0);return t.z},intersection:function(t){return this.ls.intersection(t.getLineSegment())},getStart:function(){return this.ls.getCoordinate(0)},getEnd:function(){return this.ls.getCoordinate(1)},getEndY:function(){var t=this.ls.getCoordinate(1);return t.y},getStartX:function(){var t=this.ls.getCoordinate(0);return t.x},equalsTopo:function(t){return this.ls.equalsTopo(t.getLineSegment())},getStartY:function(){var t=this.ls.getCoordinate(0);return t.y},setData:function(t){this.data=t},getData:function(){return this.data},getEndX:function(){var t=this.ls.getCoordinate(1);return t.x},toString:function(){return this.ls.toString()},interfaces_:function(){return[]},getClass:function(){return Go}}),e(Vo.prototype,{visit:function(t){},interfaces_:function(){return[]},getClass:function(){return Vo}}),e(qo.prototype,{isRepeated:function(){return this.count>1},getRight:function(){return this.right},getCoordinate:function(){return this.p},setLeft:function(t){this.left=t},getX:function(){return this.p.x},getData:function(){return this.data},getCount:function(){return this.count},getLeft:function(){return this.left},getY:function(){return this.p.y},increment:function(){this.count=this.count+1},setRight:function(t){this.right=t},interfaces_:function(){return[]},getClass:function(){return qo}}),e(Yo.prototype,{insert:function(){if(1===arguments.length){var t=arguments[0];return this.insert(t,null)}if(2===arguments.length){var e=arguments[0],n=arguments[1];if(null===this.root)return this.root=new qo(e,n),this.root;if(this.tolerance>0){var i=this.findBestMatchNode(e);if(null!==i)return i.increment(),i}return this.insertExact(e,n)}},query:function(){var t=arguments,e=this;if(1===arguments.length){var n=arguments[0],i=new _;return this.query(n,i),i}if(2===arguments.length)if(arguments[0]instanceof w&&I(arguments[1],y))!function(){var n=t[0],i=t[1];e.queryNode(e.root,n,!0,{interfaces_:function(){return[Vo]},visit:function(t){i.add(t)}})}();else if(arguments[0]instanceof w&&I(arguments[1],Vo)){var r=arguments[0],o=arguments[1];this.queryNode(this.root,r,!0,o)}},queryNode:function(t,e,n,i){if(null===t)return null;var r=null,o=null,s=null;n?(r=e.getMinX(),o=e.getMaxX(),s=t.getX()):(r=e.getMinY(),o=e.getMaxY(),s=t.getY());var a=s>r,u=o>=s;a&&this.queryNode(t.getLeft(),e,!n,i),e.contains(t.getCoordinate())&&i.visit(t),u&&this.queryNode(t.getRight(),e,!n,i)},findBestMatchNode:function(t){var e=new Xo(t,this.tolerance);return this.query(e.queryEnvelope(),e),e.getNode()},isEmpty:function(){return null===this.root},insertExact:function(t,e){for(var n=this.root,i=this.root,r=!0,o=!0;null!==n;){if(null!==n){var s=t.distance(n.getCoordinate())<=this.tolerance;if(s)return n.increment(),n}o=r?t.x<n.getX():t.y<n.getY(),i=n,n=o?n.getLeft():n.getRight(),r=!r}this.numberOfNodes=this.numberOfNodes+1;var a=new qo(t,e);return o?i.setLeft(a):i.setRight(a),a},interfaces_:function(){return[]},getClass:function(){return Yo}}),Yo.toCoordinates=function(){if(1===arguments.length){var t=arguments[0];return Yo.toCoordinates(t,!1)}if(2===arguments.length){for(var e=arguments[0],n=arguments[1],i=new E,r=e.iterator();r.hasNext();)for(var o=r.next(),s=n?o.getCount():1,a=0;s>a;a++)i.add(o.getCoordinate(),!0);return i.toCoordinateArray()}},e(Xo.prototype,{visit:function(t){var e=this.p.distance(t.getCoordinate()),n=e<=this.tolerance;if(!n)return null;var i=!1;(null===this.matchNode||e<this.matchDist||null!==this.matchNode&&e===this.matchDist&&t.getCoordinate().compareTo(this.matchNode.getCoordinate())<1)&&(i=!0),i&&(this.matchNode=t,this.matchDist=e)},queryEnvelope:function(){var t=new w(this.p);return t.expandBy(this.tolerance),t},getNode:function(){return this.matchNode},interfaces_:function(){return[Vo]},getClass:function(){return Xo}}),Yo.BestMatchVisitor=Xo,e(Wo.prototype,{getInitialVertices:function(){return this.initialVertices},getKDT:function(){return this.kdt},enforceConstraints:function(){this.addConstraintVertices();var t=0,e=0;do{e=this.enforceGabriel(this.segments),t++}while(e>0&&t<Wo.MAX_SPLIT_ITER)},insertSites:function(t){for(var e=t.iterator();e.hasNext();){var n=e.next();this.insertSite(n)}},getVertexFactory:function(){return this.vertexFactory},getPointArray:function(){for(var t=new Array(this.initialVertices.size()+this.segVertices.size()).fill(null),e=0,n=this.initialVertices.iterator();n.hasNext();){var i=n.next();t[e++]=i.getCoordinate()}for(var r=this.segVertices.iterator();r.hasNext();){var i=r.next();t[e++]=i.getCoordinate()}return t},setConstraints:function(t,e){this.segments=t,this.segVertices=e},computeConvexHull:function(){var t=new ie,e=this.getPointArray(),n=new ve(e,t);this.convexHull=n.getConvexHull()},addConstraintVertices:function(){this.computeConvexHull(),this.insertSites(this.segVertices)},findNonGabrielPoint:function(t){var e=t.getStart(),n=t.getEnd(),i=new p((e.x+n.x)/2,(e.y+n.y)/2),o=e.distance(i),s=new w(i);s.expandBy(o);for(var a=this.kdt.query(s),u=null,l=r.MAX_VALUE,c=a.iterator();c.hasNext();){var h=c.next(),f=h.getCoordinate();if(!f.equals2D(e)&&!f.equals2D(n)){var d=i.distance(f);if(o>d){var g=d;(null===u||l>g)&&(u=f,l=g)}}}return u},getConstraintSegments:function(){return this.segments},setSplitPointFinder:function(t){this.splitFinder=t},getConvexHull:function(){return this.convexHull},getTolerance:function(){return this.tolerance},enforceGabriel:function(t){for(var e=new _,n=0,i=new _,r=t.iterator();r.hasNext();){var o=r.next(),s=this.findNonGabrielPoint(o);if(null!==s){this.splitPt=this.splitFinder.findSplitPoint(o,s);var a=this.createVertex(this.splitPt,o),u=(this.insertSite(a),new Go(o.getStartX(),o.getStartY(),o.getStartZ(),a.getX(),a.getY(),a.getZ(),o.getData())),l=new Go(a.getX(),a.getY(),a.getZ(),o.getEndX(),o.getEndY(),o.getEndZ(),o.getData());e.add(u),e.add(l),i.add(o),n+=1}}return t.removeAll(i),t.addAll(e),n},createVertex:function(){if(1===arguments.length){var t=arguments[0],e=null;return e=null!==this.vertexFactory?this.vertexFactory.createVertex(t,null):new Mo(t)}if(2===arguments.length){var n=arguments[0],i=arguments[1],e=null;return e=null!==this.vertexFactory?this.vertexFactory.createVertex(n,i):new Mo(n),e.setOnConstraint(!0),e}},getSubdivision:function(){return this.subdiv},computeBoundingBox:function(){var t=Wo.computeVertexEnvelope(this.initialVertices),e=Wo.computeVertexEnvelope(this.segVertices),n=new w(t);n.expandToInclude(e);var i=.2*n.getWidth(),r=.2*n.getHeight(),o=Math.max(i,r);this.computeAreaEnv=new w(n),this.computeAreaEnv.expandBy(o)},setVertexFactory:function(t){this.vertexFactory=t},formInitialDelaunay:function(){this.computeBoundingBox(),this.subdiv=new zo(this.computeAreaEnv,this.tolerance),this.subdiv.setLocator(new Do(this.subdiv)),this.incDel=new Ro(this.subdiv),this.insertSites(this.initialVertices)},insertSite:function(){if(arguments[0]instanceof Mo){var t=arguments[0],e=this.kdt.insert(t.getCoordinate(),t);if(e.isRepeated()){var n=e.getData();return n.merge(t),n}return this.incDel.insertSite(t),t}if(arguments[0]instanceof p){var i=arguments[0];this.insertSite(this.createVertex(i))}},interfaces_:function(){return[]},getClass:function(){return Wo}}),Wo.computeVertexEnvelope=function(t){for(var e=new w,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i.getCoordinate())}return e},Wo.MAX_SPLIT_ITER=99,e(Zo.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Zo.envelope(this.siteCoords),e=Zo.toVertices(this.siteCoords);this.subdiv=new zo(t,this.tolerance);var n=new Ro(this.subdiv);n.insertSites(e)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof j){var t=arguments[0];this.siteCoords=Zo.extractUniqueCoordinates(t)}else if(I(arguments[0],m)){var e=arguments[0];this.siteCoords=Zo.unique(X.toCoordinateArray(e))}},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},interfaces_:function(){return[]},getClass:function(){return Zo}}),Zo.extractUniqueCoordinates=function(t){if(null===t)return new E;var e=t.getCoordinates();return Zo.unique(e)},Zo.envelope=function(t){for(var e=new w,n=t.iterator();n.hasNext();){var i=n.next();e.expandToInclude(i)}return e},Zo.unique=function(t){var e=X.copyDeep(t);ut.sort(e);var n=new E(e,!1);return n},Zo.toVertices=function(t){for(var e=new _,n=t.iterator();n.hasNext();){var i=n.next();e.add(new Lo(i))}return e},e(Ho.prototype,{createSiteVertices:function(t){for(var e=new _,n=t.iterator();n.hasNext();){var i=n.next();this.constraintVertexMap.containsKey(i)||e.add(new Mo(i))}return e},create:function(){if(null!==this.subdiv)return null;var t=Zo.envelope(this.siteCoords),e=new _;null!==this.constraintLines&&(t.expandToInclude(this.constraintLines.getEnvelopeInternal()),this.createVertices(this.constraintLines),e=Ho.createConstraintSegments(this.constraintLines));var n=this.createSiteVertices(this.siteCoords),i=new Wo(n,this.tolerance);i.setConstraints(e,new _(this.constraintVertexMap.values())),i.formInitialDelaunay(),i.enforceConstraints(),this.subdiv=i.getSubdivision()},setTolerance:function(t){this.tolerance=t},setConstraints:function(t){this.constraintLines=t},setSites:function(t){this.siteCoords=Zo.extractUniqueCoordinates(t)},getEdges:function(t){return this.create(),this.subdiv.getEdges(t)},getSubdivision:function(){return this.create(),this.subdiv},getTriangles:function(t){return this.create(),this.subdiv.getTriangles(t)},createVertices:function(t){for(var e=t.getCoordinates(),n=0;n<e.length;n++){var i=new Mo(e[n]);this.constraintVertexMap.put(e[n],i)}},interfaces_:function(){return[]},getClass:function(){return Ho}}),Ho.createConstraintSegments=function(){if(1===arguments.length){for(var t=arguments[0],e=Gn.getLines(t),n=new _,i=e.iterator();i.hasNext();){var r=i.next();Ho.createConstraintSegments(r,n)}return n}if(2===arguments.length)for(var o=arguments[0],s=arguments[1],a=o.getCoordinates(),i=1;i<a.length;i++)s.add(new Go(a[i-1],a[i]))},e($o.prototype,{create:function(){if(null!==this.subdiv)return null;var t=Zo.envelope(this.siteCoords);this.diagramEnv=t;var e=Math.max(this.diagramEnv.getWidth(),this.diagramEnv.getHeight());this.diagramEnv.expandBy(e),null!==this.clipEnv&&this.diagramEnv.expandToInclude(this.clipEnv);var n=Zo.toVertices(this.siteCoords);this.subdiv=new zo(t,this.tolerance);var i=new Ro(this.subdiv);i.insertSites(n)},getDiagram:function(t){this.create();var e=this.subdiv.getVoronoiDiagram(t);return $o.clipGeometryCollection(e,this.diagramEnv)},setTolerance:function(t){this.tolerance=t},setSites:function(){if(arguments[0]instanceof j){var t=arguments[0];this.siteCoords=Zo.extractUniqueCoordinates(t)}else if(I(arguments[0],m)){var e=arguments[0];this.siteCoords=Zo.unique(X.toCoordinateArray(e))}},setClipEnvelope:function(t){this.clipEnv=t},getSubdivision:function(){return this.create(),this.subdiv},interfaces_:function(){return[]},getClass:function(){return $o}}),$o.clipGeometryCollection=function(t,e){for(var n=t.getFactory().toGeometry(e),i=new _,r=0;r<t.getNumGeometries();r++){var o=t.getGeometryN(r),s=null;e.contains(o.getEnvelopeInternal())?s=o:e.intersects(o.getEnvelopeInternal())&&(s=n.intersection(o),s.setUserData(o.getUserData())),null===s||s.isEmpty()||i.add(s)}return t.getFactory().createGeometryCollection(ie.toGeometryArray(i))};var Ds=Object.freeze({ConformingDelaunayTriangulationBuilder:Ho,DelaunayTriangulationBuilder:Zo,VoronoiDiagramBuilder:$o});e(Jo.prototype,{interfaces_:function(){return[]},getClass:function(){return Jo}}),Jo.union=function(t,e){if(t.isEmpty()||e.isEmpty()){if(t.isEmpty()&&e.isEmpty())return ii.createEmptyResult(ii.UNION,t,e,t.getFactory());if(t.isEmpty())return e.copy();if(e.isEmpty())return t.copy()}return t.checkNotGeometryCollection(t),t.checkNotGeometryCollection(e),oi.overlayOp(t,e,ii.UNION)},e(j.prototype,{equalsTopo:function(t){return this.getEnvelopeInternal().equals(t.getEnvelopeInternal())?Vr.relate(this,t).isEquals(this.getDimension(),t.getDimension()):!1},union:function(){if(0===arguments.length)return Zr.union(this);if(1===arguments.length){var t=arguments[0];return Jo.union(this,t)}},isValid:function(){return lo.isValid(this)},intersection:function(t){if(this.isEmpty()||t.isEmpty())return ii.createEmptyResult(ii.INTERSECTION,this,t,this.factory);if(this.isGeometryCollection()){var e=t;return cn.map(this,{interfaces_:function(){return[MapOp]},map:function(t){return t.intersection(e)}})}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),oi.overlayOp(this,t,ii.INTERSECTION)},covers:function(t){return Vr.covers(this,t)},coveredBy:function(t){return Vr.coveredBy(this,t)},touches:function(t){return Vr.touches(this,t)},intersects:function(t){return Vr.intersects(this,t)},within:function(t){return Vr.within(this,t)},overlaps:function(t){return Vr.overlaps(this,t)},disjoint:function(t){return Vr.disjoint(this,t)},crosses:function(t){return Vr.crosses(this,t)},buffer:function(){if(1===arguments.length){var t=arguments[0];return or.bufferOp(this,t)}if(2===arguments.length){var e=arguments[0],n=arguments[1];return or.bufferOp(this,e,n)}if(3===arguments.length){var i=arguments[0],r=arguments[1],o=arguments[2];return or.bufferOp(this,i,r,o)}},convexHull:function(){return new ve(this).getConvexHull()},relate:function(){for(var t=arguments.length,e=Array(t),n=0;t>n;n++)e[n]=arguments[n];return Vr.relate.apply(Vr,[this].concat(e))},getCentroid:function(){if(this.isEmpty())return this.factory.createPoint();var t=pe.getCentroid(this);return this.createPointFromInternalCoord(t,this)},getInteriorPoint:function(){if(this.isEmpty())return this.factory.createPoint();var t=null,e=this.getDimension();if(0===e){var n=new li(this);t=n.getInteriorPoint()}else if(1===e){var n=new ui(this);t=n.getInteriorPoint()}else{var n=new si(this);t=n.getInteriorPoint()}return this.createPointFromInternalCoord(t,this)},symDifference:function(t){if(this.isEmpty()||t.isEmpty()){if(this.isEmpty()&&t.isEmpty())return ii.createEmptyResult(ii.SYMDIFFERENCE,this,t,this.factory);if(this.isEmpty())return t.copy();if(t.isEmpty())return this.copy()}return this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),oi.overlayOp(this,t,ii.SYMDIFFERENCE)},createPointFromInternalCoord:function(t,e){return e.getPrecisionModel().makePrecise(t),e.getFactory().createPoint(t)},toText:function(){var t=new oe;return t.write(this)},toString:function(){this.toText()},contains:function(t){return Vr.contains(this,t)},difference:function(t){return this.isEmpty()?ii.createEmptyResult(ii.DIFFERENCE,this,t,this.factory):t.isEmpty()?this.copy():(this.checkNotGeometryCollection(this),this.checkNotGeometryCollection(t),oi.overlayOp(this,t,ii.DIFFERENCE))},isSimple:function(){var t=new zi(this);return t.isSimple()},isWithinDistance:function(t,e){var n=this.getEnvelopeInternal().distance(t.getEnvelopeInternal());return n>e?!1:cr.isWithinDistance(this,t,e)},distance:function(t){return cr.distance(this,t)},isEquivalentClass:function(t){return this.getClass()===t.getClass()}});var Ps="1.1.2 (248dab8)";t.version=Ps,t.algorithm=fs,t.densify=ps,t.dissolve=ds,t.geom=cs,t.index=vs,t.io=_s,t.noding=Es,t.operation=Ns,t.precision=Rs,t.simplify=Os,t.triangulate=Ds})},function(t,e,n){"use strict";function i(t,e){var n=t.className.split(" ");if(n.indexOf(e)<0){n.push(e)}t.className=n.join(" ")}function r(t,e){var n=t.className.split(" ");var i=n.indexOf(e);if(i>=0){n.splice(i,1)}t.className=n.join(" ")}e.add=function(t,e){if(t.classList){t.classList.add(e)}else{i(t,e)}};e.remove=function(t,e){if(t.classList){t.classList.remove(e)}else{r(t,e)}};e.list=function(t){if(t.classList){return Array.prototype.slice.apply(t.classList)}else{return t.className.split(" ")}}},function(t,e,n){var i={},r=function(t){var e;return function(){if(typeof e==="undefined")e=t.apply(this,arguments);return e}},o=r(function(){return window&&document&&document.all&&!window.atob}),s=function(t){var e={};return function(n){if(typeof e[n]==="undefined"){e[n]=t.call(this,n)}return e[n]}}(function(t){return document.querySelector(t)}),a=null,u=0,l=[],c=n(78);t.exports=function(t,e){if(typeof DEBUG!=="undefined"&&DEBUG){if(typeof document!=="object")throw new Error("The style-loader cannot be used in a non-browser environment")}e=e||{};e.attrs=typeof e.attrs==="object"?e.attrs:{};if(typeof e.singleton==="undefined")e.singleton=o();if(typeof e.insertInto==="undefined")e.insertInto="head";if(typeof e.insertAt==="undefined")e.insertAt="bottom";var n=f(t);h(n,e);return function t(r){var o=[];for(var s=0;s<n.length;s++){var a=n[s];var u=i[a.id];u.refs--;o.push(u)}if(r){var l=f(r);h(l,e)}for(var s=0;s<o.length;s++){var u=o[s];if(u.refs===0){for(var c=0;c<u.parts.length;c++)u.parts[c]();delete i[u.id]}}}};function h(t,e){for(var n=0;n<t.length;n++){var r=t[n];var o=i[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++){o.parts[s](r.parts[s])}for(;s<r.parts.length;s++){o.parts.push(y(r.parts[s],e))}}else{var a=[];for(var s=0;s<r.parts.length;s++){a.push(y(r.parts[s],e))}i[r.id]={id:r.id,refs:1,parts:a}}}}function f(t){var e=[];var n={};for(var i=0;i<t.length;i++){var r=t[i];var o=r[0];var s=r[1];var a=r[2];var u=r[3];var l={css:s,media:a,sourceMap:u};if(!n[o])e.push(n[o]={id:o,parts:[l]});else n[o].parts.push(l)}return e}function p(t,e){var n=s(t.insertInto);if(!n){throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.")}var i=l[l.length-1];if(t.insertAt==="top"){if(!i){n.insertBefore(e,n.firstChild)}else if(i.nextSibling){n.insertBefore(e,i.nextSibling)}else{n.appendChild(e)}l.push(e)}else if(t.insertAt==="bottom"){n.appendChild(e)}else{throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.")}}function d(t){t.parentNode.removeChild(t);var e=l.indexOf(t);if(e>=0){l.splice(e,1)}}function g(t){var e=document.createElement("style");t.attrs.type="text/css";v(e,t.attrs);p(t,e);return e}function m(t){var e=document.createElement("link");t.attrs.type="text/css";t.attrs.rel="stylesheet";v(e,t.attrs);p(t,e);return e}function v(t,e){Object.keys(e).forEach(function(n){t.setAttribute(n,e[n])})}function y(t,e){var n,i,r;if(e.singleton){var o=u++;n=a||(a=g(e));i=x.bind(null,n,o,false);r=x.bind(null,n,o,true)}else if(t.sourceMap&&typeof URL==="function"&&typeof URL.createObjectURL==="function"&&typeof URL.revokeObjectURL==="function"&&typeof Blob==="function"&&typeof btoa==="function"){n=m(e);i=E.bind(null,n,e);r=function(){d(n);if(n.href)URL.revokeObjectURL(n.href)}}else{n=g(e);i=_.bind(null,n);r=function(){d(n)}}i(t);return function e(n){if(n){if(n.css===t.css&&n.media===t.media&&n.sourceMap===t.sourceMap)return;i(t=n)}else{r()}}}var b=function(){var t=[];return function(e,n){t[e]=n;return t.filter(Boolean).join("\n")}}();function x(t,e,n,i){var r=n?"":i.css;if(t.styleSheet){t.styleSheet.cssText=b(e,r)}else{var o=document.createTextNode(r);var s=t.childNodes;if(s[e])t.removeChild(s[e]);if(s.length){t.insertBefore(o,s[e])}else{t.appendChild(o)}}}function _(t,e){var n=e.css;var i=e.media;if(i){t.setAttribute("media",i)}if(t.styleSheet){t.styleSheet.cssText=n}else{while(t.firstChild){t.removeChild(t.firstChild)}t.appendChild(document.createTextNode(n))}}function E(t,e,n){var i=n.css;var r=n.sourceMap;var o=e.convertToAbsoluteUrls===undefined&&r;if(e.convertToAbsoluteUrls||o){i=c(i)}if(r){i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"}var s=new Blob([i],{type:"text/css"});var a=t.href;t.href=URL.createObjectURL(s);if(a)URL.revokeObjectURL(a)}},function(t,e,n){var i=n(9).coordEach;t.exports=function(t){var e=[Infinity,Infinity,-Infinity,-Infinity];i(t,function(t){if(e[0]>t[0])e[0]=t[0];if(e[1]>t[1])e[1]=t[1];if(e[2]<t[0])e[2]=t[0];if(e[3]<t[1])e[3]=t[1]});return e}},function(t,e,n){var i=n(17).getCoord;t.exports=function(t,e){var n=Math.PI/180;var r=180/Math.PI;var o=i(t);var s=i(e);var a=n*o[0];var u=n*s[0];var l=n*o[1];var c=n*s[1];var h=Math.sin(u-a)*Math.cos(c);var f=Math.cos(l)*Math.sin(c)-Math.sin(l)*Math.cos(c)*Math.cos(u-a);var p=r*Math.atan2(h,f);return p}},function(t,e,n){var i=n(17).getCoord;var r=n(0);var o=r.point;var s=r.distanceToRadians;t.exports=function(t,e,n,r){var a=Math.PI/180;var u=180/Math.PI;var l=i(t);var c=a*l[0];var h=a*l[1];var f=a*n;var p=s(e,r);var d=Math.asin(Math.sin(h)*Math.cos(p)+Math.cos(h)*Math.sin(p)*Math.cos(f));var g=c+Math.atan2(Math.sin(f)*Math.sin(p)*Math.cos(h),Math.cos(p)-Math.sin(h)*Math.sin(d));return o([u*g,u*d])}},function(t,e){function n(t){if(Array.isArray(t)&&typeof t[0]==="number"&&typeof t[1]==="number"){return t}else if(t){if(t.type==="Feature"&&t.geometry&&t.geometry.type==="Point"&&Array.isArray(t.geometry.coordinates)){return t.geometry.coordinates}else if(t.type==="Point"&&Array.isArray(t.coordinates)){return t.coordinates}}throw new Error("A coordinate, feature, or point geometry is required")}function i(t,e,n){if(!e||!n)throw new Error("type and name required");if(!t||t.type!==e){throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.type)}}function r(t,e,n){if(!n)throw new Error(".featureOf() requires a name");if(!t||t.type!=="Feature"||!t.geometry){throw new Error("Invalid input to "+n+", Feature with geometry required")}if(!t.geometry||t.geometry.type!==e){throw new Error("Invalid input to "+n+": must be a "+e+", given "+t.geometry.type)}}function o(t,e,n){if(!n)throw new Error(".collectionOf() requires a name");if(!t||t.type!=="FeatureCollection"){throw new Error("Invalid input to "+n+", FeatureCollection required")}for(var i=0;i<t.features.length;i++){var r=t.features[i];if(!r||r.type!=="Feature"||!r.geometry){throw new Error("Invalid input to "+n+", Feature with geometry required")}if(!r.geometry||r.geometry.type!==e){throw new Error("Invalid input to "+n+": must be a "+e+", given "+r.geometry.type)}}}t.exports.geojsonType=i;t.exports.collectionOf=o;t.exports.featureOf=r;t.exports.getCoord=n},function(t,e,n){"use strict";var i=n(28);var r=n(75);var o=n(73);var s=n(74);var a=5;var u=1.1102230246251565e-16;var l=(3+16*u)*u;var c=(7+56*u)*u;function h(t,e){var n=new Array(t.length-1);for(var i=1;i<t.length;++i){var r=n[i-1]=new Array(t.length-1);for(var o=0,s=0;o<t.length;++o){if(o===e){continue}r[s++]=t[i][o]}}return n}function f(t){var e=new Array(t);for(var n=0;n<t;++n){e[n]=new Array(t);for(var i=0;i<t;++i){e[n][i]=["m",i,"[",t-n-1,"]"].join("")}}return e}function p(t){if(t&1){return"-"}return""}function d(t){if(t.length===1){return t[0]}else if(t.length===2){return["sum(",t[0],",",t[1],")"].join("")}else{var e=t.length>>1;return["sum(",d(t.slice(0,e)),",",d(t.slice(e)),")"].join("")}}function g(t){if(t.length===2){return[["sum(prod(",t[0][0],",",t[1][1],"),prod(-",t[0][1],",",t[1][0],"))"].join("")]}else{var e=[];for(var n=0;n<t.length;++n){e.push(["scale(",d(g(h(t,n))),",",p(n),t[0][n],")"].join(""))}return e}}function m(t){var e=[];var n=[];var a=f(t);var u=[];for(var l=0;l<t;++l){if((l&1)===0){e.push.apply(e,g(h(a,l)))}else{n.push.apply(n,g(h(a,l)))}u.push("m"+l)}var c=d(e);var p=d(n);var m="orientation"+t+"Exact";var v=["function ",m,"(",u.join(),"){var p=",c,",n=",p,",d=sub(p,n);return d[d.length-1];};return ",m].join("");var y=new Function("sum","prod","scale","sub",v);return y(r,i,o,s)}var v=m(3);var y=m(4);var b=[function t(){return 0},function t(){return 0},function t(e,n){return n[0]-e[0]},function t(e,n,i){var r=(e[1]-i[1])*(n[0]-i[0]);var o=(e[0]-i[0])*(n[1]-i[1]);var s=r-o;var a;if(r>0){if(o<=0){return s}else{a=r+o}}else if(r<0){if(o>=0){return s}else{a=-(r+o)}}else{return s}var u=l*a;if(s>=u||s<=-u){return s}return v(e,n,i)},function t(e,n,i,r){var o=e[0]-r[0];var s=n[0]-r[0];var a=i[0]-r[0];var u=e[1]-r[1];var l=n[1]-r[1];var h=i[1]-r[1];var f=e[2]-r[2];var p=n[2]-r[2];var d=i[2]-r[2];var g=s*h;var m=a*l;var v=a*u;var b=o*h;var x=o*l;var _=s*u;var E=f*(g-m)+p*(v-b)+d*(x-_);var w=(Math.abs(g)+Math.abs(m))*Math.abs(f)+(Math.abs(v)+Math.abs(b))*Math.abs(p)+(Math.abs(x)+Math.abs(_))*Math.abs(d);var T=c*w;if(E>T||-E>T){return E}return y(e,n,i,r)}];function x(t){var e=b[t.length];if(!e){e=b[t.length]=m(t.length)}return e.apply(undefined,t)}function _(){while(b.length<=a){b.push(m(b.length))}var e=[];var n=["slow"];for(var i=0;i<=a;++i){e.push("a"+i);n.push("o"+i)}var r=["function getOrientation(",e.join(),"){switch(arguments.length){case 0:case 1:return 0;"];for(var i=2;i<=a;++i){r.push("case ",i,":return o",i,"(",e.slice(0,i).join(),");")}r.push("}var s=new Array(arguments.length);for(var i=0;i<arguments.length;++i){s[i]=arguments[i]};return slow(s);}return getOrientation");n.push(r.join(""));var o=Function.apply(undefined,n);t.exports=o.apply(undefined,[x].concat(b));for(var i=0;i<=a;++i){t.exports[i]=b[i]}}_()},function(t,e,n){var i=n(0).polygon;var r=n(0).featureCollection;t.exports=function(t,e){return r(u(t.features.map(function(t){var n={x:t.geometry.coordinates[0],y:t.geometry.coordinates[1]};if(e)n.z=t.properties[e];return n})).map(function(t){return i([[[t.a.x,t.a.y],[t.b.x,t.b.y],[t.c.x,t.c.y],[t.a.x,t.a.y]]],{a:t.a.z,b:t.b.z,c:t.c.z})}))};function o(t,e,n){this.a=t;this.b=e;this.c=n;var i=e.x-t.x,r=e.y-t.y,o=n.x-t.x,s=n.y-t.y,a=i*(t.x+e.x)+r*(t.y+e.y),u=o*(t.x+n.x)+s*(t.y+n.y),l=2*(i*(n.y-e.y)-r*(n.x-e.x)),c,h,f,p;if(Math.abs(l)<1e-6){c=Math.min(t.x,e.x,n.x);h=Math.min(t.y,e.y,n.y);f=(Math.max(t.x,e.x,n.x)-c)*.5;p=(Math.max(t.y,e.y,n.y)-h)*.5;this.x=c+f;this.y=h+p;this.r=f*f+p*p}else{this.x=(s*a-r*u)/l;this.y=(i*u-o*a)/l;f=this.x-t.x;p=this.y-t.y;this.r=f*f+p*p}}function s(t,e){return e.x-t.x}function a(t){var e=t.length,n,i,r,o,s;t:while(e){i=t[--e];n=t[--e];r=e;while(r){s=t[--r];o=t[--r];if(n===o&&i===s||n===s&&i===o){t.splice(e,2);t.splice(r,2);e-=2;continue t}}}}function u(t){if(t.length<3)return[];t.sort(s);var e=t.length-1,n=t[e].x,i=t[0].x,r=t[e].y,u=r;while(e--){if(t[e].y<r)r=t[e].y;if(t[e].y>u)u=t[e].y}var l=i-n,c=u-r,h=l>c?l:c,f=(i+n)*.5,p=(u+r)*.5,d=[new o({x:f-20*h,y:p-h,__sentinel:true},{x:f,y:p+20*h,__sentinel:true},{x:f+20*h,y:p-h,__sentinel:true})],g=[],m=[],v,y,b;e=t.length;while(e--){m.length=0;v=d.length;while(v--){l=t[e].x-d[v].x;if(l>0&&l*l>d[v].r){g.push(d[v]);d.splice(v,1);continue}c=t[e].y-d[v].y;if(l*l+c*c>d[v].r)continue;m.push(d[v].a,d[v].b,d[v].b,d[v].c,d[v].c,d[v].a);d.splice(v,1)}a(m);v=m.length;while(v){b=m[--v];y=m[--v];d.push(new o(y,b,t[e]))}}Array.prototype.push.apply(g,d);e=g.length;while(e--)if(g[e].a.__sentinel||g[e].b.__sentinel||g[e].c.__sentinel)g.splice(e,1);return g}},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(1,eval)("this")}catch(t){if(typeof window==="object")n=window}t.exports=n},function(t,e,n){var i=n(0).polygon;t.exports=function(t){var e=[t[0],t[1]];var n=[t[0],t[3]];var r=[t[2],t[3]];var o=[t[2],t[1]];return i([[e,o,r,n,e]])}},function(t,e,n){var i=n(14),r=n(0).point;t.exports=function(t){var e=i(t);var n=(e[0]+e[2])/2;var o=(e[1]+e[3])/2;return r([n,o])}},function(t,e,n){var i=n(0).featureCollection;var r=n(9).coordEach;var o=n(0).point;t.exports=function(t){var e=[];r(t,function(t){e.push(o(t))});return i(e)}},function(t,e){t.exports=function(t,e){var n=t.geometry.coordinates[0],i=t.geometry.coordinates[1],r=e.geometry.coordinates[0][0][0],o=e.geometry.coordinates[0][0][1],s=e.properties.a,a=e.geometry.coordinates[0][1][0],u=e.geometry.coordinates[0][1][1],l=e.properties.b,c=e.geometry.coordinates[0][2][0],h=e.geometry.coordinates[0][2][1],f=e.properties.c;var p=(f*(n-r)*(i-u)+s*(n-a)*(i-h)+l*(n-c)*(i-o)-l*(n-r)*(i-h)-f*(n-a)*(i-o)-s*(n-c)*(i-u))/((n-r)*(i-u)+(n-a)*(i-h)+(n-c)*(i-o)-(n-r)*(i-h)-(n-a)*(i-o)-(n-c)*(i-u));return p}},function(t,e,n){var i=n(1);var r=n(0).point;var o=n(15);var s=n(16);t.exports=function(t,e){var n;if(t.type==="Feature"){n=t.geometry.coordinates}else if(t.type==="LineString"){n=t.coordinates}else{throw new Error("input must be a LineString Feature or Geometry")}return a(e,n)};function a(t,e){var n="miles";var a=r([Infinity,Infinity],{dist:Infinity});for(var l=0;l<e.length-1;l++){var c=r(e[l]);var h=r(e[l+1]);c.properties.dist=i(t,c,n);h.properties.dist=i(t,h,n);var f=Math.max(c.properties.dist,h.properties.dist);var p=o(c,h);var d=s(t,f,p+90,n);var g=s(t,f,p-90,n);var m=u(d.geometry.coordinates[0],d.geometry.coordinates[1],g.geometry.coordinates[0],g.geometry.coordinates[1],c.geometry.coordinates[0],c.geometry.coordinates[1],h.geometry.coordinates[0],h.geometry.coordinates[1]);var v;if(m){v=r(m);v.properties.dist=i(t,v,n)}if(c.properties.dist<a.properties.dist){a=c;a.properties.index=l}if(h.properties.dist<a.properties.dist){a=h;a.properties.index=l}if(v&&v.properties.dist<a.properties.dist){a=v;a.properties.index=l}}return a}function u(t,e,n,i,r,o,s,a){var u,l,c,h,f;var p={x:null,y:null,onLine1:false,onLine2:false};u=(a-o)*(n-t)-(s-r)*(i-e);if(u===0){if(p.x!==null&&p.y!==null){return p}else{return false}}l=e-o;c=t-r;h=(s-r)*l-(a-o)*c;f=(n-t)*l-(i-e)*c;l=h/u;c=f/u;p.x=t+l*(n-t);p.y=e+l*(i-e);if(l>0&&l<1){p.onLine1=true}if(c>0&&c<1){p.onLine2=true}if(p.onLine1&&p.onLine2){return[p.x,p.y]}else{return false}}},function(t,e,n){var i=n(1);t.exports=function(t){var e=i(t.slice(0,2),[t[2],t[1]],"miles");var n=i(t.slice(0,2),[t[0],t[3]],"miles");if(e>=n){var r=(t[1]+t[3])/2;return[t[0],r-(t[2]-t[0])/2,t[2],r+(t[2]-t[0])/2]}else{var o=(t[0]+t[2])/2;return[o-(t[3]-t[1])/2,t[1],o+(t[3]-t[1])/2,t[3]]}}},function(t,e,n){var i=n(11);t.exports=function(t,e){var n=new i.io.GeoJSONReader;var r=n.read(JSON.stringify(t.geometry));var o=n.read(JSON.stringify(e.geometry));var s=r.union(o);var a=new i.io.GeoJSONWriter;s=a.write(s);return{type:"Feature",geometry:s,properties:t.properties}}},function(t,e,n){"use strict";t.exports=r;var i=+(Math.pow(2,27)+1);function r(t,e,n){var r=t*e;var o=i*t;var s=o-t;var a=o-s;var u=t-a;var l=i*e;var c=l-e;var h=l-c;var f=e-h;var p=r-a*h;var d=p-u*h;var g=d-a*f;var m=u*f-g;if(n){n[0]=m;n[1]=r;return n}return[m,r]}},function(t,e,n){(function(t){user=function(e){if(document.getElementsByTagName("userbar").length==1){document.getElementsByTagName("userbar")[0].classList.toggle("show");e.classList.toggle("show");setTimeout(function(){document.getElementById("map").removeChild(document.getElementsByTagName("userbar")[0])},300)}else{n(85);document.getElementById("map").appendChild(document.createElement("userbar"));t.mount("userbar",{});Ps.initialize(document.getElementsByTagName("userbar")[0]);document.getElementsByTagName("userbar")[0].classList.toggle("show");e.classList.toggle("show")}};settings=function(e){if(document.getElementsByTagName("settingsbar").length==1){document.getElementsByTagName("settingsbar")[0].classList.toggle("show");e.classList.toggle("show");setTimeout(function(){document.getElementById("map").removeChild(document.getElementsByTagName("settingsbar")[0])},300)}else{n(83);document.getElementById("map").appendChild(document.createElement("settingsbar"));t.mount("settingsbar",{});Ps.initialize(document.getElementsByTagName("settingsbar")[0]);document.getElementsByTagName("settingsbar")[0].classList.toggle("show");e.classList.toggle("show")}};help=function(e){if(document.getElementsByTagName("helpbar").length==1){document.getElementsByTagName("helpbar")[0].classList.toggle("show");e.classList.toggle("show");setTimeout(function(){document.getElementById("map").removeChild(document.getElementsByTagName("helpbar")[0])},300)}else{n(82);document.getElementById("map").appendChild(document.createElement("helpbar"));t.mount("helpbar",{});Ps.initialize(document.getElementsByTagName("helpbar")[0]);document.getElementsByTagName("helpbar")[0].classList.toggle("show");e.classList.toggle("show")}}}).call(e,n(6))},function(t,e,n){(function(t){toc=function(e){if(document.getElementsByTagName("tablebar").length==1){document.getElementsByTagName("tablebar")[0].classList.toggle("show");e.classList.toggle("show");setTimeout(function(){document.getElementById("map").removeChild(document.getElementsByTagName("tablebar")[0])},300)}else{n(84);document.getElementById("map").appendChild(document.createElement("tablebar"));e.classList.toggle("show");alasql(["select * from data"]).then(function(e){var n=e[0].map(function(t){temp={};Object.keys(t).map(function(e,n){if(e!="geom"){temp[e]=t[e]}});return temp});t.mount("tablebar",{data:n});Ps.initialize(document.getElementsByTagName("tablebar")[0])})}};cloud_upload=function(e){if(document.getElementsByTagName("cloud_openbar").length==1){document.getElementsByTagName("cloud_openbar")[0].classList.toggle("show");e.classList.toggle("show");setTimeout(function(){document.getElementById("map").removeChild(document.getElementsByTagName("cloud_openbar")[0])},300)}else{n(81);document.getElementById("map").appendChild(document.createElement("cloud_openbar"));t.mount("cloud_openbar");Ps.initialize(document.getElementsByTagName("cloud_openbar")[0]);document.getElementsByTagName("cloud_openbar")[0].classList.toggle("show");e.classList.toggle("show")}};upload=function(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==XMLHttpRequest.DONE){if(t.status==200){var e=JSON.parse(t.responseText).features.map(function(t){obj=t.properties;obj["geom"]=t.geometry;return obj});addData(e);alasql("DROP TABLE IF EXISTS data;                       CREATE TABLE data;                       SELECT * INTO data FROM ?",[e],function(){iziToast.show({icon:"material-icons",iconText:"error",message:"Data added!"})})}else if(t.status==400){iziToast.error({icon:"material-icons",iconText:"error",message:"Error message 400"})}else{iziToast.error({icon:"material-icons",iconText:"error",message:"something else other than 200 was returned"})}}};t.open("GET","marker.json",true);t.send()};directions=function(){var t=new XMLHttpRequest;t.onreadystatechange=function(){if(t.readyState==XMLHttpRequest.DONE){if(t.status==200){response=JSON.parse(t.responseText).trips;addRoute(response);alasql("DROP TABLE IF EXISTS route;                     CREATE TABLE route;                     SELECT * INTO route FROM ?",[response],function(){iziToast.show({icon:"material-icons",iconText:"directions",message:Math.round(response[0].duration/60/60*100)/100+" timer <br>"+Math.round(response[0].distance/1e3*100)/100+" km"})})}else if(t.status==400){iziToast.error({icon:"material-icons",iconText:"error",message:"Error message 400"})}else{iziToast.error({icon:"material-icons",iconText:"error",message:"something else other than 200 was returned"})}}};var e=function(t){var e=0;var n=0;var i=0;var r=t.length;var o=function(e){return t[e%r][0]};var s=function(e){return t[e%r][1]};for(var a=0;a<t.length;a++){var u=o(a)*s(a+1)-o(a+1)*s(a);e+=u;n+=(o(a)+o(a+1))*u;i+=(s(a)+s(a+1))*u}var l=3*e;return[Math.round(n/l*1e4)/1e4,Math.round(i/l*1e4)/1e4]};alasql("SELECT geom FROM data;",function(n){var i=n.map(function(t){return e(t.geom.coordinates[0][0])[0]+","+e(t.geom.coordinates[0][0])[1]});console.log(i);t.open("GET","http://80.241.215.222:5000/trip/v1/driving/"+i.join(";")+"?geometries=geojson&steps=false&overview=full",true);t.send();iziToast.show({icon:"material-icons",iconText:"directions",message:"Ruteberegning imellem "+i.length+" punkter er kaldt"})})};sync=function(t){iziToast.show({icon:"material-icons",iconText:"sync",message:"synkronisere."});dataConfig.sync()}}).call(e,n(6))},function(t,e){rotation=function(){if(!!map.getPitch){if(map.getPitch()==0){map.easeTo({pitch:60})}else{map.easeTo({pitch:0})}}};fullscreen=function(t){innerText=t.children[0].innerText;if(innerText=="fullscreen"){var e=document.body;if(e.requestFullscreen){e.requestFullscreen()}else if(e.webkitRequestFullscreen){e.webkitRequestFullscreen()}else if(e.mozRequestFullScreen){e.mozRequestFullScreen()}else if(e.msRequestFullscreen){e.msRequestFullscreen()}t.children[0].innerText="fullscreen_exit"}else{if(document.exitFullscreen){document.exitFullscreen()}else if(document.webkitExitFullscreen){document.webkitExitFullscreen()}else if(document.mozCancelFullScreen){document.mozCancelFullScreen()}else if(document.msExitFullscreen){document.msExitFullscreen()}t.children[0].innerText="fullscreen"}};gps=function(t){if(t.classList[0]=="off"){t.classList="on";addGPS();function e(t){KORTxyz.GPS={lng:t.coords.longitude,lat:t.coords.latitude,time:t.timestamp};updateGPS(t.coords)}function n(e){iziToast.error({icon:"material-icons",iconText:"error",message:e.message});t.classList="off"}id=navigator.geolocation.watchPosition(e,n,{enableHighAccuracy:true,timeout:6e4,maximumAge:6e4})}else{navigator.geolocation.clearWatch(id);t.classList="off";removeGPS()}};luftfoto=function(t){if(t.classList.contains("show")){removeLuftfoto();t.classList.remove("show")}else{addLuftfoto();t.classList.add("show")}}},function(t,e,n){n(56);n(79);map=L.map("map",{preferCanvas:true,attributionControl:false,zoomControl:false});var i=localStorage.getItem("bbox");if(i){i=i.split(";").map(t=>t.split(",").reverse().map(t=>parseFloat(t)))}else{false}if(!!i){map.fitBounds(i,{linear:true})}else{map.setView([56.3,10.6],7)}map.on("moveend",function(){i=map.getBounds();localStorage.setItem("bbox",[i._southWest.lng,i._southWest.lat]+";"+[i._northEast.lng,i._northEast.lat])});map.createPane("labels");map.getPane("labels").style.zIndex=650;map.getPane("labels").style.pointerEvents="none";basemap=L.tileLayer("https://api.mapbox.com/styles/v1/tinoks/cj23f64ly007t2sqrue8w3wpc/tiles/256/{z}/{x}/{y}@2x?access_token=pk.eyJ1IjoidGlub2tzIiwiYSI6Ikp4OE0yWjQifQ.8ShzvCuk6zpjf9n_1pS_fA",{maxZoom:18}).addTo(map);L.tileLayer("https://api.mapbox.com/styles/v1/tinoks/cj23f8dyn007v2sqr576t3vlo/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoidGlub2tzIiwiYSI6Ikp4OE0yWjQifQ.8ShzvCuk6zpjf9n_1pS_fA",{pane:"labels"}).addTo(map);addGPS=function(){GPSpoint=L.circle([0,0],{radius:200}).addTo(map);GPSpoint.setStyle({color:"red",fillColor:"red"})};updateGPS=function(t){GPSpoint.setRadius(t.accuracy);GPSpoint.setLatLng([t.latitude,t.longitude]);map.panTo([t.latitude,t.longitude])};removeGPS=function(){map.removeLayer(GPSpoint)};addData=function(t){if(typeof scriptTag!="undefined"){document.body.removeChild(scriptTag)}scriptTag=document.createElement("script");scriptTag.src="exampleLayer.js";scriptTag.async=false;document.body.appendChild(scriptTag);scriptTag.onload=function(){if(typeof dataLayer!="undefined"){map.removeLayer(dataLayer)}dataLayer=L.geoJSON({type:"FeatureCollection",features:t.map(function(t){returndata={type:"Feature",properties:{}};Object.keys(t).map(function(e,n){if(e!="geom"){returndata.properties[e]=t[e]}else{returndata.geometry=t[e]}});return returndata})}).addTo(map);if(typeof dataConfig.Polygon!="undefined"){dataLayer.setStyle({fillOpacity:dataConfig.Polygon["fill-opacity"]||.6,color:dataConfig.LineString["line-color"]||"#"+((1<<24)*Math.random()|0).toString(16),opacity:dataConfig.LineString["line-opacity"]||.8,weight:dataConfig.LineString["line-width"]||2});if(typeof dataConfig.Polygon["fill-color"]!="object"){dataLayer.setStyle({fillOpacity:dataConfig.Polygon["fill-color"]||"#"+((1<<24)*Math.random()|0).toString(16)})}else{function e(t){config=dataConfig.Polygon["fill-color"];prop=config.property;match=config.stops.filter(e=>e[0]==t.properties[prop])[0];return{fillColor:typeof match!="undefined"?match[1]:config.default}}dataLayer.setStyle(e)}}dataLayer.on("click",function(t){popup=L.popup().setLatLng(t.latlng).setContent(dataConfig.popup(t.layer.feature)).openOn(map);popup.feature=t})}};updateData=function(t){addData(t)};addRoute=function(t){if(typeof route!="undefined"){map.removeLayer(route)}route=L.geoJSON(t[0].geometry).addTo(map)};addLuftfoto=function(){ortofoto=L.tileLayer("https://{s}.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg",{maxZoom:18}).addTo(map);map.removeLayer(basemap)};removeLuftfoto=function(){map.removeLayer(ortofoto);basemap.addTo(map)}},function(t,e,n){mapboxgl=n(57);n(80);mapboxgl.accessToken="pk.eyJ1IjoidGlub2tzIiwiYSI6Ikp4OE0yWjQifQ.8ShzvCuk6zpjf9n_1pS_fA";map=new mapboxgl.Map({container:"map",style:"mapbox://styles/tinoks/cj1mhszqc002a2slpp5701ani?optimize=true",maxZoom:18,attributionControl:false});map.on("moveend",function(){var t=map.getBounds();localStorage.setItem("bbox",[t._sw.lng,t._sw.lat]+";"+[t._ne.lng,t._ne.lat])});var i=localStorage.getItem("bbox");if(i){i=i.split(";").map(t=>t.split(",").map(t=>parseFloat(t)))}else{false}if(!!i){map.fitBounds(i,{linear:true})}map.addControl(new mapboxgl.ScaleControl,"bottom-right");document.getElementsByClassName("mapboxgl-ctrl-scale")[0].style["border-color"]="#4f4d56";addGPS=function(){if(map.getSource("point")==undefined){map.addSource("point",{type:"geojson",data:{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[0,0]}}]}});if(!("ontouchstart"in document.documentElement)&&typeof s){var t=15;var e=1;var n=e;var i=8;var r=i;var o=18;function s(){setTimeout(function(){requestAnimationFrame(s);r+=(o-r)/t;n-=1/t;if(n<=0){r=i;n=e}if(map.getLayer("GPSpoint")!=undefined){map.setPaintProperty("GPSpoint","circle-radius",r);map.setPaintProperty("GPSpoint","circle-opacity",n)}},1e3/t)}s()}}map.addLayer({id:"GPSpoint",source:"point",type:"circle",paint:{"circle-radius":8,"circle-radius-transition":{duration:0},"circle-opacity-transition":{duration:0},"circle-color":"#d11d1d"}});getBearing=function(t,e){start=map.getSource("point")._data.features[0].geometry.coordinates||[0,0];startLat=start[1]*(Math.PI/180);startLong=start[0]*(Math.PI/180);e=e*(Math.PI/180);t=t*(Math.PI/180);var n=t-startLong;var i=Math.log(Math.tan(e/2+Math.PI/4)/Math.tan(startLat/2+Math.PI/4));if(Math.abs(n)>Math.PI){if(n>0)n=-(2*Math.PI-n);else n=2*Math.PI+n}return(Math.atan2(n,i)*(180/Math.PI)+360)%360}};updateGPS=function(t){map.getSource("point").setData({type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:{type:"Point",coordinates:[t.longitude,t.latitude]}}]});map.easeTo({bearing:KORTxyz.settings.followCompas?t.heading||getBearing(t.longitude,t.latitude)||0:0,center:[t.longitude,t.latitude]})};removeGPS=function(){map.removeLayer("GPSpoint")};addData=function(t){if(typeof scriptTag!="undefined"){document.body.removeChild(scriptTag)}scriptTag=document.createElement("script");scriptTag.src="exampleLayer.js";scriptTag.async=false;document.body.appendChild(scriptTag);scriptTag.onload=function(){if(!!map.getSource("data")){map.removeLayer("dataLineString");map.removeLayer("dataPolygon");map.removeSource("data")}map.addSource("data",{type:"geojson",data:{type:"FeatureCollection",features:t.map(function(t){returndata={type:"Feature",properties:{}};Object.keys(t).map(function(e,n){if(e!="geom"){returndata.properties[e]=t[e]}else{returndata.geometry=t[e]}});return returndata})}});map.addLayer({id:"dataLineString",type:"line",source:"data",layout:{},paint:dataConfig.LineString||{"line-color":"#"+((1<<24)*Math.random()|0).toString(16),"line-opacity":.8}},"waterway-label");map.addLayer({id:"dataPolygon",type:"fill",source:"data",layout:{},paint:dataConfig.Polygon||{"fill-color":"#"+((1<<24)*Math.random()|0).toString(16),"fill-opacity":.6}},"dataLineString");map.on("click","dataPolygon",function(t){popup=new mapboxgl.Popup({closeButton:false}).setLngLat(t.lngLat).setHTML(typeof dataConfig.popup!="undefined"?dataConfig.popup(t.features[0]):Object.entries(t.features[0].properties).map(t=>{return"<b>"+t[0]+"</b> "+t[1]+"<br>"}).join("")).addTo(map)})}};updateData=function(t){var e={type:"FeatureCollection",features:t.map(function(t){returndata={properties:{}};Object.keys(t).map(function(e,n){if(e!="geom"){returndata.properties[e]=t[e]}else{returndata.geometry=t[e]}});return returndata})};map.getSource("data").setData(e)};addRoute=function(t){if(typeof map.getSource("route")!="undefined"){map.removeLayer("routeLines");map.removeSource("route")}map.addSource("route",{type:"geojson",data:t[0].geometry});map.addLayer({id:"routeLines",type:"line",source:"route",layout:{},paint:{"line-color":"#4286f4","line-opacity":.7,"line-width":5}},"waterway-label")};addLuftfoto=function(){if(typeof map.getSource("GSTsource")=="undefined"){map.addSource("GSTsource",{type:"raster",tiles:["https://a.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://b.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://c.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://d.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://e.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://f.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://g.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://h.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://i.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://j.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://k.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://l.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg","https://m.services.kortforsyningen.dk/orto_foraar_webm?login=StatForvaltIT&password=180laksp&SERVICE=WMTS&REQUEST=GetTile&VERSION=1.0.0&LAYER=orto_foraar&STYLE=default&TILEMATRIXSET=GoogleMapsCompatible&TILEMATRIX={z}&TILEROW={y}&TILECOL={x}&FORMAT=image%2Fjpeg"],tileSize:256})}map.addLayer({id:"GST",type:"raster",source:"GSTsource",minzoom:0,maxzoom:19},"aeroway-taxiway")};removeLuftfoto=function(){map.removeLayer("GST")};blink=function(t){console.log(t);var e=t.coordinates[0][0];var n=e.reduce(function(t,e){return t.extend(e)},new mapboxgl.LngLatBounds(e[0],e[0]));map.fitBounds(n,{padding:20})}},function(t,e){(function(n,i){if(typeof define==="function"&&define.amd){define([],i)}else if(typeof e==="object"){t.exports=i()}else{n.alasql=i()}})(this,function(){var n=function(t,e,i,r){e=e||[];if(typeof importScripts!=="function"&&n.webworker){var o=n.lastid++;n.buffer[o]=i;n.webworker.postMessage({id:o,sql:t,params:e});return}if(arguments.length===0){return new J.Select({columns:[new J.Column({columnid:"*"})],from:[new J.ParamValue({param:0})]})}else if(arguments.length===1){if(t.constructor===Array){return n.promise(t)}}if(typeof e==="function"){r=i;i=e;e=[]}if(typeof e!=="object"){e=[e]}if(typeof t==="string"&&t[0]==="#"&&typeof document==="object"){t=document.querySelector(t).textContent}else if(typeof t==="object"&&t instanceof HTMLElement){t=t.textContent}else if(typeof t==="function"){t=t.toString().slice(14,-3)}return n.exec(t,e,i,r)};n.version="0.3.9";n.debug=undefined;var i=function(){var t=function(t,e,n,i){for(n=n||{},i=t.length;i--;n[t[i]]=e);return n},e=[2,13],i=[1,104],r=[1,102],o=[1,103],s=[1,6],a=[1,42],u=[1,79],l=[1,76],c=[1,94],h=[1,93],p=[1,69],d=[1,101],g=[1,85],m=[1,64],v=[1,71],y=[1,84],b=[1,66],x=[1,70],_=[1,68],E=[1,61],w=[1,74],T=[1,62],S=[1,67],A=[1,83],I=[1,77],C=[1,86],L=[1,87],M=[1,81],N=[1,82],R=[1,80],O=[1,88],D=[1,89],P=[1,90],k=[1,91],z=[1,92],F=[1,98],j=[1,65],B=[1,78],U=[1,72],G=[1,96],V=[1,97],q=[1,63],Y=[1,73],X=[1,108],W=[1,107],Z=[10,306,602,764],H=[10,306,310,602,764],$=[1,115],J=[1,116],Q=[1,117],K=[1,118],tt=[1,119],et=[130,353,410],nt=[1,127],it=[1,126],rt=[1,134],ot=[1,164],st=[1,175],at=[1,178],ut=[1,173],lt=[1,181],ct=[1,185],ht=[1,160],ft=[1,182],pt=[1,169],dt=[1,171],gt=[1,174],mt=[1,183],vt=[1,166],yt=[1,193],bt=[1,188],xt=[1,189],_t=[1,194],Et=[1,195],wt=[1,196],Tt=[1,197],St=[1,198],At=[1,199],It=[1,200],Ct=[1,201],Lt=[1,202],Mt=[1,176],Nt=[1,177],Rt=[1,179],Ot=[1,180],Dt=[1,186],Pt=[1,192],kt=[1,184],zt=[1,187],Ft=[1,172],jt=[1,170],Bt=[1,191],Ut=[1,203],Gt=[2,4,5],Vt=[2,471],qt=[1,206],Yt=[1,211],Xt=[1,220],Wt=[1,216],Zt=[10,72,78,93,98,118,128,162,168,169,183,198,232,245,247,306,310,602,764],Ht=[2,4,5,10,72,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,183,185,187,198,280,281,282,283,284,285,286,287,288,306,310,420,424,602,764],$t=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Jt=[1,249],Qt=[1,256],Kt=[1,265],te=[1,270],ee=[1,269],ne=[2,4,5,10,72,77,78,93,98,107,118,128,131,132,137,143,145,149,152,154,156,162,168,169,179,180,181,183,198,232,245,247,265,266,270,271,273,280,281,282,283,284,285,286,287,288,290,291,292,293,294,295,296,297,298,299,302,303,306,310,312,317,420,424,602,764],ie=[2,162],re=[1,281],oe=[10,74,78,306,310,505,602,764],se=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,193,198,206,208,222,223,224,225,226,227,228,229,230,231,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,297,300,302,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,343,344,356,368,369,370,373,374,386,389,396,400,401,402,403,404,405,406,408,409,417,418,420,424,426,433,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,514,515,516,517,602,764],ae=[2,4,5,10,53,72,89,124,146,156,189,266,267,290,306,335,338,339,396,400,401,404,406,408,409,417,418,434,436,437,439,440,441,442,443,447,448,451,452,505,507,508,517,602,764],ue=[1,562],le=[1,564],ce=[2,503],he=[1,569],fe=[1,580],pe=[1,583],de=[1,584],ge=[10,78,89,132,137,146,189,296,306,310,470,602,764],me=[10,74,306,310,602,764],ve=[2,567],ye=[1,602],be=[2,4,5,156],xe=[1,640],_e=[1,612],Ee=[1,646],we=[1,647],Te=[1,620],Se=[1,631],Ae=[1,618],Ie=[1,626],Ce=[1,619],Le=[1,627],Me=[1,629],Ne=[1,621],Re=[1,622],Oe=[1,641],De=[1,638],Pe=[1,639],ke=[1,615],ze=[1,617],Fe=[1,609],je=[1,610],Be=[1,611],Ue=[1,613],Ge=[1,614],Ve=[1,616],qe=[1,623],Ye=[1,624],Xe=[1,628],We=[1,630],Ze=[1,632],He=[1,633],$e=[1,634],Je=[1,635],Qe=[1,636],Ke=[1,642],tn=[1,643],en=[1,644],nn=[1,645],rn=[2,287],on=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,231,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,297,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,343,356,368,369,373,374,396,400,401,404,406,408,409,417,418,420,424,426,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],sn=[2,359],an=[1,668],un=[1,678],ln=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,231,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,426,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],cn=[1,694],hn=[1,703],fn=[1,702],pn=[2,4,5,10,72,74,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,230,231,232,245,247,306,310,602,764],dn=[10,72,74,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,230,231,232,245,247,306,310,602,764],gn=[2,202],mn=[1,725],vn=[10,72,78,93,98,118,128,162,168,169,183,232,245,247,306,310,602,764],yn=[2,163],bn=[1,728],xn=[2,4,5,112],_n=[1,741],En=[1,760],wn=[1,740],Tn=[1,739],Sn=[1,734],An=[1,735],In=[1,737],Cn=[1,738],Ln=[1,742],Mn=[1,743],Nn=[1,744],Rn=[1,745],On=[1,746],Dn=[1,747],Pn=[1,748],kn=[1,749],zn=[1,750],Fn=[1,751],jn=[1,752],Bn=[1,753],Un=[1,754],Gn=[1,755],Vn=[1,756],qn=[1,757],Yn=[1,759],Xn=[1,761],Wn=[1,762],Zn=[1,763],Hn=[1,764],$n=[1,765],Jn=[1,766],Qn=[1,767],Kn=[1,770],ti=[1,771],ei=[1,772],ni=[1,773],ii=[1,774],ri=[1,775],oi=[1,776],si=[1,777],ai=[1,778],ui=[1,779],li=[1,780],ci=[1,781],hi=[74,89,189],fi=[10,74,78,154,187,230,297,306,310,343,356,368,369,373,374,602,764],pi=[1,798],di=[10,74,78,300,306,310,602,764],gi=[1,799],mi=[1,805],vi=[1,806],yi=[1,810],bi=[10,74,78,306,310,602,764],xi=[2,4,5,77,131,132,137,143,145,149,152,154,156,179,180,181,265,266,270,271,273,280,281,282,283,284,285,286,287,288,290,291,292,293,294,295,296,297,298,299,302,303,312,317,420,424],_i=[10,72,78,93,98,107,118,128,162,168,169,183,198,232,245,247,306,310,602,764],Ei=[2,4,5,10,72,77,78,93,98,107,118,128,131,132,137,143,145,149,152,154,156,162,164,168,169,179,180,181,183,185,187,195,198,232,245,247,265,266,270,271,273,280,281,282,283,284,285,286,287,288,290,291,292,293,294,295,296,297,298,299,302,303,306,310,312,317,420,424,602,764],wi=[2,4,5,132,296],Ti=[1,844],Si=[10,74,76,78,306,310,602,764],Ai=[2,738],Ii=[10,74,76,78,132,139,141,145,152,306,310,420,424,602,764],Ci=[2,1161],Li=[10,74,76,78,139,141,145,152,306,310,420,424,602,764],Mi=[10,74,76,78,139,141,145,306,310,420,424,602,764],Ni=[10,74,78,139,141,306,310,602,764],Ri=[10,78,89,132,146,189,296,306,310,470,602,764],Oi=[335,338,339],Di=[2,764],Pi=[1,869],ki=[1,870],zi=[1,871],Fi=[1,872],ji=[1,881],Bi=[1,880],Ui=[164,166,334],Gi=[2,444],Vi=[1,936],qi=[2,4,5,77,131,156,290,291,292,293],Yi=[1,951],Xi=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,313,314,315,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Wi=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,312,313,314,315,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Zi=[2,375],Hi=[1,958],$i=[306,308,310],Ji=[74,300],Qi=[74,300,426],Ki=[1,965],tr=[2,4,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],er=[74,426],nr=[1,978],ir=[1,977],rr=[1,984],or=[10,72,78,93,98,118,128,162,168,169,232,245,247,306,310,602,764],sr=[1,1010],ar=[10,72,78,306,310,602,764],ur=[1,1016],lr=[1,1017],cr=[1,1018],hr=[2,4,5,10,72,74,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,198,280,281,282,283,284,285,286,287,288,306,310,420,424,602,764],fr=[1,1068],pr=[1,1067],dr=[1,1081],gr=[1,1080],mr=[1,1088],vr=[10,72,74,78,93,98,107,118,128,162,168,169,183,198,232,245,247,306,310,602,764],yr=[1,1119],br=[10,78,89,146,189,306,310,470,602,764],xr=[1,1139],_r=[1,1138],Er=[1,1137],wr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,297,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,343,356,368,369,373,374,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Tr=[1,1153],Sr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,313,314,315,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Ar=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,313,315,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Ir=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,313,314,315,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Cr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,124,128,129,130,131,132,134,135,137,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,313,314,315,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Lr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,314,320,321,322,323,324,325,326,330,331,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Mr=[2,406],Nr=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,107,118,122,128,129,130,131,132,134,135,137,143,145,146,148,149,150,152,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,314,330,331,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Rr=[2,285],Or=[2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,426,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],Dr=[10,78,306,310,602,764],Pr=[1,1189],kr=[10,77,78,143,145,152,181,302,306,310,420,424,602,764],zr=[10,74,78,306,308,310,464,602,764],Fr=[1,1200],jr=[10,72,78,118,128,162,168,169,232,245,247,306,310,602,764],Br=[10,72,74,78,93,98,118,128,162,168,169,183,198,232,245,247,306,310,602,764],Ur=[2,4,5,72,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,185,187,280,281,282,283,284,285,286,287,288,420,424],Gr=[2,4,5,72,74,76,77,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,185,187,280,281,282,283,284,285,286,287,288,420,424],Vr=[2,1085],qr=[2,4,5,72,74,76,77,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,185,187,280,281,282,283,284,285,286,287,288,420,424],Yr=[1,1252],Xr=[10,74,78,128,306,308,310,464,602,764],Wr=[115,116,124],Zr=[2,584],Hr=[1,1280],$r=[76,139],Jr=[2,724],Qr=[1,1297],Kr=[1,1298],to=[2,4,5,10,53,72,76,89,124,146,156,189,230,266,267,290,306,310,335,338,339,396,400,401,404,406,408,409,417,418,434,436,437,439,440,441,442,443,447,448,451,452,505,507,508,517,602,764],eo=[2,330],no=[1,1322],io=[1,1336],ro=[1,1338],oo=[2,487],so=[74,78],ao=[10,306,308,310,464,602,764],uo=[10,72,78,118,162,168,169,232,245,247,306,310,602,764],lo=[1,1354],co=[1,1358],ho=[1,1359],fo=[1,1361],po=[1,1362],go=[1,1363],mo=[1,1364],vo=[1,1365],yo=[1,1366],bo=[1,1367],xo=[1,1368],_o=[10,72,74,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,232,245,247,306,310,602,764],Eo=[1,1393],wo=[10,72,78,118,162,168,169,245,247,306,310,602,764],To=[10,72,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,232,245,247,306,310,602,764],So=[1,1490],Ao=[1,1492],Io=[2,4,5,77,143,145,152,156,181,290,291,292,293,302,420,424],Co=[1,1506],Lo=[10,72,74,78,162,168,169,245,247,306,310,602,764],Mo=[1,1524],No=[1,1526],Ro=[1,1527],Oo=[1,1523],Do=[1,1522],Po=[1,1521],ko=[1,1528],zo=[1,1518],Fo=[1,1519],jo=[1,1520],Bo=[1,1545],Uo=[2,4,5,10,53,72,89,124,146,156,189,266,267,290,306,310,335,338,339,396,400,401,404,406,408,409,417,418,434,436,437,439,440,441,442,443,447,448,451,452,505,507,508,517,602,764],Go=[1,1556],Vo=[1,1564],qo=[1,1563],Yo=[10,72,78,162,168,169,245,247,306,310,602,764],Xo=[10,72,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,230,231,232,245,247,306,310,602,764],Wo=[2,4,5,10,72,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,230,231,232,245,247,306,310,602,764],Zo=[1,1621],Ho=[1,1623],$o=[1,1620],Jo=[1,1622],Qo=[187,193,368,369,370,373],Ko=[2,515],ts=[1,1628],es=[1,1647],ns=[10,72,78,162,168,169,306,310,602,764],is=[1,1657],rs=[1,1658],os=[1,1659],ss=[1,1678],as=[4,10,243,306,310,343,356,602,764],us=[1,1726],ls=[10,72,74,78,118,162,168,169,239,245,247,306,310,602,764],cs=[2,4,5,77],hs=[1,1820],fs=[1,1832],ps=[1,1851],ds=[10,72,78,162,168,169,306,310,415,602,764],gs=[10,74,78,230,306,310,602,764];var ms={trace:function t(){},yy:{},symbols_:{error:2,Literal:3,LITERAL:4,BRALITERAL:5,NonReserved:6,LiteralWithSpaces:7,main:8,Statements:9,EOF:10,Statements_group0:11,AStatement:12,ExplainStatement:13,EXPLAIN:14,QUERY:15,PLAN:16,Statement:17,AlterTable:18,AttachDatabase:19,Call:20,CreateDatabase:21,CreateIndex:22,CreateGraph:23,CreateTable:24,CreateView:25,CreateEdge:26,CreateVertex:27,Declare:28,Delete:29,DetachDatabase:30,DropDatabase:31,DropIndex:32,DropTable:33,DropView:34,If:35,Insert:36,Merge:37,Reindex:38,RenameTable:39,Select:40,ShowCreateTable:41,ShowColumns:42,ShowDatabases:43,ShowIndex:44,ShowTables:45,TruncateTable:46,WithSelect:47,CreateTrigger:48,DropTrigger:49,BeginTransaction:50,CommitTransaction:51,RollbackTransaction:52,EndTransaction:53,UseDatabase:54,Update:55,JavaScript:56,Source:57,Assert:58,While:59,Continue:60,Break:61,BeginEnd:62,Print:63,Require:64,SetVariable:65,ExpressionStatement:66,AddRule:67,Query:68,Echo:69,CreateFunction:70,CreateAggregate:71,WITH:72,WithTablesList:73,COMMA:74,WithTable:75,AS:76,LPAR:77,RPAR:78,SelectClause:79,Select_option0:80,IntoClause:81,FromClause:82,Select_option1:83,WhereClause:84,GroupClause:85,OrderClause:86,LimitClause:87,UnionClause:88,SEARCH:89,Select_repetition0:90,Select_option2:91,PivotClause:92,PIVOT:93,Expression:94,FOR:95,PivotClause_option0:96,PivotClause_option1:97,UNPIVOT:98,IN:99,ColumnsList:100,PivotClause_option2:101,PivotClause2:102,AsList:103,AsLiteral:104,AsPart:105,RemoveClause:106,REMOVE:107,RemoveClause_option0:108,RemoveColumnsList:109,RemoveColumn:110,Column:111,LIKE:112,StringValue:113,ArrowDot:114,ARROW:115,DOT:116,SearchSelector:117,ORDER:118,BY:119,OrderExpressionsList:120,SearchSelector_option0:121,DOTDOT:122,CARET:123,EQ:124,SearchSelector_repetition_plus0:125,SearchSelector_repetition_plus1:126,SearchSelector_option1:127,WHERE:128,OF:129,CLASS:130,NUMBER:131,STRING:132,SLASH:133,VERTEX:134,EDGE:135,EXCLAMATION:136,SHARP:137,MODULO:138,GT:139,LT:140,GTGT:141,LTLT:142,DOLLAR:143,Json:144,AT:145,SET:146,SetColumnsList:147,TO:148,VALUE:149,ROW:150,ExprList:151,COLON:152,PlusStar:153,NOT:154,SearchSelector_repetition2:155,IF:156,SearchSelector_repetition3:157,Aggregator:158,SearchSelector_repetition4:159,SearchSelector_group0:160,SearchSelector_repetition5:161,UNION:162,SearchSelectorList:163,ALL:164,SearchSelector_repetition6:165,ANY:166,SearchSelector_repetition7:167,INTERSECT:168,EXCEPT:169,AND:170,OR:171,PATH:172,RETURN:173,ResultColumns:174,REPEAT:175,SearchSelector_repetition8:176,SearchSelectorList_repetition0:177,SearchSelectorList_repetition1:178,PLUS:179,STAR:180,QUESTION:181,SearchFrom:182,FROM:183,SelectModifier:184,DISTINCT:185,TopClause:186,UNIQUE:187,SelectClause_option0:188,SELECT:189,COLUMN:190,MATRIX:191,TEXTSTRING:192,INDEX:193,RECORDSET:194,TOP:195,NumValue:196,TopClause_option0:197,INTO:198,Table:199,FuncValue:200,ParamValue:201,VarValue:202,FromTablesList:203,JoinTablesList:204,ApplyClause:205,CROSS:206,APPLY:207,OUTER:208,FromTable:209,FromTable_option0:210,FromTable_option1:211,INDEXED:212,INSERTED:213,FromString:214,JoinTable:215,JoinMode:216,JoinTableAs:217,OnClause:218,JoinTableAs_option0:219,JoinTableAs_option1:220,JoinModeMode:221,NATURAL:222,JOIN:223,INNER:224,LEFT:225,RIGHT:226,FULL:227,SEMI:228,ANTI:229,ON:230,USING:231,GROUP:232,GroupExpressionsList:233,HavingClause:234,GroupExpression:235,GROUPING:236,ROLLUP:237,CUBE:238,HAVING:239,CORRESPONDING:240,OrderExpression:241,DIRECTION:242,COLLATE:243,NOCASE:244,LIMIT:245,OffsetClause:246,OFFSET:247,LimitClause_option0:248,FETCH:249,LimitClause_option1:250,LimitClause_option2:251,LimitClause_option3:252,ResultColumn:253,Star:254,AggrValue:255,Op:256,LogicValue:257,NullValue:258,ExistsValue:259,CaseValue:260,CastClause:261,ArrayValue:262,NewClause:263,Expression_group0:264,CURRENT_TIMESTAMP:265,JAVASCRIPT:266,CREATE:267,FUNCTION:268,AGGREGATE:269,NEW:270,CAST:271,ColumnType:272,CONVERT:273,PrimitiveValue:274,OverClause:275,OVER:276,OverPartitionClause:277,OverOrderByClause:278,PARTITION:279,SUM:280,COUNT:281,MIN:282,MAX:283,AVG:284,FIRST:285,LAST:286,AGGR:287,ARRAY:288,FuncValue_option0:289,REPLACE:290,DATEADD:291,DATEDIFF:292,INTERVAL:293,TRUE:294,FALSE:295,NSTRING:296,NULL:297,EXISTS:298,ARRAYLBRA:299,RBRA:300,ParamValue_group0:301,BRAQUESTION:302,CASE:303,WhensList:304,ElseClause:305,END:306,When:307,WHEN:308,THEN:309,ELSE:310,REGEXP:311,TILDA:312,GLOB:313,ESCAPE:314,NOT_LIKE:315,BARBAR:316,MINUS:317,AMPERSAND:318,BAR:319,GE:320,LE:321,EQEQ:322,EQEQEQ:323,NE:324,NEEQEQ:325,NEEQEQEQ:326,CondOp:327,AllSome:328,ColFunc:329,BETWEEN:330,NOT_BETWEEN:331,IS:332,DOUBLECOLON:333,SOME:334,UPDATE:335,SetColumn:336,SetColumn_group0:337,DELETE:338,INSERT:339,Into:340,Values:341,ValuesListsList:342,DEFAULT:343,VALUES:344,ValuesList:345,Value:346,DateValue:347,TemporaryClause:348,TableClass:349,IfNotExists:350,CreateTableDefClause:351,CreateTableOptionsClause:352,TABLE:353,CreateTableOptions:354,CreateTableOption:355,IDENTITY:356,TEMP:357,ColumnDefsList:358,ConstraintsList:359,Constraint:360,ConstraintName:361,PrimaryKey:362,ForeignKey:363,UniqueKey:364,IndexKey:365,Check:366,CONSTRAINT:367,CHECK:368,PRIMARY:369,KEY:370,PrimaryKey_option0:371,ColsList:372,FOREIGN:373,REFERENCES:374,ForeignKey_option0:375,OnForeignKeyClause:376,ParColsList:377,OnDeleteClause:378,OnUpdateClause:379,NO:380,ACTION:381,UniqueKey_option0:382,UniqueKey_option1:383,ColumnDef:384,ColumnConstraintsClause:385,ColumnConstraints:386,SingularColumnType:387,NumberMax:388,ENUM:389,MAXNUM:390,ColumnConstraintsList:391,ColumnConstraint:392,ParLiteral:393,ColumnConstraint_option0:394,ColumnConstraint_option1:395,DROP:396,DropTable_group0:397,IfExists:398,TablesList:399,ALTER:400,RENAME:401,ADD:402,MODIFY:403,ATTACH:404,DATABASE:405,DETACH:406,AsClause:407,USE:408,SHOW:409,VIEW:410,CreateView_option0:411,CreateView_option1:412,SubqueryRestriction:413,READ:414,ONLY:415,OPTION:416,SOURCE:417,ASSERT:418,JsonObject:419,ATLBRA:420,JsonArray:421,JsonValue:422,JsonPrimitiveValue:423,LCUR:424,JsonPropertiesList:425,RCUR:426,JsonElementsList:427,JsonProperty:428,OnOff:429,SetPropsList:430,AtDollar:431,SetProp:432,OFF:433,COMMIT:434,TRANSACTION:435,ROLLBACK:436,BEGIN:437,ElseStatement:438,WHILE:439,CONTINUE:440,BREAK:441,PRINT:442,REQUIRE:443,StringValuesList:444,PluginsList:445,Plugin:446,ECHO:447,DECLARE:448,DeclaresList:449,DeclareItem:450,TRUNCATE:451,MERGE:452,MergeInto:453,MergeUsing:454,MergeOn:455,MergeMatchedList:456,OutputClause:457,MergeMatched:458,MergeNotMatched:459,MATCHED:460,MergeMatchedAction:461,MergeNotMatchedAction:462,TARGET:463,OUTPUT:464,CreateVertex_option0:465,CreateVertex_option1:466,CreateVertex_option2:467,CreateVertexSet:468,SharpValue:469,CONTENT:470,CreateEdge_option0:471,GRAPH:472,GraphList:473,GraphVertexEdge:474,GraphElement:475,GraphVertexEdge_option0:476,GraphVertexEdge_option1:477,GraphElementVar:478,GraphVertexEdge_option2:479,GraphVertexEdge_option3:480,GraphVertexEdge_option4:481,GraphVar:482,GraphAsClause:483,GraphAtClause:484,GraphElement2:485,GraphElement2_option0:486,GraphElement2_option1:487,GraphElement2_option2:488,GraphElement2_option3:489,GraphElement_option0:490,GraphElement_option1:491,GraphElement_option2:492,SharpLiteral:493,GraphElement_option3:494,GraphElement_option4:495,GraphElement_option5:496,ColonLiteral:497,DeleteVertex:498,DeleteVertex_option0:499,DeleteEdge:500,DeleteEdge_option0:501,DeleteEdge_option1:502,DeleteEdge_option2:503,Term:504,COLONDASH:505,TermsList:506,QUESTIONDASH:507,CALL:508,TRIGGER:509,BeforeAfter:510,InsertDeleteUpdate:511,CreateTrigger_option0:512,CreateTrigger_option1:513,BEFORE:514,AFTER:515,INSTEAD:516,REINDEX:517,A:518,ABSENT:519,ABSOLUTE:520,ACCORDING:521,ADA:522,ADMIN:523,ALWAYS:524,ASC:525,ASSERTION:526,ASSIGNMENT:527,ATTRIBUTE:528,ATTRIBUTES:529,BASE64:530,BERNOULLI:531,BLOCKED:532,BOM:533,BREADTH:534,C:535,CASCADE:536,CATALOG:537,CATALOG_NAME:538,CHAIN:539,CHARACTERISTICS:540,CHARACTERS:541,CHARACTER_SET_CATALOG:542,CHARACTER_SET_NAME:543,CHARACTER_SET_SCHEMA:544,CLASS_ORIGIN:545,COBOL:546,COLLATION:547,COLLATION_CATALOG:548,COLLATION_NAME:549,COLLATION_SCHEMA:550,COLUMNS:551,COLUMN_NAME:552,COMMAND_FUNCTION:553,COMMAND_FUNCTION_CODE:554,COMMITTED:555,CONDITION_NUMBER:556,CONNECTION:557,CONNECTION_NAME:558,CONSTRAINTS:559,CONSTRAINT_CATALOG:560,CONSTRAINT_NAME:561,CONSTRAINT_SCHEMA:562,CONSTRUCTOR:563,CONTROL:564,CURSOR_NAME:565,DATA:566,DATETIME_INTERVAL_CODE:567,DATETIME_INTERVAL_PRECISION:568,DB:569,DEFAULTS:570,DEFERRABLE:571,DEFERRED:572,DEFINED:573,DEFINER:574,DEGREE:575,DEPTH:576,DERIVED:577,DESC:578,DESCRIPTOR:579,DIAGNOSTICS:580,DISPATCH:581,DOCUMENT:582,DOMAIN:583,DYNAMIC_FUNCTION:584,DYNAMIC_FUNCTION_CODE:585,EMPTY:586,ENCODING:587,ENFORCED:588,EXCLUDE:589,EXCLUDING:590,EXPRESSION:591,FILE:592,FINAL:593,FLAG:594,FOLLOWING:595,FORTRAN:596,FOUND:597,FS:598,G:599,GENERAL:600,GENERATED:601,GO:602,GOTO:603,GRANTED:604,HEX:605,HIERARCHY:606,ID:607,IGNORE:608,IMMEDIATE:609,IMMEDIATELY:610,IMPLEMENTATION:611,INCLUDING:612,INCREMENT:613,INDENT:614,INITIALLY:615,INPUT:616,INSTANCE:617,INSTANTIABLE:618,INTEGRITY:619,INVOKER:620,ISOLATION:621,K:622,KEY_MEMBER:623,KEY_TYPE:624,LENGTH:625,LEVEL:626,LIBRARY:627,LINK:628,LOCATION:629,LOCATOR:630,M:631,MAP:632,MAPPING:633,MAXVALUE:634,MESSAGE_LENGTH:635,MESSAGE_OCTET_LENGTH:636,MESSAGE_TEXT:637,MINVALUE:638,MORE:639,MUMPS:640,NAME:641,NAMES:642,NAMESPACE:643,NESTING:644,NEXT:645,NFC:646,NFD:647,NFKC:648,NFKD:649,NIL:650,NORMALIZED:651,NULLABLE:652,NULLS:653,OBJECT:654,OCTETS:655,OPTIONS:656,ORDERING:657,ORDINALITY:658,OTHERS:659,OVERRIDING:660,P:661,PAD:662,PARAMETER_MODE:663,PARAMETER_NAME:664,PARAMETER_ORDINAL_POSITION:665,PARAMETER_SPECIFIC_CATALOG:666,PARAMETER_SPECIFIC_NAME:667,PARAMETER_SPECIFIC_SCHEMA:668,PARTIAL:669,PASCAL:670,PASSING:671,PASSTHROUGH:672,PERMISSION:673,PLACING:674,PLI:675,PRECEDING:676,PRESERVE:677,PRIOR:678,PRIVILEGES:679,PUBLIC:680,RECOVERY:681,RELATIVE:682,REPEATABLE:683,REQUIRING:684,RESPECT:685,RESTART:686,RESTORE:687,RESTRICT:688,RETURNED_CARDINALITY:689,RETURNED_LENGTH:690,RETURNED_OCTET_LENGTH:691,RETURNED_SQLSTATE:692,RETURNING:693,ROLE:694,ROUTINE:695,ROUTINE_CATALOG:696,ROUTINE_NAME:697,ROUTINE_SCHEMA:698,ROW_COUNT:699,SCALE:700,SCHEMA:701,SCHEMA_NAME:702,SCOPE_CATALOG:703,SCOPE_NAME:704,SCOPE_SCHEMA:705,SECTION:706,SECURITY:707,SELECTIVE:708,SELF:709,SEQUENCE:710,SERIALIZABLE:711,SERVER:712,SERVER_NAME:713,SESSION:714,SETS:715,SIMPLE:716,SIZE:717,SPACE:718,SPECIFIC_NAME:719,STANDALONE:720,STATE:721,STATEMENT:722,STRIP:723,STRUCTURE:724,STYLE:725,SUBCLASS_ORIGIN:726,T:727,TABLE_NAME:728,TEMPORARY:729,TIES:730,TOKEN:731,TOP_LEVEL_COUNT:732,TRANSACTIONS_COMMITTED:733,TRANSACTIONS_ROLLED_BACK:734,TRANSACTION_ACTIVE:735,TRANSFORM:736,TRANSFORMS:737,TRIGGER_CATALOG:738,TRIGGER_NAME:739,TRIGGER_SCHEMA:740,TYPE:741,UNBOUNDED:742,UNCOMMITTED:743,UNDER:744,UNLINK:745,UNNAMED:746,UNTYPED:747,URI:748,USAGE:749,USER_DEFINED_TYPE_CATALOG:750,USER_DEFINED_TYPE_CODE:751,USER_DEFINED_TYPE_NAME:752,USER_DEFINED_TYPE_SCHEMA:753,VALID:754,VERSION:755,WHITESPACE:756,WORK:757,WRAPPER:758,WRITE:759,XMLDECLARATION:760,XMLSCHEMA:761,YES:762,ZONE:763,SEMICOLON:764,PERCENT:765,ROWS:766,FuncValue_option0_group0:767,$accept:0,$end:1},terminals_:{2:"error",4:"LITERAL",5:"BRALITERAL",10:"EOF",14:"EXPLAIN",15:"QUERY",16:"PLAN",53:"EndTransaction",72:"WITH",74:"COMMA",76:"AS",77:"LPAR",78:"RPAR",89:"SEARCH",93:"PIVOT",95:"FOR",98:"UNPIVOT",99:"IN",107:"REMOVE",112:"LIKE",115:"ARROW",116:"DOT",118:"ORDER",119:"BY",122:"DOTDOT",123:"CARET",124:"EQ",128:"WHERE",129:"OF",130:"CLASS",131:"NUMBER",132:"STRING",133:"SLASH",134:"VERTEX",135:"EDGE",136:"EXCLAMATION",137:"SHARP",138:"MODULO",139:"GT",140:"LT",141:"GTGT",142:"LTLT",143:"DOLLAR",145:"AT",146:"SET",148:"TO",149:"VALUE",150:"ROW",152:"COLON",154:"NOT",156:"IF",162:"UNION",164:"ALL",166:"ANY",168:"INTERSECT",169:"EXCEPT",170:"AND",171:"OR",172:"PATH",173:"RETURN",175:"REPEAT",179:"PLUS",180:"STAR",181:"QUESTION",183:"FROM",185:"DISTINCT",187:"UNIQUE",189:"SELECT",190:"COLUMN",191:"MATRIX",192:"TEXTSTRING",193:"INDEX",194:"RECORDSET",195:"TOP",198:"INTO",206:"CROSS",207:"APPLY",208:"OUTER",212:"INDEXED",213:"INSERTED",222:"NATURAL",223:"JOIN",224:"INNER",225:"LEFT",226:"RIGHT",227:"FULL",228:"SEMI",229:"ANTI",230:"ON",231:"USING",232:"GROUP",236:"GROUPING",237:"ROLLUP",238:"CUBE",239:"HAVING",240:"CORRESPONDING",242:"DIRECTION",243:"COLLATE",244:"NOCASE",245:"LIMIT",247:"OFFSET",249:"FETCH",265:"CURRENT_TIMESTAMP",266:"JAVASCRIPT",267:"CREATE",268:"FUNCTION",269:"AGGREGATE",270:"NEW",271:"CAST",273:"CONVERT",276:"OVER",279:"PARTITION",280:"SUM",281:"COUNT",282:"MIN",283:"MAX",284:"AVG",285:"FIRST",286:"LAST",287:"AGGR",288:"ARRAY",290:"REPLACE",291:"DATEADD",292:"DATEDIFF",293:"INTERVAL",294:"TRUE",295:"FALSE",296:"NSTRING",297:"NULL",298:"EXISTS",299:"ARRAYLBRA",300:"RBRA",302:"BRAQUESTION",303:"CASE",306:"END",308:"WHEN",309:"THEN",310:"ELSE",311:"REGEXP",312:"TILDA",313:"GLOB",314:"ESCAPE",315:"NOT_LIKE",316:"BARBAR",317:"MINUS",318:"AMPERSAND",319:"BAR",320:"GE",321:"LE",322:"EQEQ",323:"EQEQEQ",324:"NE",325:"NEEQEQ",326:"NEEQEQEQ",330:"BETWEEN",331:"NOT_BETWEEN",332:"IS",333:"DOUBLECOLON",334:"SOME",335:"UPDATE",338:"DELETE",339:"INSERT",343:"DEFAULT",344:"VALUES",347:"DateValue",353:"TABLE",356:"IDENTITY",357:"TEMP",367:"CONSTRAINT",368:"CHECK",369:"PRIMARY",370:"KEY",373:"FOREIGN",374:"REFERENCES",380:"NO",381:"ACTION",386:"ColumnConstraints",389:"ENUM",390:"MAXNUM",396:"DROP",400:"ALTER",401:"RENAME",402:"ADD",403:"MODIFY",404:"ATTACH",405:"DATABASE",406:"DETACH",408:"USE",409:"SHOW",410:"VIEW",414:"READ",415:"ONLY",416:"OPTION",417:"SOURCE",418:"ASSERT",420:"ATLBRA",424:"LCUR",426:"RCUR",433:"OFF",434:"COMMIT",435:"TRANSACTION",436:"ROLLBACK",437:"BEGIN",439:"WHILE",440:"CONTINUE",441:"BREAK",442:"PRINT",443:"REQUIRE",447:"ECHO",448:"DECLARE",451:"TRUNCATE",452:"MERGE",460:"MATCHED",463:"TARGET",464:"OUTPUT",470:"CONTENT",472:"GRAPH",505:"COLONDASH",507:"QUESTIONDASH",508:"CALL",509:"TRIGGER",514:"BEFORE",515:"AFTER",516:"INSTEAD",517:"REINDEX",518:"A",519:"ABSENT",520:"ABSOLUTE",521:"ACCORDING",522:"ADA",523:"ADMIN",524:"ALWAYS",525:"ASC",526:"ASSERTION",527:"ASSIGNMENT",528:"ATTRIBUTE",529:"ATTRIBUTES",530:"BASE64",531:"BERNOULLI",532:"BLOCKED",533:"BOM",534:"BREADTH",535:"C",536:"CASCADE",537:"CATALOG",538:"CATALOG_NAME",539:"CHAIN",540:"CHARACTERISTICS",541:"CHARACTERS",542:"CHARACTER_SET_CATALOG",543:"CHARACTER_SET_NAME",544:"CHARACTER_SET_SCHEMA",545:"CLASS_ORIGIN",546:"COBOL",547:"COLLATION",548:"COLLATION_CATALOG",549:"COLLATION_NAME",550:"COLLATION_SCHEMA",551:"COLUMNS",552:"COLUMN_NAME",553:"COMMAND_FUNCTION",554:"COMMAND_FUNCTION_CODE",555:"COMMITTED",556:"CONDITION_NUMBER",557:"CONNECTION",558:"CONNECTION_NAME",559:"CONSTRAINTS",560:"CONSTRAINT_CATALOG",561:"CONSTRAINT_NAME",562:"CONSTRAINT_SCHEMA",563:"CONSTRUCTOR",564:"CONTROL",565:"CURSOR_NAME",566:"DATA",567:"DATETIME_INTERVAL_CODE",568:"DATETIME_INTERVAL_PRECISION",569:"DB",570:"DEFAULTS",571:"DEFERRABLE",572:"DEFERRED",573:"DEFINED",574:"DEFINER",575:"DEGREE",576:"DEPTH",577:"DERIVED",578:"DESC",579:"DESCRIPTOR",580:"DIAGNOSTICS",581:"DISPATCH",582:"DOCUMENT",583:"DOMAIN",584:"DYNAMIC_FUNCTION",585:"DYNAMIC_FUNCTION_CODE",586:"EMPTY",587:"ENCODING",588:"ENFORCED",589:"EXCLUDE",590:"EXCLUDING",591:"EXPRESSION",592:"FILE",593:"FINAL",594:"FLAG",595:"FOLLOWING",596:"FORTRAN",597:"FOUND",598:"FS",599:"G",600:"GENERAL",601:"GENERATED",602:"GO",603:"GOTO",604:"GRANTED",605:"HEX",606:"HIERARCHY",607:"ID",608:"IGNORE",609:"IMMEDIATE",610:"IMMEDIATELY",611:"IMPLEMENTATION",612:"INCLUDING",613:"INCREMENT",614:"INDENT",615:"INITIALLY",616:"INPUT",617:"INSTANCE",618:"INSTANTIABLE",619:"INTEGRITY",620:"INVOKER",621:"ISOLATION",622:"K",623:"KEY_MEMBER",624:"KEY_TYPE",625:"LENGTH",626:"LEVEL",627:"LIBRARY",628:"LINK",629:"LOCATION",630:"LOCATOR",631:"M",632:"MAP",633:"MAPPING",634:"MAXVALUE",635:"MESSAGE_LENGTH",636:"MESSAGE_OCTET_LENGTH",637:"MESSAGE_TEXT",638:"MINVALUE",639:"MORE",640:"MUMPS",641:"NAME",642:"NAMES",643:"NAMESPACE",644:"NESTING",645:"NEXT",646:"NFC",647:"NFD",648:"NFKC",649:"NFKD",650:"NIL",651:"NORMALIZED",652:"NULLABLE",653:"NULLS",654:"OBJECT",655:"OCTETS",656:"OPTIONS",657:"ORDERING",658:"ORDINALITY",659:"OTHERS",660:"OVERRIDING",661:"P",662:"PAD",663:"PARAMETER_MODE",664:"PARAMETER_NAME",665:"PARAMETER_ORDINAL_POSITION",666:"PARAMETER_SPECIFIC_CATALOG",667:"PARAMETER_SPECIFIC_NAME",668:"PARAMETER_SPECIFIC_SCHEMA",669:"PARTIAL",670:"PASCAL",671:"PASSING",672:"PASSTHROUGH",673:"PERMISSION",674:"PLACING",675:"PLI",676:"PRECEDING",677:"PRESERVE",678:"PRIOR",679:"PRIVILEGES",680:"PUBLIC",681:"RECOVERY",682:"RELATIVE",683:"REPEATABLE",684:"REQUIRING",685:"RESPECT",686:"RESTART",687:"RESTORE",688:"RESTRICT",689:"RETURNED_CARDINALITY",690:"RETURNED_LENGTH",691:"RETURNED_OCTET_LENGTH",692:"RETURNED_SQLSTATE",693:"RETURNING",694:"ROLE",695:"ROUTINE",696:"ROUTINE_CATALOG",697:"ROUTINE_NAME",698:"ROUTINE_SCHEMA",699:"ROW_COUNT",700:"SCALE",701:"SCHEMA",702:"SCHEMA_NAME",703:"SCOPE_CATALOG",704:"SCOPE_NAME",705:"SCOPE_SCHEMA",706:"SECTION",707:"SECURITY",708:"SELECTIVE",709:"SELF",710:"SEQUENCE",711:"SERIALIZABLE",712:"SERVER",713:"SERVER_NAME",714:"SESSION",715:"SETS",716:"SIMPLE",717:"SIZE",718:"SPACE",719:"SPECIFIC_NAME",720:"STANDALONE",721:"STATE",722:"STATEMENT",723:"STRIP",724:"STRUCTURE",725:"STYLE",726:"SUBCLASS_ORIGIN",727:"T",728:"TABLE_NAME",729:"TEMPORARY",730:"TIES",731:"TOKEN",732:"TOP_LEVEL_COUNT",733:"TRANSACTIONS_COMMITTED",734:"TRANSACTIONS_ROLLED_BACK",735:"TRANSACTION_ACTIVE",736:"TRANSFORM",737:"TRANSFORMS",738:"TRIGGER_CATALOG",739:"TRIGGER_NAME",740:"TRIGGER_SCHEMA",741:"TYPE",742:"UNBOUNDED",743:"UNCOMMITTED",744:"UNDER",745:"UNLINK",746:"UNNAMED",747:"UNTYPED",748:"URI",749:"USAGE",750:"USER_DEFINED_TYPE_CATALOG",751:"USER_DEFINED_TYPE_CODE",752:"USER_DEFINED_TYPE_NAME",753:"USER_DEFINED_TYPE_SCHEMA",754:"VALID",755:"VERSION",756:"WHITESPACE",757:"WORK",758:"WRAPPER",759:"WRITE",760:"XMLDECLARATION",761:"XMLSCHEMA",762:"YES",763:"ZONE",764:"SEMICOLON",765:"PERCENT",766:"ROWS"},productions_:[0,[3,1],[3,1],[3,2],[7,1],[7,2],[8,2],[9,3],[9,1],[9,1],[13,2],[13,4],[12,1],[17,0],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[17,1],[47,3],[73,3],[73,1],[75,5],[40,10],[40,4],[92,8],[92,11],[102,4],[104,2],[104,1],[103,3],[103,1],[105,1],[105,3],[106,3],[109,3],[109,1],[110,1],[110,2],[114,1],[114,1],[117,1],[117,5],[117,5],[117,1],[117,2],[117,1],[117,2],[117,2],[117,3],[117,4],[117,4],[117,4],[117,4],[117,4],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,2],[117,2],[117,2],[117,1],[117,1],[117,1],[117,1],[117,1],[117,1],[117,2],[117,3],[117,4],[117,3],[117,1],[117,4],[117,2],[117,2],[117,4],[117,4],[117,4],[117,4],[117,4],[117,5],[117,4],[117,4],[117,4],[117,4],[117,4],[117,4],[117,4],[117,4],[117,6],[163,3],[163,1],[153,1],[153,1],[153,1],[182,2],[79,4],[79,4],[79,4],[79,3],[184,1],[184,2],[184,2],[184,2],[184,2],[184,2],[184,2],[184,2],[186,3],[186,4],[186,0],[81,0],[81,2],[81,2],[81,2],[81,2],[81,2],[82,2],[82,3],[82,5],[82,0],[205,6],[205,7],[205,6],[205,7],[203,1],[203,3],[209,4],[209,5],[209,3],[209,3],[209,2],[209,3],[209,1],[209,3],[209,2],[209,3],[209,1],[209,1],[209,2],[209,3],[209,1],[209,1],[209,2],[209,3],[209,1],[209,2],[209,3],[214,1],[199,3],[199,1],[204,2],[204,2],[204,1],[204,1],[215,3],[217,1],[217,2],[217,3],[217,3],[217,2],[217,3],[217,4],[217,5],[217,1],[217,2],[217,3],[217,1],[217,2],[217,3],[216,1],[216,2],[221,1],[221,2],[221,2],[221,3],[221,2],[221,3],[221,2],[221,3],[221,2],[221,2],[221,2],[218,2],[218,2],[218,0],[84,0],[84,2],[85,0],[85,4],[233,1],[233,3],[235,5],[235,4],[235,4],[235,1],[234,0],[234,2],[88,0],[88,2],[88,3],[88,2],[88,2],[88,3],[88,4],[88,3],[88,3],[86,0],[86,3],[120,1],[120,3],[241,1],[241,2],[241,3],[241,4],[87,0],[87,3],[87,8],[246,0],[246,2],[174,3],[174,1],[253,3],[253,2],[253,3],[253,2],[253,3],[253,2],[253,1],[254,5],[254,3],[254,1],[111,5],[111,3],[111,3],[111,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,1],[94,3],[94,3],[94,3],[94,1],[94,1],[56,1],[70,5],[71,5],[263,2],[263,2],[261,6],[261,8],[261,6],[261,8],[274,1],[274,1],[274,1],[274,1],[274,1],[274,1],[274,1],[255,5],[255,6],[255,6],[275,0],[275,4],[275,4],[275,5],[277,3],[278,3],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[158,1],[200,5],[200,3],[200,4],[200,4],[200,8],[200,8],[200,8],[200,8],[200,3],[151,1],[151,3],[196,1],[257,1],[257,1],[113,1],[113,1],[258,1],[202,2],[259,4],[262,3],[201,2],[201,2],[201,1],[201,1],[260,5],[260,4],[304,2],[304,1],[307,4],[305,2],[305,0],[256,3],[256,3],[256,3],[256,3],[256,5],[256,3],[256,5],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,5],[256,3],[256,3],[256,3],[256,5],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,3],[256,6],[256,6],[256,3],[256,3],[256,2],[256,2],[256,2],[256,2],[256,2],[256,3],[256,5],[256,6],[256,5],[256,6],[256,4],[256,5],[256,3],[256,4],[256,3],[256,4],[256,3],[256,3],[256,3],[256,3],[256,3],[329,1],[329,1],[329,4],[327,1],[327,1],[327,1],[327,1],[327,1],[327,1],[328,1],[328,1],[328,1],[55,6],[55,4],[147,1],[147,3],[336,3],[336,4],[29,5],[29,3],[36,5],[36,4],[36,7],[36,6],[36,5],[36,4],[36,5],[36,8],[36,7],[36,4],[36,6],[36,7],[341,1],[341,1],[340,0],[340,1],[342,3],[342,1],[342,1],[342,5],[342,3],[342,3],[345,1],[345,3],[346,1],[346,1],[346,1],[346,1],[346,1],[346,1],[100,1],[100,3],[24,9],[24,5],[349,1],[349,1],[352,0],[352,1],[354,2],[354,1],[355,1],[355,3],[355,3],[355,3],[348,0],[348,1],[350,0],[350,3],[351,3],[351,1],[351,2],[359,1],[359,3],[360,2],[360,2],[360,2],[360,2],[360,2],[361,0],[361,2],[366,4],[362,6],[363,9],[377,3],[376,0],[376,2],[378,4],[379,4],[364,6],[365,5],[365,5],[372,1],[372,1],[372,3],[372,3],[358,1],[358,3],[384,3],[384,2],[384,1],[387,6],[387,4],[387,1],[387,4],[272,2],[272,1],[388,1],[388,1],[385,0],[385,1],[391,2],[391,1],[393,3],[392,2],[392,5],[392,3],[392,6],[392,1],[392,2],[392,4],[392,2],[392,1],[392,2],[392,1],[392,1],[392,3],[392,5],[33,4],[399,3],[399,1],[398,0],[398,2],[18,6],[18,6],[18,6],[18,8],[18,6],[39,5],[19,4],[19,7],[19,6],[19,9],[30,3],[21,4],[21,6],[21,9],[21,6],[407,0],[407,2],[54,3],[54,2],[31,4],[31,5],[31,5],[22,8],[22,9],[32,3],[43,2],[43,4],[43,3],[43,5],[45,2],[45,4],[45,4],[45,6],[42,4],[42,6],[44,4],[44,6],[41,4],[41,6],[25,11],[25,8],[413,3],[413,3],[413,5],[34,4],[66,2],[57,2],[58,2],[58,2],[58,4],[144,4],[144,2],[144,2],[144,2],[144,2],[144,1],[144,2],[144,2],[422,1],[422,1],[423,1],[423,1],[423,1],[423,1],[423,1],[423,1],[423,1],[423,3],[419,3],[419,4],[419,2],[421,2],[421,3],[421,1],[425,3],[425,1],[428,3],[428,3],[428,3],[427,3],[427,1],[65,4],[65,3],[65,4],[65,5],[65,5],[65,6],[431,1],[431,1],[430,3],[430,2],[432,1],[432,1],[432,3],[429,1],[429,1],[51,2],[52,2],[50,2],[35,4],[35,3],[438,2],[59,3],[60,1],[61,1],[62,3],[63,2],[63,2],[64,2],[64,2],[446,1],[446,1],[69,2],[444,3],[444,1],[445,3],[445,1],[28,2],[449,1],[449,3],[450,3],[450,4],[450,5],[450,6],[46,3],[37,6],[453,1],[453,2],[454,2],[455,2],[456,2],[456,2],[456,1],[456,1],[458,4],[458,6],[461,1],[461,3],[459,5],[459,7],[459,7],[459,9],[459,7],[459,9],[462,3],[462,6],[462,3],[462,6],[457,0],[457,2],[457,5],[457,4],[457,7],[27,6],[469,2],[468,0],[468,2],[468,2],[468,1],[26,8],[23,3],[23,4],[473,3],[473,1],[474,3],[474,7],[474,6],[474,3],[474,4],[478,1],[478,1],[482,2],[483,3],[484,2],[485,4],[475,4],[475,3],[475,2],[475,1],[497,2],[493,2],[493,2],[498,4],[500,6],[67,3],[67,2],[506,3],[506,1],[504,1],[504,4],[68,2],[20,2],[48,9],[48,8],[48,9],[510,0],[510,1],[510,1],[510,1],[510,2],[511,1],[511,1],[511,1],[49,3],[38,2],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[6,1],[11,1],[11,1],[80,0],[80,1],[83,0],[83,1],[90,0],[90,2],[91,0],[91,1],[96,0],[96,1],[97,0],[97,1],[101,0],[101,1],[108,0],[108,1],[121,0],[121,1],[125,1],[125,2],[126,1],[126,2],[127,0],[127,1],[155,0],[155,2],[157,0],[157,2],[159,0],[159,2],[160,1],[160,1],[161,0],[161,2],[165,0],[165,2],[167,0],[167,2],[176,0],[176,2],[177,0],[177,2],[178,0],[178,2],[188,0],[188,1],[197,0],[197,1],[210,0],[210,1],[211,0],[211,1],[219,0],[219,1],[220,0],[220,1],[248,0],[248,1],[250,0],[250,1],[251,0],[251,1],[252,0],[252,1],[264,1],[264,1],[767,1],[767,1],[289,0],[289,1],[301,1],[301,1],[337,1],[337,1],[371,0],[371,1],[375,0],[375,1],[382,0],[382,1],[383,0],[383,1],[394,0],[394,1],[395,0],[395,1],[397,1],[397,1],[411,0],[411,1],[412,0],[412,1],[465,0],[465,1],[466,0],[466,1],[467,0],[467,1],[471,0],[471,1],[476,0],[476,1],[477,0],[477,1],[479,0],[479,1],[480,0],[480,1],[481,0],[481,1],[486,0],[486,1],[487,0],[487,1],[488,0],[488,1],[489,0],[489,1],[490,0],[490,1],[491,0],[491,1],[492,0],[492,1],[494,0],[494,1],[495,0],[495,1],[496,0],[496,1],[499,0],[499,2],[501,0],[501,2],[502,0],[502,2],[503,0],[503,2],[512,0],[512,1],[513,0],[513,1]],performAction:function t(e,i,r,o,s,a,u){var l=a.length-1;switch(s){case 1:if(o.casesensitive)this.$=a[l];else this.$=a[l].toLowerCase();break;case 2:this.$=f(a[l].substr(1,a[l].length-2));break;case 3:this.$=a[l].toLowerCase();break;case 4:this.$=a[l];break;case 5:this.$=a[l]?a[l-1]+" "+a[l]:a[l-1];break;case 6:return new o.Statements({statements:a[l-1]});break;case 7:this.$=a[l-2];if(a[l])a[l-2].push(a[l]);break;case 8:case 9:case 70:case 80:case 85:case 143:case 177:case 205:case 206:case 242:case 261:case 273:case 354:case 372:case 451:case 474:case 475:case 479:case 487:case 528:case 529:case 566:case 649:case 659:case 683:case 685:case 687:case 701:case 702:case 732:case 756:this.$=[a[l]];break;case 10:this.$=a[l];a[l].explain=true;break;case 11:this.$=a[l];a[l].explain=true;break;case 12:this.$=a[l];if(o.exists)this.$.exists=o.exists;delete o.exists;if(o.queries)this.$.queries=o.queries;delete o.queries;break;case 13:case 162:case 172:case 237:case 238:case 240:case 248:case 250:case 259:case 267:case 270:case 375:case 491:case 501:case 503:case 515:case 521:case 522:case 567:this.$=undefined;break;case 68:this.$=new o.WithSelect({withs:a[l-1],select:a[l]});break;case 69:case 565:a[l-2].push(a[l]);this.$=a[l-2];break;case 71:this.$={name:a[l-4],select:a[l-1]};break;case 72:o.extend(this.$,a[l-9]);o.extend(this.$,a[l-8]);o.extend(this.$,a[l-7]);o.extend(this.$,a[l-6]);o.extend(this.$,a[l-5]);o.extend(this.$,a[l-4]);o.extend(this.$,a[l-3]);o.extend(this.$,a[l-2]);o.extend(this.$,a[l-1]);o.extend(this.$,a[l]);this.$=a[l-9];break;case 73:this.$=new o.Search({selectors:a[l-2],from:a[l]});o.extend(this.$,a[l-1]);break;case 74:this.$={pivot:{expr:a[l-5],columnid:a[l-3],inlist:a[l-2],as:a[l]}};break;case 75:this.$={unpivot:{tocolumnid:a[l-8],forcolumnid:a[l-6],inlist:a[l-3],as:a[l]}};break;case 76:case 520:case 549:case 585:case 619:case 636:case 637:case 640:case 662:this.$=a[l-1];break;case 77:case 78:case 86:case 147:case 185:case 247:case 280:case 288:case 289:case 290:case 291:case 292:case 293:case 294:case 295:case 296:case 297:case 298:case 299:case 300:case 301:case 304:case 305:case 320:case 321:case 322:case 323:case 324:case 325:case 374:case 440:case 441:case 442:case 443:case 444:case 445:case 516:case 542:case 546:case 548:case 623:case 624:case 625:case 626:case 627:case 628:case 632:case 634:case 635:case 644:case 660:case 661:case 723:case 738:case 739:case 741:case 742:case 748:case 749:this.$=a[l];break;case 79:case 84:case 731:case 755:this.$=a[l-2];this.$.push(a[l]);break;case 81:this.$={expr:a[l]};break;case 82:this.$={expr:a[l-2],as:a[l]};break;case 83:this.$={removecolumns:a[l]};break;case 87:this.$={like:a[l]};break;case 90:case 104:this.$={srchid:"PROP",args:[a[l]]};break;case 91:this.$={srchid:"ORDERBY",args:a[l-1]};break;case 92:var c=a[l-1];if(!c)c="ASC";this.$={srchid:"ORDERBY",args:[{expression:new o.Column({columnid:"_"}),direction:c}]};break;case 93:this.$={srchid:"PARENT"};break;case 94:this.$={srchid:"APROP",args:[a[l]]};break;case 95:this.$={selid:"ROOT"};break;case 96:this.$={srchid:"EQ",args:[a[l]]};break;case 97:this.$={srchid:"LIKE",args:[a[l]]};break;case 98:case 99:this.$={selid:"WITH",args:a[l-1]};break;case 100:this.$={srchid:a[l-3].toUpperCase(),args:a[l-1]};break;case 101:this.$={srchid:"WHERE",args:[a[l-1]]};break;case 102:this.$={selid:"OF",args:[a[l-1]]};break;case 103:this.$={srchid:"CLASS",args:[a[l-1]]};break;case 105:this.$={srchid:"NAME",args:[a[l].substr(1,a[l].length-2)]};break;case 106:this.$={srchid:"CHILD"};break;case 107:this.$={srchid:"VERTEX"};break;case 108:this.$={srchid:"EDGE"};break;case 109:this.$={srchid:"REF"};break;case 110:this.$={srchid:"SHARP",args:[a[l]]};break;case 111:this.$={srchid:"ATTR",args:typeof a[l]=="undefined"?undefined:[a[l]]};break;case 112:this.$={srchid:"ATTR"};break;case 113:this.$={srchid:"OUT"};break;case 114:this.$={srchid:"IN"};break;case 115:this.$={srchid:"OUTOUT"};break;case 116:this.$={srchid:"ININ"};break;case 117:this.$={srchid:"CONTENT"};break;case 118:this.$={srchid:"EX",args:[new o.Json({value:a[l]})]};break;case 119:this.$={srchid:"AT",args:[a[l]]};break;case 120:this.$={srchid:"AS",args:[a[l]]};break;case 121:this.$={srchid:"SET",args:a[l-1]};break;case 122:this.$={selid:"TO",args:[a[l]]};break;case 123:this.$={srchid:"VALUE"};break;case 124:this.$={srchid:"ROW",args:a[l-1]};break;case 125:this.$={srchid:"CLASS",args:[a[l]]};break;case 126:this.$={selid:a[l],args:[a[l-1]]};break;case 127:this.$={selid:"NOT",args:a[l-1]};break;case 128:this.$={selid:"IF",args:a[l-1]};break;case 129:this.$={selid:a[l-3],args:a[l-1]};break;case 130:this.$={selid:"DISTINCT",args:a[l-1]};break;case 131:this.$={selid:"UNION",args:a[l-1]};break;case 132:this.$={selid:"UNIONALL",args:a[l-1]};break;case 133:this.$={selid:"ALL",args:[a[l-1]]};break;case 134:this.$={selid:"ANY",args:[a[l-1]]};break;case 135:this.$={selid:"INTERSECT",args:a[l-1]};break;case 136:this.$={selid:"EXCEPT",args:a[l-1]};break;case 137:this.$={selid:"AND",args:a[l-1]};break;case 138:this.$={selid:"OR",args:a[l-1]};break;case 139:this.$={selid:"PATH",args:[a[l-1]]};break;case 140:this.$={srchid:"RETURN",args:a[l-1]};break;case 141:this.$={selid:"REPEAT",sels:a[l-3],args:a[l-1]};break;case 142:this.$=a[l-2];this.$.push(a[l]);break;case 144:this.$="PLUS";break;case 145:this.$="STAR";break;case 146:this.$="QUESTION";break;case 148:this.$=new o.Select({columns:a[l],distinct:true});o.extend(this.$,a[l-3]);o.extend(this.$,a[l-1]);break;case 149:this.$=new o.Select({columns:a[l],distinct:true});o.extend(this.$,a[l-3]);o.extend(this.$,a[l-1]);break;case 150:this.$=new o.Select({columns:a[l],all:true});o.extend(this.$,a[l-3]);o.extend(this.$,a[l-1]);break;case 151:if(!a[l]){this.$=new o.Select({columns:[new o.Column({columnid:"_"})],modifier:"COLUMN"})}else{this.$=new o.Select({columns:a[l]});o.extend(this.$,a[l-2]);o.extend(this.$,a[l-1])}break;case 152:if(a[l]=="SELECT")this.$=undefined;else this.$={modifier:a[l]};break;case 153:this.$={modifier:"VALUE"};break;case 154:this.$={modifier:"ROW"};break;case 155:this.$={modifier:"COLUMN"};break;case 156:this.$={modifier:"MATRIX"};break;case 157:this.$={modifier:"TEXTSTRING"};break;case 158:this.$={modifier:"INDEX"};break;case 159:this.$={modifier:"RECORDSET"};break;case 160:this.$={top:a[l-1],percent:typeof a[l]!="undefined"?true:undefined};break;case 161:this.$={top:a[l-1]};break;case 163:case 330:case 523:case 524:case 724:this.$=undefined;break;case 164:case 165:case 166:case 167:this.$={into:a[l]};break;case 168:var h=a[l];h=h.substr(1,h.length-2);var p=h.substr(-3).toUpperCase();var d=h.substr(-4).toUpperCase();if(h[0]=="#"){this.$={into:new o.FuncValue({funcid:"HTML",args:[new o.StringValue({value:h}),new o.Json({value:{headers:true}})]})}}else if(p=="XLS"||p=="CSV"||p=="TAB"){this.$={into:new o.FuncValue({funcid:p,args:[new o.StringValue({value:h}),new o.Json({value:{headers:true}})]})}}else if(d=="XLSX"||d=="JSON"){this.$={into:new o.FuncValue({funcid:d,args:[new o.StringValue({value:h}),new o.Json({value:{headers:true}})]})}}break;case 169:this.$={from:a[l]};break;case 170:this.$={from:a[l-1],joins:a[l]};break;case 171:this.$={from:a[l-2],joins:a[l-1]};break;case 173:this.$=new o.Apply({select:a[l-2],applymode:"CROSS",as:a[l]});break;case 174:this.$=new o.Apply({select:a[l-3],applymode:"CROSS",as:a[l]});break;case 175:this.$=new o.Apply({select:a[l-2],applymode:"OUTER",as:a[l]});break;case 176:this.$=new o.Apply({select:a[l-3],applymode:"OUTER",as:a[l]});break;case 178:case 243:case 452:case 530:case 531:this.$=a[l-2];a[l-2].push(a[l]);break;case 179:this.$=a[l-2];this.$.as=a[l];break;case 180:this.$=a[l-3];this.$.as=a[l];break;case 181:this.$=a[l-1];this.$.as="default";break;case 182:this.$=new o.Json({value:a[l-2]});a[l-2].as=a[l];break;case 183:this.$=a[l-1];a[l-1].as=a[l];break;case 184:this.$=a[l-2];a[l-2].as=a[l];break;case 186:case 638:case 641:this.$=a[l-2];break;case 187:case 191:case 195:case 198:this.$=a[l-1];a[l-1].as=a[l];break;case 188:case 192:case 196:case 199:this.$=a[l-2];a[l-2].as=a[l];break;case 189:case 190:case 194:case 197:this.$=a[l];a[l].as="default";break;case 193:this.$={inserted:true};a[l].as="default";break;case 200:var h=a[l];h=h.substr(1,h.length-2);var p=h.substr(-3).toUpperCase();var d=h.substr(-4).toUpperCase();var g;if(h[0]=="#"){g=new o.FuncValue({funcid:"HTML",args:[new o.StringValue({value:h}),new o.Json({value:{headers:true}})]})}else if(p=="XLS"||p=="CSV"||p=="TAB"){g=new o.FuncValue({funcid:p,args:[new o.StringValue({value:h}),new o.Json({value:{headers:true}})]})}else if(d=="XLSX"||d=="JSON"){g=new o.FuncValue({funcid:d,args:[new o.StringValue({value:h}),new o.Json({value:{headers:true}})]})}else{throw new Error("Unknown string in FROM clause")};this.$=g;break;case 201:if(a[l-2]=="INFORMATION_SCHEMA"){this.$=new o.FuncValue({funcid:a[l-2],args:[new o.StringValue({value:a[l]})]})}else{this.$=new o.Table({databaseid:a[l-2],tableid:a[l]})}break;case 202:this.$=new o.Table({tableid:a[l]});break;case 203:case 204:this.$=a[l-1];a[l-1].push(a[l]);break;case 207:this.$=new o.Join(a[l-2]);o.extend(this.$,a[l-1]);o.extend(this.$,a[l]);break;case 208:this.$={table:a[l]};break;case 209:this.$={table:a[l-1],as:a[l]};break;case 210:this.$={table:a[l-2],as:a[l]};break;case 211:this.$={json:new o.Json({value:a[l-2],as:a[l]})};break;case 212:this.$={param:a[l-1],as:a[l]};break;case 213:this.$={param:a[l-2],as:a[l]};break;case 214:this.$={select:a[l-2],as:a[l]};break;case 215:this.$={select:a[l-3],as:a[l]};break;case 216:this.$={funcid:a[l],as:"default"};break;case 217:this.$={funcid:a[l-1],as:a[l]};break;case 218:this.$={funcid:a[l-2],as:a[l]};break;case 219:this.$={variable:a[l],as:"default"};break;case 220:this.$={variable:a[l-1],as:a[l]};break;case 221:this.$={variable:a[l-2],as:a[l]};break;case 222:this.$={joinmode:a[l]};break;case 223:this.$={joinmode:a[l-1],natural:true};break;case 224:case 225:this.$="INNER";break;case 226:case 227:this.$="LEFT";break;case 228:case 229:this.$="RIGHT";break;case 230:case 231:this.$="OUTER";break;case 232:this.$="SEMI";break;case 233:this.$="ANTI";break;case 234:this.$="CROSS";break;case 235:this.$={on:a[l]};break;case 236:case 697:this.$={using:a[l]};break;case 239:this.$={where:new o.Expression({expression:a[l]})};break;case 241:this.$={group:a[l-1]};o.extend(this.$,a[l]);break;case 244:this.$=new o.GroupExpression({type:"GROUPING SETS",group:a[l-1]});break;case 245:this.$=new o.GroupExpression({type:"ROLLUP",group:a[l-1]});break;case 246:this.$=new o.GroupExpression({type:"CUBE",group:a[l-1]});break;case 249:this.$={having:a[l]};break;case 251:this.$={union:a[l]};break;case 252:this.$={unionall:a[l]};break;case 253:this.$={except:a[l]};break;case 254:this.$={intersect:a[l]};break;case 255:this.$={union:a[l],corresponding:true};break;case 256:this.$={unionall:a[l],corresponding:true};break;case 257:this.$={except:a[l],corresponding:true};break;case 258:this.$={intersect:a[l],corresponding:true};break;case 260:this.$={order:a[l]};break;case 262:this.$=a[l-2];a[l-2].push(a[l]);break;case 263:this.$=new o.Expression({expression:a[l],direction:"ASC"});break;case 264:this.$=new o.Expression({expression:a[l-1],direction:a[l].toUpperCase()});break;case 265:this.$=new o.Expression({expression:a[l-2],direction:"ASC",nocase:true});break;case 266:this.$=new o.Expression({expression:a[l-3],direction:a[l].toUpperCase(),nocase:true});break;case 268:this.$={limit:a[l-1]};o.extend(this.$,a[l]);break;case 269:this.$={limit:a[l-2],offset:a[l-6]};break;case 271:this.$={offset:a[l]};break;case 272:case 509:case 533:case 648:case 658:case 682:case 684:case 688:a[l-2].push(a[l]);this.$=a[l-2];break;case 274:case 276:case 278:a[l-2].as=a[l];this.$=a[l-2];break;case 275:case 277:case 279:a[l-1].as=a[l];this.$=a[l-1];break;case 281:this.$=new o.Column({columid:a[l],tableid:a[l-2],databaseid:a[l-4]});break;case 282:this.$=new o.Column({columnid:a[l],tableid:a[l-2]});break;case 283:this.$=new o.Column({columnid:a[l]});break;case 284:this.$=new o.Column({columnid:a[l],tableid:a[l-2],databaseid:a[l-4]});break;case 285:case 286:this.$=new o.Column({columnid:a[l],tableid:a[l-2]});break;case 287:this.$=new o.Column({columnid:a[l]});break;case 302:this.$=new o.DomainValueValue;break;case 303:this.$=new o.Json({value:a[l]});break;case 306:case 307:case 308:if(!o.queries)o.queries=[];o.queries.push(a[l-1]);a[l-1].queriesidx=o.queries.length;this.$=a[l-1];break;case 309:this.$=a[l];break;case 310:this.$=new o.FuncValue({funcid:"CURRENT_TIMESTAMP"});break;case 311:this.$=new o.JavaScript({value:a[l].substr(2,a[l].length-4)});break;case 312:this.$=new o.JavaScript({value:'alasql.fn["'+a[l-2]+'"] = '+a[l].substr(2,a[l].length-4)});break;case 313:this.$=new o.JavaScript({value:'alasql.aggr["'+a[l-2]+'"] = '+a[l].substr(2,a[l].length-4)});break;case 314:this.$=new o.FuncValue({funcid:a[l],newid:true});break;case 315:this.$=a[l];o.extend(this.$,{newid:true});break;case 316:this.$=new o.Convert({expression:a[l-3]});o.extend(this.$,a[l-1]);break;case 317:this.$=new o.Convert({expression:a[l-5],style:a[l-1]});o.extend(this.$,a[l-3]);break;case 318:this.$=new o.Convert({expression:a[l-1]});o.extend(this.$,a[l-3]);break;case 319:this.$=new o.Convert({expression:a[l-3],style:a[l-1]});o.extend(this.$,a[l-5]);break;case 326:this.$=new o.FuncValue({funcid:"CURRENT_TIMESTAMP"});break;case 327:if(a[l-2].length>1&&(a[l-4].toUpperCase()=="MAX"||a[l-4].toUpperCase()=="MIN")){this.$=new o.FuncValue({funcid:a[l-4],args:a[l-2]})}else{this.$=new o.AggrValue({aggregatorid:a[l-4].toUpperCase(),expression:a[l-2].pop(),over:a[l]})}break;case 328:this.$=new o.AggrValue({aggregatorid:a[l-5].toUpperCase(),expression:a[l-2],distinct:true,over:a[l]});break;case 329:this.$=new o.AggrValue({aggregatorid:a[l-5].toUpperCase(),expression:a[l-2],over:a[l]});break;case 331:case 332:this.$=new o.Over;o.extend(this.$,a[l-1]);break;case 333:this.$=new o.Over;o.extend(this.$,a[l-2]);o.extend(this.$,a[l-1]);break;case 334:this.$={partition:a[l]};break;case 335:this.$={order:a[l]};break;case 336:this.$="SUM";break;case 337:this.$="COUNT";break;case 338:this.$="MIN";break;case 339:case 544:this.$="MAX";break;case 340:this.$="AVG";break;case 341:this.$="FIRST";break;case 342:this.$="LAST";break;case 343:this.$="AGGR";break;case 344:this.$="ARRAY";break;case 345:var m=a[l-4];var v=a[l-1];if(v.length>1&&(m.toUpperCase()=="MIN"||m.toUpperCase()=="MAX")){this.$=new o.FuncValue({funcid:m,args:v})}else if(n.aggr[a[l-4]]){this.$=new o.AggrValue({aggregatorid:"REDUCE",funcid:m,expression:v.pop(),distinct:a[l-2]=="DISTINCT"})}else{this.$=new o.FuncValue({funcid:m,args:v})};break;case 346:this.$=new o.FuncValue({funcid:a[l-2]});break;case 347:this.$=new o.FuncValue({funcid:"IIF",args:a[l-1]});break;case 348:this.$=new o.FuncValue({funcid:"REPLACE",args:a[l-1]});break;case 349:this.$=new o.FuncValue({funcid:"DATEADD",args:[new o.StringValue({value:a[l-5]}),a[l-3],a[l-1]]});break;case 350:this.$=new o.FuncValue({funcid:"DATEADD",args:[a[l-5],a[l-3],a[l-1]]});break;case 351:this.$=new o.FuncValue({funcid:"DATEDIFF",args:[new o.StringValue({value:a[l-5]}),a[l-3],a[l-1]]});break;case 352:this.$=new o.FuncValue({funcid:"DATEDIFF",args:[a[l-5],a[l-3],a[l-1]]});break;case 353:this.$=new o.FuncValue({funcid:"INTERVAL",args:[a[l-1],new o.StringValue({value:a[l].toLowerCase()})]});break;case 355:a[l-2].push(a[l]);this.$=a[l-2];break;case 356:this.$=new o.NumValue({value:+a[l]});break;case 357:this.$=new o.LogicValue({value:true});break;case 358:this.$=new o.LogicValue({value:false});break;case 359:this.$=new o.StringValue({value:a[l].substr(1,a[l].length-2).replace(/(\\\')/g,"'").replace(/(\'\')/g,"'")});break;case 360:this.$=new o.StringValue({value:a[l].substr(2,a[l].length-3).replace(/(\\\')/g,"'").replace(/(\'\')/g,"'")});break;case 361:this.$=new o.NullValue({value:undefined});break;case 362:this.$=new o.VarValue({variable:a[l]});break;case 363:if(!o.exists)o.exists=[];this.$=new o.ExistsValue({value:a[l-1],existsidx:o.exists.length});o.exists.push(a[l-1]);break;case 364:this.$=new o.ArrayValue({value:a[l-1]});break;case 365:case 366:this.$=new o.ParamValue({param:a[l]});break;case 367:if(typeof o.question=="undefined")o.question=0;this.$=new o.ParamValue({param:o.question++});break;case 368:if(typeof o.question=="undefined")o.question=0;this.$=new o.ParamValue({param:o.question++,array:true});break;case 369:this.$=new o.CaseValue({expression:a[l-3],whens:a[l-2],elses:a[l-1]});break;case 370:this.$=new o.CaseValue({whens:a[l-2],elses:a[l-1]});break;case 371:case 699:case 700:this.$=a[l-1];this.$.push(a[l]);break;case 373:this.$={when:a[l-2],then:a[l]};break;case 376:case 377:this.$=new o.Op({left:a[l-2],op:"REGEXP",right:a[l]});break;case 378:this.$=new o.Op({left:a[l-2],op:"GLOB",right:a[l]});break;case 379:this.$=new o.Op({left:a[l-2],op:"LIKE",right:a[l]});break;case 380:this.$=new o.Op({left:a[l-4],op:"LIKE",right:a[l-2],escape:a[l]});break;case 381:this.$=new o.Op({left:a[l-2],op:"NOT LIKE",right:a[l]});break;case 382:this.$=new o.Op({left:a[l-4],op:"NOT LIKE",right:a[l-2],escape:a[l]});break;case 383:this.$=new o.Op({left:a[l-2],op:"||",right:a[l]});break;case 384:this.$=new o.Op({left:a[l-2],op:"+",right:a[l]});break;case 385:this.$=new o.Op({left:a[l-2],op:"-",right:a[l]});break;case 386:this.$=new o.Op({left:a[l-2],op:"*",right:a[l]});break;case 387:this.$=new o.Op({left:a[l-2],op:"/",right:a[l]});break;case 388:this.$=new o.Op({left:a[l-2],op:"%",right:a[l]});break;case 389:this.$=new o.Op({left:a[l-2],op:"^",right:a[l]});break;case 390:this.$=new o.Op({left:a[l-2],op:">>",right:a[l]});break;case 391:this.$=new o.Op({left:a[l-2],op:"<<",right:a[l]});break;case 392:this.$=new o.Op({left:a[l-2],op:"&",right:a[l]});break;case 393:this.$=new o.Op({left:a[l-2],op:"|",right:a[l]});break;case 394:case 395:case 397:this.$=new o.Op({left:a[l-2],op:"->",right:a[l]});break;case 396:this.$=new o.Op({left:a[l-4],op:"->",right:a[l-1]});break;case 398:case 399:case 401:this.$=new o.Op({left:a[l-2],op:"!",right:a[l]});break;case 400:this.$=new o.Op({left:a[l-4],op:"!",right:a[l-1]});break;case 402:this.$=new o.Op({left:a[l-2],op:">",right:a[l]});break;case 403:this.$=new o.Op({left:a[l-2],op:">=",right:a[l]});break;case 404:this.$=new o.Op({left:a[l-2],op:"<",right:a[l]});break;case 405:this.$=new o.Op({left:a[l-2],op:"<=",right:a[l]});break;case 406:this.$=new o.Op({left:a[l-2],op:"=",right:a[l]});break;case 407:this.$=new o.Op({left:a[l-2],op:"==",right:a[l]});break;case 408:this.$=new o.Op({left:a[l-2],op:"===",right:a[l]});break;case 409:this.$=new o.Op({left:a[l-2],op:"!=",right:a[l]});break;case 410:this.$=new o.Op({left:a[l-2],op:"!==",right:a[l]});break;case 411:this.$=new o.Op({left:a[l-2],op:"!===",right:a[l]});break;case 412:if(!o.queries)o.queries=[];this.$=new o.Op({left:a[l-5],op:a[l-4],allsome:a[l-3],right:a[l-1],queriesidx:o.queries.length});o.queries.push(a[l-1]);break;case 413:this.$=new o.Op({left:a[l-5],op:a[l-4],allsome:a[l-3],right:a[l-1]});break;case 414:if(a[l-2].op=="BETWEEN1"){if(a[l-2].left.op=="AND"){this.$=new o.Op({left:a[l-2].left.left,op:"AND",right:new o.Op({left:a[l-2].left.right,op:"BETWEEN",right1:a[l-2].right,right2:a[l]})})}else{this.$=new o.Op({left:a[l-2].left,op:"BETWEEN",right1:a[l-2].right,right2:a[l]})}}else if(a[l-2].op=="NOT BETWEEN1"){if(a[l-2].left.op=="AND"){this.$=new o.Op({left:a[l-2].left.left,op:"AND",right:new o.Op({left:a[l-2].left.right,op:"NOT BETWEEN",right1:a[l-2].right,right2:a[l]})})}else{this.$=new o.Op({left:a[l-2].left,op:"NOT BETWEEN",right1:a[l-2].right,right2:a[l]})}}else{this.$=new o.Op({left:a[l-2],op:"AND",right:a[l]})}break;case 415:this.$=new o.Op({left:a[l-2],op:"OR",right:a[l]});break;case 416:this.$=new o.UniOp({op:"NOT",right:a[l]});break;case 417:this.$=new o.UniOp({op:"-",right:a[l]});break;case 418:this.$=new o.UniOp({op:"+",right:a[l]});break;case 419:this.$=new o.UniOp({op:"~",right:a[l]});break;case 420:this.$=new o.UniOp({op:"#",right:a[l]});break;case 421:this.$=new o.UniOp({right:a[l-1]});break;case 422:if(!o.queries)o.queries=[];this.$=new o.Op({left:a[l-4],op:"IN",right:a[l-1],queriesidx:o.queries.length});o.queries.push(a[l-1]);break;case 423:if(!o.queries)o.queries=[];this.$=new o.Op({left:a[l-5],op:"NOT IN",right:a[l-1],queriesidx:o.queries.length});o.queries.push(a[l-1]);break;case 424:this.$=new o.Op({left:a[l-4],op:"IN",right:a[l-1]});break;case 425:this.$=new o.Op({left:a[l-5],op:"NOT IN",right:a[l-1]});break;case 426:this.$=new o.Op({left:a[l-3],op:"IN",right:[]});break;case 427:this.$=new o.Op({left:a[l-4],op:"NOT IN",right:[]});break;case 428:case 430:this.$=new o.Op({left:a[l-2],op:"IN",right:a[l]});break;case 429:case 431:this.$=new o.Op({left:a[l-3],op:"NOT IN",right:a[l]});break;case 432:this.$=new o.Op({left:a[l-2],op:"BETWEEN1",right:a[l]});break;case 433:this.$=new o.Op({left:a[l-2],op:"NOT BETWEEN1",right:a[l]});break;case 434:this.$=new o.Op({op:"IS",left:a[l-2],right:a[l]});break;case 435:this.$=new o.Op({op:"IS",left:a[l-2],right:new o.UniOp({op:"NOT",right:new o.NullValue({value:undefined})})});break;case 436:this.$=new o.Convert({expression:a[l-2]});o.extend(this.$,a[l]);break;case 437:case 438:this.$=a[l];break;case 439:this.$=a[l-1];break;case 446:this.$="ALL";break;case 447:this.$="SOME";break;case 448:this.$="ANY";break;case 449:this.$=new o.Update({table:a[l-4],columns:a[l-2],where:a[l]});break;case 450:this.$=new o.Update({table:a[l-2],columns:a[l]});break;case 453:this.$=new o.SetColumn({column:a[l-2],expression:a[l]});break;case 454:this.$=new o.SetColumn({variable:a[l-2],expression:a[l],method:a[l-3]});break;case 455:this.$=new o.Delete({table:a[l-2],where:a[l]});break;case 456:this.$=new o.Delete({table:a[l]});break;case 457:this.$=new o.Insert({into:a[l-2],values:a[l]});break;case 458:this.$=new o.Insert({into:a[l-1],values:a[l]});break;case 459:case 461:this.$=new o.Insert({into:a[l-2],values:a[l],orreplace:true});break;case 460:case 462:this.$=new o.Insert({into:a[l-1],values:a[l],orreplace:true});break;case 463:this.$=new o.Insert({into:a[l-2],default:true});break;case 464:this.$=new o.Insert({into:a[l-5],columns:a[l-3],values:a[l]});break;case 465:this.$=new o.Insert({into:a[l-4],columns:a[l-2],values:a[l]});break;case 466:this.$=new o.Insert({into:a[l-1],select:a[l]});break;case 467:this.$=new o.Insert({into:a[l-1],select:a[l],orreplace:true});break;case 468:this.$=new o.Insert({into:a[l-4],columns:a[l-2],select:a[l]});break;case 473:this.$=[a[l-1]];break;case 476:this.$=a[l-4];a[l-4].push(a[l-1]);break;case 477:case 478:case 480:case 488:this.$=a[l-2];a[l-2].push(a[l]);break;case 489:this.$=new o.CreateTable({table:a[l-4]});o.extend(this.$,a[l-7]);o.extend(this.$,a[l-6]);o.extend(this.$,a[l-5]);o.extend(this.$,a[l-2]);o.extend(this.$,a[l]);break;case 490:this.$=new o.CreateTable({table:a[l]});o.extend(this.$,a[l-3]);o.extend(this.$,a[l-2]);o.extend(this.$,a[l-1]);break;case 492:this.$={class:true};break;case 502:this.$={temporary:true};break;case 504:this.$={ifnotexists:true};break;case 505:this.$={columns:a[l-2],constraints:a[l]};break;case 506:this.$={columns:a[l]};break;case 507:this.$={as:a[l]};break;case 508:case 532:this.$=[a[l]];break;case 510:case 511:case 512:case 513:case 514:a[l].constraintid=a[l-1];this.$=a[l];break;case 517:this.$={type:"CHECK",expression:a[l-1]};break;case 518:this.$={type:"PRIMARY KEY",columns:a[l-1],clustered:(a[l-3]+"").toUpperCase()};break;case 519:this.$={type:"FOREIGN KEY",columns:a[l-5],fktable:a[l-2],fkcolumns:a[l-1]};break;case 525:this.$={type:"UNIQUE",columns:a[l-1],clustered:(a[l-3]+"").toUpperCase()};break;case 534:this.$=new o.ColumnDef({columnid:a[l-2]});o.extend(this.$,a[l-1]);o.extend(this.$,a[l]);break;case 535:this.$=new o.ColumnDef({columnid:a[l-1]});o.extend(this.$,a[l]);break;case 536:this.$=new o.ColumnDef({columnid:a[l],dbtypeid:""});break;case 537:this.$={dbtypeid:a[l-5],dbsize:a[l-3],dbprecision:+a[l-1]};break;case 538:this.$={dbtypeid:a[l-3],dbsize:a[l-1]};break;case 539:this.$={dbtypeid:a[l]};break;case 540:this.$={dbtypeid:"ENUM",enumvalues:a[l-1]};break;case 541:this.$=a[l-1];a[l-1].dbtypeid+="["+a[l]+"]";break;case 543:case 750:this.$=+a[l];break;case 545:this.$=undefined;break;case 547:o.extend(a[l-1],a[l]);this.$=a[l-1];break;case 550:this.$={primarykey:true};break;case 551:case 552:this.$={foreignkey:{table:a[l-1],columnid:a[l]}};break;case 553:this.$={identity:{value:a[l-3],step:a[l-1]}};break;case 554:this.$={identity:{value:1,step:1}};break;case 555:case 557:this.$={default:a[l]};break;case 556:this.$={default:a[l-1]};break;case 558:this.$={null:true};break;case 559:this.$={notnull:true};break;case 560:this.$={check:a[l]};break;case 561:this.$={unique:true};break;case 562:this.$={onupdate:a[l]};break;case 563:this.$={onupdate:a[l-1]};break;case 564:this.$=new o.DropTable({tables:a[l],type:a[l-2]});o.extend(this.$,a[l-1]);break;case 568:this.$={ifexists:true};break;case 569:this.$=new o.AlterTable({table:a[l-3],renameto:a[l]});break;case 570:this.$=new o.AlterTable({table:a[l-3],addcolumn:a[l]});break;case 571:this.$=new o.AlterTable({table:a[l-3],modifycolumn:a[l]});break;case 572:this.$=new o.AlterTable({table:a[l-5],renamecolumn:a[l-2],to:a[l]});break;case 573:this.$=new o.AlterTable({table:a[l-3],dropcolumn:a[l]});break;case 574:this.$=new o.AlterTable({table:a[l-2],renameto:a[l]});break;case 575:this.$=new o.AttachDatabase({databaseid:a[l],engineid:a[l-2].toUpperCase()});break;case 576:this.$=new o.AttachDatabase({databaseid:a[l-3],engineid:a[l-5].toUpperCase(),args:a[l-1]});break;case 577:this.$=new o.AttachDatabase({databaseid:a[l-2],engineid:a[l-4].toUpperCase(),as:a[l]});break;case 578:this.$=new o.AttachDatabase({databaseid:a[l-5],engineid:a[l-7].toUpperCase(),as:a[l],args:a[l-3]});break;case 579:this.$=new o.DetachDatabase({databaseid:a[l]});break;case 580:this.$=new o.CreateDatabase({databaseid:a[l]});o.extend(this.$,a[l]);break;case 581:this.$=new o.CreateDatabase({engineid:a[l-4].toUpperCase(),databaseid:a[l-1],as:a[l]});o.extend(this.$,a[l-2]);break;case 582:this.$=new o.CreateDatabase({engineid:a[l-7].toUpperCase(),databaseid:a[l-4],args:a[l-2],as:a[l]});o.extend(this.$,a[l-5]);break;case 583:this.$=new o.CreateDatabase({engineid:a[l-4].toUpperCase(),as:a[l],args:[a[l-1]]});o.extend(this.$,a[l-2]);break;case 584:this.$=undefined;break;case 586:case 587:this.$=new o.UseDatabase({databaseid:a[l]});break;case 588:this.$=new o.DropDatabase({databaseid:a[l]});o.extend(this.$,a[l-1]);break;case 589:case 590:this.$=new o.DropDatabase({databaseid:a[l],engineid:a[l-3].toUpperCase()});o.extend(this.$,a[l-1]);break;case 591:this.$=new o.CreateIndex({indexid:a[l-5],table:a[l-3],columns:a[l-1]});break;case 592:this.$=new o.CreateIndex({indexid:a[l-5],table:a[l-3],columns:a[l-1],unique:true});break;case 593:this.$=new o.DropIndex({indexid:a[l]});break;case 594:this.$=new o.ShowDatabases;break;case 595:this.$=new o.ShowDatabases({like:a[l]});break;case 596:this.$=new o.ShowDatabases({engineid:a[l-1].toUpperCase()});break;case 597:this.$=new o.ShowDatabases({engineid:a[l-3].toUpperCase(),like:a[l]});break;case 598:this.$=new o.ShowTables;break;case 599:this.$=new o.ShowTables({like:a[l]});break;case 600:this.$=new o.ShowTables({databaseid:a[l]});break;case 601:this.$=new o.ShowTables({like:a[l],databaseid:a[l-2]});break;case 602:this.$=new o.ShowColumns({table:a[l]});break;case 603:this.$=new o.ShowColumns({table:a[l-2],databaseid:a[l]});break;case 604:this.$=new o.ShowIndex({table:a[l]});break;case 605:this.$=new o.ShowIndex({table:a[l-2],databaseid:a[l]});break;case 606:this.$=new o.ShowCreateTable({table:a[l]});break;case 607:this.$=new o.ShowCreateTable({table:a[l-2],databaseid:a[l]});break;case 608:this.$=new o.CreateTable({table:a[l-6],view:true,select:a[l-1],viewcolumns:a[l-4]});o.extend(this.$,a[l-9]);o.extend(this.$,a[l-7]);break;case 609:this.$=new o.CreateTable({table:a[l-3],view:true,select:a[l-1]});o.extend(this.$,a[l-6]);o.extend(this.$,a[l-4]);break;case 613:this.$=new o.DropTable({tables:a[l],view:true});o.extend(this.$,a[l-1]);break;case 614:case 760:this.$=new o.ExpressionStatement({expression:a[l]});break;case 615:this.$=new o.Source({url:a[l].value});break;case 616:this.$=new o.Assert({value:a[l]});break;case 617:this.$=new o.Assert({value:a[l].value});break;case 618:this.$=new o.Assert({value:a[l],message:a[l-2]});break;case 620:case 631:case 633:this.$=a[l].value;break;case 621:case 629:this.$=+a[l].value;break;case 622:this.$=!!a[l].value;break;case 630:this.$=""+a[l].value;break;case 639:this.$={};break;case 642:this.$=[];break;case 643:o.extend(a[l-2],a[l]);this.$=a[l-2];break;case 645:this.$={};this.$[a[l-2].substr(1,a[l-2].length-2)]=a[l];break;case 646:case 647:this.$={};this.$[a[l-2]]=a[l];break;case 650:this.$=new o.SetVariable({variable:a[l-2].toLowerCase(),value:a[l]});break;case 651:this.$=new o.SetVariable({variable:a[l-1].toLowerCase(),value:a[l]});break;case 652:this.$=new o.SetVariable({variable:a[l-2],expression:a[l]});break;case 653:this.$=new o.SetVariable({variable:a[l-3],props:a[l-2],expression:a[l]});break;case 654:this.$=new o.SetVariable({variable:a[l-2],expression:a[l],method:a[l-3]});break;case 655:this.$=new o.SetVariable({variable:a[l-3],props:a[l-2],expression:a[l],method:a[l-4]});break;case 656:this.$="@";break;case 657:this.$="$";break;case 663:this.$=true;break;case 664:this.$=false;break;case 665:this.$=new o.CommitTransaction;break;case 666:this.$=new o.RollbackTransaction;break;case 667:this.$=new o.BeginTransaction;break;case 668:this.$=new o.If({expression:a[l-2],thenstat:a[l-1],elsestat:a[l]});if(a[l-1].exists)this.$.exists=a[l-1].exists;if(a[l-1].queries)this.$.queries=a[l-1].queries;break;case 669:this.$=new o.If({expression:a[l-1],thenstat:a[l]});if(a[l].exists)this.$.exists=a[l].exists;if(a[l].queries)this.$.queries=a[l].queries;break;case 670:this.$=a[l];break;case 671:this.$=new o.While({expression:a[l-1],loopstat:a[l]});if(a[l].exists)this.$.exists=a[l].exists;if(a[l].queries)this.$.queries=a[l].queries;break;case 672:this.$=new o.Continue;break;case 673:this.$=new o.Break;break;case 674:this.$=new o.BeginEnd({statements:a[l-1]});break;case 675:this.$=new o.Print({exprs:a[l]});break;case 676:this.$=new o.Print({select:a[l]});break;case 677:this.$=new o.Require({paths:a[l]});break;case 678:this.$=new o.Require({plugins:a[l]});break;case 679:case 680:this.$=a[l].toUpperCase();break;case 681:this.$=new o.Echo({expr:a[l]});break;case 686:this.$=new o.Declare({declares:a[l]});break;case 689:this.$={variable:a[l-1]};o.extend(this.$,a[l]);break;case 690:this.$={variable:a[l-2]};o.extend(this.$,a[l]);break;case 691:this.$={variable:a[l-3],expression:a[l]};o.extend(this.$,a[l-2]);break;case 692:this.$={variable:a[l-4],expression:a[l]};o.extend(this.$,a[l-2]);break;case 693:this.$=new o.TruncateTable({table:a[l]});break;case 694:this.$=new o.Merge;o.extend(this.$,a[l-4]);o.extend(this.$,a[l-3]);o.extend(this.$,a[l-2]);o.extend(this.$,{matches:a[l-1]});o.extend(this.$,a[l]);break;case 695:case 696:this.$={into:a[l]};break;case 698:this.$={on:a[l]};break;case 703:this.$={matched:true,action:a[l]};break;case 704:this.$={matched:true,expr:a[l-2],action:a[l]};break;case 705:this.$={delete:true};break;case 706:this.$={update:a[l]};break;case 707:case 708:this.$={matched:false,bytarget:true,action:a[l]};break;case 709:case 710:this.$={matched:false,bytarget:true,expr:a[l-2],action:a[l]};break;case 711:this.$={matched:false,bysource:true,action:a[l]};break;case 712:this.$={matched:false,bysource:true,expr:a[l-2],action:a[l]};break;case 713:this.$={insert:true,values:a[l]};break;case 714:this.$={insert:true,values:a[l],columns:a[l-3]};break;case 715:this.$={insert:true,defaultvalues:true};break;case 716:this.$={insert:true,defaultvalues:true,columns:a[l-3]};break;case 718:this.$={output:{columns:a[l]}};break;case 719:this.$={output:{columns:a[l-3],intovar:a[l],method:a[l-1]}};break;case 720:this.$={output:{columns:a[l-2],intotable:a[l]}};break;case 721:this.$={output:{columns:a[l-5],intotable:a[l-3],intocolumns:a[l-1]}};break;case 722:this.$=new o.CreateVertex({class:a[l-3],sharp:a[l-2],name:a[l-1]});o.extend(this.$,a[l]);break;case 725:this.$={sets:a[l]};break;case 726:this.$={content:a[l]};break;case 727:this.$={select:a[l]};break;case 728:this.$=new o.CreateEdge({from:a[l-3],to:a[l-1],name:a[l-5]});o.extend(this.$,a[l]);break;case 729:this.$=new o.CreateGraph({graph:a[l]});break;case 730:this.$=new o.CreateGraph({from:a[l]});break;case 733:this.$=a[l-2];if(a[l-1])this.$.json=new o.Json({value:a[l-1]});if(a[l])this.$.as=a[l];break;case 734:this.$={source:a[l-6],target:a[l]};if(a[l-3])this.$.json=new o.Json({value:a[l-3]});if(a[l-2])this.$.as=a[l-2];o.extend(this.$,a[l-4]);break;case 735:this.$={source:a[l-5],target:a[l]};if(a[l-2])this.$.json=new o.Json({value:a[l-3]});if(a[l-1])this.$.as=a[l-2];break;case 736:this.$={source:a[l-2],target:a[l]};break;case 740:this.$={vars:a[l],method:a[l-1]};break;case 743:case 744:var y=a[l-1];this.$={prop:a[l-3],sharp:a[l-2],name:typeof y=="undefined"?undefined:y.substr(1,y.length-2),class:a[l]};break;case 745:var b=a[l-1];this.$={sharp:a[l-2],name:typeof b=="undefined"?undefined:b.substr(1,b.length-2),class:a[l]};break;case 746:var x=a[l-1];this.$={name:typeof x=="undefined"?undefined:x.substr(1,x.length-2),class:a[l]};break;case 747:this.$={class:a[l]};break;case 753:this.$=new o.AddRule({left:a[l-2],right:a[l]});break;case 754:this.$=new o.AddRule({right:a[l]});break;case 757:this.$=new o.Term({termid:a[l]});break;case 758:this.$=new o.Term({termid:a[l-3],args:a[l-1]});break;case 761:this.$=new o.CreateTrigger({trigger:a[l-6],when:a[l-5],action:a[l-4],table:a[l-2],statement:a[l]});if(a[l].exists)this.$.exists=a[l].exists;if(a[l].queries)this.$.queries=a[l].queries;break;case 762:this.$=new o.CreateTrigger({trigger:a[l-5],when:a[l-4],action:a[l-3],table:a[l-1],funcid:a[l]});break;case 763:this.$=new o.CreateTrigger({trigger:a[l-6],when:a[l-4],action:a[l-3],table:a[l-5],statement:a[l]});if(a[l].exists)this.$.exists=a[l].exists;if(a[l].queries)this.$.queries=a[l].queries;break;case 764:case 765:case 767:this.$="AFTER";break;case 766:this.$="BEFORE";break;case 768:this.$="INSTEADOF";break;case 769:this.$="INSERT";break;case 770:this.$="DELETE";break;case 771:this.$="UPDATE";break;case 772:this.$=new o.DropTrigger({trigger:a[l]});break;case 773:this.$=new o.Reindex({indexid:a[l]});break;case 1047:case 1067:case 1069:case 1071:case 1075:case 1077:case 1079:case 1081:case 1083:case 1085:this.$=[];break;case 1048:case 1062:case 1064:case 1068:case 1070:case 1072:case 1076:case 1078:case 1080:case 1082:case 1084:case 1086:a[l-1].push(a[l]);break;case 1061:case 1063:this.$=[a[l]];break}},table:[t([10,602,764],e,{8:1,9:2,12:3,13:4,17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,504:95,184:99,3:100,2:i,4:r,5:o,14:s,53:a,72:u,89:l,124:c,146:h,156:p,189:d,266:g,267:m,290:v,335:y,338:b,339:x,396:_,400:E,401:w,404:T,406:S,408:A,409:I,417:C,418:L,434:M,436:N,437:R,439:O,440:D,441:P,442:k,443:z,447:F,448:j,451:B,452:U,505:G,507:V,508:q,517:Y}),{1:[3]},{10:[1,105],11:106,602:X,764:W},t(Z,[2,8]),t(Z,[2,9]),t(H,[2,12]),t(Z,e,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,504:95,184:99,3:100,12:109,2:i,4:r,5:o,15:[1,110],53:a,72:u,89:l,124:c,146:h,156:p,189:d,266:g,267:m,290:v,335:y,338:b,339:x,396:_,400:E,401:w,404:T,406:S,408:A,409:I,417:C,418:L,434:M,436:N,437:R,439:O,440:D,441:P,442:k,443:z,447:F,448:j,451:B,452:U,505:G,507:V,508:q,517:Y}),t(H,[2,14]),t(H,[2,15]),t(H,[2,16]),t(H,[2,17]),t(H,[2,18]),t(H,[2,19]),t(H,[2,20]),t(H,[2,21]),t(H,[2,22]),t(H,[2,23]),t(H,[2,24]),t(H,[2,25]),t(H,[2,26]),t(H,[2,27]),t(H,[2,28]),t(H,[2,29]),t(H,[2,30]),t(H,[2,31]),t(H,[2,32]),t(H,[2,33]),t(H,[2,34]),t(H,[2,35]),t(H,[2,36]),t(H,[2,37]),t(H,[2,38]),t(H,[2,39]),t(H,[2,40]),t(H,[2,41]),t(H,[2,42]),t(H,[2,43]),t(H,[2,44]),t(H,[2,45]),t(H,[2,46]),t(H,[2,47]),t(H,[2,48]),t(H,[2,49]),t(H,[2,50]),t(H,[2,51]),t(H,[2,52]),t(H,[2,53]),t(H,[2,54]),t(H,[2,55]),t(H,[2,56]),t(H,[2,57]),t(H,[2,58]),t(H,[2,59]),t(H,[2,60]),t(H,[2,61]),t(H,[2,62]),t(H,[2,63]),t(H,[2,64]),t(H,[2,65]),t(H,[2,66]),t(H,[2,67]),{353:[1,111]},{2:i,3:112,4:r,5:o},{2:i,3:114,4:r,5:o,156:$,200:113,290:J,291:Q,292:K,293:tt},t(et,[2,501],{3:121,348:125,2:i,4:r,5:o,134:nt,135:it,187:[1,123],193:[1,122],268:[1,129],269:[1,130],357:[1,131],405:[1,120],472:[1,124],509:[1,128]}),{145:rt,449:132,450:133},{183:[1,135]},{405:[1,136]},{2:i,3:138,4:r,5:o,130:[1,144],193:[1,139],353:[1,143],397:140,405:[1,137],410:[1,141],509:[1,142]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:145,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(Gt,Vt,{340:204,171:[1,205],198:qt}),t(Gt,Vt,{340:207,198:qt}),{2:i,3:219,4:r,5:o,77:Yt,132:Xt,143:lt,144:212,145:ct,152:ft,156:$,181:mt,198:[1,210],199:213,200:215,201:214,202:217,209:209,213:Wt,214:218,290:J,291:Q,292:K,293:tt,302:kt,419:190,420:Bt,424:Ut,453:208},{2:i,3:221,4:r,5:o},{353:[1,222]},t(Zt,[2,1043],{80:223,106:224,107:[1,225]}),t(Ht,[2,1047],{90:226}),{2:i,3:230,4:r,5:o,190:[1,228],193:[1,231],267:[1,227],353:[1,232],405:[1,229]},{353:[1,233]},{2:i,3:236,4:r,5:o,73:234,75:235},t([306,602,764],e,{12:3,13:4,17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,504:95,184:99,3:100,9:238,2:i,4:r,5:o,14:s,53:a,72:u,89:l,124:c,146:h,156:p,189:d,266:g,267:m,290:v,335:y,338:b,339:x,396:_,400:E,401:w,404:T,406:S,408:A,409:I,417:C,418:L,434:M,435:[1,237],436:N,437:R,439:O,440:D,441:P,442:k,443:z,447:F,448:j,451:B,452:U,505:G,507:V,508:q,517:Y}),{435:[1,239]},{435:[1,240]},{2:i,3:242,4:r,5:o,405:[1,241]},{2:i,3:244,4:r,5:o,199:243},t($t,[2,311]),{113:245,132:at,296:Rt},{2:i,3:114,4:r,5:o,113:251,131:st,132:[1,248],143:lt,144:246,145:Jt,152:ft,156:$,181:mt,196:250,200:255,201:254,257:252,258:253,265:Qt,274:247,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,302:kt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:257,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(H,[2,672]),t(H,[2,673]),{2:i,3:168,4:r,5:o,40:259,56:165,77:ot,79:75,89:l,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:258,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,184:99,189:d,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:266,4:r,5:o,113:263,132:at,296:Rt,444:261,445:262,446:264,447:Kt},{2:i,3:267,4:r,5:o,143:te,145:ee,431:268},{2:i,3:168,4:r,5:o,56:165,77:ot,94:271,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{505:[1,272]},{2:i,3:100,4:r,5:o,504:274,506:273},{2:i,3:114,4:r,5:o,156:$,200:275,290:J,291:Q,292:K,293:tt},{2:i,3:168,4:r,5:o,56:165,77:ot,94:276,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(ne,ie,{186:280,164:[1,279],185:[1,277],187:[1,278],195:re}),t(oe,[2,757],{77:[1,282]}),t([2,4,5,10,72,77,78,93,98,107,118,128,131,132,137,143,145,152,154,156,162,164,168,169,179,180,181,183,185,187,195,198,232,245,247,265,266,270,271,273,280,281,282,283,284,285,286,287,288,290,291,292,293,294,295,296,297,298,299,302,303,306,310,312,317,420,424,602,764],[2,152],{149:[1,283],150:[1,284],190:[1,285],191:[1,286],192:[1,287],193:[1,288],194:[1,289]}),t(se,[2,1]),t(se,[2,2]),{6:290,131:[1,439],172:[1,462],245:[1,411],285:[1,373],286:[1,407],370:[1,404],381:[1,295],402:[1,297],410:[1,549],414:[1,471],416:[1,443],417:[1,509],433:[1,442],435:[1,525],440:[1,342],460:[1,418],464:[1,448],470:[1,341],514:[1,307],515:[1,299],516:[1,399],518:[1,291],519:[1,292],520:[1,293],521:[1,294],522:[1,296],523:[1,298],524:[1,300],525:[1,301],526:[1,302],527:[1,303],528:[1,304],529:[1,305],530:[1,306],531:[1,308],532:[1,309],533:[1,310],534:[1,311],535:[1,312],536:[1,313],537:[1,314],538:[1,315],539:[1,316],540:[1,317],541:[1,318],542:[1,319],543:[1,320],544:[1,321],545:[1,322],546:[1,323],547:[1,324],548:[1,325],549:[1,326],550:[1,327],551:[1,328],552:[1,329],553:[1,330],554:[1,331],555:[1,332],556:[1,333],557:[1,334],558:[1,335],559:[1,336],560:[1,337],561:[1,338],562:[1,339],563:[1,340],564:[1,343],565:[1,344],566:[1,345],567:[1,346],568:[1,347],569:[1,348],570:[1,349],571:[1,350],572:[1,351],573:[1,352],574:[1,353],575:[1,354],576:[1,355],577:[1,356],578:[1,357],579:[1,358],580:[1,359],581:[1,360],582:[1,361],583:[1,362],584:[1,363],585:[1,364],586:[1,365],587:[1,366],588:[1,367],589:[1,368],590:[1,369],591:[1,370],592:[1,371],593:[1,372],594:[1,374],595:[1,375],596:[1,376],597:[1,377],598:[1,378],599:[1,379],600:[1,380],601:[1,381],602:[1,382],603:[1,383],604:[1,384],605:[1,385],606:[1,386],607:[1,387],608:[1,388],609:[1,389],610:[1,390],611:[1,391],612:[1,392],613:[1,393],614:[1,394],615:[1,395],616:[1,396],617:[1,397],618:[1,398],619:[1,400],620:[1,401],621:[1,402],622:[1,403],623:[1,405],624:[1,406],625:[1,408],626:[1,409],627:[1,410],628:[1,412],629:[1,413],630:[1,414],631:[1,415],632:[1,416],633:[1,417],634:[1,419],635:[1,420],636:[1,421],637:[1,422],638:[1,423],639:[1,424],640:[1,425],641:[1,426],642:[1,427],643:[1,428],644:[1,429],645:[1,430],646:[1,431],647:[1,432],648:[1,433],649:[1,434],650:[1,435],651:[1,436],652:[1,437],653:[1,438],654:[1,440],655:[1,441],656:[1,444],657:[1,445],658:[1,446],659:[1,447],660:[1,449],661:[1,450],662:[1,451],663:[1,452],664:[1,453],665:[1,454],666:[1,455],667:[1,456],668:[1,457],669:[1,458],670:[1,459],671:[1,460],672:[1,461],673:[1,463],674:[1,464],675:[1,465],676:[1,466],677:[1,467],678:[1,468],679:[1,469],680:[1,470],681:[1,472],682:[1,473],683:[1,474],684:[1,475],685:[1,476],686:[1,477],687:[1,478],688:[1,479],689:[1,480],690:[1,481],691:[1,482],692:[1,483],693:[1,484],694:[1,485],695:[1,486],696:[1,487],697:[1,488],698:[1,489],699:[1,490],700:[1,491],701:[1,492],702:[1,493],703:[1,494],704:[1,495],705:[1,496],706:[1,497],707:[1,498],708:[1,499],709:[1,500],710:[1,501],711:[1,502],712:[1,503],713:[1,504],714:[1,505],715:[1,506],716:[1,507],717:[1,508],718:[1,510],719:[1,511],720:[1,512],721:[1,513],722:[1,514],723:[1,515],724:[1,516],725:[1,517],726:[1,518],727:[1,519],728:[1,520],729:[1,521],730:[1,522],731:[1,523],732:[1,524],733:[1,526],734:[1,527],735:[1,528],736:[1,529],737:[1,530],738:[1,531],739:[1,532],740:[1,533],741:[1,534],742:[1,535],743:[1,536],744:[1,537],745:[1,538],746:[1,539],747:[1,540],748:[1,541],749:[1,542],750:[1,543],751:[1,544],752:[1,545],753:[1,546],754:[1,547],755:[1,548],756:[1,550],757:[1,551],758:[1,552],759:[1,553],760:[1,554],761:[1,555],762:[1,556],763:[1,557]},{1:[2,6]},t(Z,e,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,504:95,184:99,3:100,12:558,2:i,4:r,5:o,53:a,72:u,89:l,124:c,146:h,156:p,189:d,266:g,267:m,290:v,335:y,338:b,339:x,396:_,400:E,401:w,404:T,406:S,408:A,409:I,417:C,418:L,434:M,436:N,437:R,439:O,440:D,441:P,442:k,443:z,447:F,448:j,451:B,452:U,505:G,507:V,508:q,517:Y}),t(ae,[2,1041]),t(ae,[2,1042]),t(Z,[2,10]),{16:[1,559]},{2:i,3:244,4:r,5:o,199:560},{405:[1,561]},t(H,[2,760]),{77:ue},{77:[1,563]},{77:le},{77:[1,565]},{77:[1,566]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:567,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(Gt,ce,{350:568,156:he}),{405:[1,570]},{2:i,3:571,4:r,5:o},{193:[1,572]},{2:i,3:578,4:r,5:o,132:fe,137:pe,143:te,145:ee,152:de,183:[1,574],431:585,473:573,474:575,475:576,478:577,482:582,493:579,497:581},{130:[1,589],349:586,353:[1,588],410:[1,587]},{113:591,132:at,183:[2,1141],296:Rt,471:590},t(ge,[2,1135],{465:592,3:593,2:i,4:r,5:o}),{2:i,3:594,4:r,5:o},{4:[1,595]},{4:[1,596]},t(et,[2,502]),t(H,[2,686],{74:[1,597]}),t(me,[2,687]),{2:i,3:598,4:r,5:o},{2:i,3:244,4:r,5:o,199:599},{2:i,3:600,4:r,5:o},t(Gt,ve,{398:601,156:ye}),{405:[1,603]},{2:i,3:604,4:r,5:o},t(Gt,ve,{398:605,156:ye}),t(Gt,ve,{398:606,156:ye}),{2:i,3:607,4:r,5:o},t(be,[2,1129]),t(be,[2,1130]),t(H,e,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,504:95,184:99,3:100,12:608,114:625,327:637,2:i,4:r,5:o,53:a,72:u,89:l,99:xe,112:_e,115:Ee,116:we,123:Te,124:Se,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,146:h,154:Oe,156:p,170:De,171:Pe,179:ke,180:ze,189:d,266:g,267:m,290:v,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn,335:y,338:b,339:x,396:_,400:E,401:w,404:T,406:S,408:A,409:I,417:C,418:L,434:M,436:N,437:R,439:O,440:D,441:P,442:k,443:z,447:F,448:j,451:B,452:U,505:G,507:V,508:q,517:Y}),t($t,[2,288]),t($t,[2,289]),t($t,[2,290]),t($t,[2,291]),t($t,[2,292]),t($t,[2,293]),t($t,[2,294]),t($t,[2,295]),t($t,[2,296]),t($t,[2,297]),t($t,[2,298]),t($t,[2,299]),t($t,[2,300]),t($t,[2,301]),t($t,[2,302]),t($t,[2,303]),t($t,[2,304]),t($t,[2,305]),{2:i,3:168,4:r,5:o,26:654,27:653,36:649,40:648,56:165,77:ot,79:75,89:l,94:651,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,184:99,189:d,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,264:650,265:vt,266:g,267:[1,655],270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:[1,652],291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,339:x,419:190,420:Bt,424:Ut},t($t,[2,309]),t($t,[2,310]),{77:[1,656]},t([2,4,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],rn,{77:ue,116:[1,657]}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:658,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:659,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:660,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:661,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:662,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t($t,[2,283]),t([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,231,232,239,242,243,245,247,249,265,266,267,270,271,273,280,281,282,283,284,285,286,287,288,290,291,292,293,294,295,296,297,298,299,300,302,303,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,343,356,368,369,373,374,396,400,401,404,406,408,409,415,417,418,420,424,426,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764,765,766],[2,356]),t(on,[2,357]),t(on,[2,358]),t(on,sn),t(on,[2,360]),t([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,297,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,343,356,368,369,373,374,396,400,401,404,406,408,409,417,418,420,424,426,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],[2,361]),{2:i,3:664,4:r,5:o,131:[1,665],301:663},{2:i,3:666,4:r,5:o},t(on,[2,367]),t(on,[2,368]),{2:i,3:667,4:r,5:o,77:an,113:669,131:st,132:at,143:lt,152:ft,181:mt,196:670,201:672,257:671,294:Mt,295:Nt,296:Rt,302:kt,419:673,424:Ut},{77:[1,674]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:675,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,304:676,307:677,308:un,312:Ft,317:jt,419:190,420:Bt,424:Ut},{77:[1,679]},{77:[1,680]},t(ln,[2,624]),{2:i,3:695,4:r,5:o,77:cn,111:690,113:688,131:st,132:at,143:lt,144:685,145:Jt,152:ft,156:$,181:mt,196:687,200:693,201:692,257:689,258:691,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,300:[1,683],302:kt,419:190,420:Bt,421:681,422:684,423:686,424:Ut,427:682},{2:i,3:168,4:r,5:o,56:165,77:ot,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:696,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:697,4:r,5:o,156:$,200:698,290:J,291:Q,292:K,293:tt},{77:[2,336]},{77:[2,337]},{77:[2,338]},{77:[2,339]},{77:[2,340]},{77:[2,341]},{77:[2,342]},{77:[2,343]},{77:[2,344]},{2:i,3:704,4:r,5:o,131:hn,132:fn,425:699,426:[1,700],428:701},{2:i,3:244,4:r,5:o,199:705},{290:[1,706]},t(Gt,[2,472]),{2:i,3:244,4:r,5:o,199:707},{231:[1,709],454:708},{231:[2,695]},{2:i,3:219,4:r,5:o,77:Yt,132:Xt,143:lt,144:212,145:ct,152:ft,156:$,181:mt,199:213,200:215,201:214,202:217,209:710,213:Wt,214:218,290:J,291:Q,292:K,293:tt,302:kt,419:190,420:Bt,424:Ut},{40:711,79:75,89:l,184:99,189:d},t(pn,[2,1091],{210:712,76:[1,713]}),t(dn,[2,185],{3:714,2:i,4:r,5:o,76:[1,715],154:[1,716]}),t(dn,[2,189],{3:717,2:i,4:r,5:o,76:[1,718]}),t(dn,[2,190],{3:719,2:i,4:r,5:o,76:[1,720]}),t(dn,[2,193]),t(dn,[2,194],{3:721,2:i,4:r,5:o,76:[1,722]}),t(dn,[2,197],{3:723,2:i,4:r,5:o,76:[1,724]}),t([2,4,5,10,72,74,76,78,93,98,118,128,154,162,168,169,183,206,208,222,223,224,225,226,227,228,229,230,231,232,245,247,306,310,602,764],gn,{77:ue,116:mn}),t([2,4,5,10,72,74,76,78,93,98,118,128,162,168,169,206,208,222,223,224,225,226,227,228,229,230,231,232,245,247,306,310,602,764],[2,200]),t(H,[2,773]),{2:i,3:244,4:r,5:o,199:726},t(vn,yn,{81:727,198:bn}),t(Zt,[2,1044]),t(xn,[2,1057],{108:729,190:[1,730]}),t([10,78,183,306,310,602,764],yn,{419:190,81:731,117:732,3:733,114:736,144:758,158:768,160:769,2:i,4:r,5:o,72:_n,76:En,77:wn,112:Tn,115:Ee,116:we,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,198:bn,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,420:Bt,424:Ut}),{353:[1,782]},{183:[1,783]},t(H,[2,594],{112:[1,784]}),{405:[1,785]},{183:[1,786]},t(H,[2,598],{112:[1,787],183:[1,788]}),{2:i,3:244,4:r,5:o,199:789},{40:790,74:[1,791],79:75,89:l,184:99,189:d},t(hi,[2,70]),{76:[1,792]},t(H,[2,667]),{11:106,306:[1,793],602:X,764:W},t(H,[2,665]),t(H,[2,666]),{2:i,3:794,4:r,5:o},t(H,[2,587]),{146:[1,795]},t([2,4,5,10,53,72,74,76,77,78,89,95,124,128,143,145,146,148,149,152,154,156,181,183,187,189,230,266,267,290,297,302,306,310,335,338,339,343,344,356,368,369,373,374,396,400,401,402,403,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,505,507,508,514,515,516,517,602,764],gn,{116:mn}),t(H,[2,615]),t(H,[2,616]),t(H,[2,617]),t(H,sn,{74:[1,796]}),{77:an,113:669,131:st,132:at,143:lt,152:ft,181:mt,196:670,201:672,257:671,294:Mt,295:Nt,296:Rt,302:kt,419:673,424:Ut},t(fi,[2,320]),t(fi,[2,321]),t(fi,[2,322]),t(fi,[2,323]),t(fi,[2,324]),t(fi,[2,325]),t(fi,[2,326]),t(H,e,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,504:95,184:99,3:100,114:625,327:637,12:797,2:i,4:r,5:o,53:a,72:u,89:l,99:xe,112:_e,115:Ee,116:we,123:Te,124:Se,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,146:h,154:Oe,156:p,170:De,171:Pe,179:ke,180:ze,189:d,266:g,267:m,290:v,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn,335:y,338:b,339:x,396:_,400:E,401:w,404:T,406:S,408:A,409:I,417:C,418:L,434:M,436:N,437:R,439:O,440:D,441:P,442:k,443:z,447:F,448:j,451:B,452:U,505:G,507:V,508:q,517:Y}),t(H,[2,675],{74:pi}),t(H,[2,676]),t(di,[2,354],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(H,[2,677],{74:[1,800]}),t(H,[2,678],{74:[1,801]}),t(me,[2,683]),t(me,[2,685]),t(me,[2,679]),t(me,[2,680]),{114:807,115:Ee,116:we,124:[1,802],230:mi,429:803,430:804,433:vi},{2:i,3:808,4:r,5:o},t(Gt,[2,656]),t(Gt,[2,657]),t(H,[2,614],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{2:i,3:100,4:r,5:o,504:274,506:809},t(H,[2,754],{74:yi}),t(bi,[2,756]),t(H,[2,759]),t(H,[2,681],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(xi,ie,{186:811,195:re}),t(xi,ie,{186:812,195:re}),t(xi,ie,{186:813,195:re}),t(_i,[2,1087],{255:146,200:147,256:148,111:149,254:150,196:151,257:152,113:153,258:154,201:155,202:156,259:157,260:158,261:159,144:161,262:162,263:163,56:165,158:167,3:168,419:190,188:814,174:815,253:816,94:817,2:i,4:r,5:o,77:ot,131:st,132:at,137:ut,143:lt,145:ct,149:ht,152:ft,154:pt,156:$,179:dt,180:gt,181:mt,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,420:Bt,424:Ut}),{77:[1,819],131:st,196:818},{2:i,3:100,4:r,5:o,504:274,506:820},t(Ei,[2,153]),t(Ei,[2,154]),t(Ei,[2,155]),t(Ei,[2,156]),t(Ei,[2,157]),t(Ei,[2,158]),t(Ei,[2,159]),t(se,[2,3]),t(se,[2,774]),t(se,[2,775]),t(se,[2,776]),t(se,[2,777]),t(se,[2,778]),t(se,[2,779]),t(se,[2,780]),t(se,[2,781]),t(se,[2,782]),t(se,[2,783]),t(se,[2,784]),t(se,[2,785]),t(se,[2,786]),t(se,[2,787]),t(se,[2,788]),t(se,[2,789]),t(se,[2,790]),t(se,[2,791]),t(se,[2,792]),t(se,[2,793]),t(se,[2,794]),t(se,[2,795]),t(se,[2,796]),t(se,[2,797]),t(se,[2,798]),t(se,[2,799]),t(se,[2,800]),t(se,[2,801]),t(se,[2,802]),t(se,[2,803]),t(se,[2,804]),t(se,[2,805]),t(se,[2,806]),t(se,[2,807]),t(se,[2,808]),t(se,[2,809]),t(se,[2,810]),t(se,[2,811]),t(se,[2,812]),t(se,[2,813]),t(se,[2,814]),t(se,[2,815]),t(se,[2,816]),t(se,[2,817]),t(se,[2,818]),t(se,[2,819]),t(se,[2,820]),t(se,[2,821]),t(se,[2,822]),t(se,[2,823]),t(se,[2,824]),t(se,[2,825]),t(se,[2,826]),t(se,[2,827]),t(se,[2,828]),t(se,[2,829]),t(se,[2,830]),t(se,[2,831]),t(se,[2,832]),t(se,[2,833]),t(se,[2,834]),t(se,[2,835]),t(se,[2,836]),t(se,[2,837]),t(se,[2,838]),t(se,[2,839]),t(se,[2,840]),t(se,[2,841]),t(se,[2,842]),t(se,[2,843]),t(se,[2,844]),t(se,[2,845]),t(se,[2,846]),t(se,[2,847]),t(se,[2,848]),t(se,[2,849]),t(se,[2,850]),t(se,[2,851]),t(se,[2,852]),t(se,[2,853]),t(se,[2,854]),t(se,[2,855]),t(se,[2,856]),t(se,[2,857]),t(se,[2,858]),t(se,[2,859]),t(se,[2,860]),t(se,[2,861]),t(se,[2,862]),t(se,[2,863]),t(se,[2,864]),t(se,[2,865]),t(se,[2,866]),t(se,[2,867]),t(se,[2,868]),t(se,[2,869]),t(se,[2,870]),t(se,[2,871]),t(se,[2,872]),t(se,[2,873]),t(se,[2,874]),t(se,[2,875]),t(se,[2,876]),t(se,[2,877]),t(se,[2,878]),t(se,[2,879]),t(se,[2,880]),t(se,[2,881]),t(se,[2,882]),t(se,[2,883]),t(se,[2,884]),t(se,[2,885]),t(se,[2,886]),t(se,[2,887]),t(se,[2,888]),t(se,[2,889]),t(se,[2,890]),t(se,[2,891]),t(se,[2,892]),t(se,[2,893]),t(se,[2,894]),t(se,[2,895]),t(se,[2,896]),t(se,[2,897]),t(se,[2,898]),t(se,[2,899]),t(se,[2,900]),t(se,[2,901]),t(se,[2,902]),t(se,[2,903]),t(se,[2,904]),t(se,[2,905]),t(se,[2,906]),t(se,[2,907]),t(se,[2,908]),t(se,[2,909]),t(se,[2,910]),t(se,[2,911]),t(se,[2,912]),t(se,[2,913]),t(se,[2,914]),t(se,[2,915]),t(se,[2,916]),t(se,[2,917]),t(se,[2,918]),t(se,[2,919]),t(se,[2,920]),t(se,[2,921]),t(se,[2,922]),t(se,[2,923]),t(se,[2,924]),t(se,[2,925]),t(se,[2,926]),t(se,[2,927]),t(se,[2,928]),t(se,[2,929]),t(se,[2,930]),t(se,[2,931]),t(se,[2,932]),t(se,[2,933]),t(se,[2,934]),t(se,[2,935]),t(se,[2,936]),t(se,[2,937]),t(se,[2,938]),t(se,[2,939]),t(se,[2,940]),t(se,[2,941]),t(se,[2,942]),t(se,[2,943]),t(se,[2,944]),t(se,[2,945]),t(se,[2,946]),t(se,[2,947]),t(se,[2,948]),t(se,[2,949]),t(se,[2,950]),t(se,[2,951]),t(se,[2,952]),t(se,[2,953]),t(se,[2,954]),t(se,[2,955]),t(se,[2,956]),t(se,[2,957]),t(se,[2,958]),t(se,[2,959]),t(se,[2,960]),t(se,[2,961]),t(se,[2,962]),t(se,[2,963]),t(se,[2,964]),t(se,[2,965]),t(se,[2,966]),t(se,[2,967]),t(se,[2,968]),t(se,[2,969]),t(se,[2,970]),t(se,[2,971]),t(se,[2,972]),t(se,[2,973]),t(se,[2,974]),t(se,[2,975]),t(se,[2,976]),t(se,[2,977]),t(se,[2,978]),t(se,[2,979]),t(se,[2,980]),t(se,[2,981]),t(se,[2,982]),t(se,[2,983]),t(se,[2,984]),t(se,[2,985]),t(se,[2,986]),t(se,[2,987]),t(se,[2,988]),t(se,[2,989]),t(se,[2,990]),t(se,[2,991]),t(se,[2,992]),t(se,[2,993]),t(se,[2,994]),t(se,[2,995]),t(se,[2,996]),t(se,[2,997]),t(se,[2,998]),t(se,[2,999]),t(se,[2,1e3]),t(se,[2,1001]),t(se,[2,1002]),t(se,[2,1003]),t(se,[2,1004]),t(se,[2,1005]),t(se,[2,1006]),t(se,[2,1007]),t(se,[2,1008]),t(se,[2,1009]),t(se,[2,1010]),t(se,[2,1011]),t(se,[2,1012]),t(se,[2,1013]),t(se,[2,1014]),t(se,[2,1015]),t(se,[2,1016]),t(se,[2,1017]),t(se,[2,1018]),t(se,[2,1019]),t(se,[2,1020]),t(se,[2,1021]),t(se,[2,1022]),t(se,[2,1023]),t(se,[2,1024]),t(se,[2,1025]),t(se,[2,1026]),t(se,[2,1027]),t(se,[2,1028]),t(se,[2,1029]),t(se,[2,1030]),t(se,[2,1031]),t(se,[2,1032]),t(se,[2,1033]),t(se,[2,1034]),t(se,[2,1035]),t(se,[2,1036]),t(se,[2,1037]),t(se,[2,1038]),t(se,[2,1039]),t(se,[2,1040]),t(Z,[2,7]),t(Z,e,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,504:95,184:99,3:100,12:821,2:i,4:r,5:o,53:a,72:u,89:l,124:c,146:h,156:p,189:d,266:g,267:m,290:v,335:y,338:b,339:x,396:_,400:E,401:w,404:T,406:S,408:A,409:I,417:C,418:L,434:M,436:N,437:R,439:O,440:D,441:P,442:k,443:z,447:F,448:j,451:B,452:U,505:G,507:V,508:q,517:Y}),{396:[1,825],401:[1,822],402:[1,823],403:[1,824]},{2:i,3:826,4:r,5:o},t(xi,[2,1111],{289:827,767:829,78:[1,828],164:[1,831],185:[1,830]}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:832,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:833,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:834,4:r,5:o,132:[1,835]},{2:i,3:836,4:r,5:o,132:[1,837]},{2:i,3:838,4:r,5:o,99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{2:i,3:839,4:r,5:o},{154:[1,840]},t(wi,ce,{350:841,156:he}),{230:[1,842]},{2:i,3:843,4:r,5:o},t(H,[2,729],{74:Ti}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:845,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(bi,[2,732]),t(Si,[2,1143],{419:190,476:846,144:847,139:Ai,141:Ai,145:Jt,420:Bt,424:Ut}),{139:[1,848],141:[1,849]},t(Ii,Ci,{490:851,493:852,77:[1,850],137:pe}),t(Li,[2,1167],{494:853,132:[1,854]}),t(Mi,[2,1171],{496:855,497:856,152:de}),t(Mi,[2,747]),t(Ni,[2,739]),{2:i,3:857,4:r,5:o,131:[1,858]},{2:i,3:859,4:r,5:o},{2:i,3:860,4:r,5:o},t(Gt,ce,{350:861,156:he}),t(Gt,ce,{350:862,156:he}),t(be,[2,491]),t(be,[2,492]),{183:[1,863]},{183:[2,1142]},t(Ri,[2,1137],{466:864,469:865,137:[1,866]}),t(ge,[2,1136]),t(Oi,Di,{510:867,95:Pi,230:[1,868],514:ki,515:zi,516:Fi}),{76:[1,873]},{76:[1,874]},{145:rt,450:875},{4:ji,7:879,76:[1,877],272:876,387:878,389:Bi},t(H,[2,456],{128:[1,882]}),t(H,[2,579]),{2:i,3:883,4:r,5:o},{298:[1,884]},t(wi,ve,{398:885,156:ye}),t(H,[2,593]),{2:i,3:244,4:r,5:o,199:887,399:886},{2:i,3:244,4:r,5:o,199:887,399:888},t(H,[2,772]),t(Z,[2,669],{438:889,310:[1,890]}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:891,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:892,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:893,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:894,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:895,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:896,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:897,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:898,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:899,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:900,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:901,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:902,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:903,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:904,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:905,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:906,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:907,4:r,5:o,77:[1,909],131:st,156:$,196:908,200:910,290:J,291:Q,292:K,293:tt},{2:i,3:911,4:r,5:o,77:[1,913],131:st,156:$,196:912,200:914,290:J,291:Q,292:K,293:tt},t(Ui,[2,440],{255:146,200:147,256:148,111:149,254:150,196:151,257:152,113:153,258:154,201:155,202:156,259:157,260:158,261:159,144:161,262:162,263:163,56:165,158:167,3:168,419:190,94:915,2:i,4:r,5:o,77:ot,131:st,132:at,137:ut,143:lt,145:ct,149:ht,152:ft,154:pt,156:$,179:dt,180:gt,181:mt,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,420:Bt,424:Ut}),t(Ui,[2,441],{255:146,200:147,256:148,111:149,254:150,196:151,257:152,113:153,258:154,201:155,202:156,259:157,260:158,261:159,144:161,262:162,263:163,56:165,158:167,3:168,419:190,94:916,2:i,4:r,5:o,77:ot,131:st,132:at,137:ut,143:lt,145:ct,149:ht,152:ft,154:pt,156:$,179:dt,180:gt,181:mt,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,420:Bt,424:Ut}),t(Ui,[2,442],{255:146,200:147,256:148,111:149,254:150,196:151,257:152,113:153,258:154,201:155,202:156,259:157,260:158,261:159,144:161,262:162,263:163,56:165,158:167,3:168,419:190,94:917,2:i,4:r,5:o,77:ot,131:st,132:at,137:ut,143:lt,145:ct,149:ht,152:ft,154:pt,156:$,179:dt,180:gt,181:mt,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,420:Bt,424:Ut}),t(Ui,[2,443],{255:146,200:147,256:148,111:149,254:150,196:151,257:152,113:153,258:154,201:155,202:156,259:157,260:158,261:159,144:161,262:162,263:163,56:165,158:167,3:168,419:190,94:918,2:i,4:r,5:o,77:ot,131:st,132:at,137:ut,143:lt,145:ct,149:ht,152:ft,154:pt,156:$,179:dt,180:gt,181:mt,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,420:Bt,424:Ut}),t(Ui,Gi,{255:146,200:147,256:148,111:149,254:150,196:151,257:152,113:153,258:154,201:155,202:156,259:157,260:158,261:159,144:161,262:162,263:163,56:165,158:167,3:168,419:190,94:919,2:i,4:r,5:o,77:ot,131:st,132:at,137:ut,143:lt,145:ct,149:ht,152:ft,154:pt,156:$,179:dt,180:gt,181:mt,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,420:Bt,424:Ut}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:920,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:921,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(Ui,[2,445],{255:146,200:147,256:148,111:149,254:150,196:151,257:152,113:153,258:154,201:155,202:156,259:157,260:158,261:159,144:161,262:162,263:163,56:165,158:167,3:168,419:190,94:922,2:i,4:r,5:o,77:ot,131:st,132:at,137:ut,143:lt,145:ct,149:ht,152:ft,154:pt,156:$,179:dt,180:gt,181:mt,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,420:Bt,424:Ut}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:923,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:924,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{164:[1,926],166:[1,928],328:925,334:[1,927]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:929,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:930,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:695,4:r,5:o,77:[1,931],111:934,145:Vi,156:$,200:935,202:933,290:J,291:Q,292:K,293:tt,329:932},{99:[1,937],297:[1,938]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:939,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:940,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:941,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{4:ji,7:879,272:942,387:878,389:Bi},t(qi,[2,88]),t(qi,[2,89]),{78:[1,943]},{78:[1,944]},{78:[1,945]},{78:[1,946],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(Gt,Vt,{340:207,77:le,198:qt}),{78:[2,1107]},{78:[2,1108]},{134:nt,135:it},{2:i,3:168,4:r,5:o,56:165,77:ot,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:947,152:ft,154:pt,156:$,158:167,164:[1,949],179:dt,180:gt,181:mt,185:[1,948],196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:950,4:r,5:o,149:Yi,180:[1,952]},t([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,118,122,128,129,130,131,132,134,135,137,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,314,330,331,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],[2,416],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,332:en}),t(Xi,[2,417],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,180:ze,312:je,316:Ge}),t(Xi,[2,418],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,180:ze,312:je,316:Ge}),t(Wi,[2,419],{114:625,327:637,316:Ge}),t(Wi,[2,420],{114:625,327:637,316:Ge}),t(on,[2,365]),t(on,[2,1113]),t(on,[2,1114]),t(on,[2,366]),t([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,231,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],[2,362]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:953,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(ln,[2,620]),t(ln,[2,621]),t(ln,[2,622]),t(ln,[2,623]),t(ln,[2,625]),{40:954,79:75,89:l,184:99,189:d},{99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,304:955,307:677,308:un,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{305:956,306:Zi,307:957,308:un,310:Hi},t($i,[2,372]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:959,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:960,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{4:ji,7:879,272:961,387:878,389:Bi},t(ln,[2,626]),{74:[1,963],300:[1,962]},t(ln,[2,642]),t(Ji,[2,649]),t(Qi,[2,627]),t(Qi,[2,628]),t(Qi,[2,629]),t(Qi,[2,630]),t(Qi,[2,631]),t(Qi,[2,632]),t(Qi,[2,633]),t(Qi,[2,634]),t(Qi,[2,635]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:964,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t([2,4,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,426,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],rn,{77:ue,116:Ki}),{74:pi,300:[1,966]},t(tr,[2,314],{77:ue}),t($t,[2,315]),{74:[1,968],426:[1,967]},t(ln,[2,639]),t(er,[2,644]),{152:[1,969]},{152:[1,970]},{152:[1,971]},{40:976,77:[1,975],79:75,89:l,143:lt,144:979,145:Jt,149:nr,152:ft,181:mt,184:99,189:d,201:980,302:kt,341:972,342:973,343:[1,974],344:ir,419:190,420:Bt,424:Ut},t(Gt,Vt,{340:981,198:qt}),{77:rr,143:lt,144:979,145:Jt,149:nr,152:ft,181:mt,201:980,302:kt,341:982,342:983,344:ir,419:190,420:Bt,424:Ut},{230:[1,986],455:985},{2:i,3:219,4:r,5:o,77:Yt,132:Xt,143:lt,144:212,145:ct,152:ft,156:$,181:mt,199:213,200:215,201:214,202:217,209:987,213:Wt,214:218,290:J,291:Q,292:K,293:tt,302:kt,419:190,420:Bt,424:Ut},{231:[2,696]},{78:[1,988]},t(dn,[2,1093],{211:989,3:990,2:i,4:r,5:o}),t(pn,[2,1092]),t(dn,[2,183]),{2:i,3:991,4:r,5:o},{212:[1,992]},t(dn,[2,187]),{2:i,3:993,4:r,5:o},t(dn,[2,191]),{2:i,3:994,4:r,5:o},t(dn,[2,195]),{2:i,3:995,4:r,5:o},t(dn,[2,198]),{2:i,3:996,4:r,5:o},{2:i,3:997,4:r,5:o},{148:[1,998]},t(or,[2,172],{82:999,183:[1,1e3]}),{2:i,3:219,4:r,5:o,132:[1,1005],143:lt,145:[1,1006],152:ft,156:$,181:mt,199:1001,200:1002,201:1003,202:1004,290:J,291:Q,292:K,293:tt,302:kt},{2:i,3:1011,4:r,5:o,109:1007,110:1008,111:1009,112:sr},t(xn,[2,1058]),t(ar,[2,1049],{91:1012,182:1013,183:[1,1014]}),t(Ht,[2,1048],{153:1015,179:ur,180:lr,181:cr}),t([2,4,5,10,72,74,76,78,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,198,280,281,282,283,284,285,286,287,288,306,310,420,424,602,764],[2,90],{77:[1,1019]}),{119:[1,1020]},t(hr,[2,93]),{2:i,3:1021,4:r,5:o},t(hr,[2,95]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1022,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1023,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,112:Tn,114:736,115:Ee,116:we,117:1025,118:Sn,122:An,123:In,124:Cn,125:1024,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},{77:[1,1026]},{77:[1,1027]},{77:[1,1028]},{77:[1,1029]},t(hr,[2,104]),t(hr,[2,105]),t(hr,[2,106]),t(hr,[2,107]),t(hr,[2,108]),t(hr,[2,109]),{2:i,3:1030,4:r,5:o},{2:i,3:1031,4:r,5:o,133:[1,1032]},t(hr,[2,113]),t(hr,[2,114]),t(hr,[2,115]),t(hr,[2,116]),t(hr,[2,117]),t(hr,[2,118]),{2:i,3:1033,4:r,5:o,77:an,113:669,131:st,132:at,143:lt,152:ft,181:mt,196:670,201:672,257:671,294:Mt,295:Nt,296:Rt,302:kt,419:673,424:Ut},{145:[1,1034]},{77:[1,1035]},{145:[1,1036]},t(hr,[2,123]),{77:[1,1037]},{2:i,3:1038,4:r,5:o},{77:[1,1039]},{77:[1,1040]},{77:[1,1041]},{77:[1,1042]},{77:[1,1043],164:[1,1044]},{77:[1,1045]},{77:[1,1046]},{77:[1,1047]},{77:[1,1048]},{77:[1,1049]},{77:[1,1050]},{77:[1,1051]},{77:[1,1052]},{77:[1,1053]},{77:[2,1073]},{77:[2,1074]},{2:i,3:244,4:r,5:o,199:1054},{2:i,3:244,4:r,5:o,199:1055},{113:1056,132:at,296:Rt},t(H,[2,596],{112:[1,1057]}),{2:i,3:244,4:r,5:o,199:1058},{113:1059,132:at,296:Rt},{2:i,3:1060,4:r,5:o},t(H,[2,693]),t(H,[2,68]),{2:i,3:236,4:r,5:o,75:1061},{77:[1,1062]},t(H,[2,674]),t(H,[2,586]),{2:i,3:1011,4:r,5:o,111:1065,143:fr,145:pr,147:1063,336:1064,337:1066},{144:1069,145:Jt,419:190,420:Bt,424:Ut},t(H,[2,671]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1070,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(Ui,Gi,{255:146,200:147,256:148,111:149,254:150,196:151,257:152,113:153,258:154,201:155,202:156,259:157,260:158,261:159,144:161,262:162,263:163,56:165,158:167,3:168,419:190,94:1071,2:i,4:r,5:o,77:ot,131:st,132:at,137:ut,143:lt,145:ct,149:ht,152:ft,154:pt,156:$,179:dt,180:gt,181:mt,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,420:Bt,424:Ut}),{113:1072,132:at,296:Rt},{2:i,3:266,4:r,5:o,446:1073,447:Kt},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1075,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,230:mi,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut,429:1074,433:vi},t(H,[2,651]),{114:1077,115:Ee,116:we,124:[1,1076]},t(H,[2,663]),t(H,[2,664]),{2:i,3:1079,4:r,5:o,77:dr,131:gr,432:1078},{114:807,115:Ee,116:we,124:[1,1082],430:1083},t(H,[2,753],{74:yi}),{2:i,3:100,4:r,5:o,504:1084},{2:i,3:168,4:r,5:o,56:165,77:ot,94:817,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,174:1085,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,253:816,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:817,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,174:1086,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,253:816,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:817,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,174:1087,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,253:816,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(_i,[2,151]),t(_i,[2,1088],{74:mr}),t(vr,[2,273]),t(vr,[2,280],{114:625,327:637,3:1090,113:1092,2:i,4:r,5:o,76:[1,1089],99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,131:[1,1091],132:at,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,296:Rt,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(ne,[2,1089],{197:1093,765:[1,1094]}),{131:st,196:1095},{74:yi,78:[1,1096]},t(Z,[2,11]),{148:[1,1097],190:[1,1098]},{190:[1,1099]},{190:[1,1100]},{190:[1,1101]},t(H,[2,575],{76:[1,1103],77:[1,1102]}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:1104,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(on,[2,346]),t(xi,[2,1112]),t(xi,[2,1109]),t(xi,[2,1110]),{74:pi,78:[1,1105]},{74:pi,78:[1,1106]},{74:[1,1107]},{74:[1,1108]},{74:[1,1109]},{74:[1,1110]},t(on,[2,353]),t(H,[2,580]),{298:[1,1111]},{2:i,3:1112,4:r,5:o,113:1113,132:at,296:Rt},{2:i,3:244,4:r,5:o,199:1114},{230:[1,1115]},{2:i,3:578,4:r,5:o,132:fe,137:pe,143:te,145:ee,152:de,431:585,474:1116,475:576,478:577,482:582,493:579,497:581},t(H,[2,730],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(bi,[2,1145],{477:1117,483:1118,76:yr}),t(Si,[2,1144]),{2:i,3:1122,4:r,5:o,132:fe,137:pe,144:1121,145:Jt,152:de,419:190,420:Bt,424:Ut,475:1120,493:579,497:581},{2:i,3:1122,4:r,5:o,132:fe,137:pe,143:te,145:ee,152:de,431:585,475:1124,478:1123,482:582,493:579,497:581},{2:i,3:578,4:r,5:o,132:fe,137:pe,143:te,145:ee,152:de,431:585,473:1125,474:575,475:576,478:577,482:582,493:579,497:581},t(Li,[2,1163],{491:1126,132:[1,1127]}),t(Ii,[2,1162]),t(Mi,[2,1169],{495:1128,497:1129,152:de}),t(Li,[2,1168]),t(Mi,[2,746]),t(Mi,[2,1172]),t(Ii,[2,749]),t(Ii,[2,750]),t(Mi,[2,748]),t(Ni,[2,740]),{2:i,3:244,4:r,5:o,199:1130},{2:i,3:244,4:r,5:o,199:1131},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1132,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(br,[2,1139],{467:1133,113:1134,132:at,296:Rt}),t(Ri,[2,1138]),{2:i,3:1135,4:r,5:o},{335:xr,338:_r,339:Er,511:1136},{2:i,3:244,4:r,5:o,199:1140},t(Oi,[2,765]),t(Oi,[2,766]),t(Oi,[2,767]),{129:[1,1141]},{266:[1,1142]},{266:[1,1143]},t(me,[2,688]),t(me,[2,689],{124:[1,1144]}),{4:ji,7:879,272:1145,387:878,389:Bi},t([2,4,10,53,72,74,76,77,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,297,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,343,356,368,369,373,374,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],[2,542],{5:[1,1146]}),t([2,5,10,53,72,74,76,78,89,93,95,98,99,107,112,115,116,118,122,123,124,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,230,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,297,300,306,308,309,310,311,312,313,314,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,343,356,368,369,373,374,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],[2,539],{4:[1,1148],77:[1,1147]}),{77:[1,1149]},t(wr,[2,4]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1150,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(H,[2,588]),t(wi,[2,568]),{2:i,3:1151,4:r,5:o,113:1152,132:at,296:Rt},t(H,[2,564],{74:Tr}),t(me,[2,566]),t(H,[2,613],{74:Tr}),t(H,[2,668]),t(H,e,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,504:95,184:99,3:100,12:1154,2:i,4:r,5:o,53:a,72:u,89:l,124:c,146:h,156:p,189:d,266:g,267:m,290:v,335:y,338:b,339:x,396:_,400:E,401:w,404:T,406:S,408:A,409:I,417:C,418:L,434:M,436:N,437:R,439:O,440:D,441:P,442:k,443:z,447:F,448:j,451:B,452:U,505:G,507:V,508:q,517:Y}),t(Sr,[2,376],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,312:je,316:Ge,317:Ve,318:qe,319:Ye}),t(Wi,[2,377],{114:625,327:637,316:Ge}),t(Sr,[2,378],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,312:je,316:Ge,317:Ve,318:qe,319:Ye}),t(Ar,[2,379],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,312:je,314:[1,1155],316:Ge,317:Ve,318:qe,319:Ye}),t(Ar,[2,381],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,312:je,314:[1,1156],316:Ge,317:Ve,318:qe,319:Ye}),t($t,[2,383],{114:625,327:637}),t(Xi,[2,384],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,180:ze,312:je,316:Ge}),t(Xi,[2,385],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,180:ze,312:je,316:Ge}),t(Ir,[2,386],{114:625,327:637,115:Ee,116:we,123:Te,136:Ie,312:je,316:Ge}),t(Ir,[2,387],{114:625,327:637,115:Ee,116:we,123:Te,136:Ie,312:je,316:Ge}),t(Ir,[2,388],{114:625,327:637,115:Ee,116:we,123:Te,136:Ie,312:je,316:Ge}),t([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,112,118,122,123,124,128,129,130,131,132,133,134,135,137,138,139,140,141,142,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,179,180,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,311,313,314,315,317,318,319,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],[2,389],{114:625,327:637,115:Ee,116:we,136:Ie,312:je,316:Ge}),t(Cr,[2,390],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,179:ke,180:ze,312:je,316:Ge,317:Ve}),t(Cr,[2,391],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,179:ke,180:ze,312:je,316:Ge,317:Ve}),t(Cr,[2,392],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,179:ke,180:ze,312:je,316:Ge,317:Ve}),t(Cr,[2,393],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,179:ke,180:ze,312:je,316:Ge,317:Ve}),t(tr,[2,394],{77:ue}),t($t,[2,395]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1157,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t($t,[2,397]),t(tr,[2,398],{77:ue}),t($t,[2,399]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1158,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t($t,[2,401]),t(Lr,[2,402],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),t(Lr,[2,403],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),t(Lr,[2,404],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),t(Lr,[2,405],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),t([2,4,5,10,53,72,89,99,124,139,140,146,154,156,170,171,189,266,267,290,306,310,320,321,322,323,324,325,326,330,331,333,335,338,339,396,400,401,404,406,408,409,417,418,434,436,437,439,440,441,442,443,447,448,451,452,505,507,508,517,602,764],Mr,{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),t(Lr,[2,407],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),t(Lr,[2,408],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),t(Lr,[2,409],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),t(Lr,[2,410],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),t(Lr,[2,411],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),{77:[1,1159]},{77:[2,446]},{77:[2,447]},{77:[2,448]},t(Nr,[2,414],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,332:en}),t([2,4,5,10,53,72,74,76,77,78,89,93,95,98,107,118,122,128,129,130,131,132,134,135,137,143,145,146,148,149,150,152,156,162,164,166,168,169,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,314,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],[2,415],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en}),{2:i,3:168,4:r,5:o,40:1160,56:165,77:ot,78:[1,1162],79:75,89:l,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:1161,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,184:99,189:d,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t($t,[2,428]),t($t,[2,430]),t($t,[2,437]),t($t,[2,438]),{2:i,3:667,4:r,5:o,77:[1,1163]},{2:i,3:695,4:r,5:o,77:[1,1164],111:934,145:Vi,156:$,200:935,202:1166,290:J,291:Q,292:K,293:tt,329:1165},t($t,[2,435]),t(Nr,[2,432],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,332:en}),t(Nr,[2,433],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,332:en}),t([2,4,5,10,53,72,74,76,77,78,89,93,95,98,99,107,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,189,198,206,208,222,223,224,225,226,227,228,229,232,239,242,243,245,247,266,267,280,281,282,283,284,285,286,287,288,290,296,300,306,308,309,310,314,320,321,322,323,324,325,326,330,331,332,333,335,338,339,396,400,401,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,464,470,505,507,508,517,602,764],[2,434],{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye}),t($t,[2,436]),t($t,[2,306]),t($t,[2,307]),t($t,[2,308]),t($t,[2,421]),{74:pi,78:[1,1167]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1168,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1169,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t($t,Rr),t(Or,[2,286]),t($t,[2,282]),{78:[1,1171],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{78:[1,1172]},{305:1173,306:Zi,307:957,308:un,310:Hi},{306:[1,1174]},t($i,[2,371]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1175,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,309:[1,1176],311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{76:[1,1177],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{74:[1,1178]},t(ln,[2,640]),{2:i,3:695,4:r,5:o,77:cn,111:690,113:688,131:st,132:at,143:lt,144:685,145:Jt,152:ft,156:$,181:mt,196:687,200:693,201:692,257:689,258:691,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,300:[1,1179],302:kt,419:190,420:Bt,422:1180,423:686,424:Ut},{78:[1,1181],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{2:i,3:1182,4:r,5:o,149:Yi},t($t,[2,364]),t(ln,[2,637]),{2:i,3:704,4:r,5:o,131:hn,132:fn,426:[1,1183],428:1184},{2:i,3:695,4:r,5:o,77:cn,111:690,113:688,131:st,132:at,143:lt,144:685,145:Jt,152:ft,156:$,181:mt,196:687,200:693,201:692,257:689,258:691,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,302:kt,419:190,420:Bt,422:1185,423:686,424:Ut},{2:i,3:695,4:r,5:o,77:cn,111:690,113:688,131:st,132:at,143:lt,144:685,145:Jt,152:ft,156:$,181:mt,196:687,200:693,201:692,257:689,258:691,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,302:kt,419:190,420:Bt,422:1186,423:686,424:Ut},{2:i,3:695,4:r,5:o,77:cn,111:690,113:688,131:st,132:at,143:lt,144:685,145:Jt,152:ft,156:$,181:mt,196:687,200:693,201:692,257:689,258:691,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,302:kt,419:190,420:Bt,422:1187,423:686,424:Ut},{77:rr,143:lt,144:979,145:Jt,152:ft,181:mt,201:980,302:kt,342:1188,419:190,420:Bt,424:Ut},t(Dr,[2,458],{74:Pr}),{149:nr,341:1190,344:ir},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1194,100:1191,111:1193,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,345:1192,419:190,420:Bt,424:Ut},t(Dr,[2,466]),t(kr,[2,469]),t(kr,[2,470]),t(zr,[2,474]),t(zr,[2,475]),{2:i,3:244,4:r,5:o,199:1195},{77:rr,143:lt,144:979,145:Jt,152:ft,181:mt,201:980,302:kt,342:1196,419:190,420:Bt,424:Ut},t(Dr,[2,462],{74:Pr}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1194,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,345:1192,419:190,420:Bt,424:Ut},{308:Fr,456:1197,458:1198,459:1199},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1201,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{230:[2,697]},t(dn,[2,181],{3:1202,2:i,4:r,5:o,76:[1,1203]}),t(dn,[2,182]),t(dn,[2,1094]),t(dn,[2,184]),t(dn,[2,186]),t(dn,[2,188]),t(dn,[2,192]),t(dn,[2,196]),t(dn,[2,199]),t([2,4,5,10,53,72,74,76,77,78,89,93,95,98,118,124,128,143,145,146,148,149,152,154,156,162,168,169,181,183,187,189,206,208,222,223,224,225,226,227,228,229,230,231,232,245,247,266,267,290,297,302,306,310,335,338,339,343,344,356,368,369,373,374,396,400,401,402,403,404,406,408,409,417,418,420,424,434,436,437,439,440,441,442,443,447,448,451,452,505,507,508,514,515,516,517,602,764],[2,201]),{2:i,3:1204,4:r,5:o},t(jr,[2,1045],{83:1205,92:1206,93:[1,1207],98:[1,1208]}),{2:i,3:219,4:r,5:o,77:[1,1210],132:Xt,143:lt,144:212,145:ct,152:ft,156:$,181:mt,199:213,200:215,201:214,202:217,203:1209,209:1211,213:Wt,214:218,290:J,291:Q,292:K,293:tt,302:kt,419:190,420:Bt,424:Ut},t(vn,[2,164]),t(vn,[2,165]),t(vn,[2,166]),t(vn,[2,167]),t(vn,[2,168]),{2:i,3:667,4:r,5:o},t(Zt,[2,83],{74:[1,1212]}),t(Br,[2,85]),t(Br,[2,86]),{113:1213,132:at,296:Rt},t([10,72,74,78,93,98,118,124,128,162,168,169,183,198,206,208,222,223,224,225,226,227,228,229,232,245,247,306,310,602,764],rn,{116:Ki}),t(ar,[2,73]),t(ar,[2,1050]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1214,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(hr,[2,126]),t(hr,[2,144]),t(hr,[2,145]),t(hr,[2,146]),{2:i,3:168,4:r,5:o,56:165,77:ot,78:[2,1065],94:260,111:149,113:153,127:1215,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:1216,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{77:[1,1217]},t(hr,[2,94]),t([2,4,5,10,72,74,76,77,78,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,198,280,281,282,283,284,285,286,287,288,306,310,420,424,602,764],[2,96],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t([2,4,5,10,72,74,76,77,78,112,118,122,124,128,129,130,131,132,134,135,137,139,140,143,145,146,148,149,150,152,154,156,162,164,166,168,169,170,171,172,173,175,181,183,185,187,198,280,281,282,283,284,285,286,287,288,306,310,420,424,602,764],[2,97],{114:625,327:637,99:xe,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,78:[1,1218],112:Tn,114:736,115:Ee,116:we,117:1219,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},t(Ur,[2,1061],{153:1015,179:ur,180:lr,181:cr}),{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,112:Tn,114:736,115:Ee,116:we,117:1221,118:Sn,122:An,123:In,124:Cn,126:1220,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1222,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1223,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1224,4:r,5:o},t(hr,[2,110]),t(hr,[2,111]),t(hr,[2,112]),t(hr,[2,119]),{2:i,3:1225,4:r,5:o},{2:i,3:1011,4:r,5:o,111:1065,143:fr,145:pr,147:1226,336:1064,337:1066},{2:i,3:1227,4:r,5:o},{2:i,3:168,4:r,5:o,56:165,77:ot,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:1228,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(hr,[2,125]),t(Ur,[2,1067],{155:1229}),t(Ur,[2,1069],{157:1230}),t(Ur,[2,1071],{159:1231}),t(Ur,[2,1075],{161:1232}),t(Gr,Vr,{163:1233,178:1234}),{77:[1,1235]},t(Ur,[2,1077],{165:1236}),t(Ur,[2,1079],{167:1237}),t(Gr,Vr,{178:1234,163:1238}),t(Gr,Vr,{178:1234,163:1239}),t(Gr,Vr,{178:1234,163:1240}),t(Gr,Vr,{178:1234,163:1241}),{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,112:Tn,114:736,115:Ee,116:we,117:1242,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:817,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,174:1243,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,253:816,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(qr,[2,1081],{176:1244}),t(H,[2,606],{183:[1,1245]}),t(H,[2,602],{183:[1,1246]}),t(H,[2,595]),{113:1247,132:at,296:Rt},t(H,[2,604],{183:[1,1248]}),t(H,[2,599]),t(H,[2,600],{112:[1,1249]}),t(hi,[2,69]),{40:1250,79:75,89:l,184:99,189:d},t(H,[2,450],{74:Yr,128:[1,1251]}),t(Xr,[2,451]),{124:[1,1253]},{2:i,3:1254,4:r,5:o},t(Gt,[2,1115]),t(Gt,[2,1116]),t(H,[2,618]),t(di,[2,355],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(Lr,Mr,{114:625,327:637,112:_e,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,332:en}),t(me,[2,682]),t(me,[2,684]),t(H,[2,650]),t(H,[2,652],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1255,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1079,4:r,5:o,77:dr,131:gr,432:1256},t(Wr,[2,659]),t(Wr,[2,660]),t(Wr,[2,661]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1257,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1258,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{114:1077,115:Ee,116:we,124:[1,1259]},t(bi,[2,755]),t(_i,[2,148],{74:mr}),t(_i,[2,149],{74:mr}),t(_i,[2,150],{74:mr}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:817,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,253:1260,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1261,4:r,5:o,113:1263,131:[1,1262],132:at,296:Rt},t(vr,[2,275]),t(vr,[2,277]),t(vr,[2,279]),t(ne,[2,160]),t(ne,[2,1090]),{78:[1,1264]},t(oe,[2,758]),{2:i,3:1265,4:r,5:o},{2:i,3:1266,4:r,5:o},{2:i,3:1268,4:r,5:o,384:1267},{2:i,3:1268,4:r,5:o,384:1269},{2:i,3:1270,4:r,5:o},{2:i,3:168,4:r,5:o,56:165,77:ot,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:1271,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1272,4:r,5:o},{74:pi,78:[1,1273]},t(on,[2,347]),t(on,[2,348]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1274,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1275,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1276,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1277,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(wi,[2,504]),t(H,Zr,{407:1278,76:Hr,77:[1,1279]}),t(H,Zr,{407:1281,76:Hr}),{77:[1,1282]},{2:i,3:244,4:r,5:o,199:1283},t(bi,[2,731]),t(bi,[2,733]),t(bi,[2,1146]),{143:te,145:ee,431:1284},t($r,[2,1147],{419:190,479:1285,144:1286,145:Jt,420:Bt,424:Ut}),{76:yr,139:[2,1151],481:1287,483:1288},t([10,74,76,78,132,139,145,152,306,310,420,424,602,764],Ci,{490:851,493:852,137:pe}),t(bi,[2,736]),t(bi,Ai),{74:Ti,78:[1,1289]},t(Mi,[2,1165],{492:1290,497:1291,152:de}),t(Li,[2,1164]),t(Mi,[2,745]),t(Mi,[2,1170]),t(H,[2,490],{77:[1,1292]}),{76:[1,1294],77:[1,1293]},{99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,148:[1,1295],154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(Dr,Jr,{79:75,184:99,468:1296,40:1299,89:l,146:Qr,189:d,470:Kr}),t(br,[2,1140]),t(Ri,[2,723]),{230:[1,1300]},t(to,[2,769]),t(to,[2,770]),t(to,[2,771]),t(Oi,Di,{510:1301,95:Pi,514:ki,515:zi,516:Fi}),t(Oi,[2,768]),t(H,[2,312]),t(H,[2,313]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1302,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(me,[2,690],{124:[1,1303]}),t(wr,[2,541]),{131:[1,1305],388:1304,390:[1,1306]},t(wr,[2,5]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1194,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,345:1307,419:190,420:Bt,424:Ut},t(H,[2,455],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(H,[2,589]),t(H,[2,590]),{2:i,3:244,4:r,5:o,199:1308},t(H,[2,670]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1309,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1310,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{78:[1,1311],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{78:[1,1312],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{2:i,3:168,4:r,5:o,40:1313,56:165,77:ot,79:75,89:l,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:1314,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,184:99,189:d,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{78:[1,1315]},{74:pi,78:[1,1316]},t($t,[2,426]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1317,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,40:1318,56:165,77:ot,78:[1,1320],79:75,89:l,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:1319,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,184:99,189:d,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t($t,[2,429]),t($t,[2,431]),t($t,eo,{275:1321,276:no}),{78:[1,1323],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{78:[1,1324],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{2:i,3:1325,4:r,5:o,180:[1,1326]},t(ln,[2,619]),t($t,[2,363]),{306:[1,1327]},t($t,[2,370]),{99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,306:[2,374],311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1328,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{4:ji,7:879,272:1329,387:878,389:Bi},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1330,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(ln,[2,641]),t(Ji,[2,648]),t(Qi,[2,636]),t(Or,Rr),t(ln,[2,638]),t(er,[2,643]),t(er,[2,645]),t(er,[2,646]),t(er,[2,647]),t(Dr,[2,457],{74:Pr}),{77:[1,1332],143:lt,144:1333,145:Jt,152:ft,181:mt,201:1334,302:kt,419:190,420:Bt,424:Ut},t(Dr,[2,463]),{74:io,78:[1,1335]},{74:ro,78:[1,1337]},t([74,78,99,112,115,116,123,124,133,136,138,139,140,141,142,154,170,171,179,180,311,312,313,315,316,317,318,319,320,321,322,323,324,325,326,330,331,332,333],oo),t(so,[2,479],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{40:1341,77:rr,79:75,89:l,143:lt,144:979,145:Jt,149:nr,152:ft,181:mt,184:99,189:d,201:980,302:kt,341:1339,342:1340,344:ir,419:190,420:Bt,424:Ut},t(Dr,[2,461],{74:Pr}),t(H,[2,717],{457:1342,458:1343,459:1344,308:Fr,464:[1,1345]}),t(ao,[2,701]),t(ao,[2,702]),{154:[1,1347],460:[1,1346]},{99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,308:[2,698],311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(dn,[2,179]),{2:i,3:1348,4:r,5:o},t(H,[2,574]),t(uo,[2,238],{84:1349,128:[1,1350]}),t(jr,[2,1046]),{77:[1,1351]},{77:[1,1352]},t(or,[2,169],{204:1353,215:1355,205:1356,216:1357,221:1360,74:lo,206:co,208:ho,222:fo,223:po,224:go,225:mo,226:vo,227:yo,228:bo,229:xo}),{2:i,3:219,4:r,5:o,40:711,77:Yt,79:75,89:l,132:Xt,143:lt,144:212,145:ct,152:ft,156:$,181:mt,184:99,189:d,199:213,200:215,201:214,202:217,203:1369,209:1211,213:Wt,214:218,290:J,291:Q,292:K,293:tt,302:kt,419:190,420:Bt,424:Ut},t(_o,[2,177]),{2:i,3:1011,4:r,5:o,110:1370,111:1009,112:sr},t(Br,[2,87]),t(ar,[2,147],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{78:[1,1371]},{74:pi,78:[2,1066]},{2:i,3:168,4:r,5:o,56:165,77:ot,78:[2,1059],94:1376,111:149,113:153,120:1372,121:1373,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,241:1374,242:[1,1375],254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(hr,[2,98]),t(Ur,[2,1062],{153:1015,179:ur,180:lr,181:cr}),{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,78:[1,1377],112:Tn,114:736,115:Ee,116:we,117:1378,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},t(Ur,[2,1063],{153:1015,179:ur,180:lr,181:cr}),{78:[1,1379],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{78:[1,1380],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{78:[1,1381]},t(hr,[2,120]),{74:Yr,78:[1,1382]},t(hr,[2,122]),{74:pi,78:[1,1383]},{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,78:[1,1384],112:Tn,114:736,115:Ee,116:we,117:1385,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,78:[1,1386],112:Tn,114:736,115:Ee,116:we,117:1387,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,78:[1,1388],112:Tn,114:736,115:Ee,116:we,117:1389,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,78:[1,1390],112:Tn,114:736,115:Ee,116:we,117:1391,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},{74:Eo,78:[1,1392]},t(so,[2,143],{419:190,3:733,114:736,144:758,158:768,160:769,117:1394,2:i,4:r,5:o,72:_n,76:En,77:wn,112:Tn,115:Ee,116:we,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,420:Bt,424:Ut}),t(Gr,Vr,{178:1234,163:1395}),{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,78:[1,1396],112:Tn,114:736,115:Ee,116:we,117:1397,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},{2:i,3:733,4:r,5:o,72:_n,76:En,77:wn,78:[1,1398],112:Tn,114:736,115:Ee,116:we,117:1399,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},{74:Eo,78:[1,1400]},{74:Eo,78:[1,1401]},{74:Eo,78:[1,1402]},{74:Eo,78:[1,1403]},{78:[1,1404],153:1015,179:ur,180:lr,181:cr},{74:mr,78:[1,1405]},{2:i,3:733,4:r,5:o,72:_n,74:[1,1406],76:En,77:wn,112:Tn,114:736,115:Ee,116:we,117:1407,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,144:758,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,158:768,160:769,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,419:190,420:Bt,424:Ut},{2:i,3:1408,4:r,5:o},{2:i,3:1409,4:r,5:o},t(H,[2,597]),{2:i,3:1410,4:r,5:o},{113:1411,132:at,296:Rt},{78:[1,1412]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1413,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1011,4:r,5:o,111:1065,143:fr,145:pr,336:1414,337:1066},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1415,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{124:[1,1416]},t(H,[2,653],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(Wr,[2,658]),{78:[1,1417],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(H,[2,654],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1418,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(vr,[2,272]),t(vr,[2,274]),t(vr,[2,276]),t(vr,[2,278]),t(ne,[2,161]),t(H,[2,569]),{148:[1,1419]},t(H,[2,570]),t(bi,[2,536],{387:878,7:879,272:1420,4:ji,386:[1,1421],389:Bi}),t(H,[2,571]),t(H,[2,573]),{74:pi,78:[1,1422]},t(H,[2,577]),t(on,[2,345]),{74:[1,1423],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{74:[1,1424],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{74:[1,1425],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{74:[1,1426],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(H,[2,581]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:1427,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1428,4:r,5:o},t(H,[2,583]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1376,111:149,113:153,120:1429,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,241:1374,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{77:[1,1430]},{2:i,3:1431,4:r,5:o},{76:yr,139:[2,1149],480:1432,483:1433},t($r,[2,1148]),{139:[1,1434]},{139:[2,1152]},t(bi,[2,737]),t(Mi,[2,744]),t(Mi,[2,1166]),{2:i,3:1268,4:r,5:o,76:[1,1437],351:1435,358:1436,384:1438},{2:i,3:1011,4:r,5:o,100:1439,111:1440},{40:1441,79:75,89:l,184:99,189:d},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1442,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(Dr,[2,722]),{2:i,3:1011,4:r,5:o,111:1065,143:fr,145:pr,147:1443,336:1064,337:1066},{2:i,3:168,4:r,5:o,56:165,77:ot,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:1444,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(Dr,[2,727]),{2:i,3:244,4:r,5:o,199:1445},{335:xr,338:_r,339:Er,511:1446},t(me,[2,691],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1447,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{74:[1,1448],78:[1,1449]},t(so,[2,543]),t(so,[2,544]),{74:ro,78:[1,1450]},t(me,[2,565]),t(Sr,[2,380],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,312:je,316:Ge,317:Ve,318:qe,319:Ye}),t(Sr,[2,382],{114:625,327:637,115:Ee,116:we,123:Te,133:Ae,136:Ie,138:Ce,141:Ne,142:Re,179:ke,180:ze,312:je,316:Ge,317:Ve,318:qe,319:Ye}),t($t,[2,396]),t($t,[2,400]),{78:[1,1451]},{74:pi,78:[1,1452]},t($t,[2,422]),t($t,[2,424]),{78:[1,1453],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{78:[1,1454]},{74:pi,78:[1,1455]},t($t,[2,427]),t($t,[2,327]),{77:[1,1456]},t($t,eo,{275:1457,276:no}),t($t,eo,{275:1458,276:no}),t(Or,[2,284]),t($t,[2,281]),t($t,[2,369]),t($i,[2,373],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{74:[1,1460],78:[1,1459]},{74:[1,1462],78:[1,1461],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{2:i,3:1325,4:r,5:o},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1194,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,345:1463,419:190,420:Bt,424:Ut},t(zr,[2,477]),t(zr,[2,478]),{40:1466,77:rr,79:75,89:l,143:lt,144:979,145:Jt,149:nr,152:ft,181:mt,184:99,189:d,201:980,302:kt,341:1464,342:1465,344:ir,419:190,420:Bt,424:Ut},{2:i,3:1011,4:r,5:o,111:1467},t(zr,[2,473]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1468,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{77:rr,143:lt,144:979,145:Jt,152:ft,181:mt,201:980,302:kt,342:1469,419:190,420:Bt,424:Ut},t(Dr,[2,460],{74:Pr}),t(Dr,[2,467]),t(H,[2,694]),t(ao,[2,699]),t(ao,[2,700]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:817,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,174:1470,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,253:816,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{170:[1,1472],309:[1,1471]},{460:[1,1473]},t(dn,[2,180]),t(wo,[2,240],{85:1474,232:[1,1475]}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1476,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1477,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1478,4:r,5:o},t(or,[2,170],{216:1357,221:1360,215:1479,205:1480,206:co,208:ho,222:fo,223:po,224:go,225:mo,226:vo,227:yo,228:bo,229:xo}),{2:i,3:219,4:r,5:o,77:Yt,132:Xt,143:lt,144:212,145:ct,152:ft,156:$,181:mt,199:213,200:215,201:214,202:217,209:1481,213:Wt,214:218,290:J,291:Q,292:K,293:tt,302:kt,419:190,420:Bt,424:Ut},t(To,[2,205]),t(To,[2,206]),{2:i,3:219,4:r,5:o,77:[1,1486],143:lt,144:1484,145:ct,152:ft,156:$,181:mt,199:1483,200:1487,201:1485,202:1488,217:1482,290:J,291:Q,292:K,293:tt,302:kt,419:190,420:Bt,424:Ut},{207:[1,1489],223:So},{207:[1,1491],223:Ao},t(Io,[2,222]),{206:[1,1495],208:[1,1494],221:1493,223:po,224:go,225:mo,226:vo,227:yo,228:bo,229:xo},t(Io,[2,224]),{223:[1,1496]},{208:[1,1498],223:[1,1497]},{208:[1,1500],223:[1,1499]},{208:[1,1501]},{223:[1,1502]},{223:[1,1503]},{74:lo,204:1504,205:1356,206:co,208:ho,215:1355,216:1357,221:1360,222:fo,223:po,224:go,225:mo,226:vo,227:yo,228:bo,229:xo},t(Br,[2,84]),t(hr,[2,100]),{74:Co,78:[1,1505]},{78:[1,1507]},t(Lo,[2,261]),{78:[2,1060]},t(Lo,[2,263],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,242:[1,1508],243:[1,1509],311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(hr,[2,99]),t(Ur,[2,1064],{153:1015,179:ur,180:lr,181:cr}),t(hr,[2,101]),t(hr,[2,102]),t(hr,[2,103]),t(hr,[2,121]),t(hr,[2,124]),t(hr,[2,127]),t(Ur,[2,1068],{153:1015,179:ur,180:lr,181:cr}),t(hr,[2,128]),t(Ur,[2,1070],{153:1015,179:ur,180:lr,181:cr}),t(hr,[2,129]),t(Ur,[2,1072],{153:1015,179:ur,180:lr,181:cr}),t(hr,[2,130]),t(Ur,[2,1076],{153:1015,179:ur,180:lr,181:cr}),t(hr,[2,131]),t(Gr,[2,1083],{177:1510}),t(Gr,[2,1086],{153:1015,179:ur,180:lr,181:cr}),{74:Eo,78:[1,1511]},t(hr,[2,133]),t(Ur,[2,1078],{153:1015,179:ur,180:lr,181:cr}),t(hr,[2,134]),t(Ur,[2,1080],{153:1015,179:ur,180:lr,181:cr}),t(hr,[2,135]),t(hr,[2,136]),t(hr,[2,137]),t(hr,[2,138]),t(hr,[2,139]),t(hr,[2,140]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:260,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,151:1512,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(qr,[2,1082],{153:1015,179:ur,180:lr,181:cr}),t(H,[2,607]),t(H,[2,603]),t(H,[2,605]),t(H,[2,601]),t(hi,[2,71]),t(H,[2,449],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(Xr,[2,452]),t(Xr,[2,453],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1513,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(Wr,[2,662]),t(H,[2,655],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{2:i,3:1514,4:r,5:o},t(bi,[2,545],{385:1515,391:1516,392:1517,366:1525,154:Mo,187:No,230:Ro,297:Oo,343:Do,356:Po,368:ko,369:zo,373:Fo,374:jo}),t(bi,[2,535]),t(H,[2,576],{76:[1,1529]}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1530,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1531,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1532,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1533,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{74:pi,78:[1,1534]},t(H,[2,585]),{74:Co,78:[1,1535]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1376,111:149,113:153,120:1536,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,241:1374,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t([10,74,78,139,306,310,602,764],[2,741]),{139:[1,1537]},{139:[2,1150]},{2:i,3:1122,4:r,5:o,132:fe,137:pe,143:te,145:ee,152:de,431:585,475:1124,478:1538,482:582,493:579,497:581},{78:[1,1539]},{74:[1,1540],78:[2,506]},{40:1541,79:75,89:l,184:99,189:d},t(so,[2,532]),{74:io,78:[1,1542]},t(_o,oo),t(H,[2,1133],{412:1543,413:1544,72:Bo}),t(Dr,Jr,{79:75,184:99,114:625,327:637,40:1299,468:1546,89:l,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,146:Qr,154:Oe,170:De,171:Pe,179:ke,180:ze,189:d,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn,470:Kr}),t(Dr,[2,725],{74:Yr}),t(Dr,[2,726],{74:pi}),t([10,53,72,89,124,146,156,189,266,267,290,306,310,335,338,339,396,400,401,404,406,408,409,417,418,434,436,437,439,440,441,442,443,447,448,451,452,505,507,508,517,602,764],[2,1181],{512:1547,3:1548,2:i,4:r,5:o,76:[1,1549]}),t(Uo,[2,1183],{513:1550,76:[1,1551]}),t(me,[2,692],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{131:[1,1552]},t(wr,[2,538]),t(wr,[2,540]),t($t,[2,412]),t($t,[2,413]),t($t,[2,439]),t($t,[2,423]),t($t,[2,425]),{118:Go,277:1553,278:1554,279:[1,1555]},t($t,[2,328]),t($t,[2,329]),t($t,[2,316]),{131:[1,1557]},t($t,[2,318]),{131:[1,1558]},{74:ro,78:[1,1559]},{77:rr,143:lt,144:979,145:Jt,152:ft,181:mt,201:980,302:kt,342:1560,419:190,420:Bt,424:Ut},t(Dr,[2,465],{74:Pr}),t(Dr,[2,468]),t(_o,[2,488]),t(so,[2,480],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(Dr,[2,459],{74:Pr}),t(H,[2,718],{74:mr,198:[1,1561]}),{335:Vo,338:qo,461:1562},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1565,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{119:[1,1567],170:[1,1568],309:[1,1566]},t(Yo,[2,259],{86:1569,118:[1,1570]}),{119:[1,1571]},t(uo,[2,239],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{95:[1,1572],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{95:[1,1573]},t(To,[2,203]),t(To,[2,204]),t(_o,[2,178]),t(To,[2,237],{218:1574,230:[1,1575],231:[1,1576]}),t(Xo,[2,208],{3:1577,2:i,4:r,5:o,76:[1,1578]}),t(Wo,[2,1095],{219:1579,76:[1,1580]}),{2:i,3:1581,4:r,5:o,76:[1,1582]},{40:1583,79:75,89:l,184:99,189:d},t(Xo,[2,216],{3:1584,2:i,4:r,5:o,76:[1,1585]}),t(Xo,[2,219],{3:1586,2:i,4:r,5:o,76:[1,1587]}),{77:[1,1588]},t(Io,[2,234]),{77:[1,1589]},t(Io,[2,230]),t(Io,[2,223]),{223:Ao},{223:So},t(Io,[2,225]),t(Io,[2,226]),{223:[1,1590]},t(Io,[2,228]),{223:[1,1591]},{223:[1,1592]},t(Io,[2,232]),t(Io,[2,233]),{78:[1,1593],205:1480,206:co,208:ho,215:1479,216:1357,221:1360,222:fo,223:po,224:go,225:mo,226:vo,227:yo,228:bo,229:xo},t(hr,[2,91]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1376,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,241:1594,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(hr,[2,92]),t(Lo,[2,264]),{244:[1,1595]},t(so,[2,142],{419:190,3:733,114:736,144:758,158:768,160:769,117:1596,2:i,4:r,5:o,72:_n,76:En,77:wn,112:Tn,115:Ee,116:we,118:Sn,122:An,123:In,124:Cn,128:Ln,129:Mn,130:Nn,131:Rn,132:On,133:Dn,134:Pn,135:kn,136:zn,137:Fn,138:jn,139:Bn,140:Un,141:Gn,142:Vn,143:qn,145:Yn,146:Xn,148:Wn,149:Zn,150:Hn,152:$n,154:Jn,156:Qn,162:Kn,164:ti,166:ei,168:ni,169:ii,170:ri,171:oi,172:si,173:ai,175:ui,185:li,187:ci,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,420:Bt,424:Ut}),t(hr,[2,132]),{74:pi,78:[1,1597]},t(Xr,[2,454],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(H,[2,572]),t(bi,[2,534]),t(bi,[2,546],{366:1525,392:1598,154:Mo,187:No,230:Ro,297:Oo,343:Do,356:Po,368:ko,369:zo,373:Fo,374:jo}),t(fi,[2,548]),{370:[1,1599]},{370:[1,1600]},{2:i,3:244,4:r,5:o,199:1601},t(fi,[2,554],{77:[1,1602]}),{2:i,3:114,4:r,5:o,77:[1,1604],113:251,131:st,132:at,143:lt,152:ft,156:$,181:mt,196:250,200:1605,201:254,257:252,258:253,265:Qt,274:1603,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,302:kt},t(fi,[2,558]),{297:[1,1606]},t(fi,[2,560]),t(fi,[2,561]),{335:[1,1607]},{77:[1,1608]},{2:i,3:1609,4:r,5:o},{78:[1,1610],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{78:[1,1611],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{78:[1,1612],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{78:[1,1613],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(H,Zr,{407:1614,76:Hr}),t(H,[2,591]),{74:Co,78:[1,1615]},{2:i,3:1122,4:r,5:o,132:fe,137:pe,143:te,145:ee,152:de,431:585,475:1124,478:1616,482:582,493:579,497:581},t(bi,[2,735]),t(H,[2,493],{352:1617,354:1618,355:1619,4:Zo,243:Ho,343:$o,356:Jo}),t(Qo,Ko,{3:1268,359:1624,384:1625,360:1626,361:1627,2:i,4:r,5:o,367:ts}),{78:[2,507]},{76:[1,1629]},t(H,[2,609]),t(H,[2,1134]),{368:[1,1631],414:[1,1630]},t(Dr,[2,728]),t(H,e,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,504:95,184:99,3:100,12:1632,2:i,4:r,5:o,53:a,72:u,89:l,124:c,146:h,156:p,189:d,266:g,267:m,290:v,335:y,338:b,339:x,396:_,400:E,401:w,404:T,406:S,408:A,409:I,417:C,418:L,434:M,436:N,437:R,439:O,440:D,441:P,442:k,443:z,447:F,448:j,451:B,452:U,505:G,507:V,508:q,517:Y}),t(H,[2,762]),t(Uo,[2,1182]),t(H,e,{17:5,18:7,19:8,20:9,21:10,22:11,23:12,24:13,25:14,26:15,27:16,28:17,29:18,30:19,31:20,32:21,33:22,34:23,35:24,36:25,37:26,38:27,39:28,40:29,41:30,42:31,43:32,44:33,45:34,46:35,47:36,48:37,49:38,50:39,51:40,52:41,54:43,55:44,56:45,57:46,58:47,59:48,60:49,61:50,62:51,63:52,64:53,65:54,66:55,67:56,68:57,69:58,70:59,71:60,79:75,504:95,184:99,3:100,12:1633,2:i,4:r,5:o,53:a,72:u,89:l,124:c,146:h,156:p,189:d,266:g,267:m,290:v,335:y,338:b,339:x,396:_,400:E,401:w,404:T,406:S,408:A,409:I,417:C,418:L,434:M,436:N,437:R,439:O,440:D,441:P,442:k,443:z,447:F,448:j,451:B,452:U,505:G,507:V,508:q,517:Y}),t(Uo,[2,1184]),{78:[1,1634]},{78:[1,1635],118:Go,278:1636},{78:[1,1637]},{119:[1,1638]},{119:[1,1639]},{78:[1,1640]},{78:[1,1641]},t(zr,[2,476]),t(Dr,[2,464],{74:Pr}),{2:i,3:244,4:r,5:o,143:te,145:ee,199:1643,431:1642},t(ao,[2,703]),t(ao,[2,705]),{146:[1,1644]},{99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,309:[1,1645],311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},{339:es,462:1646},{417:[1,1649],463:[1,1648]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1650,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(ns,[2,267],{87:1651,245:[1,1652],247:[1,1653]}),{119:[1,1654]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1660,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,233:1655,235:1656,236:is,237:rs,238:os,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1661,4:r,5:o},{2:i,3:1662,4:r,5:o},t(To,[2,207]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1663,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1011,4:r,5:o,100:1664,111:1440},t(Xo,[2,209]),{2:i,3:1665,4:r,5:o},t(Xo,[2,1097],{220:1666,3:1667,2:i,4:r,5:o}),t(Wo,[2,1096]),t(Xo,[2,212]),{2:i,3:1668,4:r,5:o},{78:[1,1669]},t(Xo,[2,217]),{2:i,3:1670,4:r,5:o},t(Xo,[2,220]),{2:i,3:1671,4:r,5:o},{40:1672,79:75,89:l,184:99,189:d},{40:1673,79:75,89:l,184:99,189:d},t(Io,[2,227]),t(Io,[2,229]),t(Io,[2,231]),t(or,[2,171]),t(Lo,[2,262]),t(Lo,[2,265],{242:[1,1674]}),t(Gr,[2,1084],{153:1015,179:ur,180:lr,181:cr}),t(hr,[2,141]),t(fi,[2,547]),t(fi,[2,550]),{374:[1,1675]},t(fi,[2,1127],{395:1676,393:1677,77:ss}),{131:st,196:1679},t(fi,[2,555]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1680,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(fi,[2,557]),t(fi,[2,559]),{2:i,3:114,4:r,5:o,77:[1,1682],113:251,131:st,132:at,143:lt,152:ft,156:$,181:mt,196:250,200:255,201:254,257:252,258:253,265:Qt,274:1681,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,302:kt},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1683,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(H,[2,578]),t(on,[2,349]),t(on,[2,350]),t(on,[2,351]),t(on,[2,352]),t(H,[2,582]),t(H,[2,592]),t(bi,[2,734]),t(H,[2,489]),t(H,[2,494],{355:1684,4:Zo,243:Ho,343:$o,356:Jo}),t(as,[2,496]),t(as,[2,497]),{124:[1,1685]},{124:[1,1686]},{124:[1,1687]},{74:[1,1688],78:[2,505]},t(so,[2,533]),t(so,[2,508]),{187:[1,1696],193:[1,1697],362:1689,363:1690,364:1691,365:1692,366:1693,368:ko,369:[1,1694],370:[1,1698],373:[1,1695]},{2:i,3:1699,4:r,5:o},{40:1700,79:75,89:l,184:99,189:d},{415:[1,1701]},{416:[1,1702]},t(H,[2,761]),t(H,[2,763]),t(wr,[2,537]),t($t,[2,331]),{78:[1,1703]},t($t,[2,332]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1660,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,233:1704,235:1656,236:is,237:rs,238:os,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1376,111:149,113:153,120:1705,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,241:1374,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t($t,[2,317]),t($t,[2,319]),{2:i,3:1706,4:r,5:o},t(H,[2,720],{77:[1,1707]}),{2:i,3:1011,4:r,5:o,111:1065,143:fr,145:pr,147:1708,336:1064,337:1066},{335:Vo,338:qo,461:1709},t(ao,[2,707]),{77:[1,1711],343:[1,1712],344:[1,1710]},{170:[1,1714],309:[1,1713]},{170:[1,1716],309:[1,1715]},{99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,309:[1,1717],311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(ar,[2,250],{88:1718,162:[1,1719],168:[1,1721],169:[1,1720]}),{131:st,196:1722},{131:st,196:1723},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1376,111:149,113:153,120:1724,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,241:1374,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},t(wo,[2,248],{234:1725,74:us,239:[1,1727]}),t(ls,[2,242]),{146:[1,1728]},{77:[1,1729]},{77:[1,1730]},t(ls,[2,247],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{78:[2,1051],96:1731,99:[1,1733],102:1732},{99:[1,1734]},t(To,[2,235],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),t(To,[2,236],{74:io}),t(Xo,[2,210]),t(Xo,[2,211]),t(Xo,[2,1098]),t(Xo,[2,213]),{2:i,3:1735,4:r,5:o,76:[1,1736]},t(Xo,[2,218]),t(Xo,[2,221]),{78:[1,1737]},{78:[1,1738]},t(Lo,[2,266]),{2:i,3:244,4:r,5:o,199:1739},t(fi,[2,552]),t(fi,[2,1128]),{2:i,3:1740,4:r,5:o},{74:[1,1741]},{78:[1,1742],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(fi,[2,562]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1743,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{78:[1,1744],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(as,[2,495]),{2:i,3:1745,4:r,5:o},{131:st,196:1746},{2:i,3:1747,4:r,5:o},t(Qo,Ko,{361:1627,360:1748,367:ts}),t(bi,[2,510]),t(bi,[2,511]),t(bi,[2,512]),t(bi,[2,513]),t(bi,[2,514]),{370:[1,1749]},{370:[1,1750]},t(cs,[2,1121],{382:1751,370:[1,1752]}),{2:i,3:1753,4:r,5:o},{2:i,3:1754,4:r,5:o},t(Qo,[2,516]),t(H,[2,1131],{411:1755,413:1756,72:Bo}),t(H,[2,610]),t(H,[2,611],{367:[1,1757]}),t($t,[2,333]),t([78,118],[2,334],{74:us}),{74:Co,78:[2,335]},t(H,[2,719]),{2:i,3:1011,4:r,5:o,100:1758,111:1440},t(ao,[2,706],{74:Yr}),t(ao,[2,704]),{77:rr,143:lt,144:979,145:Jt,152:ft,181:mt,201:980,302:kt,342:1759,419:190,420:Bt,424:Ut},{2:i,3:1011,4:r,5:o,100:1760,111:1440},{344:[1,1761]},{339:es,462:1762},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1763,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{339:es,462:1764},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1765,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{339:es,462:1766},t(ar,[2,72]),{40:1767,79:75,89:l,164:[1,1768],184:99,189:d,240:[1,1769]},{40:1770,79:75,89:l,184:99,189:d,240:[1,1771]},{40:1772,79:75,89:l,184:99,189:d,240:[1,1773]},t(ns,[2,270],{246:1774,247:[1,1775]}),{248:1776,249:[2,1099],766:[1,1777]},t(Yo,[2,260],{74:Co}),t(wo,[2,241]),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1660,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,235:1778,236:is,237:rs,238:os,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1779,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{77:[1,1780]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1660,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,233:1781,235:1656,236:is,237:rs,238:os,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1660,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,233:1782,235:1656,236:is,237:rs,238:os,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{78:[1,1783]},{78:[2,1052]},{77:[1,1784]},{77:[1,1785]},t(Xo,[2,214]),{2:i,3:1786,4:r,5:o},{2:i,3:1787,4:r,5:o,76:[1,1788]},{2:i,3:1789,4:r,5:o,76:[1,1790]},t(fi,[2,1125],{394:1791,393:1792,77:ss}),{78:[1,1793]},{131:st,196:1794},t(fi,[2,556]),{78:[1,1795],99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(fi,[2,517]),t(as,[2,498]),t(as,[2,499]),t(as,[2,500]),t(so,[2,509]),{2:i,3:1797,4:r,5:o,77:[2,1117],371:1796},{77:[1,1798]},{2:i,3:1800,4:r,5:o,77:[2,1123],383:1799},t(cs,[2,1122]),{77:[1,1801]},{77:[1,1802]},t(H,[2,608]),t(H,[2,1132]),t(Qo,Ko,{361:1627,360:1803,367:ts}),{74:io,78:[1,1804]},t(ao,[2,713],{74:Pr}),{74:io,78:[1,1805]},t(ao,[2,715]),t(ao,[2,708]),{99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,309:[1,1806],311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(ao,[2,711]),{99:xe,112:_e,114:625,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,309:[1,1807],311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,327:637,330:Ke,331:tn,332:en,333:nn},t(ao,[2,709]),t(ar,[2,251]),{40:1808,79:75,89:l,184:99,189:d,240:[1,1809]},{40:1810,79:75,89:l,184:99,189:d},t(ar,[2,253]),{40:1811,79:75,89:l,184:99,189:d},t(ar,[2,254]),{40:1812,79:75,89:l,184:99,189:d},t(ns,[2,268]),{131:st,196:1813},{249:[1,1814]},{249:[2,1100]},t(ls,[2,243]),t(wo,[2,249],{114:625,327:637,99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1660,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,233:1815,235:1656,236:is,237:rs,238:os,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{74:us,78:[1,1816]},{74:us,78:[1,1817]},t(jr,[2,1053],{97:1818,104:1819,3:1821,2:i,4:r,5:o,76:hs}),{2:i,3:168,4:r,5:o,56:165,77:ot,94:1824,103:1822,105:1823,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1011,4:r,5:o,100:1825,111:1440},t(Xo,[2,215]),t(To,[2,173]),{2:i,3:1826,4:r,5:o},t(To,[2,175]),{2:i,3:1827,4:r,5:o},t(fi,[2,551]),t(fi,[2,1126]),t(fi,[2,549]),{78:[1,1828]},t(fi,[2,563]),{77:[1,1829]},{77:[2,1118]},{2:i,3:1831,4:r,5:o,132:fs,372:1830},{77:[1,1833]},{77:[2,1124]},{2:i,3:1011,4:r,5:o,100:1834,111:1440},{2:i,3:1011,4:r,5:o,100:1835,111:1440},t(H,[2,612]),t(H,[2,721]),{343:[1,1837],344:[1,1836]},{339:es,462:1838},{335:Vo,338:qo,461:1839},t(ar,[2,252]),{40:1840,79:75,89:l,184:99,189:d},t(ar,[2,255]),t(ar,[2,257]),t(ar,[2,258]),t(ns,[2,271]),{131:[2,1101],250:1841,645:[1,1842]},{74:us,78:[1,1843]},t(ls,[2,245]),t(ls,[2,246]),t(jr,[2,74]),t(jr,[2,1054]),{2:i,3:1844,4:r,5:o},t(jr,[2,78]),{74:[1,1846],78:[1,1845]},t(so,[2,80]),t(so,[2,81],{114:625,327:637,76:[1,1847],99:xe,112:_e,115:Ee,116:we,123:Te,124:gi,133:Ae,136:Ie,138:Ce,139:Le,140:Me,141:Ne,142:Re,154:Oe,170:De,171:Pe,179:ke,180:ze,311:Fe,312:je,313:Be,315:Ue,316:Ge,317:Ve,318:qe,319:Ye,320:Xe,321:We,322:Ze,323:He,324:$e,325:Je,326:Qe,330:Ke,331:tn,332:en,333:nn}),{74:io,78:[1,1848]},t(To,[2,174]),t(To,[2,176]),t(fi,[2,553]),{2:i,3:1831,4:r,5:o,132:fs,372:1849},{74:ps,78:[1,1850]},t(so,[2,528]),t(so,[2,529]),{2:i,3:1011,4:r,5:o,100:1852,111:1440},{74:io,78:[1,1853]},{74:io,78:[1,1854]},{77:rr,143:lt,144:979,145:Jt,152:ft,181:mt,201:980,302:kt,342:1855,419:190,420:Bt,424:Ut},{344:[1,1856]},t(ao,[2,710]),t(ao,[2,712]),t(ar,[2,256]),{131:st,196:1857},{131:[2,1102]},t(ls,[2,244]),t(jr,[2,77]),{78:[2,76]},{2:i,3:168,4:r,5:o,56:165,77:ot,94:1824,105:1858,111:149,113:153,131:st,132:at,137:ut,143:lt,144:161,145:ct,149:ht,152:ft,154:pt,156:$,158:167,179:dt,180:gt,181:mt,196:151,200:147,201:155,202:156,254:150,255:146,256:148,257:152,258:154,259:157,260:158,261:159,262:162,263:163,265:vt,266:g,270:yt,271:bt,273:xt,280:_t,281:Et,282:wt,283:Tt,284:St,285:At,286:It,287:Ct,288:Lt,290:J,291:Q,292:K,293:tt,294:Mt,295:Nt,296:Rt,297:Ot,298:Dt,299:Pt,302:kt,303:zt,312:Ft,317:jt,419:190,420:Bt,424:Ut},{2:i,3:1859,4:r,5:o},{78:[1,1860]},{74:ps,78:[1,1861]},{374:[1,1862]},{2:i,3:1863,4:r,5:o,132:[1,1864]},{74:io,78:[1,1865]},t(bi,[2,526]),t(bi,[2,527]),t(ao,[2,714],{74:Pr}),t(ao,[2,716]),t(ds,[2,1103],{251:1866,766:[1,1867]}),t(so,[2,79]),t(so,[2,82]),t(jr,[2,1055],{3:1821,101:1868,104:1869,2:i,4:r,5:o,76:hs}),t(bi,[2,518]),{2:i,3:244,4:r,5:o,199:1870},t(so,[2,530]),t(so,[2,531]),t(bi,[2,525]),t(ns,[2,1105],{252:1871,415:[1,1872]}),t(ds,[2,1104]),t(jr,[2,75]),t(jr,[2,1056]),t(gs,[2,1119],{375:1873,377:1874,77:[1,1875]}),t(ns,[2,269]),t(ns,[2,1106]),t(bi,[2,521],{376:1876,378:1877,230:[1,1878]}),t(gs,[2,1120]),{2:i,3:1831,4:r,5:o,132:fs,372:1879},t(bi,[2,519]),{230:[1,1881],379:1880},{338:[1,1882]},{74:ps,78:[1,1883]},t(bi,[2,522]),{335:[1,1884]},{380:[1,1885]},t(gs,[2,520]),{380:[1,1886]},{381:[1,1887]},{381:[1,1888]},{230:[2,523]},t(bi,[2,524])],defaultActions:{105:[2,6],194:[2,336],195:[2,337],196:[2,338],197:[2,339],198:[2,340],199:[2,341],200:[2,342],201:[2,343],202:[2,344],209:[2,695],591:[2,1142],653:[2,1107],654:[2,1108],710:[2,696],780:[2,1073],781:[2,1074],926:[2,446],927:[2,447],928:[2,448],987:[2,697],1288:[2,1152],1375:[2,1060],1433:[2,1150],1541:[2,507],1732:[2,1052],1777:[2,1100],1797:[2,1118],1800:[2,1124],1842:[2,1102],1845:[2,76],1887:[2,523]},parseError:function t(e,n){if(n.recoverable){this.trace(e)}else{function i(t,e){this.message=t;this.hash=e}i.prototype=Error;throw new i(e,n)}},parse:function t(e){var n=this,i=[0],r=[],o=[null],s=[],a=this.table,u="",l=0,c=0,h=0,f=2,p=1;var d=s.slice.call(arguments,1);var g=Object.create(this.lexer);var m={yy:{}};for(var v in this.yy){if(Object.prototype.hasOwnProperty.call(this.yy,v)){m.yy[v]=this.yy[v]}}g.setInput(e,m.yy);m.yy.lexer=g;m.yy.parser=this;if(typeof g.yylloc=="undefined"){g.yylloc={}}var y=g.yylloc;s.push(y);var b=g.options&&g.options.ranges;if(typeof m.yy.parseError==="function"){this.parseError=m.yy.parseError}else{this.parseError=Object.getPrototypeOf(this).parseError}function x(t){i.length=i.length-2*t;o.length=o.length-t;s.length=s.length-t}t:var _=function(){var t;t=g.lex()||p;if(typeof t!=="number"){t=n.symbols_[t]||t}return t};var E,w,T,S,A,I,C={},L,M,N,R;while(true){T=i[i.length-1];if(this.defaultActions[T]){S=this.defaultActions[T]}else{if(E===null||typeof E=="undefined"){E=_()}S=a[T]&&a[T][E]}t:if(typeof S==="undefined"||!S.length||!S[0]){var O;var D="";function P(t){var e=i.length-1;var n=0;for(;;){if(f.toString()in a[t]){return n}if(t===0||e<2){return false}e-=2;t=i[e];++n}}if(!h){O=P(T);R=[];for(L in a[T]){if(this.terminals_[L]&&L>f){R.push("'"+this.terminals_[L]+"'")}}if(g.showPosition){D="Parse error on line "+(l+1)+":\n"+g.showPosition()+"\nExpecting "+R.join(", ")+", got '"+(this.terminals_[E]||E)+"'"}else{D="Parse error on line "+(l+1)+": Unexpected "+(E==p?"end of input":"'"+(this.terminals_[E]||E)+"'")}this.parseError(D,{text:g.match,token:this.terminals_[E]||E,line:g.yylineno,loc:y,expected:R,recoverable:O!==false})}else if(w!==p){O=P(T)}if(h==3){if(E===p||w===p){throw new Error(D||"Parsing halted while starting to recover from another error.")}c=g.yyleng;u=g.yytext;l=g.yylineno;y=g.yylloc;E=_()}if(O===false){throw new Error(D||"Parsing halted. No suitable error recovery rule available.")}x(O);w=E==f?null:E;E=f;T=i[i.length-1];S=a[T]&&a[T][f];h=3}if(S[0]instanceof Array&&S.length>1){throw new Error("Parse Error: multiple actions possible at state: "+T+", token: "+E)}switch(S[0]){case 1:i.push(E);o.push(g.yytext);s.push(g.yylloc);i.push(S[1]);E=null;if(!w){c=g.yyleng;u=g.yytext;l=g.yylineno;y=g.yylloc;if(h>0){h--}}else{E=w;w=null}break;case 2:M=this.productions_[S[1]][1];C.$=o[o.length-M];C._$={first_line:s[s.length-(M||1)].first_line,last_line:s[s.length-1].last_line,first_column:s[s.length-(M||1)].first_column,last_column:s[s.length-1].last_column};if(b){C._$.range=[s[s.length-(M||1)].range[0],s[s.length-1].range[1]]}I=this.performAction.apply(C,[u,c,l,m.yy,S[1],o,s].concat(d));if(typeof I!=="undefined"){return I}if(M){i=i.slice(0,-1*M*2);o=o.slice(0,-1*M);s=s.slice(0,-1*M)}i.push(this.productions_[S[1]][0]);o.push(C.$);s.push(C._$);N=a[i[i.length-2]][i[i.length-1]];i.push(N);break;case 3:return true}}return true}};var vs=["A","ABSENT","ABSOLUTE","ACCORDING","ACTION","ADA","ADD","ADMIN","AFTER","ALWAYS","ASC","ASSERTION","ASSIGNMENT","ATTRIBUTE","ATTRIBUTES","BASE64","BEFORE","BERNOULLI","BLOCKED","BOM","BREADTH","C","CASCADE","CATALOG","CATALOG_NAME","CHAIN","CHARACTERISTICS","CHARACTERS","CHARACTER_SET_CATALOG","CHARACTER_SET_NAME","CHARACTER_SET_SCHEMA","CLASS_ORIGIN","COBOL","COLLATION","COLLATION_CATALOG","COLLATION_NAME","COLLATION_SCHEMA","COLUMNS","COLUMN_NAME","COMMAND_FUNCTION","COMMAND_FUNCTION_CODE","COMMITTED","CONDITION_NUMBER","CONNECTION","CONNECTION_NAME","CONSTRAINTS","CONSTRAINT_CATALOG","CONSTRAINT_NAME","CONSTRAINT_SCHEMA","CONSTRUCTOR","CONTENT","CONTINUE","CONTROL","CURSOR_NAME","DATA","DATETIME_INTERVAL_CODE","DATETIME_INTERVAL_PRECISION","DB","DEFAULTS","DEFERRABLE","DEFERRED","DEFINED","DEFINER","DEGREE","DEPTH","DERIVED","DESC","DESCRIPTOR","DIAGNOSTICS","DISPATCH","DOCUMENT","DOMAIN","DYNAMIC_FUNCTION","DYNAMIC_FUNCTION_CODE","EMPTY","ENCODING","ENFORCED","EXCLUDE","EXCLUDING","EXPRESSION","FILE","FINAL","FIRST","FLAG","FOLLOWING","FORTRAN","FOUND","FS","G","GENERAL","GENERATED","GO","GOTO","GRANTED","HEX","HIERARCHY","ID","IGNORE","IMMEDIATE","IMMEDIATELY","IMPLEMENTATION","INCLUDING","INCREMENT","INDENT","INITIALLY","INPUT","INSTANCE","INSTANTIABLE","INSTEAD","INTEGRITY","INVOKER","ISOLATION","K","KEY","KEY_MEMBER","KEY_TYPE","LAST","LENGTH","LEVEL","LIBRARY","LIMIT","LINK","LOCATION","LOCATOR","M","MAP","MAPPING","MATCHED","MAXVALUE","MESSAGE_LENGTH","MESSAGE_OCTET_LENGTH","MESSAGE_TEXT","MINVALUE","MORE","MUMPS","NAME","NAMES","NAMESPACE","NESTING","NEXT","NFC","NFD","NFKC","NFKD","NIL","NORMALIZED","NULLABLE","NULLS","NUMBER","OBJECT","OCTETS","OFF","OPTION","OPTIONS","ORDERING","ORDINALITY","OTHERS","OUTPUT","OVERRIDING","P","PAD","PARAMETER_MODE","PARAMETER_NAME","PARAMETER_ORDINAL_POSITION","PARAMETER_SPECIFIC_CATALOG","PARAMETER_SPECIFIC_NAME","PARAMETER_SPECIFIC_SCHEMA","PARTIAL","PASCAL","PASSING","PASSTHROUGH","PATH","PERMISSION","PLACING","PLI","PRECEDING","PRESERVE","PRIOR","PRIVILEGES","PUBLIC","READ","RECOVERY","RELATIVE","REPEATABLE","REQUIRING","RESPECT","RESTART","RESTORE","RESTRICT","RETURNED_CARDINALITY","RETURNED_LENGTH","RETURNED_OCTET_LENGTH","RETURNED_SQLSTATE","RETURNING","ROLE","ROUTINE","ROUTINE_CATALOG","ROUTINE_NAME","ROUTINE_SCHEMA","ROW_COUNT","SCALE","SCHEMA","SCHEMA_NAME","SCOPE_CATALOG","SCOPE_NAME","SCOPE_SCHEMA","SECTION","SECURITY","SELECTIVE","SELF","SEQUENCE","SERIALIZABLE","SERVER","SERVER_NAME","SESSION","SETS","SIMPLE","SIZE","SOURCE","SPACE","SPECIFIC_NAME","STANDALONE","STATE","STATEMENT","STRIP","STRUCTURE","STYLE","SUBCLASS_ORIGIN","T","TABLE_NAME","TEMPORARY","TIES","TOKEN","TOP_LEVEL_COUNT","TRANSACTION","TRANSACTIONS_COMMITTED","TRANSACTIONS_ROLLED_BACK","TRANSACTION_ACTIVE","TRANSFORM","TRANSFORMS","TRIGGER_CATALOG","TRIGGER_NAME","TRIGGER_SCHEMA","TYPE","UNBOUNDED","UNCOMMITTED","UNDER","UNLINK","UNNAMED","UNTYPED","URI","USAGE","USER_DEFINED_TYPE_CATALOG","USER_DEFINED_TYPE_CODE","USER_DEFINED_TYPE_NAME","USER_DEFINED_TYPE_SCHEMA","VALID","VERSION","VIEW","WHITESPACE","WORK","WRAPPER","WRITE","XMLDECLARATION","XMLSCHEMA","YES","ZONE"];ms.parseError=function(t,e){if(e.expected&&e.expected.indexOf("'LITERAL'")>-1&&/[a-zA-Z_][a-zA-Z_0-9]*/.test(e.token)&&vs.indexOf(e.token)>-1){return}throw new SyntaxError(t)};var ys=function(){var t={EOF:1,parseError:function t(e,n){if(this.yy.parser){this.yy.parser.parseError(e,n)}else{throw new Error(e)}},setInput:function(t,e){this.yy=e||this.yy||{};this._input=t;this._more=this._backtrack=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};if(this.options.ranges){this.yylloc.range=[0,0]}this.offset=0;return this},input:function(){var t=this._input[0];this.yytext+=t;this.yyleng++;this.offset++;this.match+=t;this.matched+=t;var e=t.match(/(?:\r\n?|\n).*/g);if(e){this.yylineno++;this.yylloc.last_line++}else{this.yylloc.last_column++}if(this.options.ranges){this.yylloc.range[1]++}this._input=this._input.slice(1);return t},unput:function(t){var e=t.length;var n=t.split(/(?:\r\n?|\n)/g);this._input=t+this._input;this.yytext=this.yytext.substr(0,this.yytext.length-e);this.offset-=e;var i=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1);this.matched=this.matched.substr(0,this.matched.length-1);if(n.length-1){this.yylineno-=n.length-1}var r=this.yylloc.range;this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===i.length?this.yylloc.first_column:0)+i[i.length-n.length].length-n[0].length:this.yylloc.first_column-e};if(this.options.ranges){this.yylloc.range=[r[0],r[0]+this.yyleng-e]}this.yyleng=this.yytext.length;return this},more:function(){this._more=true;return this},reject:function(){if(this.options.backtrack_lexer){this._backtrack=true}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}return this},less:function(t){this.unput(this.match.slice(t))},pastInput:function(){var t=this.matched.substr(0,this.matched.length-this.match.length);return(t.length>20?"...":"")+t.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var t=this.match;if(t.length<20){t+=this._input.substr(0,20-t.length)}return(t.substr(0,20)+(t.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var t=this.pastInput();var e=new Array(t.length+1).join("-");return t+this.upcomingInput()+"\n"+e+"^"},test_match:function(t,e){var n,i,r;if(this.options.backtrack_lexer){r={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done};if(this.options.ranges){r.yylloc.range=this.yylloc.range.slice(0)}}i=t[0].match(/(?:\r\n?|\n).*/g);if(i){this.yylineno+=i.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:i?i[i.length-1].length-i[i.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+t[0].length};this.yytext+=t[0];this.match+=t[0];this.matches=t;this.yyleng=this.yytext.length;if(this.options.ranges){this.yylloc.range=[this.offset,this.offset+=this.yyleng]}this._more=false;this._backtrack=false;this._input=this._input.slice(t[0].length);this.matched+=t[0];n=this.performAction.call(this,this.yy,this,e,this.conditionStack[this.conditionStack.length-1]);if(this.done&&this._input){this.done=false}if(n){return n}else if(this._backtrack){for(var o in r){this[o]=r[o]}return false}return false},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var t,e,n,i;if(!this._more){this.yytext="";this.match=""}var r=this._currentRules();for(var o=0;o<r.length;o++){n=this._input.match(this.rules[r[o]]);if(n&&(!e||n[0].length>e[0].length)){e=n;i=o;if(this.options.backtrack_lexer){t=this.test_match(n,r[o]);if(t!==false){return t}else if(this._backtrack){e=false;continue}else{return false}}else if(!this.options.flex){break}}}if(e){t=this.test_match(e,r[i]);if(t!==false){return t}return false}if(this._input===""){return this.EOF}else{return this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function t(){var e=this.next();if(e){return e}else{return this.lex()}},begin:function t(e){this.conditionStack.push(e)},popState:function t(){var e=this.conditionStack.length-1;if(e>0){return this.conditionStack.pop()}else{return this.conditionStack[0]}},_currentRules:function t(){if(this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules}else{return this.conditions["INITIAL"].rules}},topState:function t(e){e=this.conditionStack.length-1-Math.abs(e||0);if(e>=0){return this.conditionStack[e]}else{return"INITIAL"}},pushState:function t(e){this.begin(e)},stateStackSize:function t(){return this.conditionStack.length},options:{"case-insensitive":true},performAction:function t(e,n,i,r){var o=r;switch(i){case 0:return 266;break;case 1:return 302;break;case 2:return 420;break;case 3:return 299;break;case 4:return 5;break;case 5:return 5;break;case 6:return 296;break;case 7:return 296;break;case 8:return 132;break;case 9:return 132;break;case 10:return;break;case 11:break;case 12:return 316;break;case 13:return 319;break;case 14:n.yytext="VALUE";return 89;break;case 15:n.yytext="VALUE";return 189;break;case 16:n.yytext="ROW";return 189;break;case 17:n.yytext="COLUMN";return 189;break;case 18:n.yytext="MATRIX";return 189;break;case 19:n.yytext="INDEX";return 189;break;case 20:n.yytext="RECORDSET";return 189;break;case 21:n.yytext="TEXT";return 189;break;case 22:n.yytext="SELECT";return 189;break;case 23:return 520;break;case 24:return 381;break;case 25:return 402;break;case 26:return 515;break;case 27:return 287;break;case 28:return 269;break;case 29:return 269;break;case 30:return 164;break;case 31:return 400;break;case 32:return 170;break;case 33:return 229;break;case 34:return 166;break;case 35:return 207;break;case 36:return 288;break;case 37:return 76;break;case 38:return 418;break;case 39:return 242;break;case 40:return 404;break;case 41:return 356;break;case 42:return 284;break;case 43:return 514;break;case 44:return 437;break;case 45:return 330;break;case 46:return 441;break;case 47:return 331;break;case 48:return 315;break;case 49:return 119;break;case 50:return 112;break;case 51:return 315;break;case 52:return 112;break;case 53:return 315;break;case 54:return 112;break;case 55:return 315;break;case 56:return 508;break;case 57:return 303;break;case 58:return 271;break;case 59:return 368;break;case 60:return 130;break;case 61:return"CLOSE";break;case 62:return 243;break;case 63:return 190;break;case 64:return 190;break;case 65:return 434;break;case 66:return 367;break;case 67:return 470;break;case 68:return 440;break;case 69:return 273;break;case 70:return 240;break;case 71:return 281;break;case 72:return 267;break;case 73:return 206;break;case 74:return 238;break;case 75:return 265;break;case 76:return"CURSOR";break;case 77:return 405;break;case 78:return 291;break;case 79:return 292;break;case 80:return 448;break;case 81:return 343;break;case 82:return 338;break;case 83:return"DELETED";break;case 84:return 242;break;case 85:return 406;break;case 86:return 185;break;case 87:return 396;break;case 88:return 447;break;case 89:return 135;break;case 90:return 306;break;case 91:return 389;break;case 92:return 310;break;case 93:return 314;break;case 94:return 169;break;case 95:return 508;break;case 96:return 508;break;case 97:return 298;break;case 98:return 14;break;case 99:return 295;break;case 100:return 249;break;case 101:return 285;break;case 102:return 95;break;case 103:return 373;break;case 104:return 183;break;case 105:return 227;break;case 106:return 268;break;case 107:return 313;break;case 108:return 602;break;case 109:return 472;break;case 110:return 232;break;case 111:return 236;break;case 112:return 239;break;case 113:return 156;break;case 114:return 356;break;case 115:return 332;break;case 116:return 99;break;case 117:return 193;break;case 118:return 212;break;case 119:return 224;break;case 120:return 516;break;case 121:return 339;break;case 122:return 213;break;case 123:return 168;break;case 124:return 293;break;case 125:return 198;break;case 126:return 223;break;case 127:return 370;break;case 128:return 286;break;case 129:return"LET";break;case 130:return 225;break;case 131:return 112;break;case 132:return 245;break;case 133:return 460;break;case 134:return 191;break;case 135:return 283;break;case 136:return 390;break;case 137:return 282;break;case 138:return 452;break;case 139:return 169;break;case 140:return 403;break;case 141:return 222;break;case 142:return 645;break;case 143:return 270;break;case 144:return 244;break;case 145:return 380;break;case 146:return 154;break;case 147:return 297;break;case 148:return 433;break;case 149:return 230;break;case 150:return 415;break;case 151:return 129;break;case 152:return 247;break;case 153:return"OPEN";break;case 154:return 416;break;case 155:return 171;break;case 156:return 118;break;case 157:return 208;break;case 158:return 276;break;case 159:return 172;break;case 160:return 279;break;case 161:return 765;break;case 162:return 93;break;case 163:return 16;break;case 164:return 369;break;case 165:return 442;break;case 166:return 678;break;case 167:return 15;break;case 168:return 414;break;case 169:return 194;break;case 170:return"REDUCE";break;case 171:return 374;break;case 172:return 311;break;case 173:return 517;break;case 174:return 682;break;case 175:return 107;break;case 176:return 401;break;case 177:return 175;break;case 178:return 290;break;case 179:return 443;break;case 180:return 687;break;case 181:return 173;break;case 182:return 173;break;case 183:return 226;break;case 184:return 436;break;case 185:return 237;break;case 186:return 150;break;case 187:return 766;break;case 188:return 405;break;case 189:return 89;break;case 190:return 228;break;case 191:return 146;break;case 192:return 146;break;case 193:return 409;break;case 194:return 334;break;case 195:return 417;break;case 196:return"STRATEGY";break;case 197:return"STORE";break;case 198:return 280;break;case 199:return 353;break;case 200:return 353;break;case 201:return 463;break;case 202:return 357;break;case 203:return 357;break;case 204:return 192;break;case 205:return 309;break;case 206:return"TIMEOUT";break;case 207:return 148;break;case 208:return 195;break;case 209:return 435;break;case 210:return 435;break;case 211:return 509;break;case 212:return 294;break;case 213:return 451;break;case 214:return 162;break;case 215:return 187;break;case 216:return 98;break;case 217:return 335;break;case 218:return 408;break;case 219:return 231;break;case 220:return 149;break;case 221:return 344;break;case 222:return 134;break;case 223:return 410;break;case 224:return 308;break;case 225:return 128;break;case 226:return 439;break;case 227:return 72;break;case 228:return 435;break;case 229:return 131;break;case 230:return 131;break;case 231:return 115;break;case 232:return 137;break;case 233:return 179;break;case 234:return 317;break;case 235:return 180;break;case 236:return 133;break;case 237:return 138;break;case 238:return 326;break;case 239:return 323;break;case 240:return 325;break;case 241:return 322;break;case 242:return 320;break;case 243:return 318;break;case 244:return 319;break;case 245:return 142;break;case 246:return 141;break;case 247:return 139;break;case 248:return 321;break;case 249:return 324;break;case 250:return 140;break;case 251:return 124;break;case 252:return 324;break;case 253:return 77;break;case 254:return 78;break;case 255:return 145;break;case 256:return 424;break;case 257:return 426;break;case 258:return 300;break;case 259:return 505;break;case 260:return 507;break;case 261:return 122;break;case 262:return 116;break;case 263:return 74;break;case 264:return 333;break;case 265:return 152;break;case 266:return 764;break;case 267:return 143;break;case 268:return 181;break;case 269:return 136;break;case 270:return 123;break;case 271:return 312;break;case 272:return 4;break;case 273:return 10;break;case 274:return"INVALID";break}},rules:[/^(?:``([^\`])+``)/i,/^(?:\[\?\])/i,/^(?:@\[)/i,/^(?:ARRAY\[)/i,/^(?:\[([^\]])*?\])/i,/^(?:`([^\`])*?`)/i,/^(?:N(['](\\.|[^']|\\')*?['])+)/i,/^(?:X(['](\\.|[^']|\\')*?['])+)/i,/^(?:(['](\\.|[^']|\\')*?['])+)/i,/^(?:(["](\\.|[^"]|\\")*?["])+)/i,/^(?:--(.*?)($|\r\n|\r|\n))/i,/^(?:\s+)/i,/^(?:\|\|)/i,/^(?:\|)/i,/^(?:VALUE\s+OF\s+SEARCH\b)/i,/^(?:VALUE\s+OF\s+SELECT\b)/i,/^(?:ROW\s+OF\s+SELECT\b)/i,/^(?:COLUMN\s+OF\s+SELECT\b)/i,/^(?:MATRIX\s+OF\s+SELECT\b)/i,/^(?:INDEX\s+OF\s+SELECT\b)/i,/^(?:RECORDSET\s+OF\s+SELECT\b)/i,/^(?:TEXT\s+OF\s+SELECT\b)/i,/^(?:SELECT\b)/i,/^(?:ABSOLUTE\b)/i,/^(?:ACTION\b)/i,/^(?:ADD\b)/i,/^(?:AFTER\b)/i,/^(?:AGGR\b)/i,/^(?:AGGREGATE\b)/i,/^(?:AGGREGATOR\b)/i,/^(?:ALL\b)/i,/^(?:ALTER\b)/i,/^(?:AND\b)/i,/^(?:ANTI\b)/i,/^(?:ANY\b)/i,/^(?:APPLY\b)/i,/^(?:ARRAY\b)/i,/^(?:AS\b)/i,/^(?:ASSERT\b)/i,/^(?:ASC\b)/i,/^(?:ATTACH\b)/i,/^(?:AUTO(_)?INCREMENT\b)/i,/^(?:AVG\b)/i,/^(?:BEFORE\b)/i,/^(?:BEGIN\b)/i,/^(?:BETWEEN\b)/i,/^(?:BREAK\b)/i,/^(?:NOT\s+BETWEEN\b)/i,/^(?:NOT\s+LIKE\b)/i,/^(?:BY\b)/i,/^(?:~~\*)/i,/^(?:!~~\*)/i,/^(?:~~)/i,/^(?:!~~)/i,/^(?:ILIKE\b)/i,/^(?:NOT\s+ILIKE\b)/i,/^(?:CALL\b)/i,/^(?:CASE\b)/i,/^(?:CAST\b)/i,/^(?:CHECK\b)/i,/^(?:CLASS\b)/i,/^(?:CLOSE\b)/i,/^(?:COLLATE\b)/i,/^(?:COLUMN\b)/i,/^(?:COLUMNS\b)/i,/^(?:COMMIT\b)/i,/^(?:CONSTRAINT\b)/i,/^(?:CONTENT\b)/i,/^(?:CONTINUE\b)/i,/^(?:CONVERT\b)/i,/^(?:CORRESPONDING\b)/i,/^(?:COUNT\b)/i,/^(?:CREATE\b)/i,/^(?:CROSS\b)/i,/^(?:CUBE\b)/i,/^(?:CURRENT_TIMESTAMP\b)/i,/^(?:CURSOR\b)/i,/^(?:DATABASE(S)?)/i,/^(?:DATEADD\b)/i,/^(?:DATEDIFF\b)/i,/^(?:DECLARE\b)/i,/^(?:DEFAULT\b)/i,/^(?:DELETE\b)/i,/^(?:DELETED\b)/i,/^(?:DESC\b)/i,/^(?:DETACH\b)/i,/^(?:DISTINCT\b)/i,/^(?:DROP\b)/i,/^(?:ECHO\b)/i,/^(?:EDGE\b)/i,/^(?:END\b)/i,/^(?:ENUM\b)/i,/^(?:ELSE\b)/i,/^(?:ESCAPE\b)/i,/^(?:EXCEPT\b)/i,/^(?:EXEC\b)/i,/^(?:EXECUTE\b)/i,/^(?:EXISTS\b)/i,/^(?:EXPLAIN\b)/i,/^(?:FALSE\b)/i,/^(?:FETCH\b)/i,/^(?:FIRST\b)/i,/^(?:FOR\b)/i,/^(?:FOREIGN\b)/i,/^(?:FROM\b)/i,/^(?:FULL\b)/i,/^(?:FUNCTION\b)/i,/^(?:GLOB\b)/i,/^(?:GO\b)/i,/^(?:GRAPH\b)/i,/^(?:GROUP\b)/i,/^(?:GROUPING\b)/i,/^(?:HAVING\b)/i,/^(?:IF\b)/i,/^(?:IDENTITY\b)/i,/^(?:IS\b)/i,/^(?:IN\b)/i,/^(?:INDEX\b)/i,/^(?:INDEXED\b)/i,/^(?:INNER\b)/i,/^(?:INSTEAD\b)/i,/^(?:INSERT\b)/i,/^(?:INSERTED\b)/i,/^(?:INTERSECT\b)/i,/^(?:INTERVAL\b)/i,/^(?:INTO\b)/i,/^(?:JOIN\b)/i,/^(?:KEY\b)/i,/^(?:LAST\b)/i,/^(?:LET\b)/i,/^(?:LEFT\b)/i,/^(?:LIKE\b)/i,/^(?:LIMIT\b)/i,/^(?:MATCHED\b)/i,/^(?:MATRIX\b)/i,/^(?:MAX(\s+)?(?=\())/i,/^(?:MAX(\s+)?(?=(,|\))))/i,/^(?:MIN(\s+)?(?=\())/i,/^(?:MERGE\b)/i,/^(?:MINUS\b)/i,/^(?:MODIFY\b)/i,/^(?:NATURAL\b)/i,/^(?:NEXT\b)/i,/^(?:NEW\b)/i,/^(?:NOCASE\b)/i,/^(?:NO\b)/i,/^(?:NOT\b)/i,/^(?:NULL\b)/i,/^(?:OFF\b)/i,/^(?:ON\b)/i,/^(?:ONLY\b)/i,/^(?:OF\b)/i,/^(?:OFFSET\b)/i,/^(?:OPEN\b)/i,/^(?:OPTION\b)/i,/^(?:OR\b)/i,/^(?:ORDER\b)/i,/^(?:OUTER\b)/i,/^(?:OVER\b)/i,/^(?:PATH\b)/i,/^(?:PARTITION\b)/i,/^(?:PERCENT\b)/i,/^(?:PIVOT\b)/i,/^(?:PLAN\b)/i,/^(?:PRIMARY\b)/i,/^(?:PRINT\b)/i,/^(?:PRIOR\b)/i,/^(?:QUERY\b)/i,/^(?:READ\b)/i,/^(?:RECORDSET\b)/i,/^(?:REDUCE\b)/i,/^(?:REFERENCES\b)/i,/^(?:REGEXP\b)/i,/^(?:REINDEX\b)/i,/^(?:RELATIVE\b)/i,/^(?:REMOVE\b)/i,/^(?:RENAME\b)/i,/^(?:REPEAT\b)/i,/^(?:REPLACE\b)/i,/^(?:REQUIRE\b)/i,/^(?:RESTORE\b)/i,/^(?:RETURN\b)/i,/^(?:RETURNS\b)/i,/^(?:RIGHT\b)/i,/^(?:ROLLBACK\b)/i,/^(?:ROLLUP\b)/i,/^(?:ROW\b)/i,/^(?:ROWS\b)/i,/^(?:SCHEMA(S)?)/i,/^(?:SEARCH\b)/i,/^(?:SEMI\b)/i,/^(?:SET\b)/i,/^(?:SETS\b)/i,/^(?:SHOW\b)/i,/^(?:SOME\b)/i,/^(?:SOURCE\b)/i,/^(?:STRATEGY\b)/i,/^(?:STORE\b)/i,/^(?:SUM\b)/i,/^(?:TABLE\b)/i,/^(?:TABLES\b)/i,/^(?:TARGET\b)/i,/^(?:TEMP\b)/i,/^(?:TEMPORARY\b)/i,/^(?:TEXTSTRING\b)/i,/^(?:THEN\b)/i,/^(?:TIMEOUT\b)/i,/^(?:TO\b)/i,/^(?:TOP\b)/i,/^(?:TRAN\b)/i,/^(?:TRANSACTION\b)/i,/^(?:TRIGGER\b)/i,/^(?:TRUE\b)/i,/^(?:TRUNCATE\b)/i,/^(?:UNION\b)/i,/^(?:UNIQUE\b)/i,/^(?:UNPIVOT\b)/i,/^(?:UPDATE\b)/i,/^(?:USE\b)/i,/^(?:USING\b)/i,/^(?:VALUE\b)/i,/^(?:VALUES\b)/i,/^(?:VERTEX\b)/i,/^(?:VIEW\b)/i,/^(?:WHEN\b)/i,/^(?:WHERE\b)/i,/^(?:WHILE\b)/i,/^(?:WITH\b)/i,/^(?:WORK\b)/i,/^(?:(\d*[.])?\d+[eE]\d+)/i,/^(?:(\d*[.])?\d+)/i,/^(?:->)/i,/^(?:#)/i,/^(?:\+)/i,/^(?:-)/i,/^(?:\*)/i,/^(?:\/)/i,/^(?:%)/i,/^(?:!===)/i,/^(?:===)/i,/^(?:!==)/i,/^(?:==)/i,/^(?:>=)/i,/^(?:&)/i,/^(?:\|)/i,/^(?:<<)/i,/^(?:>>)/i,/^(?:>)/i,/^(?:<=)/i,/^(?:<>)/i,/^(?:<)/i,/^(?:=)/i,/^(?:!=)/i,/^(?:\()/i,/^(?:\))/i,/^(?:@)/i,/^(?:\{)/i,/^(?:\})/i,/^(?:\])/i,/^(?::-)/i,/^(?:\?-)/i,/^(?:\.\.)/i,/^(?:\.)/i,/^(?:,)/i,/^(?:::)/i,/^(?::)/i,/^(?:;)/i,/^(?:\$)/i,/^(?:\?)/i,/^(?:!)/i,/^(?:\^)/i,/^(?:~)/i,/^(?:[a-zA-Z_][a-zA-Z_0-9]*)/i,/^(?:$)/i,/^(?:.)/i],conditions:{INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,111,112,113,114,115,116,117,118,119,120,121,122,123,124,125,126,127,128,129,130,131,132,133,134,135,136,137,138,139,140,141,142,143,144,145,146,147,148,149,150,151,152,153,154,155,156,157,158,159,160,161,162,163,164,165,166,167,168,169,170,171,172,173,174,175,176,177,178,179,180,181,182,183,184,185,186,187,188,189,190,191,192,193,194,195,196,197,198,199,200,201,202,203,204,205,206,207,208,209,210,211,212,213,214,215,216,217,218,219,220,221,222,223,224,225,226,227,228,229,230,231,232,233,234,235,236,237,238,239,240,241,242,243,244,245,246,247,248,249,250,251,252,253,254,255,256,257,258,259,260,261,262,263,264,265,266,267,268,269,270,271,272,273,274],inclusive:true}}};return t}();ms.lexer=ys;function bs(){this.yy={}}bs.prototype=ms;ms.Parser=bs;return new bs}();if(typeof require!=="undefined"&&typeof e!=="undefined"){e.parser=i;e.Parser=i.Parser;e.parse=function(){return i.parse.apply(i,arguments)};e.main=function t(n){if(!n[1]){console.log("Usage: "+n[0]+" FILE");process.exit(1)}var i=require("fs").readFileSync(require("path").normalize(n[1]),"utf8");return e.parser.parse(i)};if(typeof t!=="undefined"&&require.main===t){e.main(process.argv.slice(1))}}n.prettyflag=false;n.pretty=function(t,e){var i=n.prettyflag;n.prettyflag=!e;var r=n.parse(t).toString();n.prettyflag=i;return r};var r=n.utils={};function o(t){return"(y="+t+",y===y?y:undefined)"}function a(t,e){return"(y="+t+',typeof y=="undefined"?undefined:'+e+")"}function u(){return true}function l(){}var c=r.escapeq=function(t){return(""+t).replace(/["'\\\n\r\u2028\u2029]/g,function(t){switch(t){case'"':case"'":case"\\":return"\\"+t;case"\n":return"\\n";case"\r":return"\\r";case"\u2028":return"\\u2028";case"\u2029":return"\\u2029"}})};var h=r.undoubleq=function(t){return t.replace(/(\')/g,"''")};var f=r.doubleq=function(t){return t.replace(/(\'\')/g,"\\'")};var p=r.doubleqq=function(t){return t.replace(/\'/g,"'")};var d=function(t){if(t[0]===String.fromCharCode(65279)){t=t.substr(1)}return t};r.global=function(){try{return Function("return this")()}catch(e){var t=self||window||t;if(t){return t}else{throw new Error("Unable to locate global object")}}}();var g=r.isNativeFunction=function(t){return typeof t==="function"&&!!~t.toString().indexOf("[native code]")};r.isWebWorker=function(){try{var t=r.global.importScripts;return r.isNativeFunction(t)}catch(t){return false}}();r.isNode=function(){try{return r.isNativeFunction(r.global.process.reallyExit)}catch(t){return false}}();r.isBrowser=function(){try{return r.isNativeFunction(r.global.location.reload)}catch(t){return false}}();r.isBrowserify=function(){return r.isBrowser&&typeof process!=="undefined"&&process.browser}();r.isRequireJS=function(){return r.isBrowser&&typeof require==="function"&&typeof require.specified==="function"}();r.isMeteor=function(){return typeof Meteor!=="undefined"&&Meteor.release}();r.isMeteorClient=r.isMeteorClient=function(){return r.isMeteor&&Meteor.isClient}();r.isMeteorServer=function(){return r.isMeteor&&Meteor.isServer}();r.isCordova=function(){return typeof cordova==="object"}();r.isReactNative=function(){var t=false;try{if(typeof require("react-native")==="object"){t=true}}catch(t){void 0}return t}();r.hasIndexedDB=function(){return!!r.global.indexedDB}();r.isArray=function(t){return"[object Array]"===Object.prototype.toString.call(t)};var m=r.loadFile=function(t,e,n,i){var o,s;if(r.isNode||r.isMeteorServer){if(r.isMeteor){s=Npm.require("fs")}else{s=require("fs")}if(typeof t==="undefined"){var a="";process.stdin.setEncoding("utf8");process.stdin.on("readable",function(){var t=process.stdin.read();if(t!==null){a+=t.toString()}});process.stdin.on("end",function(){n(d(a))})}else{if(/^[a-z]+:\/\//i.test(t)){var u=require("request");u(t,function(t,e,i){if(t){throw t}n(d(i.toString()))})}else{if(e){s.readFile(t,function(t,e){if(t){throw t}n(d(e.toString()))})}else{o=s.readFileSync(t);n(d(o.toString()))}}}}else if(r.isReactNative){var l=require("react-native-fs");l.readFile(t,"utf8").then(function(t){n(d(t))}).catch(function(t){throw t})}else if(r.isCordova){r.global.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(e){e.root.getFile(t,{create:false},function(t){t.file(function(t){var e=new FileReader;e.onloadend=function(t){n(d(this.result))};e.readAsText(t)})})})}else{if(typeof t==="string"){if(t.substr(0,1)==="#"&&typeof document!=="undefined"){o=document.querySelector(t).textContent;n(o)}else{var c=new XMLHttpRequest;c.onreadystatechange=function(){if(c.readyState===4){if(c.status===200){if(n){n(d(c.responseText))}}else if(i){i(c)}}};c.open("GET",t,e);c.responseType="text";c.send()}}else if(t instanceof Event){var h=t.target.files;var f=new FileReader;var p=h[0].name;f.onload=function(t){var e=t.target.result;n(d(e))};f.readAsText(h[0])}}};var y=r.loadBinaryFile=function(t,e,n,i){var o;if(r.isNode||r.isMeteorServer){if(r.isMeteorServer){o=Npm.require("fs")}else{o=require("fs")}if(/^[a-z]+:\/\//i.test(t)){var s=require("request");s({url:t,encoding:null},function(t,e,i){if(t){throw t}var r=[];for(var o=0;o<i.length;++o){r[o]=String.fromCharCode(i[o])}n(r.join(""))})}else{if(e){o.readFile(t,function(t,e){if(t){throw t}var i=[];for(var r=0;r<e.length;++r){i[r]=String.fromCharCode(e[r])}n(i.join(""))})}else{var a=o.readFileSync(t);var u=[];for(var l=0;l<a.length;++l){u[l]=String.fromCharCode(a[l])}n(u.join(""))}}}else if(r.isReactNative){var c=require("react-native-fetch-blob").default;var h=c.fs.dirs;c.fs.readFile(t,"base64").then(function(t){n(t)})}else{if(typeof t==="string"){var f=new XMLHttpRequest;f.open("GET",t,e);f.responseType="arraybuffer";f.onload=function(){var t=new Uint8Array(f.response);var e=[];for(var i=0;i<t.length;++i){e[i]=String.fromCharCode(t[i])}n(e.join(""))};f.send()}else if(t instanceof Event){var p=t.target.files;var d=new FileReader;var g=p[0].name;d.onload=function(t){var e=t.target.result;n(e)};d.readAsArrayBuffer(p[0])}else if(t instanceof Blob){n(t)}}};var b=r.removeFile=function(t,e){if(r.isNode){var n=require("fs");n.remove(t,e)}else if(r.isCordova){r.global.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(n){n.root.getFile(t,{create:false},function(t){t.remove(e);e&&e()},function(){e&&e()})})}else if(r.isReactNative){var i=require("react-native-fs");i.unlink(t).then(function(){e&&e()}).catch(function(t){throw t})}else{throw new Error("You can remove files only in Node.js and Apache Cordova")}};var x=r.deleteFile=function(t,e){if(r.isNode){var n=require("fs");n.unlink(t,e)}else if(r.isReactNative){var i=require("react-native-fs");i.unlink(t).then(function(){e&&e()}).catch(function(t){throw t})}};r.autoExtFilename=function(t,e,n){n=n||{};if(typeof t!=="string"||t.match(/^[A-z]+:\/\/|\n|\..{2,4}$/)||n.autoExt===0||n.autoExt===false){return t}return t+"."+e};var _=r.fileExists=function(t,e){if(r.isNode){var n=require("fs");n.exists(t,e)}else if(r.isCordova){r.global.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(n){n.root.getFile(t,{create:false},function(t){e(true)},function(){e(false)})})}else if(r.isReactNative){var i=require("react-native-fs");i.exists(t).then(function(t){e&&e(t)}).catch(function(t){throw t})}else{throw new Error("You can use exists() only in Node.js or Apach Cordova")}};var E=r.saveFile=function(t,e,i,o){var s=1;if(t===undefined){s=e;if(i){s=i(s)}}else{if(r.isNode){var a=require("fs");e=a.writeFileSync(t,e);if(i){s=i(s)}}else if(r.isReactNative){var u=require("react-native-fs");u.writeFile(t,e).then(function(t){if(i)s=i(s)}).catch(function(t){console.log(t.message)})}else if(r.isCordova){r.global.requestFileSystem(LocalFileSystem.PERSISTENT,0,function(n){n.root.getFile(t,{create:true},function(t){t.createWriter(function(t){t.onwriteend=function(){if(i){s=i(s)}};t.write(e)})})})}else{if(w()===9){var l=e.replace(/\r\n/g,"&#A;&#D;");l=l.replace(/\n/g,"&#D;");l=l.replace(/\t/g,"&#9;");var c=r.global.open("about:blank","_blank");c.document.write(l);c.document.close();c.document.execCommand("SaveAs",false,t);c.close()}else{var h={disableAutoBom:false};n.utils.extend(h,o);var f=new Blob([e],{type:"text/plain;charset=utf-8"});Ot(f,t,h.disableAutoBom);if(i){s=i(s)}}}}return s};function w(){var t=navigator.userAgent.toLowerCase();return t.indexOf("msie")!==-1?parseInt(t.split("msie")[1]):false}var T=r.hash=function(t){var e=5381,n=t.length;while(n)e=e*33^t.charCodeAt(--n);return e};var S=r.arrayUnion=function(t,e){var n=e.slice(0);t.forEach(function(t){if(n.indexOf(t)<0){n.push(t)}});return n};var A=r.arrayDiff=function(t,e){return t.filter(function(t){return e.indexOf(t)<0})};var I=r.arrayIntersect=function(t,e){var n=[];t.forEach(function(t){var i=false;e.forEach(function(e){i=i||t===e});if(i){n.push(t)}});return n};var C=r.arrayUnionDeep=function(t,e){var n=e.slice(0);t.forEach(function(t){var e=false;n.forEach(function(n){e=e||R(t,n)});if(!e){n.push(t)}});return n};var L=r.arrayExceptDeep=function(t,e){var n=[];t.forEach(function(t){var i=false;e.forEach(function(e){i=i||R(t,e)});if(!i){n.push(t)}});return n};var M=r.arrayIntersectDeep=function(t,e){var n=[];t.forEach(function(t){var i=false;e.forEach(function(e){i=i||R(t,e,true)});if(i){n.push(t)}});return n};var N=r.cloneDeep=function t(e){if(null===e||typeof e!=="object"){return e}if(e instanceof Date){return new Date(e)}var n=e.constructor();for(var i in e){if(e.hasOwnProperty(i)){n[i]=t(e[i])}}return n};var R=r.deepEqual=function(t,e){if(t===e){return true}if(typeof t==="object"&&null!==t&&(typeof e==="object"&&null!==e)){if(Object.keys(t).length!==Object.keys(e).length){return false}for(var n in t){if(!R(t[n],e[n])){return false}}return true}return false};var O=r.distinctArray=function(t){var e={};for(var n=0,i=t.length;n<i;n++){var r;if(typeof t[n]==="object"){r=Object.keys(t[n]).sort().map(function(e){return e+"`"+t[n][e]}).join("`")}else{r=t[n]}e[r]=t[n]}var o=[];for(var s in e){o.push(e[s])}return o};var D=r.extend=function t(e,n){e=e||{};for(var i in n){if(n.hasOwnProperty(i)){e[i]=n[i]}}return e};var P=r.flatArray=function(t){if(!t||0===t.length){return[]}if(typeof t==="object"&&t instanceof n.Recordset){return t.data.map(function(e){return e[t.columns[0].columnid]})}var e=Object.keys(t[0])[0];if(e===undefined){return[]}return t.map(function(t){return t[e]})};var k=r.arrayOfArrays=function(t){return t.map(function(t){var e=[];for(var n in t){e.push(t[n])}return e})};if(!Array.isArray){Array.isArray=function(t){return Object.prototype.toString.call(t)==="[object Array]"}}var z=r.xlsnc=function(t){var e=String.fromCharCode(65+t%26);if(t>=26){t=(t/26|0)-1;e=String.fromCharCode(65+t%26)+e;if(t>26){t=(t/26|0)-1;e=String.fromCharCode(65+t%26)+e}}return e};var F=r.xlscn=function(t){var e=t.charCodeAt(0)-65;if(t.length>1){e=(e+1)*26+t.charCodeAt(1)-65;if(t.length>2){e=(e+1)*26+t.charCodeAt(2)-65}}return e};var j=r.domEmptyChildren=function(t){var e=t.childNodes.length;while(e--){t.removeChild(t.lastChild)}};var B=r.like=function(t,e,n){if(!n)n="";var i=0;var r="^";while(i<t.length){var o=t[i],s="";if(i<t.length-1)s=t[i+1];if(o===n){r+="\\"+s;i++}else if(o==="["&&s==="^"){r+="[^";i++}else if(o==="["||o==="]"){r+=o}else if(o==="%"){r+=".*"}else if(o==="_"){r+="."}else if("/.*+?|(){}".indexOf(o)>-1){r+="\\"+o}else{r+=o}i++}r+="$";return(""+(e||"")).toUpperCase().search(RegExp(r.toUpperCase()))>-1};r.glob=function(t,e){var n=0;var i="^";while(n<e.length){var r=e[n],o="";if(n<e.length-1)o=e[n+1];if(r==="["&&o==="^"){i+="[^";n++}else if(r==="["||r==="]"){i+=r}else if(r==="*"){i+=".*"}else if(r==="?"){i+="."}else if("/.*+?|(){}".indexOf(r)>-1){i+="\\"+r}else{i+=r}n++}i+="$";return(""+(t||"")).toUpperCase().search(RegExp(i.toUpperCase()))>-1};r.findAlaSQLPath=function(){if(r.isWebWorker){return""}else if(r.isMeteorClient){return"/packages/dist/"}else if(r.isMeteorServer){return"assets/packages/dist/"}else if(r.isNode){return __dirname}else if(r.isBrowser){var t=document.getElementsByTagName("script");for(var e=0;e<t.length;e++){if(t[e].src.substr(-16).toLowerCase()==="alasql-worker.js"){return t[e].src.substr(0,t[e].src.length-16)}else if(t[e].src.substr(-20).toLowerCase()==="alasql-worker.min.js"){return t[e].src.substr(0,t[e].src.length-20)}else if(t[e].src.substr(-9).toLowerCase()==="alasql.js"){return t[e].src.substr(0,t[e].src.length-9)}else if(t[e].src.substr(-13).toLowerCase()==="alasql.min.js"){return t[e].src.substr(0,t[e].src.length-13)}}}return""};var U=function(){var t=null;if(r.isNode||r.isBrowserify||r.isMeteorServer){t=require("xlsx")||null}else{t=r.global.XLSX||null}if(null===t){throw new Error("Please include the xlsx.js library")}return t};var G=function(){return U()};n.path=n.utils.findAlaSQLPath();n.utils.uncomment=function t(e){e=("__"+e+"__").split("");var n=false,i,r=false,o=false;for(var s=0,a=e.length;s<a;s++){var u=e[s-1]!=="\\"||e[s-2]==="\\";if(n){if(e[s]===i&&u){n=false}}else if(r){if(e[s]==="*"&&e[s+1]==="/"){e[s]=e[s+1]="";r=false;s++}else{e[s]=""}}else if(o){if(e[s+1]==="\n"||e[s+1]==="\r"){o=false}e[s]=""}else{if(e[s]==='"'||e[s]==="'"){n=true;i=e[s]}else if(e[s]==="["&&e[s-1]!=="@"){n=true;i="]"}else if(e[s]==="/"&&e[s+1]==="*"){e[s]="";r=true}}}e=e.join("").slice(2,-2);return e};n.parser=i;n.parser.parseError=function(t,e){throw new Error("Have you used a reserved keyword without `escaping` it?\n"+t)};n.parse=function(t){return i.parse(n.utils.uncomment(t))};n.engines={};n.databases={};n.databasenum=0;n.options={};n.options.errorlog=false;n.options.valueof=false;n.options.dropifnotexists=false;n.options.datetimeformat="sql";n.options.casesensitive=true;n.options.logtarget="output";n.options.logprompt=true;n.options.progress=false;n.options.modifier=undefined;n.options.columnlookup=10;n.options.autovertex=true;n.options.usedbo=true;n.options.autocommit=true;n.options.cache=true;n.options.tsql=true;n.options.mysql=true;n.options.postgres=true;n.options.oracle=true;n.options.sqlite=true;n.options.orientdb=true;n.options.nocount=false;n.options.nan=false;n.options.joinstar="overwrite";n.vars={};n.declares={};n.prompthistory=[];n.plugins={};n.from={};n.into={};n.fn={};n.aggr={};n.busy=0;n.MAXSQLCACHESIZE=1e4;n.DEFAULTDATABASEID="alasql";n.lastid=0;n.buffer={};n.use=function(t){if(!t){t=n.DEFAULTDATABASEID}if(n.useid===t){return}n.useid=t;var e=n.databases[n.useid];n.tables=e.tables;e.resetSqlCache();if(n.options.usedbo){n.databases.dbo=e}};n.autoval=function(t,e,i,r){var o=r?n.databases[r]:n.databases[n.useid];if(!o.tables[t]){throw new Error("Tablename not found: "+t)}if(!o.tables[t].identities[e]){throw new Error("Colname not found: "+e)}if(i){return o.tables[t].identities[e].value||null}return o.tables[t].identities[e].value-o.tables[t].identities[e].step||null};n.exec=function(t,e,i,r){if(typeof e==="function"){r=i;i=e;e={}}delete n.error;e=e||{};if(n.options.errorlog){try{return n.dexec(n.useid,t,e,i,r)}catch(t){n.error=t;if(i){i(null,n.error)}}}else{return n.dexec(n.useid,t,e,i,r)}};n.dexec=function(t,e,i,r,o){var s=n.databases[t];var a;if(n.options.cache){a=T(e);var u=s.sqlCache[a];if(u&&s.dbversion===u.dbversion){return u(i,r)}}var l=n.parse(e);if(!l.statements){return}if(0===l.statements.length){return 0}else if(1===l.statements.length){if(l.statements[0].compile){var u=l.statements[0].compile(t,i);if(!u){return}u.sql=e;u.dbversion=s.dbversion;if(n.options.cache){if(s.sqlCacheSize>n.MAXSQLCACHESIZE){s.resetSqlCache()}s.sqlCacheSize++;s.sqlCache[a]=u}var c=n.res=u(i,r,o);return c}else{n.precompile(l.statements[0],n.useid,i);var c=n.res=l.statements[0].execute(t,i,r,o);return c}}else{if(r){n.adrun(t,l,i,r,o)}else{return n.drun(t,l,i,r,o)}}};n.drun=function(t,e,i,r,o){var s=n.useid;if(s!==t){n.use(t)}var a=[];for(var u=0,l=e.statements.length;u<l;u++){if(e.statements[u]){if(e.statements[u].compile){var c=e.statements[u].compile(n.useid);a.push(n.res=c(i,null,o))}else{n.precompile(e.statements[u],n.useid,i);a.push(n.res=e.statements[u].execute(n.useid,i))}}}if(s!==t){n.use(s)}if(r){r(a)}n.res=a;return a};n.adrun=function(t,e,i,r,o){var s=0;var a=e.statements.length;if(n.options.progress!==false){n.options.progress(a,s++)}var u=n.useid;if(u!==t){n.use(t)}var l=[];function c(h){if(h!==undefined){l.push(h)}var f=e.statements.shift();if(!f){if(u!==t){n.use(u)}r(l)}else{if(f.compile){var p=f.compile(n.useid);p(i,c,o);if(n.options.progress!==false){n.options.progress(a,s++)}}else{n.precompile(e.statements[0],n.useid,i);f.execute(n.useid,i,c);if(n.options.progress!==false){n.options.progress(a,s++)}}}}c()};n.compile=function(t,e){e=e||n.useid;var i=n.parse(t);if(1===i.statements.length){var r=i.statements[0].compile(e);r.promise=function(t){return new Promise(function(e,n){r(t,function(t,i){if(i){n(i)}else{e(t)}})})};return r}else{throw new Error("Cannot compile, because number of statements in SQL is not equal to 1")}};if(!r.global.Promise){if(r.isNode){r.global.Promise=require("es6-promise").Promise}else{(function(){"use strict";function e(t){return"function"==typeof t||"object"==typeof t&&null!==t}function n(t){return"function"==typeof t}function i(t){Y=t}function r(t){H=t}function o(){return function(){process.nextTick(c)}}function s(){return function(){q(c)}}function a(){var t=0,e=new Q(c),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function u(){var t=new MessageChannel;return t.port1.onmessage=c,function(){t.port2.postMessage(0)}}function l(){return function(){setTimeout(c,1)}}function c(){for(var t=0;Z>t;t+=2){var e=et[t],n=et[t+1];e(n),et[t]=void 0,et[t+1]=void 0}Z=0}function h(){try{var t=require,e=t("vertx");return q=e.runOnLoop||e.runOnContext,s()}catch(t){return l()}}function f(t,e){var n=this,i=new this.constructor(d);void 0===i[rt]&&O(i);var r=n._state;if(r){var o=arguments[r-1];H(function(){M(r,i,o,n._result)})}else A(n,i,t,e);return i}function p(t){var e=this;if(t&&"object"==typeof t&&t.constructor===e)return t;var n=new e(d);return E(n,t),n}function d(){}function g(){return new TypeError("You cannot resolve a promise with itself")}function m(){return new TypeError("A promises callback cannot return that same promise.")}function v(t){try{return t.then}catch(t){return ut.error=t,ut}}function y(t,e,n,i){try{t.call(e,n,i)}catch(t){return t}}function b(t,e,n){H(function(t){var i=!1,r=y(n,e,function(n){i||(i=!0,e!==n?E(t,n):T(t,n))},function(e){i||(i=!0,S(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&r&&(i=!0,S(t,r))},t)}function x(t,e){e._state===st?T(t,e._result):e._state===at?S(t,e._result):A(e,void 0,function(e){E(t,e)},function(e){S(t,e)})}function _(t,e,i){e.constructor===t.constructor&&i===nt&&constructor.resolve===it?x(t,e):i===ut?S(t,ut.error):void 0===i?T(t,e):n(i)?b(t,e,i):T(t,e)}function E(t,n){t===n?S(t,g()):e(n)?_(t,n,v(n)):T(t,n)}function w(t){t._onerror&&t._onerror(t._result),I(t)}function T(t,e){t._state===ot&&(t._result=e,t._state=st,0!==t._subscribers.length&&H(I,t))}function S(t,e){t._state===ot&&(t._state=at,t._result=e,H(w,t))}function A(t,e,n,i){var r=t._subscribers,o=r.length;t._onerror=null,r[o]=e,r[o+st]=n,r[o+at]=i,0===o&&t._state&&H(I,t)}function I(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,r,o=t._result,s=0;s<e.length;s+=3)i=e[s],r=e[s+n],i?M(n,i,r,o):r(o);t._subscribers.length=0}}function C(){this.error=null}function L(t,e){try{return t(e)}catch(t){return lt.error=t,lt}}function M(t,e,i,r){var o,s,a,u,l=n(i);if(l){if(o=L(i,r),o===lt?(u=!0,s=o.error,o=null):a=!0,e===o)return void S(e,m())}else o=r,a=!0;e._state!==ot||(l&&a?E(e,o):u?S(e,s):t===st?T(e,o):t===at&&S(e,o))}function N(t,e){try{e(function(e){E(t,e)},function(e){S(t,e)})}catch(e){S(t,e)}}function R(){return ct++}function O(t){t[rt]=ct++,t._state=void 0,t._result=void 0,t._subscribers=[]}function D(t){return new gt(this,t).promise}function P(t){var e=this;return new e(W(t)?function(n,i){for(var r=t.length,o=0;r>o;o++)e.resolve(t[o]).then(n,i)}:function(t,e){e(new TypeError("You must pass an array to race."))})}function k(t){var e=this,n=new e(d);return S(n,t),n}function z(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function F(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function j(t){this[rt]=R(),this._result=this._state=void 0,this._subscribers=[],d!==t&&("function"!=typeof t&&z(),this instanceof j?N(this,t):F())}function B(t,e){this._instanceConstructor=t,this.promise=new t(d),this.promise[rt]||O(this.promise),Array.isArray(e)?(this._input=e,this.length=e.length,this._remaining=e.length,this._result=new Array(this.length),0===this.length?T(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&T(this.promise,this._result))):S(this.promise,U())}function U(){return new Error("Array Methods must be provided an Array")}function G(){var t;if("undefined"!=typeof global)t=global;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(t){throw new Error("polyfill failed because global object is unavailable in this environment")}var e=t.Promise;(!e||"[object Promise]"!==Object.prototype.toString.call(e.resolve())||e.cast)&&(t.Promise=dt)}var V;V=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var q,Y,X,W=V,Z=0,H=function(t,e){et[Z]=t,et[Z+1]=e,Z+=2,2===Z&&(Y?Y(c):X())},$="undefined"!=typeof window?window:void 0,J=$||{},Q=J.MutationObserver||J.WebKitMutationObserver,K="undefined"==typeof self&&"undefined"!=typeof process&&"[object process]"==={}.toString.call(process),tt="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,et=new Array(1e3);X=K?o():Q?a():tt?u():void 0===$&&"function"==typeof require?h():l();var nt=f,it=p,rt=Math.random().toString(36).substring(16),ot=void 0,st=1,at=2,ut=new C,lt=new C,ct=0,ht=D,ft=P,pt=k,dt=j;j.all=ht,j.race=ft,j.resolve=it,j.reject=pt,j._setScheduler=i,j._setAsap=r,j._asap=H,j.prototype={constructor:j,then:nt,catch:function(t){return this.then(null,t)}};var gt=B;B.prototype._enumerate=function(){for(var t=this.length,e=this._input,n=0;this._state===ot&&t>n;n++)this._eachEntry(e[n],n)},B.prototype._eachEntry=function(t,e){var n=this._instanceConstructor,i=n.resolve;if(i===it){var r=v(t);if(r===nt&&t._state!==ot)this._settledAt(t._state,e,t._result);else if("function"!=typeof r)this._remaining--,this._result[e]=t;else if(n===dt){var o=new n(d);_(o,t,r),this._willSettleAt(o,e)}else this._willSettleAt(new n(function(e){e(t)}),e)}else this._willSettleAt(i(t),e)},B.prototype._settledAt=function(t,e,n){var i=this.promise;i._state===ot&&(this._remaining--,t===at?S(i,n):this._result[e]=n),0===this._remaining&&T(i,this._result)},B.prototype._willSettleAt=function(t,e){var n=this;A(t,void 0,function(t){n._settledAt(st,e,t)},function(t){n._settledAt(at,e,t)})};var mt=G,vt={Promise:dt,polyfill:mt};"function"==typeof define&&define.amd?define(function(){return vt}):"undefined"!=typeof t&&t.exports?t.exports=vt:"undefined"!=typeof this&&(this.ES6Promise=vt),mt()}).call(this)}}var V=function(t,e,i,o){return new r.global.Promise(function(r,s){n(t,e,function(t,e){if(e){s(e)}else{if(i&&o&&n.options.progress!==false){n.options.progress(i,o)}r(t)}})})};var q=function(t){if(t.length<1){return}var e,n,i;var o=[];for(var s=0;s<t.length;s++){e=t[s];if(typeof e==="string"){e=[e]}if(!r.isArray(e)||e.length<1||2<e.length){throw new Error("Error in .promise parameter")}n=e[0];i=e[1]||undefined;o.push(V(n,i,s,t.length))}return r.global.Promise.all(o)};n.promise=function(t,e){if(typeof Promise==="undefined"){throw new Error("Please include a Promise/A+ library")}if(typeof t==="string"){return V(t,e)}if(!r.isArray(t)||t.length<1||typeof e!=="undefined"){throw new Error("Error in .promise parameters")}return q(t)};var Y=n.Database=function(t){var e=this;if(e===n){if(t){e=n.databases[t];n.databases[t]=e;if(!e){throw new Error('Database "'+t+'" not found')}}else{e=n.databases.alasql;if(n.options.tsql){n.databases.tempdb=n.databases.alasql}}}if(!t){t="db"+n.databasenum++}e.databaseid=t;n.databases[t]=e;e.dbversion=0;e.tables={};e.views={};e.triggers={};e.indices={};e.objects={};e.counter=0;e.resetSqlCache();return e};Y.prototype.resetSqlCache=function(){this.sqlCache={};this.sqlCacheSize=0};Y.prototype.exec=function(t,e,i){return n.dexec(this.databaseid,t,e,i)};Y.prototype.autoval=function(t,e,i){return n.autoval(t,e,i,this.databaseid)};Y.prototype.transaction=function(t){var e=new n.Transaction(this.databaseid);var i=t(e);return i};var X=n.Transaction=function(t){this.transactionid=Date.now();this.databaseid=t;this.commited=false;this.dbversion=n.databases[t].dbversion;this.bank=JSON.stringify(n.databases[t]);return this};X.prototype.commit=function(){this.commited=true;n.databases[this.databaseid].dbversion=Date.now();delete this.bank};X.prototype.rollback=function(){if(!this.commited){n.databases[this.databaseid]=JSON.parse(this.bank);delete this.bank}else{throw new Error("Transaction already commited")}};X.prototype.exec=function(t,e,i){return n.dexec(this.databaseid,t,e,i)};X.prototype.executeSQL=X.prototype.exec;var W=n.Table=function(t){this.data=[];this.columns=[];this.xcolumns={};this.inddefs={};this.indices={};this.uniqs={};this.uniqdefs={};this.identities={};this.checks=[];this.checkfns=[];this.beforeinsert={};this.afterinsert={};this.insteadofinsert={};this.beforedelete={};this.afterdelete={};this.insteadofdelete={};this.beforeupdate={};this.afterupdate={};this.insteadofupdate={};D(this,t)};W.prototype.indexColumns=function(){var t=this;t.xcolumns={};t.columns.forEach(function(e){t.xcolumns[e.columnid]=e})};var Z=n.View=function(t){this.columns=[];this.xcolumns={};this.query=[];D(this,t)};var H=n.Query=function(t){this.alasql=n;this.columns=[];this.xcolumns={};this.selectGroup=[];this.groupColumns={};D(this,t)};var $=n.Recordset=function(t){D(this,t)};var J=i.yy=n.yy={};J.extend=D;J.casesensitive=n.options.casesensitive;var Q=J.Base=function(t){return J.extend(this,t)};Q.prototype.toString=function(){};Q.prototype.toType=function(){};Q.prototype.toJS=function(){};Q.prototype.compile=l;Q.prototype.exec=function(){};Q.prototype.compile=l;Q.prototype.exec=function(){};J.Statements=function(t){return J.extend(this,t)};J.Statements.prototype.toString=function(){return this.statements.map(function(t){return t.toString()}).join("; ")};J.Statements.prototype.compile=function(t){var e=this.statements.map(function(e){return e.compile(t)});if(e.length===1){return e[0]}else{return function(t,n){var i=e.map(function(e){return e(t)});if(n){n(i)}return i}}};function K(t,e,i){var r;var o={};var s;var a=N(this.selectors);function u(t,i,r){var a,l,c,h=t[i];var f=1e5;if(h.selid){if(h.selid==="PATH"){var p=[{node:r,stack:[]}];var d={};var g=n.databases[n.useid].objects;while(p.length>0){var m=p.shift();var v=m.node;var y=m.stack;var c=u(h.args,0,v);if(c.length>0){if(i+1+1>t.length){return y}else{var b=[];if(y&&y.length>0){y.forEach(function(e){b=b.concat(u(t,i+1,e))})}return b}}else{if(typeof d[v.$id]!=="undefined"){continue}else{d[v.$id]=true;if(v.$out&&v.$out.length>0){v.$out.forEach(function(t){var e=g[t];var n=y.concat(e);n.push(g[e.$out[0]]);p.push({node:g[e.$out[0]],stack:n})})}}}}return[]}if(h.selid==="NOT"){var l=u(h.args,0,r);if(l.length>0){return[]}else{if(i+1+1>t.length){return[r]}else{return u(t,i+1,r)}}}else if(h.selid==="DISTINCT"){var l;if(typeof h.args==="undefined"||h.args.length===0){l=O(r)}else{l=u(h.args,0,r)}if(l.length===0){return[]}else{var x=O(l);if(i+1+1>t.length){return x}else{return u(t,i+1,x)}}}else if(h.selid==="AND"){var x=true;h.args.forEach(function(t){x=x&&u(t,0,r).length>0});if(!x){return[]}else{if(i+1+1>t.length){return[r]}else{return u(t,i+1,r)}}}else if(h.selid==="OR"){var x=false;h.args.forEach(function(t){x=x||u(t,0,r).length>0});if(!x){return[]}else{if(i+1+1>t.length){return[r]}else{return u(t,i+1,r)}}}else if(h.selid==="ALL"){var l=u(h.args[0],0,r);if(l.length===0){return[]}else{if(i+1+1>t.length){return l}else{return u(t,i+1,l)}}}else if(h.selid==="ANY"){var l=u(h.args[0],0,r);if(l.length===0){return[]}else{if(i+1+1>t.length){return[l[0]]}else{return u(t,i+1,[l[0]])}}}else if(h.selid==="UNIONALL"){var l=[];h.args.forEach(function(t){l=l.concat(u(t,0,r))});if(l.length===0){return[]}else{if(i+1+1>t.length){return l}else{return u(t,i+1,l)}}}else if(h.selid==="UNION"){var l=[];h.args.forEach(function(t){l=l.concat(u(t,0,r))});var l=O(l);if(l.length===0){return[]}else{if(i+1+1>t.length){return l}else{return u(t,i+1,l)}}}else if(h.selid==="IF"){var l=u(h.args,0,r);if(l.length===0){return[]}else{if(i+1+1>t.length){return[r]}else{return u(t,i+1,r)}}}else if(h.selid==="REPEAT"){var _,E,w=h.args[0].value;if(!h.args[1]){E=w}else{E=h.args[1].value}if(h.args[2]){_=h.args[2].variable}var T=[];if(w===0){if(i+1+1>t.length){T=[r]}else{if(_){n.vars[_]=0}T=T.concat(u(t,i+1,r))}}if(E>0){var S=[{value:r,lvl:1}];var A=0;while(S.length>0){var l=S[0];S.shift();if(l.lvl<=E){if(_){n.vars[_]=l.lvl}var I=u(h.sels,0,l.value);I.forEach(function(t){S.push({value:t,lvl:l.lvl+1})});if(l.lvl>=w){if(i+1+1>t.length){T=T.concat(I)}else{I.forEach(function(e){T=T.concat(u(t,i+1,e))})}}}A++;if(A>f){throw new Error("Security brake. Number of iterations = "+A)}}}return T}else if(h.selid==="OF"){if(i+1+1>t.length){return[r]}else{var C=[];Object.keys(r).forEach(function(e){n.vars[h.args[0].variable]=e;C=C.concat(u(t,i+1,r[e]))});return C}}else if(h.selid==="TO"){var L=n.vars[h.args[0]];var M=[];if(L!==undefined){M=L.slice(0)}else{M=[]}M.push(r);if(i+1+1>t.length){return[r]}else{n.vars[h.args[0]]=M;var C=u(t,i+1,r);n.vars[h.args[0]]=L;return C}}else if(h.selid==="ARRAY"){var l=u(h.args,0,r);if(l.length>0){a=l}else{return[]}if(i+1+1>t.length){return[a]}else{return u(t,i+1,a)}}else if(h.selid==="SUM"){var l=u(h.args,0,r);if(l.length>0){var a=l.reduce(function(t,e){return t+e},0)}else{return[]}if(i+1+1>t.length){return[a]}else{return u(t,i+1,a)}}else if(h.selid==="AVG"){l=u(h.args,0,r);if(l.length>0){a=l.reduce(function(t,e){return t+e},0)/l.length}else{return[]}if(i+1+1>t.length){return[a]}else{return u(t,i+1,a)}}else if(h.selid==="COUNT"){l=u(h.args,0,r);if(l.length>0){a=l.length}else{return[]}if(i+1+1>t.length){return[a]}else{return u(t,i+1,a)}}else if(h.selid==="FIRST"){l=u(h.args,0,r);if(l.length>0){a=l[0]}else{return[]}if(i+1+1>t.length){return[a]}else{return u(t,i+1,a)}}else if(h.selid==="LAST"){l=u(h.args,0,r);if(l.length>0){a=l[l.length-1]}else{return[]}if(i+1+1>t.length){return[a]}else{return u(t,i+1,a)}}else if(h.selid==="MIN"){l=u(h.args,0,r);if(l.length===0){return[]}var a=l.reduce(function(t,e){return Math.min(t,e)},Infinity);if(i+1+1>t.length){return[a]}else{return u(t,i+1,a)}}else if(h.selid==="MAX"){var l=u(h.args,0,r);if(l.length===0){return[]}var a=l.reduce(function(t,e){return Math.max(t,e)},-Infinity);if(i+1+1>t.length){return[a]}else{return u(t,i+1,a)}}else if(h.selid==="PLUS"){var T=[];var S=u(h.args,0,r).slice();if(i+1+1>t.length){T=T.concat(S)}else{S.forEach(function(e){T=T.concat(u(t,i+1,e))})}var A=0;while(S.length>0){var l=S.shift();l=u(h.args,0,l);S=S.concat(l);if(i+1+1>t.length){T=T.concat(l)}else{l.forEach(function(e){var n=u(t,i+1,e);T=T.concat(n)})}A++;if(A>f){throw new Error("Security brake. Number of iterations = "+A)}}return T}else if(h.selid==="STAR"){var T=[];T=u(t,i+1,r);var S=u(h.args,0,r).slice();if(i+1+1>t.length){T=T.concat(S)}else{S.forEach(function(e){T=T.concat(u(t,i+1,e))})}var A=0;while(S.length>0){var l=S[0];S.shift();l=u(h.args,0,l);S=S.concat(l);if(i+1+1<=t.length){l.forEach(function(e){T=T.concat(u(t,i+1,e))})}A++;if(A>f){throw new Error("Loop brake. Number of iterations = "+A)}}return T}else if(h.selid==="QUESTION"){var T=[];T=T.concat(u(t,i+1,r));var l=u(h.args,0,r);if(i+1+1<=t.length){l.forEach(function(e){T=T.concat(u(t,i+1,e))})}return T}else if(h.selid==="WITH"){var l=u(h.args,0,r);if(l.length===0){return[]}else{var c={status:1,values:l}}}else if(h.selid==="ROOT"){if(i+1+1>t.length){return[r]}else{return u(t,i+1,s)}}else{throw new Error("Wrong selector "+h.selid)}}else if(h.srchid){var c=n.srch[h.srchid.toUpperCase()](r,h.args,o,e)}else{throw new Error("Selector not found")}if(typeof c==="undefined"){c={status:1,values:[r]}}var x=[];if(c.status===1){var N=c.values;if(i+1+1>t.length){x=N}else{for(var A=0;A<c.values.length;A++){x=x.concat(u(t,i+1,N[A]))}}}return x}if(a!==undefined&&a.length>0){if(a&&a[0]&&a[0].srchid==="PROP"&&a[0].args&&a[0].args[0]){if(a[0].args[0].toUpperCase()==="XML"){o.mode="XML";a.shift()}else if(a[0].args[0].toUpperCase()==="HTML"){o.mode="HTML";a.shift()}else if(a[0].args[0].toUpperCase()==="JSON"){o.mode="JSON";a.shift()}}if(a.length>0&&a[0].srchid==="VALUE"){o.value=true;a.shift()}}if(this.from instanceof J.Column){var l=this.from.databaseid||t;s=n.databases[l].tables[this.from.columnid].data}else if(this.from instanceof J.FuncValue&&n.from[this.from.funcid.toUpperCase()]){var c=this.from.args.map(function(t){var i=t.toJS();var r=new Function("params,alasql","var y;return "+i).bind(this);return r(e,n)});s=n.from[this.from.funcid.toUpperCase()].apply(this,c)}else if(typeof this.from==="undefined"){s=n.databases[t].objects}else{var h=new Function("params,alasql","var y;return "+this.from.toJS());s=h(e,n);if(typeof Mongo==="object"&&typeof Mongo.Collection!=="object"&&s instanceof Mongo.Collection){s=s.find().fetch()}}if(a!==undefined&&a.length>0){if(false){a.forEach(function(t){if(t.srchid==="TO"){n.vars[t.args[0]]=[]}})}r=u(a,0,s)}else{r=s}if(this.into){var f,p;if(typeof this.into.args[0]!=="undefined"){f=new Function("params,alasql","var y;return "+this.into.args[0].toJS())(e,n)}if(typeof this.into.args[1]!=="undefined"){p=new Function("params,alasql","var y;return "+this.into.args[1].toJS())(e,n)}r=n.into[this.into.funcid.toUpperCase()](f,p,r,[],i)}else{if(o.value&&r.length>0){r=r[0]}if(i){r=i(r)}}return r}J.Search=function(t){return J.extend(this,t)};J.Search.prototype.toString=function(){var t="SEARCH"+" ";if(this.selectors){t+=this.selectors.toString()}if(this.from){t+="FROM"+" "+this.from.toString()}return t};J.Search.prototype.toJS=function(t){var e="this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+t+")";return e};J.Search.prototype.compile=function(t){var e=t;var n=this;var i=function(t,r){var o;K.bind(n)(e,t,function(t){o=lt(i.query,t);if(r){o=r(o)}});return o};i.query={};return i};n.srch={};n.srch.PROP=function(t,e,n){if(n.mode==="XML"){var i=[];t.children.forEach(function(t){if(t.name.toUpperCase()===e[0].toUpperCase()){i.push(t)}});if(i.length>0){return{status:1,values:i}}else{return{status:-1,values:[]}}}else{if(typeof t!=="object"||t===null||typeof e!=="object"||typeof t[e[0]]==="undefined"){return{status:-1,values:[]}}else{return{status:1,values:[t[e[0]]]}}}};n.srch.APROP=function(t,e){if(typeof t!=="object"||t===null||typeof e!=="object"||typeof t[e[0]]==="undefined"){return{status:1,values:[undefined]}}else{return{status:1,values:[t[e[0]]]}}};n.srch.EQ=function(t,e,i,r){var o=e[0].toJS("x","");var s=new Function("x,alasql,params","return "+o);if(t===s(t,n,r)){return{status:1,values:[t]}}else{return{status:-1,values:[]}}};n.srch.LIKE=function(t,e,i,r){var o=e[0].toJS("x","");var s=new Function("x,alasql,params","return "+o);if(t.toUpperCase().match(new RegExp("^"+s(t,n,r).toUpperCase().replace(/%/g,".*").replace(/\?|_/g,".")+"$"),"g")){return{status:1,values:[t]}}else{return{status:-1,values:[]}}};n.srch.ATTR=function(t,e,n){if(n.mode==="XML"){if(typeof e==="undefined"){return{status:1,values:[t.attributes]}}else{if(typeof t==="object"&&typeof t.attributes==="object"&&typeof t.attributes[e[0]]!=="undefined"){return{status:1,values:[t.attributes[e[0]]]}}else{return{status:-1,values:[]}}}}else{throw new Error("ATTR is not using in usual mode")}};n.srch.CONTENT=function(t,e,n){if(n.mode==="XML"){return{status:1,values:[t.content]}}else{throw new Error("ATTR is not using in usual mode")}};n.srch.SHARP=function(t,e){var i=n.databases[n.useid].objects[e[0]];if(typeof t!=="undefined"&&t===i){return{status:1,values:[t]}}else{return{status:-1,values:[]}}};n.srch.PARENT=function(){console.log("PARENT not implemented",arguments);return{status:-1,values:[]}};n.srch.CHILD=function(t,e,n){if(typeof t==="object"){if(Array.isArray(t)){return{status:1,values:t}}else{if(n.mode==="XML"){return{status:1,values:Object.keys(t.children).map(function(e){return t.children[e]})}}else{return{status:1,values:Object.keys(t).map(function(e){return t[e]})}}}}else{return{status:1,values:[]}}};n.srch.KEYS=function(t){if(typeof t==="object"&&t!==null){return{status:1,values:Object.keys(t)}}else{return{status:1,values:[]}}};n.srch.WHERE=function(t,e,i,r){var o=e[0].toJS("x","");var s=new Function("x,alasql,params","return "+o);if(s(t,n,r)){return{status:1,values:[t]}}else{return{status:-1,values:[]}}};n.srch.NAME=function(t,e){if(t.name===e[0]){return{status:1,values:[t]}}else{return{status:-1,values:[]}}};n.srch.CLASS=function(t,e){if(t.$class==e){return{status:1,values:[t]}}else{return{status:-1,values:[]}}};n.srch.VERTEX=function(t){if(t.$node==="VERTEX"){return{status:1,values:[t]}}else{return{status:-1,values:[]}}};n.srch.INSTANCEOF=function(t,e){if(t instanceof n.fn[e[0]]){return{status:1,values:[t]}}else{return{status:-1,values:[]}}};n.srch.EDGE=function(t){if(t.$node==="EDGE"){return{status:1,values:[t]}}else{return{status:-1,values:[]}}};n.srch.EX=function(t,e,i,r){var o=e[0].toJS("x","");var s=new Function("x,alasql,params","return "+o);return{status:1,values:[s(t,n,r)]}};n.srch.RETURN=function(t,e,i,r){var o={};if(e&&e.length>0){e.forEach(function(e){var i=e.toJS("x","");var s=new Function("x,alasql,params","return "+i);if(typeof e.as==="undefined"){e.as=e.toString()}o[e.as]=s(t,n,r)})}return{status:1,values:[o]}};n.srch.REF=function(t){return{status:1,values:[n.databases[n.useid].objects[t]]}};n.srch.OUT=function(t){if(t.$out&&t.$out.length>0){var e=t.$out.map(function(t){return n.databases[n.useid].objects[t]});return{status:1,values:e}}else{return{status:-1,values:[]}}};n.srch.OUTOUT=function(t){if(t.$out&&t.$out.length>0){var e=[];t.$out.forEach(function(t){var i=n.databases[n.useid].objects[t];if(i&&i.$out&&i.$out.length>0){i.$out.forEach(function(t){e=e.concat(n.databases[n.useid].objects[t])})}});return{status:1,values:e}}else{return{status:-1,values:[]}}};n.srch.IN=function(t){if(t.$in&&t.$in.length>0){var e=t.$in.map(function(t){return n.databases[n.useid].objects[t]});return{status:1,values:e}}else{return{status:-1,values:[]}}};n.srch.ININ=function(t){if(t.$in&&t.$in.length>0){var e=[];t.$in.forEach(function(t){var i=n.databases[n.useid].objects[t];if(i&&i.$in&&i.$in.length>0){i.$in.forEach(function(t){e=e.concat(n.databases[n.useid].objects[t])})}});return{status:1,values:e}}else{return{status:-1,values:[]}}};n.srch.AS=function(t,e){n.vars[e[0]]=t;return{status:1,values:[t]}};n.srch.AT=function(t,e){var i=n.vars[e[0]];return{status:1,values:[i]}};n.srch.CLONEDEEP=function(t){var e=N(t);return{status:1,values:[e]}};n.srch.SET=function(t,e,i,r){var o=e.map(function(t){if(t.method==="@"){return"alasql.vars['"+t.variable+"']="+t.expression.toJS("x","")}else if(t.method==="$"){return"params['"+t.variable+"']="+t.expression.toJS("x","")}else{return"x['"+t.column.columnid+"']="+t.expression.toJS("x","")}}).join(";");var s=new Function("x,params,alasql",o);s(t,r,n);return{status:1,values:[t]}};n.srch.ROW=function(t,e,i,r){var o="var y;return [";o+=e.map(function(t){return t.toJS("x","")}).join(",");o+="]";var s=new Function("x,params,alasql",o);var a=s(t,r,n);return{status:1,values:[a]}};n.srch.D3=function(t){if(t.$node!=="VERTEX"&&t.$node==="EDGE"){t.source=t.$in[0];t.target=t.$out[0]}return{status:1,values:[t]}};var tt=function(t){if(t){if(t&&t.length===1&&t[0].expression&&typeof t[0].expression==="function"){var e=t[0].expression;return function(t,n){var i=e(t),r=e(n);if(i>r){return 1}if(i===r){return 0}return-1}}var i="";var r="";t.forEach(function(t){var e="";if(t.expression instanceof J.NumValue){t.expression=self.columns[t.expression.value-1]}if(t.expression instanceof J.Column){var o=t.expression.columnid;if(n.options.valueof){e=".valueOf()"}if(t.nocase){e+=".toUpperCase()"}if(o==="_"){i+="if(a"+e+(t.direction==="ASC"?">":"<")+"b"+e+")return 1;";i+="if(a"+e+"==b"+e+"){"}else{i+="if((a['"+o+"']||'')"+e+(t.direction==="ASC"?">":"<")+"(b['"+o+"']||'')"+e+")return 1;";i+="if((a['"+o+"']||'')"+e+"==(b['"+o+"']||'')"+e+"){"}}else{e=".valueOf()";if(t.nocase){e+=".toUpperCase()"}i+="if(("+t.toJS("a","")+"||'')"+e+(t.direction==="ASC"?">(":"<(")+t.toJS("b","")+"||'')"+e+")return 1;";i+="if(("+t.toJS("a","")+"||'')"+e+"==("+t.toJS("b","")+"||'')"+e+"){"}r+="}"});i+="return 0;";i+=r+"return -1";return new Function("a,b",i)}};n.srch.ORDERBY=function(t,e){var n=t.sort(tt(e));return{status:1,values:n}};function et(t,e,i,r,o){var s=t.sources.length;var a;t.sourceslen=t.sources.length;var u=t.sourceslen;t.query=t;t.A=r;t.B=o;t.cb=i;t.oldscope=e;if(t.queriesfn){t.sourceslen+=t.queriesfn.length;u+=t.queriesfn.length;t.queriesdata=[];t.queriesfn.forEach(function(e,n){e.query.params=t.params;nt([],-n-1,t)})}var l;if(!e)l={};else l=N(e);t.scope=l;var c;t.sources.forEach(function(e,i){e.query=t;var r=e.datafn(t,t.params,nt,i,n);if(typeof r!=="undefined"){if((t.intofn||t.intoallfn)&&Array.isArray(r))r=r.length;c=r}e.queriesdata=t.queriesdata});if(t.sources.length==0||0===u)c=it(t);return c}function nt(t,e,n){if(e>=0){var i=n.sources[e];i.data=t;if(typeof i.data=="function"){i.getfn=i.data;i.dontcache=i.getfn.dontcache;if(i.joinmode=="OUTER"||i.joinmode=="RIGHT"||i.joinmode=="ANTI"){i.dontcache=false}i.data={}}}else{n.queriesdata[-e-1]=P(t)}n.sourceslen--;if(n.sourceslen>0)return;return it(n)}function it(t){var e=t.scope,i;st(t);t.data=[];t.xgroups={};t.groups=[];var r=0;at(t,e,r);if(t.groupfn){t.data=[];if(0===t.groups.length){var o={};if(t.selectGroup.length>0){t.selectGroup.forEach(function(t){if(t.aggregatorid=="COUNT"||t.aggregatorid=="SUM"){o[t.nick]=0}else{o[t.nick]=undefined}})}t.groups=[o]}if(t.aggrKeys.length>0){var s="";t.aggrKeys.forEach(function(t){s+="g['"+t.nick+"']=alasql.aggr['"+t.funcid+"'](undefined,g['"+t.nick+"'],3);"});var a=new Function("g,params,alasql","var y;"+s)}for(var u=0,l=t.groups.length;u<l;u++){var o=t.groups[u];if(a)a(o,t.params,n);if(!t.havingfn||t.havingfn(o,t.params,n)){var c=t.selectgfn(o,t.params,n);t.data.push(c)}}}ot(t);if(t.unionallfn){var h,f;if(t.corresponding){if(!t.unionallfn.query.modifier)t.unionallfn.query.modifier=undefined;h=t.unionallfn(t.params)}else{if(!t.unionallfn.query.modifier)t.unionallfn.query.modifier="RECORDSET";f=t.unionallfn(t.params);h=[];l=f.data.length;for(var u=0;u<l;u++){var p={};for(var d=Math.min(t.columns.length,f.columns.length)-1;0<=d;d--){p[t.columns[d].columnid]=f.data[u][f.columns[d].columnid]}h.push(p)}}t.data=t.data.concat(h)}else if(t.unionfn){if(t.corresponding){if(!t.unionfn.query.modifier)t.unionfn.query.modifier="ARRAY";h=t.unionfn(t.params)}else{if(!t.unionfn.query.modifier)t.unionfn.query.modifier="RECORDSET";f=t.unionfn(t.params);h=[];l=f.data.length;for(var u=0;u<l;u++){p={};i=Math.min(t.columns.length,f.columns.length);for(var d=0;d<i;d++){p[t.columns[d].columnid]=f.data[u][f.columns[d].columnid]}h.push(p)}}t.data=C(t.data,h)}else if(t.exceptfn){if(t.corresponding){if(!t.exceptfn.query.modifier)t.exceptfn.query.modifier="ARRAY";var h=t.exceptfn(t.params)}else{if(!t.exceptfn.query.modifier)t.exceptfn.query.modifier="RECORDSET";var f=t.exceptfn(t.params);var h=[];for(var u=0,l=f.data.length;u<l;u++){var p={};for(var d=Math.min(t.columns.length,f.columns.length)-1;0<=d;d--){p[t.columns[d].columnid]=f.data[u][f.columns[d].columnid]}h.push(p)}}t.data=L(t.data,h)}else if(t.intersectfn){if(t.corresponding){if(!t.intersectfn.query.modifier)t.intersectfn.query.modifier=undefined;h=t.intersectfn(t.params)}else{if(!t.intersectfn.query.modifier)t.intersectfn.query.modifier="RECORDSET";f=t.intersectfn(t.params);h=[];l=f.data.length;for(u=0;u<l;u++){p={};i=Math.min(t.columns.length,f.columns.length);for(d=0;d<i;d++){p[t.columns[d].columnid]=f.data[u][f.columns[d].columnid]}h.push(p)}}t.data=M(t.data,h)}if(t.orderfn){if(t.explain)var g=Date.now();t.data=t.data.sort(t.orderfn);if(t.explain){t.explaination.push({explid:t.explid++,description:"QUERY BY",ms:Date.now()-g})}}rt(t);if(typeof angular!="undefined"){t.removeKeys.push("$$hashKey")}if(t.removeKeys.length>0){var m=t.removeKeys;i=m.length;if(i>0){l=t.data.length;for(u=0;u<l;u++){for(d=0;d<i;d++){delete t.data[u][m[d]]}}}if(t.columns.length>0){t.columns=t.columns.filter(function(t){var e=false;m.forEach(function(n){if(t.columnid==n)e=true});return!e})}}if(typeof t.removeLikeKeys!="undefined"&&t.removeLikeKeys.length>0){var v=t.removeLikeKeys;for(var u=0,l=t.data.length;u<l;u++){p=t.data[u];for(var y in p){for(d=0;d<t.removeLikeKeys.length;d++){if(n.utils.like(t.removeLikeKeys[d],y)){delete p[y]}}}}if(t.columns.length>0){t.columns=t.columns.filter(function(t){var e=false;v.forEach(function(i){if(n.utils.like(i,t.columnid)){e=true}});return!e})}}if(t.pivotfn)t.pivotfn();if(t.unpivotfn)t.unpivotfn();if(t.intoallfn){var b=t.intoallfn(t.columns,t.cb,t.params,t.alasql);return b}else if(t.intofn){l=t.data.length;for(u=0;u<l;u++){t.intofn(t.data[u],u,t.params,t.alasql)}if(t.cb)t.cb(t.data.length,t.A,t.B);return t.data.length}else{b=t.data;if(t.cb)b=t.cb(t.data,t.A,t.B);return b}}function rt(t){if(t.limit){var e=0;if(t.offset)e=(t.offset|0)-1||0;var n;if(t.percent){n=(t.data.length*t.limit/100|0)+e}else{n=(t.limit|0)+e}t.data=t.data.slice(e,n)}}function ot(t){if(t.distinct){var e={};for(var n=0,i=t.data.length;n<i;n++){var r=Object.keys(t.data[n]).map(function(e){return t.data[n][e]}).join("`");e[r]=t.data[n]}t.data=[];for(var o in e){t.data.push(e[o])}}}var st=function(t){for(var e=0,i=t.sources.length;e<i;e++){var r=t.sources[e];delete r.ix;if(e>0&&r.optimization=="ix"&&r.onleftfn&&r.onrightfn){if(r.databaseid&&n.databases[r.databaseid].tables[r.tableid]){if(!n.databases[r.databaseid].tables[r.tableid].indices)t.database.tables[r.tableid].indices={};var o=n.databases[r.databaseid].tables[r.tableid].indices[T(r.onrightfns+"`"+r.srcwherefns)];if(!n.databases[r.databaseid].tables[r.tableid].dirty&&o){r.ix=o}}if(!r.ix){r.ix={};var s={};var a=0;var u=r.data.length;var l;while((l=r.data[a])||r.getfn&&(l=r.getfn(a))||a<u){if(r.getfn&&!r.dontcache)r.data[a]=l;s[r.alias||r.tableid]=l;if(r.srcwherefn(s,t.params,n)){var c=r.onrightfn(s,t.params,n);var h=r.ix[c];if(!h){h=r.ix[c]=[]}h.push(l)}a++}if(r.databaseid&&n.databases[r.databaseid].tables[r.tableid]){n.databases[r.databaseid].tables[r.tableid].indices[T(r.onrightfns+"`"+r.srcwherefns)]=r.ix}}}else if(r.wxleftfn){if(!n.databases[r.databaseid].engineid){o=n.databases[r.databaseid].tables[r.tableid].indices[T(r.wxleftfns+"`")]}if(!n.databases[r.databaseid].tables[r.tableid].dirty&&o){r.ix=o;r.data=r.ix[r.wxrightfn(null,t.params,n)]}else{r.ix={};s={};a=0;u=r.data.length;l;while((l=r.data[a])||r.getfn&&(l=r.getfn(a))||a<u){if(r.getfn&&!r.dontcache)r.data[a]=l;s[r.alias||r.tableid]=r.data[a];c=r.wxleftfn(s,t.params,n);h=r.ix[c];if(!h){h=r.ix[c]=[]}h.push(r.data[a]);a++}if(!n.databases[r.databaseid].engineid){n.databases[r.databaseid].tables[r.tableid].indices[T(r.wxleftfns+"`")]=r.ix}}if(r.srcwherefns){if(r.data){s={};r.data=r.data.filter(function(e){s[r.alias]=e;return r.srcwherefn(s,t.params,n)})}else{r.data=[]}}}else if(r.srcwherefns&&!r.dontcache){if(r.data){var s={};r.data=r.data.filter(function(e){s[r.alias]=e;return r.srcwherefn(s,t.params,n)});s={};a=0;u=r.data.length;var f=[];while((l=r.data[a])||r.getfn&&(l=r.getfn(a))||a<u){if(r.getfn&&!r.dontcache)r.data[a]=l;s[r.alias]=l;if(r.srcwherefn(s,t.params,n))f.push(l);a++}r.data=f}else{r.data=[]}}if(r.databaseid&&n.databases[r.databaseid].tables[r.tableid]){}else{}}};function at(t,e,i){if(i>=t.sources.length){if(t.wherefn(e,t.params,n)){if(t.groupfn){t.groupfn(e,t.params,n)}else{t.data.push(t.selectfn(e,t.params,n))}}}else if(t.sources[i].applyselect){var r=t.sources[i];r.applyselect(t.params,function(n){if(n.length>0){for(var o=0;o<n.length;o++){e[r.alias]=n[o];at(t,e,i+1)}}else{if(r.applymode=="OUTER"){e[r.alias]={};at(t,e,i+1)}}},e)}else{var r=t.sources[i];var o=t.sources[i+1];if(true){var s=r.alias||r.tableid;var a=false;var u=r.data;var l=false;if(!r.getfn||r.getfn&&!r.dontcache){if(r.joinmode!="RIGHT"&&r.joinmode!="OUTER"&&r.joinmode!="ANTI"&&r.optimization=="ix"){u=r.ix[r.onleftfn(e,t.params,n)]||[];l=true}}var c=0;if(typeof u=="undefined"){throw new Error("Data source number "+i+" in undefined")}var h=u.length;var f;while((f=u[c])||!l&&(r.getfn&&(f=r.getfn(c)))||c<h){if(!l&&r.getfn&&!r.dontcache)u[c]=f;e[s]=f;if(!r.onleftfn||r.onleftfn(e,t.params,n)==r.onrightfn(e,t.params,n)){if(r.onmiddlefn(e,t.params,n)){if(r.joinmode!="SEMI"&&r.joinmode!="ANTI"){at(t,e,i+1)}if(r.joinmode!="LEFT"&&r.joinmode!="INNER"){f._rightjoin=true}a=true}}c++}if((r.joinmode=="LEFT"||r.joinmode=="OUTER"||r.joinmode=="SEMI")&&!a){e[s]={};at(t,e,i+1)}}if(i+1<t.sources.length){if(o.joinmode=="OUTER"||o.joinmode=="RIGHT"||o.joinmode=="ANTI"){e[r.alias]={};var p=0;var d=o.data.length;var f;while((f=o.data[p])||o.getfn&&(f=o.getfn(p))||p<d){if(o.getfn&&!o.dontcache){o.data[p]=f}if(f._rightjoin){delete f._rightjoin}else{if(i==0){e[o.alias]=f;at(t,e,i+2)}else{}}p++}}else{}}else{}e[s]=undefined}}function ut(t,e){var n=t.sources[e];var i=t.sources[e+1];var r=n.onleftfn;var o=n.onleftfns;var s=n.onrightfn;var a=n.onrightfns;var u=n.optimization;n.onleftfn=i.onrightfn;n.onleftfns=i.onrightfns;n.onrightfn=i.onleftfn;n.onrightfns=i.onleftfns;n.optimization=i.optimization;i.onleftfn=r;i.onleftfns=o;i.onrightfn=s;i.onrightfns=a;i.optimization=u;t.sources[e]=i;t.sources[e+1]=n}J.Select=function(t){return J.extend(this,t)};J.Select.prototype.toString=function(){var t;t="";if(this.explain){t+="EXPLAIN "}t+="SELECT ";if(this.modifier){t+=this.modifier+" "}if(this.distinct){t+="DISTINCT "}if(this.top){t+="TOP "+this.top.value+" ";if(this.percent){t+="PERCENT "}}t+=this.columns.map(function(t){var e;e=t.toString();if(typeof t.as!=="undefined"){e+=" AS "+t.as}return e}).join(", ");if(this.from){t+=" FROM "+this.from.map(function(t){var e;e=t.toString();if(t.as){e+=" AS "+t.as}return e}).join(",")}if(this.joins){t+=this.joins.map(function(t){var e;e=" ";if(t.joinmode){e+=t.joinmode+" "}if(t.table){e+="JOIN "+t.table.toString()}else if(t.select){e+="JOIN ("+t.select.toString()+")"}else if(t instanceof n.yy.Apply){e+=t.toString()}else{throw new Error("Wrong type in JOIN mode")}if(t.as){e+=" AS "+t.as}if(t.using){e+=" USING "+t.using.toString()}if(t.on){e+=" ON "+t.on.toString()}return e})}if(this.where){t+=" WHERE "+this.where.toString()}if(this.group&&this.group.length>0){t+=" GROUP BY "+this.group.map(function(t){return t.toString()}).join(", ")}if(this.having){t+=" HAVING "+this.having.toString()}if(this.order&&this.order.length>0){t+=" ORDER BY "+this.order.map(function(t){return t.toString()}).join(", ")}if(this.limit){t+=" LIMIT "+this.limit.value}if(this.offset){t+=" OFFSET "+this.offset.value}if(this.union){t+=" UNION "+(this.corresponding?"CORRESPONDING ":"")+this.union.toString()}if(this.unionall){t+=" UNION ALL "+(this.corresponding?"CORRESPONDING ":"")+this.unionall.toString()}if(this.except){t+=" EXCEPT "+(this.corresponding?"CORRESPONDING ":"")+this.except.toString()}if(this.intersect){t+=" INTERSECT "+(this.corresponding?"CORRESPONDING ":"")+this.intersect.toString()}return t};J.Select.prototype.toJS=function(t){var e="alasql.utils.flatArray(this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+t+"))[0]";return e};J.Select.prototype.compile=function(t,e){var i=n.databases[t];var r=new H;r.removeKeys=[];r.aggrKeys=[];r.explain=this.explain;r.explaination=[];r.explid=1;r.modifier=this.modifier;r.database=i;this.compileWhereExists(r);this.compileQueries(r);r.defcols=this.compileDefCols(r,t);r.fromfn=this.compileFrom(r);if(this.joins){this.compileJoins(r)}r.rownums=[];this.compileSelectGroup0(r);if(this.group||r.selectGroup.length>0){r.selectgfns=this.compileSelectGroup1(r)}else{r.selectfns=this.compileSelect1(r,e)}this.compileRemoveColumns(r);if(this.where){this.compileWhereJoins(r)}r.wherefn=this.compileWhere(r);if(this.group||r.selectGroup.length>0){r.groupfn=this.compileGroup(r)}if(this.having){r.havingfn=this.compileHaving(r)}if(this.order){r.orderfn=this.compileOrder(r)}if(this.group||r.selectGroup.length>0){r.selectgfn=this.compileSelectGroup2(r)}else{r.selectfn=this.compileSelect2(r)}r.distinct=this.distinct;if(this.pivot)r.pivotfn=this.compilePivot(r);if(this.unpivot)r.pivotfn=this.compileUnpivot(r);if(this.top){r.limit=this.top.value}else if(this.limit){r.limit=this.limit.value;if(this.offset){r.offset=this.offset.value}}r.percent=this.percent;r.corresponding=this.corresponding;if(this.union){r.unionfn=this.union.compile(t);if(this.union.order){r.orderfn=this.union.compileOrder(r)}else{r.orderfn=null}}else if(this.unionall){r.unionallfn=this.unionall.compile(t);if(this.unionall.order){r.orderfn=this.unionall.compileOrder(r)}else{r.orderfn=null}}else if(this.except){r.exceptfn=this.except.compile(t);if(this.except.order){r.orderfn=this.except.compileOrder(r)}else{r.orderfn=null}}else if(this.intersect){r.intersectfn=this.intersect.compile(t);if(this.intersect.order){r.intersectfn=this.intersect.compileOrder(r)}else{r.orderfn=null}}if(this.into){if(this.into instanceof J.Table){if(n.options.autocommit&&n.databases[this.into.databaseid||t].engineid){r.intoallfns='return alasql.engines["'+n.databases[this.into.databaseid||t].engineid+'"]'+'.intoTable("'+(this.into.databaseid||t)+'","'+this.into.tableid+'",this.data, columns, cb);'}else{r.intofns="alasql.databases['"+(this.into.databaseid||t)+"'].tables"+"['"+this.into.tableid+"'].data.push(r);"}}else if(this.into instanceof J.VarValue){r.intoallfns='alasql.vars["'+this.into.variable+'"]=this.data;res=this.data.length;if(cb)res=cb(res);return res;'}else if(this.into instanceof J.FuncValue){var o="return alasql.into['"+this.into.funcid.toUpperCase()+"'](";if(this.into.args&&this.into.args.length>0){o+=this.into.args[0].toJS()+",";if(this.into.args.length>1){o+=this.into.args[1].toJS()+","}else{o+="undefined,"}}else{o+="undefined, undefined,"}r.intoallfns=o+"this.data,columns,cb)"}else if(this.into instanceof J.ParamValue){r.intofns="params['"+this.into.param+"'].push(r)"}if(r.intofns){r.intofn=new Function("r,i,params,alasql","var y;"+r.intofns)}else if(r.intoallfns){r.intoallfn=new Function("columns,cb,params,alasql","var y;"+r.intoallfns)}}var s=function(t,e,n){r.params=t;var i=et(r,n,function(t){if(r.rownums.length>0){for(var n=0,i=t.length;n<i;n++){for(var o=0,s=r.rownums.length;o<s;o++){t[n][r.rownums[o]]=n+1}}}var a=lt(r,t);if(e){e(a)}return a});return i};s.query=r;return s};function lt(t,e){if(typeof e==="undefined"||typeof e==="number"||typeof e==="string"||typeof e=="boolean"){return e}var i=t.modifier||n.options.modifier;var r=t.columns;if(typeof r==="undefined"||r.length==0){if(e.length>0){var o={};for(var s=Math.min(e.length,n.options.columnlookup||10)-1;0<=s;s--){for(var a in e[s]){o[a]=true}}r=Object.keys(o).map(function(t){return{columnid:t}})}else{r=[]}}if(i==="VALUE"){if(e.length>0){var a;if(r&&r.length>0){a=r[0].columnid}else{a=Object.keys(e[0])[0]}e=e[0][a]}else{e=undefined}}else if(i==="ROW"){if(e.length>0){var a;var u=[];for(var a in e[0]){u.push(e[0][a])}e=u}else{e=undefined}}else if(i==="COLUMN"){var l=[];if(e.length>0){var a;if(r&&r.length>0){a=r[0].columnid}else{a=Object.keys(e[0])[0]}for(var s=0,c=e.length;s<c;s++){l.push(e[s][a])}}e=l}else if(i==="MATRIX"){var l=[];for(var s=0;s<e.length;s++){var u=[];var h=e[s];for(var f=0;f<r.length;f++){u.push(h[r[f].columnid])}l.push(u)}e=l}else if(i==="INDEX"){var l={};var a,p;if(r&&r.length>0){a=r[0].columnid;p=r[1].columnid}else{var d=Object.keys(e[0]);a=d[0];p=d[1]}for(var s=0,c=e.length;s<c;s++){l[e[s][a]]=e[s][p]}e=l}else if(i==="RECORDSET"){e=new n.Recordset({columns:r,data:e})}else if(i==="TEXTSTRING"){var a;if(r&&r.length>0){a=r[0].columnid}else{a=Object.keys(e[0])[0]}for(var s=0,c=e.length;s<c;s++){e[s]=e[s][a]}e=e.join("\n")}return e}J.Select.prototype.execute=function(t,e,n){return this.compile(t)(e,n)};J.ExistsValue=function(t){return J.extend(this,t)};J.ExistsValue.prototype.toString=function(){return"EXISTS("+this.value.toString()+")"};J.ExistsValue.prototype.toType=function(){return"boolean"};J.ExistsValue.prototype.toJS=function(t,e,n){return"this.existsfn["+this.existsidx+"](params,null,"+t+").data.length"};J.Select.prototype.compileWhereExists=function(t){if(!this.exists)return;t.existsfn=this.exists.map(function(e){var n=e.compile(t.database.databaseid);n.query.modifier="RECORDSET";return n})};J.Select.prototype.compileQueries=function(t){if(!this.queries)return;t.queriesfn=this.queries.map(function(e){var n=e.compile(t.database.databaseid);n.query.modifier="RECORDSET";return n})};n.precompile=function(t,e,n){if(!t)return;t.params=n;if(t.queries){t.queriesfn=t.queries.map(function(n){var i=n.compile(e||t.database.databaseid);i.query.modifier="RECORDSET";return i})}if(t.exists){t.existsfn=t.exists.map(function(n){var i=n.compile(e||t.database.databaseid);i.query.modifier="RECORDSET";return i})}};J.Select.prototype.compileFrom=function(t){var e=this;t.sources=[];t.aliases={};if(!e.from)return;e.from.forEach(function(e){var i=e.as||e.tableid;if(e instanceof J.Table){t.aliases[i]={tableid:e.tableid,databaseid:e.databaseid||t.database.databaseid,type:"table"}}else if(e instanceof J.Select){t.aliases[i]={type:"subquery"}}else if(e instanceof J.Search){t.aliases[i]={type:"subsearch"}}else if(e instanceof J.ParamValue){t.aliases[i]={type:"paramvalue"}}else if(e instanceof J.FuncValue){t.aliases[i]={type:"funcvalue"}}else if(e instanceof J.VarValue){t.aliases[i]={type:"varvalue"}}else if(e instanceof J.FromData){t.aliases[i]={type:"fromdata"}}else if(e instanceof J.Json){t.aliases[i]={type:"json"}}else if(e.inserted){t.aliases[i]={type:"inserted"}}else{throw new Error("Wrong table at FROM")}var r={alias:i,databaseid:e.databaseid||t.database.databaseid,tableid:e.tableid,joinmode:"INNER",onmiddlefn:u,srcwherefns:"",srcwherefn:u};if(e instanceof J.Table){r.columns=n.databases[r.databaseid].tables[r.tableid].columns;if(n.options.autocommit&&n.databases[r.databaseid].engineid&&!n.databases[r.databaseid].tables[r.tableid].view){r.datafn=function(t,e,n,i,o){return o.engines[o.databases[r.databaseid].engineid].fromTable(r.databaseid,r.tableid,n,i,t)}}else if(n.databases[r.databaseid].tables[r.tableid].view){r.datafn=function(t,e,n,i,o){var s=o.databases[r.databaseid].tables[r.tableid].select(e);if(n)s=n(s,i,t);return s}}else{r.datafn=function(t,e,n,i,o){var s=o.databases[r.databaseid].tables[r.tableid].data;if(n)s=n(s,i,t);return s}}}else if(e instanceof J.Select){r.subquery=e.compile(t.database.databaseid);if(typeof r.subquery.query.modifier=="undefined"){r.subquery.query.modifier="RECORDSET"}r.columns=r.subquery.query.columns;r.datafn=function(t,e,n,i,o){var s;r.subquery(t.params,function(e){s=e.data;if(n)s=n(s,i,t);return s});return s}}else if(e instanceof J.Search){r.subsearch=e;r.columns=[];r.datafn=function(t,e,n,i,o){var s;r.subsearch.execute(t.database.databaseid,t.params,function(e){s=e;if(n)s=n(s,i,t);return s});return s}}else if(e instanceof J.ParamValue){var o="var res = alasql.prepareFromData(params['"+e.param+"']";if(e.array)o+=",true";o+=");if(cb)res=cb(res,idx,query);return res";r.datafn=new Function("query,params,cb,idx,alasql",o)}else if(e.inserted){var o="var res = alasql.prepareFromData(alasql.inserted";if(e.array)o+=",true";o+=");if(cb)res=cb(res,idx,query);return res";r.datafn=new Function("query,params,cb,idx,alasql",o)}else if(e instanceof J.Json){var o="var res = alasql.prepareFromData("+e.toJS();if(e.array)o+=",true";o+=");if(cb)res=cb(res,idx,query);return res";r.datafn=new Function("query,params,cb,idx,alasql",o)}else if(e instanceof J.VarValue){var o="var res = alasql.prepareFromData(alasql.vars['"+e.variable+"']";if(e.array)o+=",true";o+=");if(cb)res=cb(res,idx,query);return res";r.datafn=new Function("query,params,cb,idx,alasql",o)}else if(e instanceof J.FuncValue){var s="var res=alasql.from['"+e.funcid.toUpperCase()+"'](";if(e.args&&e.args.length>0){if(e.args[0]){s+=e.args[0].toJS("query.oldscope")+","}else{s+="null,"}if(e.args[1]){s+=e.args[1].toJS("query.oldscope")+","}else{s+="null,"}}else{s+="null,null,"}s+="cb,idx,query";s+=");/*if(cb)res=cb(res,idx,query);*/return res";r.datafn=new Function("query, params, cb, idx, alasql",s)}else if(e instanceof J.FromData){r.datafn=function(t,n,i,r,o){var s=e.data;if(i)s=i(s,r,t);return s}}else{throw new Error("Wrong table at FROM")}t.sources.push(r)});t.defaultTableid=t.sources[0].alias};n.prepareFromData=function(t,e){var n=t;if(typeof t=="string"){n=t.split(/\r?\n/);if(e){for(var i=0,r=n.length;i<r;i++){n[i]=[n[i]]}}}else if(e){n=[];for(var i=0,r=t.length;i<r;i++){n.push([t[i]])}}else if(typeof t=="object"&&!Array.isArray(t)){if(typeof Mongo!="undefined"&&typeof Mongo.Collection!="undefined"&&t instanceof Mongo.Collection){n=t.find().fetch()}else{n=[];for(var o in t){if(t.hasOwnProperty(o))n.push([o,t[o]])}}}return n};J.Select.prototype.compileJoins=function(t){var e=this;this.joins.forEach(function(e){if(e.joinmode=="CROSS"){if(e.using||e.on){throw new Error("CROSS JOIN cannot have USING or ON clauses")}else{e.joinmode=="INNER"}}var i;var r;if(e instanceof J.Apply){i={alias:e.as,applymode:e.applymode,onmiddlefn:u,srcwherefns:"",srcwherefn:u,columns:[]};i.applyselect=e.select.compile(t.database.databaseid);i.columns=i.applyselect.query.columns;i.datafn=function(t,e,n,i,r){var o;if(n)o=n(o,i,t);return o};t.sources.push(i)}else{if(e.table){r=e.table;i={alias:e.as||r.tableid,databaseid:r.databaseid||t.database.databaseid,tableid:r.tableid,joinmode:e.joinmode,onmiddlefn:u,srcwherefns:"",srcwherefn:u,columns:[]};if(!n.databases[i.databaseid].tables[i.tableid]){throw new Error("Table '"+i.tableid+"' is not exists in database '"+i.databaseid)+"'"}i.columns=n.databases[i.databaseid].tables[i.tableid].columns;if(n.options.autocommit&&n.databases[i.databaseid].engineid){i.datafn=function(t,e,n,r,o){return o.engines[o.databases[i.databaseid].engineid].fromTable(i.databaseid,i.tableid,n,r,t)}}else if(n.databases[i.databaseid].tables[i.tableid].view){i.datafn=function(t,e,n,r,o){var s=o.databases[i.databaseid].tables[i.tableid].select(e);if(n)s=n(s,r,t);return s}}else{i.datafn=function(t,e,n,r,o){var s=o.databases[i.databaseid].tables[i.tableid].data;if(n)s=n(s,r,t);return s}}t.aliases[i.alias]={tableid:r.tableid,databaseid:r.databaseid||t.database.databaseid}}else if(e.select){var r=e.select;i={alias:e.as,joinmode:e.joinmode,onmiddlefn:u,srcwherefns:"",srcwherefn:u,columns:[]};i.subquery=r.compile(t.database.databaseid);if(typeof i.subquery.query.modifier=="undefined"){i.subquery.query.modifier="RECORDSET"}i.columns=i.subquery.query.columns;i.datafn=function(t,e,n,r,o){return i.subquery(t.params,null,n,r).data};t.aliases[i.alias]={type:"subquery"}}else if(e.param){i={alias:e.as,joinmode:e.joinmode,onmiddlefn:u,srcwherefns:"",srcwherefn:u};var o=e.param.param;var s="var res=alasql.prepareFromData(params['"+o+"']";if(e.array)s+=",true";s+=");if(cb)res=cb(res, idx, query);return res";i.datafn=new Function("query,params,cb,idx, alasql",s);t.aliases[i.alias]={type:"paramvalue"}}else if(e.variable){i={alias:e.as,joinmode:e.joinmode,onmiddlefn:u,srcwherefns:"",srcwherefn:u};var s="var res=alasql.prepareFromData(alasql.vars['"+e.variable+"']";if(e.array)s+=",true";s+=");if(cb)res=cb(res, idx, query);return res";i.datafn=new Function("query,params,cb,idx, alasql",s);t.aliases[i.alias]={type:"varvalue"}}else if(e.funcid){i={alias:e.as,joinmode:e.joinmode,onmiddlefn:u,srcwherefns:"",srcwherefn:u};var a="var res=alasql.from['"+js.funcid.toUpperCase()+"'](";if(e.args&&e.args.length>0){if(e.args[0]){a+=e.args[0].toJS("query.oldscope")+","}else{a+="null,"}if(e.args[1]){a+=e.args[1].toJS("query.oldscope")+","}else{a+="null,"}}else{a+="null,null,"}a+="cb,idx,query";a+=");/*if(cb)res=cb(res,idx,query);*/return res";i.datafn=new Function("query, params, cb, idx, alasql",a);t.aliases[i.alias]={type:"funcvalue"}}var l=i.alias;if(e.natural){if(e.using||e.on){throw new Error("NATURAL JOIN cannot have USING or ON clauses")}else{if(t.sources.length>0){var c=t.sources[t.sources.length-1];var h=n.databases[c.databaseid].tables[c.tableid];var f=n.databases[i.databaseid].tables[i.tableid];if(h&&f){var p=h.columns.map(function(t){return t.columnid});var d=f.columns.map(function(t){return t.columnid});e.using=I(p,d).map(function(t){return{columnid:t}})}else{throw new Error("In this version of Alasql NATURAL JOIN "+"works for tables with predefined columns only")}}}}if(e.using){var c=t.sources[t.sources.length-1];i.onleftfns=e.using.map(function(t){return"p['"+(c.alias||c.tableid)+"']['"+t.columnid+"']"}).join('+"`"+');i.onleftfn=new Function("p,params,alasql","var y;return "+i.onleftfns);i.onrightfns=e.using.map(function(t){return"p['"+(i.alias||i.tableid)+"']['"+t.columnid+"']"}).join('+"`"+');i.onrightfn=new Function("p,params,alasql","var y;return "+i.onrightfns);i.optimization="ix"}else if(e.on){if(e.on instanceof J.Op&&e.on.op=="="&&!e.on.allsome){i.optimization="ix";var g="";var m="";var v="";var y=false;var b=e.on.left.toJS("p",t.defaultTableid,t.defcols);var x=e.on.right.toJS("p",t.defaultTableid,t.defcols);if(b.indexOf("p['"+l+"']")>-1&&!(x.indexOf("p['"+l+"']")>-1)){if((b.match(/p\[\'.*?\'\]/g)||[]).every(function(t){return t=="p['"+l+"']"})){m=b}else{y=true}}else if(!(b.indexOf("p['"+l+"']")>-1)&&x.indexOf("p['"+l+"']")>-1){if((x.match(/p\[\'.*?\'\]/g)||[]).every(function(t){return t=="p['"+l+"']"})){g=b}else{y=true}}else{y=true}if(x.indexOf("p['"+l+"']")>-1&&!(b.indexOf("p['"+l+"']")>-1)){if((x.match(/p\[\'.*?\'\]/g)||[]).every(function(t){return t=="p['"+l+"']"})){m=x}else{y=true}}else if(!(x.indexOf("p['"+l+"']")>-1)&&b.indexOf("p['"+l+"']")>-1){if((b.match(/p\[\'.*?\'\]/g)||[]).every(function(t){return t=="p['"+l+"']"})){g=x}else{y=true}}else{y=true}if(y){m="";g="";v=e.on.toJS("p",t.defaultTableid,t.defcols);i.optimization="no"}i.onleftfns=g;i.onrightfns=m;i.onmiddlefns=v||"true";i.onleftfn=new Function("p,params,alasql","var y;return "+i.onleftfns);i.onrightfn=new Function("p,params,alasql","var y;return "+i.onrightfns);i.onmiddlefn=new Function("p,params,alasql","var y;return "+i.onmiddlefns)}else{i.optimization="no";i.onmiddlefns=e.on.toJS("p",t.defaultTableid,t.defcols);i.onmiddlefn=new Function("p,params,alasql","var y;return "+e.on.toJS("p",t.defaultTableid,t.defcols))}}t.sources.push(i)}})};J.Select.prototype.compileWhere=function(t){if(this.where){if(typeof this.where=="function"){return this.where}else{var e=this.where.toJS("p",t.defaultTableid,t.defcols);t.wherefns=e;return new Function("p,params,alasql","var y;return "+e)}}else return function(){return true}};J.Select.prototype.compileWhereJoins=function(t){return;ct(t,this.where.expression);t.sources.forEach(function(t){if(t.srcwherefns){t.srcwherefn=new Function("p,params,alasql","var y;return "+t.srcwherefns)}if(t.wxleftfns){t.wxleftfn=new Function("p,params,alasql","var y;return "+t.wxleftfns)}if(t.wxrightfns){t.wxrightfn=new Function("p,params,alasql","var y;return "+t.wxrightfns)}})};function ct(t,e){if(!e)return false;if(!(e instanceof J.Op))return;if(e.op!="="&&e.op!="AND")return;if(e.allsome)return;var n=e.toJS("p",t.defaultTableid,t.defcols);var i=[];t.sources.forEach(function(t,e){if(t.tableid){if(n.indexOf("p['"+t.alias+"']")>-1)i.push(t)}});if(i.length==0){return}else if(i.length==1){if(!(n.match(/p\[\'.*?\'\]/g)||[]).every(function(t){return t=="p['"+i[0].alias+"']"})){return}var r=i[0];r.srcwherefns=r.srcwherefns?r.srcwherefns+"&&"+n:n;if(e instanceof J.Op&&(e.op=="="&&!e.allsome)){if(e.left instanceof J.Column){var o=e.left.toJS("p",t.defaultTableid,t.defcols);var s=e.right.toJS("p",t.defaultTableid,t.defcols);if(s.indexOf("p['"+i[0].alias+"']")==-1){i[0].wxleftfns=o;i[0].wxrightfns=s}}if(e.right instanceof J.Column){var o=e.left.toJS("p",t.defaultTableid,t.defcols);var s=e.right.toJS("p",t.defaultTableid,t.defcols);if(o.indexOf("p['"+i[0].alias+"']")==-1){i[0].wxleftfns=s;i[0].wxrightfns=o}}}e.reduced=true;return}else{if(e.op="AND"){ct(t,e.left);ct(t,e.right)}}}J.Select.prototype.compileGroup=function(t){if(t.sources.length>0){var e=t.sources[0].alias}else{var e=""}var n=t.defcols;var i=[[]];if(this.group){i=mt(this.group,t)}var r=[];i.forEach(function(t){r=S(r,t)});t.allgroups=r;t.ingroup=[];var o="";i.forEach(function(i){o+="var g=this.xgroups[";var s=i.map(function(e){var n=e.split("\t")[0];var i=e.split("\t")[1];if(n===""){return"1"}t.ingroup.push(n);return i});if(s.length===0){s=["''"]}o+=s.join('+"`"+');o+="];if(!g) {this.groups.push((g=this.xgroups[";o+=s.join('+"`"+');o+="] = {";o+=i.map(function(t){var e=t.split("\t")[0];var n=t.split("\t")[1];if(e===""){return""}return"'"+e+"':"+n+","}).join("");var a=A(r,i);o+=a.map(function(t){var e=t.split("\t")[0];return"'"+e+"':null,"}).join("");var u="",l="";if(typeof t.groupStar!=="undefined"){l+="for(var f in p['"+t.groupStar+"']) {g[f]=p['"+t.groupStar+"'][f];};"}o+=t.selectGroup.map(function(i){var r=i.expression.toJS("p",e,n);var o=i.nick;if(i instanceof J.AggrValue){if(i.distinct){u+=",g['$$_VALUES_"+o+"']={},g['$$_VALUES_"+o+"']["+r+"]=true"}if(i.aggregatorid==="SUM"){return"'"+o+"':("+r+")||0,"}else if(i.aggregatorid==="MIN"||i.aggregatorid==="MAX"||i.aggregatorid==="FIRST"||i.aggregatorid==="LAST"){return"'"+o+"':"+r+","}else if(i.aggregatorid==="ARRAY"){return"'"+o+"':["+r+"],"}else if(i.aggregatorid==="COUNT"){if(i.expression.columnid==="*"){return"'"+o+"':1,"}else{return"'"+o+"':(typeof "+r+' != "undefined")?1:0,'}}else if(i.aggregatorid==="AVG"){t.removeKeys.push("_SUM_"+o);t.removeKeys.push("_COUNT_"+o);return""+"'"+o+"':"+r+",'_SUM_"+o+"':("+r+")||0,'_COUNT_"+o+"':(typeof "+r+' != "undefined")?1:0,'}else if(i.aggregatorid==="AGGR"){u+=",g['"+o+"']="+i.expression.toJS("g",-1);return""}else if(i.aggregatorid==="REDUCE"){t.aggrKeys.push(i);return"'"+o+"':alasql.aggr['"+i.funcid+"']("+r+",undefined,1),"}return""}return""}).join("");o+="}"+u+",g));"+l+"} else {";o+=t.selectGroup.map(function(t){var i=t.nick;var r=t.expression.toJS("p",e,n);if(t instanceof J.AggrValue){var o="",s="";if(t.distinct){var o="if(typeof "+r+'!="undefined" && (!g[\'$$_VALUES_'+i+"']["+r+"])) \t\t\t\t \t\t {";var s="g['$$_VALUES_"+i+"']["+r+"]=true;}"}if(t.aggregatorid==="SUM"){return o+"g['"+i+"']+=("+r+"||0);"+s}else if(t.aggregatorid==="COUNT"){if(t.expression.columnid==="*"){return o+"g['"+i+"']++;"+s}else{return o+"if(typeof "+r+'!="undefined") g[\''+i+"']++;"+s}}else if(t.aggregatorid==="ARRAY"){return o+"g['"+i+"'].push("+r+");"+s}else if(t.aggregatorid==="MIN"){return o+"g['"+i+"']=Math.min(g['"+i+"'],"+r+");"+s}else if(t.aggregatorid==="MAX"){return o+"g['"+i+"']=Math.max(g['"+i+"'],"+r+");"+s}else if(t.aggregatorid==="FIRST"){return""}else if(t.aggregatorid==="LAST"){return o+"g['"+i+"']="+r+";"+s}else if(t.aggregatorid==="AVG"){return""+o+"g['_SUM_"+i+"']+=(y="+r+")||0;"+"g['_COUNT_"+i+'\']+=(typeof y!="undefined")?1:0;'+"g['"+i+"']=g['_SUM_"+i+"']/g['_COUNT_"+i+"'];"+s}else if(t.aggregatorid==="AGGR"){return""+o+"g['"+i+"']="+t.expression.toJS("g",-1)+";"+s}else if(t.aggregatorid==="REDUCE"){return""+o+"g['"+i+"']=alasql.aggr."+t.funcid+"("+r+",g['"+i+"'],2);"+s}return""}return""}).join("");o+="}"});return new Function("p,params,alasql","var y;"+o)};function ht(t,e,i){var r="",o=[];t.ixsources={};t.sources.forEach(function(e){t.ixsources[e.alias]=e});var s;if(t.ixsources[e]){var s=t.ixsources[e].columns}if(i&&n.options.joinstar=="json"){r+="r['"+e+"']={};"}if(s&&s.length>0){s.forEach(function(s){if(i&&n.options.joinstar=="underscore"){o.push("'"+e+"_"+s.columnid+"':p['"+e+"']['"+s.columnid+"']")}else if(i&&n.options.joinstar=="json"){r+="r['"+e+"']['"+s.columnid+"']=p['"+e+"']['"+s.columnid+"'];"}else{o.push("'"+s.columnid+"':p['"+e+"']['"+s.columnid+"']")}t.selectColumns[c(s.columnid)]=true;var a={columnid:s.columnid,dbtypeid:s.dbtypeid,dbsize:s.dbsize,dbprecision:s.dbprecision,dbenum:s.dbenum};t.columns.push(a);t.xcolumns[a.columnid]=a})}else{r+='var w=p["'+e+'"];for(var k in w){r[k]=w[k]};';t.dirtyColumns=true}return{s:o.join(","),sp:r}}J.Select.prototype.compileSelect1=function(t,e){var i=this;t.columns=[];t.xcolumns={};t.selectColumns={};t.dirtyColumns=false;var r="var r={";var s="";var a=[];this.columns.forEach(function(r){if(r instanceof J.Column){if(r.columnid==="*"){if(r.func){s+="r=params['"+r.param+"'](p['"+t.sources[0].alias+"'],p,params,alasql);"}else if(r.tableid){var u=ht(t,r.tableid,false);if(u.s){a=a.concat(u.s)}s+=u.sp}else{for(var l in t.aliases){var u=ht(t,l,true);if(u.s){a=a.concat(u.s)}s+=u.sp}}}else{var h=r.tableid;var f=r.databaseid||t.sources[0].databaseid||t.database.databaseid;if(!h)h=t.defcols[r.columnid];if(!h)h=t.defaultTableid;if(r.columnid!=="_"){if(false&&h&&!t.defcols["."][r.tableid]&&!t.defcols[r.columnid]){a.push("'"+c(r.as||r.columnid)+"':p['"+t.defaultTableid+"']['"+r.tableid+"']['"+r.columnid+"']")}else{var p=e&&e.length>1&&Array.isArray(e[0])&&e[0].length>=1&&e[0][0].hasOwnProperty("sheetid");if(p){s='var r={};var w=p["'+h+'"];'+"var cols=["+i.columns.map(function(t){return"'"+t.columnid+"'"}).join(",")+"];var colas=["+i.columns.map(function(t){return"'"+(t.as||t.columnid)+"'"}).join(",")+"];"+"for (var i=0;i<Object.keys(p['"+h+"']).length;i++)"+" for(var k=0;k<cols.length;k++){if (!r.hasOwnProperty(i)) r[i]={}; r[i][colas[k]]=w[i][cols[k]];}"}else{a.push("'"+c(r.as||r.columnid)+"':p['"+h+"']['"+r.columnid+"']")}}}else{a.push("'"+c(r.as||r.columnid)+"':p['"+h+"']")}t.selectColumns[c(r.as||r.columnid)]=true;if(t.aliases[h]&&t.aliases[h].type==="table"){if(!n.databases[f].tables[t.aliases[h].tableid]){throw new Error("Table '"+h+"' does not exists in database")}var d=n.databases[f].tables[t.aliases[h].tableid].columns;var g=n.databases[f].tables[t.aliases[h].tableid].xcolumns;if(g&&d.length>0){var m=g[r.columnid];if(undefined===m){throw new Error("Column does not exists: "+r.columnid)}var v={columnid:r.as||r.columnid,dbtypeid:m.dbtypeid,dbsize:m.dbsize,dbpecision:m.dbprecision,dbenum:m.dbenum};t.columns.push(v);t.xcolumns[v.columnid]=v}else{var v={columnid:r.as||r.columnid};t.columns.push(v);t.xcolumns[v.columnid]=v;t.dirtyColumns=true}}else{var v={columnid:r.as||r.columnid};t.columns.push(v);t.xcolumns[v.columnid]=v}}}else if(r instanceof J.AggrValue){if(!i.group){i.group=[""]}if(!r.as){r.as=c(r.toString())}if(r.aggregatorid==="SUM"||r.aggregatorid==="MAX"||r.aggregatorid==="MIN"||r.aggregatorid==="FIRST"||r.aggregatorid==="LAST"||r.aggregatorid==="AVG"||r.aggregatorid==="ARRAY"||r.aggregatorid==="REDUCE"){a.push("'"+c(r.as)+"':"+o(r.expression.toJS("p",t.defaultTableid,t.defcols)))}else if(r.aggregatorid==="COUNT"){a.push("'"+c(r.as)+"':1")}var v={columnid:r.as||r.columnid||r.toString()};t.columns.push(v);t.xcolumns[v.columnid]=v}else{a.push("'"+c(r.as||r.columnid||r.toString())+"':"+o(r.toJS("p",t.defaultTableid,t.defcols)));t.selectColumns[c(r.as||r.columnid||r.toString())]=true;var v={columnid:r.as||r.columnid||r.toString()};t.columns.push(v);t.xcolumns[v.columnid]=v}});r+=a.join(",")+"};"+s;return r};J.Select.prototype.compileSelect2=function(t){var e=t.selectfns;if(this.orderColumns&&this.orderColumns.length>0){this.orderColumns.forEach(function(n,i){var r="$$$"+i;if(n instanceof J.Column&&t.xcolumns[n.columnid]){e+="r['"+r+"']=r['"+n.columnid+"'];"}else{e+="r['"+r+"']="+n.toJS("p",t.defaultTableid,t.defcols)+";"}t.removeKeys.push(r)})}return new Function("p,params,alasql","var y;"+e+"return r")};J.Select.prototype.compileSelectGroup0=function(t){var e=this;e.columns.forEach(function(n,i){if(!(n instanceof J.Column&&n.columnid==="*")){var r;if(n instanceof J.Column){r=c(n.columnid)}else{r=c(n.toString(true))}for(var o=0;o<i;o++){if(r===e.columns[o].nick){r=e.columns[o].nick+":"+i;break}}n.nick=r;if(n.funcid&&(n.funcid.toUpperCase()==="ROWNUM"||n.funcid.toUpperCase()==="ROW_NUMBER")){t.rownums.push(n.as)}}else{t.groupStar=n.tableid||"default"}});this.columns.forEach(function(e){if(e.findAggregator){e.findAggregator(t)}});if(this.having){if(this.having.findAggregator){this.having.findAggregator(t)}}};J.Select.prototype.compileSelectGroup1=function(t){var e=this;var n="var r = {};";e.columns.forEach(function(e){if(e instanceof J.Column&&e.columnid==="*"){n+="for(var k in g) {r[k]=g[k]};";return""}else{var i=e.as;if(i===undefined){if(e instanceof J.Column){i=c(e.columnid)}else{i=e.nick}}t.groupColumns[i]=e.nick;n+="r['"+i+"']=";n+=o(e.toJS("g",""))+";";for(var r=0;r<t.removeKeys.length;r++){if(t.removeKeys[r]===i){t.removeKeys.splice(r,1);break}}}});return n};J.Select.prototype.compileSelectGroup2=function(t){var e=this;var n=t.selectgfns;e.columns.forEach(function(e){if(t.ingroup.indexOf(e.nick)>-1){n+="r['"+(e.as||e.nick)+"']=g['"+e.nick+"'];"}});if(this.orderColumns&&this.orderColumns.length>0){this.orderColumns.forEach(function(e,i){var r="$$$"+i;if(e instanceof J.Column&&t.groupColumns[e.columnid]){n+="r['"+r+"']=r['"+e.columnid+"'];"}else{n+="r['"+r+"']="+e.toJS("g","")+";"}t.removeKeys.push(r)})}return new Function("g,params,alasql","var y;"+n+"return r")};J.Select.prototype.compileRemoveColumns=function(t){var e=this;if(typeof this.removecolumns!=="undefined"){t.removeKeys=t.removeKeys.concat(this.removecolumns.filter(function(t){return typeof t.like==="undefined"}).map(function(t){return t.columnid}));t.removeLikeKeys=this.removecolumns.filter(function(t){return typeof t.like!=="undefined"}).map(function(t){return t.like.value})}};J.Select.prototype.compileHaving=function(t){if(this.having){s=this.having.toJS("g",-1);t.havingfns=s;return new Function("g,params,alasql","var y;return "+s)}else return function(){return true}};J.Select.prototype.compileOrder=function(t){var e=this;e.orderColumns=[];if(this.order){if(this.order&&this.order.length==1&&this.order[0].expression&&typeof this.order[0].expression=="function"){var i=this.order[0].expression;return function(t,e){var n=i(t),r=i(e);if(n>r)return 1;if(n==r)return 0;return-1}}var r="";var o="";this.order.forEach(function(i,s){if(i.expression instanceof J.NumValue){var a=e.columns[i.expression.value-1]}else{var a=i.expression}e.orderColumns.push(a);var u="$$$"+s;var l="";if(i.expression instanceof J.Column){var c=i.expression.columnid;if(t.xcolumns[c]){var h=t.xcolumns[c].dbtypeid;if(h=="DATE"||h=="DATETIME"||h=="DATETIME2")l=".valueOf()"}else{if(n.options.valueof)l=".valueOf()"}}if(i.nocase)l+=".toUpperCase()";r+="if((a['"+u+"']||'')"+l+(i.direction=="ASC"?">":"<")+"(b['"+u+"']||'')"+l+")return 1;";r+="if((a['"+u+"']||'')"+l+"==(b['"+u+"']||'')"+l+"){";o+="}"});r+="return 0;";r+=o+"return -1";t.orderfns=r;return new Function("a,b","var y;"+r)}};J.Select.prototype.compilePivot=function(t){var e=this;var i=e.pivot.columnid;var r=e.pivot.expr.expression.columnid;var o=e.pivot.expr.aggregatorid;var s=e.pivot.inlist;if(s){s=s.map(function(t){return t.expr.columnid})}return function(){var t=this;var e=t.columns.filter(function(t){return t.columnid!=i&&t.columnid!=r}).map(function(t){return t.columnid});var a=[];var u={};var l={};var c={};var h=[];t.data.forEach(function(t){if(!s||s.indexOf(t[i])>-1){var f=e.map(function(e){return t[e]}).join("`");var p=l[f];if(!p){p={};l[f]=p;h.push(p);e.forEach(function(e){p[e]=t[e]})}if(!c[f]){c[f]={}}if(c[f][t[i]]){c[f][t[i]]++}else{c[f][t[i]]=1}if(!u[t[i]]){u[t[i]]=true;a.push(t[i])}if(o=="SUM"||o=="AVG"){if(typeof p[t[i]]=="undefined")p[t[i]]=0;p[t[i]]+=t[r]}else if(o=="COUNT"){if(typeof p[t[i]]=="undefined")p[t[i]]=0;p[t[i]]++}else if(o=="MIN"){if(typeof p[t[i]]=="undefined")p[t[i]]=Infinity;if(t[r]<p[t[i]])p[t[i]]=t[r]}else if(o=="MAX"){if(typeof p[t[i]]=="undefined")p[t[i]]=-Infinity;if(t[r]>p[t[i]])p[t[i]]=t[r]}else if(o=="FIRST"){if(typeof p[t[i]]=="undefined")p[t[i]]=t[r]}else if(o=="LAST"){p[t[i]]=t[r]}else if(n.aggr[o]){n.aggr[o](p[t[i]],t[r])}else{throw new Error("Wrong aggregator in PIVOT clause")}}});if(o=="AVG"){for(var f in l){var p=l[f];for(var d in p){if(e.indexOf(d)==-1&&d!=r){p[d]=p[d]/c[f][d]}}}}t.data=h;if(s)a=s;var g=t.columns.filter(function(t){return t.columnid==r})[0];t.columns=t.columns.filter(function(t){return!(t.columnid==i||t.columnid==r)});a.forEach(function(e){var n=N(g);n.columnid=e;t.columns.push(n)})}};J.Select.prototype.compileUnpivot=function(t){var e=this;var n=e.unpivot.tocolumnid;var i=e.unpivot.forcolumnid;var r=e.unpivot.inlist.map(function(t){return t.columnid});return function(){var e=[];var o=t.columns.map(function(t){return t.columnid}).filter(function(t){return r.indexOf(t)==-1&&t!=i&&t!=n});t.data.forEach(function(t){r.forEach(function(r){var s={};o.forEach(function(e){s[e]=t[e]});s[i]=r;s[n]=t[r];e.push(s)})});t.data=e}};var ft=function(t,e){var n=[];var i=0;var r=t.length;for(var o=0;o<r+1;o++){var s=[];for(var a=0;a<r;a++){if(t[a]instanceof J.Column){t[a].nick=c(t[a].columnid);e.groupColumns[c(t[a].columnid)]=t[a].nick;var u=t[a].nick+"\t"+t[a].toJS("p",e.sources[0].alias,e.defcols)}else{e.groupColumns[c(t[a].toString())]=c(t[a].toString());var u=c(t[a].toString())+"\t"+t[a].toJS("p",e.sources[0].alias,e.defcols)}if(i&1<<a)s.push(u)}n.push(s);i=(i<<1)+1}return n};var pt=function(t,e){var n=[];var i=t.length;var r=1<<i;for(var o=0;o<r;o++){var s=[];for(var a=0;a<i;a++){if(o&1<<a)s=s.concat(mt(t[a],e))}n.push(s)}return n};var dt=function(t,e){return t.reduce(function(t,n){t=t.concat(mt(n,e));return t},[])};var gt=function(t,e){var n=[];for(var i=0;i<t.length;i++){for(var r=0;r<e.length;r++){n.push(t[i].concat(e[r]))}}return n};function mt(t,e){if(Array.isArray(t)){var n=[[]];for(var i=0;i<t.length;i++){if(t[i]instanceof J.Column){t[i].nick=c(t[i].columnid);e.groupColumns[t[i].nick]=t[i].nick;n=n.map(function(n){return n.concat(t[i].nick+"\t"+t[i].toJS("p",e.sources[0].alias,e.defcols))})}else if(t[i]instanceof J.FuncValue){e.groupColumns[c(t[i].toString())]=c(t[i].toString());n=n.map(function(n){return n.concat(c(t[i].toString())+"\t"+t[i].toJS("p",e.sources[0].alias,e.defcols))})}else if(t[i]instanceof J.GroupExpression){if(t[i].type=="ROLLUP")n=gt(n,ft(t[i].group,e));else if(t[i].type=="CUBE")n=gt(n,pt(t[i].group,e));else if(t[i].type=="GROUPING SETS")n=gt(n,dt(t[i].group,e));else throw new Error("Unknown grouping function")}else if(t[i]===""){n=[["1\t1"]]}else{n=n.map(function(n){e.groupColumns[c(t[i].toString())]=c(t[i].toString());return n.concat(c(t[i].toString())+"\t"+t[i].toJS("p",e.sources[0].alias,e.defcols))})}}return n}else if(t instanceof J.FuncValue){e.groupColumns[c(t.toString())]=c(t.toString());return[t.toString()+"\t"+t.toJS("p",e.sources[0].alias,e.defcols)]}else if(t instanceof J.Column){t.nick=c(t.columnid);e.groupColumns[t.nick]=t.nick;return[t.nick+"\t"+t.toJS("p",e.sources[0].alias,e.defcols)]}else{e.groupColumns[c(t.toString())]=c(t.toString());return[c(t.toString())+"\t"+t.toJS("p",e.sources[0].alias,e.defcols)]}}J.Select.prototype.compileDefCols=function(t,e){var i={".":{}};if(this.from){this.from.forEach(function(t){i["."][t.as||t.tableid]=true;if(t instanceof J.Table){var r=t.as||t.tableid;var o=n.databases[t.databaseid||e].tables[t.tableid];if(undefined===o){throw new Error("Table does not exists: "+t.tableid)}if(o.columns){o.columns.forEach(function(t){if(i[t.columnid]){i[t.columnid]="-"}else{i[t.columnid]=r}})}}else if(t instanceof J.Select){}else if(t instanceof J.Search){}else if(t instanceof J.ParamValue){}else if(t instanceof J.VarValue){}else if(t instanceof J.FuncValue){}else if(t instanceof J.FromData){}else if(t instanceof J.Json){}else if(t.inserted){}else{throw new Error("Unknown type of FROM clause")}})}if(this.joins){this.joins.forEach(function(t){i["."][t.as||t.table.tableid]=true;if(t.table){var r=t.table.tableid;if(t.as)r=t.as;var r=t.as||t.table.tableid;var o=n.databases[t.table.databaseid||e].tables[t.table.tableid];if(o.columns){o.columns.forEach(function(t){if(i[t.columnid]){i[t.columnid]="-"}else{i[t.columnid]=r}})}}else if(t.select){}else if(t.param){}else if(t.func){}else{throw new Error("Unknown type of FROM clause")}})}return i};J.Union=function(t){return J.extend(this,t)};J.Union.prototype.toString=function(){return"UNION"};J.Union.prototype.compile=function(t){return null};J.Apply=function(t){return J.extend(this,t)};J.Apply.prototype.toString=function(){var t=this.applymode+" APPLY ("+this.select.toString()+")";if(this.as)t+=" AS "+this.as;return t};J.Over=function(t){return J.extend(this,t)};J.Over.prototype.toString=function(){var t="OVER (";if(this.partition){t+="PARTITION BY "+this.partition.toString();if(this.order)t+=" "}if(this.order){t+="ORDER BY "+this.order.toString()}t+=")";return t};J.ExpressionStatement=function(t){return J.extend(this,t)};J.ExpressionStatement.prototype.toString=function(){return this.expression.toString()};J.ExpressionStatement.prototype.execute=function(t,e,i){if(this.expression){n.precompile(this,t,e);var r=new Function("params,alasql,p","var y;return "+this.expression.toJS("({})","",null)).bind(this);var o=r(e,n);if(i){o=i(o)}return o}};J.Expression=function(t){return J.extend(this,t)};J.Expression.prototype.toString=function(t){var e=this.expression.toString(t);if(this.order){e+=" "+this.order.toString()}if(this.nocase){e+=" COLLATE NOCASE"}return e};J.Expression.prototype.findAggregator=function(t){if(this.expression.findAggregator){this.expression.findAggregator(t)}};J.Expression.prototype.toJS=function(t,e,n){if(this.expression.reduced){return"true"}return this.expression.toJS(t,e,n)};J.Expression.prototype.compile=function(t,e,n){if(this.reduced){return u()}return new Function("p","var y;return "+this.toJS(t,e,n))};J.JavaScript=function(t){return J.extend(this,t)};J.JavaScript.prototype.toString=function(){var t="``"+this.value+"``";return t};J.JavaScript.prototype.toJS=function(){return"("+this.value+")"};J.JavaScript.prototype.execute=function(t,e,i){var r=1;var o=new Function("params,alasql,p",this.value);o(e,n);if(i){r=i(r)}return r};J.Literal=function(t){return J.extend(this,t)};J.Literal.prototype.toString=function(t){var e=this.value;if(this.value1){e=this.value1+"."+e}if(this.alias&&!t)e+=" AS "+this.alias;return e};J.Join=function(t){return J.extend(this,t)};J.Join.prototype.toString=function(){var t=" ";if(this.joinmode){t+=this.joinmode+" "}t+="JOIN "+this.table.toString();return t};J.Table=function(t){return J.extend(this,t)};J.Table.prototype.toString=function(){var t=this.tableid;if(this.databaseid){t=this.databaseid+"."+t}return t};J.View=function(t){return J.extend(this,t)};J.View.prototype.toString=function(){var t=this.viewid;if(this.databaseid){t=this.databaseid+"."+t}return t};J.Op=function(t){return J.extend(this,t)};J.Op.prototype.toString=function(){if(this.op==="IN"||this.op==="NOT IN"){return this.left.toString()+" "+this.op+" ("+this.right.toString()+")"}if(this.allsome){return this.left.toString()+" "+this.op+" "+this.allsome+" ("+this.right.toString()+")"}if(this.op==="->"||this.op==="!"){var t=this.left.toString()+this.op;if(typeof this.right!=="string"&&typeof this.right!=="number"){t+="("}t+=this.right.toString();if(typeof this.right!=="string"&&typeof this.right!=="number"){t+=")"}return t}return this.left.toString()+" "+this.op+" "+(this.allsome?this.allsome+" ":"")+this.right.toString()};J.Op.prototype.findAggregator=function(t){if(this.left&&this.left.findAggregator){this.left.findAggregator(t)}if(this.right&&this.right.findAggregator&&!this.allsome){this.right.findAggregator(t)}};J.Op.prototype.toType=function(t){if(["-","*","/","%","^"].indexOf(this.op)>-1){return"number"}if(["||"].indexOf(this.op)>-1){return"string"}if(this.op==="+"){if(this.left.toType(t)==="string"||this.right.toType(t)==="string"){return"string"}if(this.left.toType(t)==="number"||this.right.toType(t)==="number"){return"number"}}if(["AND","OR","NOT","=","==","===","!=","!==","!===",">",">=","<","<=","IN","NOT IN","LIKE","NOT LIKE","REGEXP","GLOB"].indexOf(this.op)>-1){return"boolean"}if(this.op==="BETWEEN"||this.op==="NOT BETWEEN"||this.op==="IS NULL"||this.op==="IS NOT NULL"){return"boolean"}if(this.allsome){return"boolean"}if(!this.op){return this.left.toType()}return"unknown"};J.Op.prototype.toJS=function(t,e,n){var i;var r=[];var o=this.op;var s=this;var a=false,u=false;var l=function(i){if(i.toJS){i=i.toJS(t,e,n)}var o=r.push(i)-1;return"y["+o+"]"};var c=function(){return l(s.left)};var h=function(){return l(s.right)};if(this.op==="="){o="==="}else if(this.op==="<>"){o="!="}else if(this.op==="OR"){o="||"}if(this.op==="->"){var f="("+c()+"||{})";if(typeof this.right==="string"){i=f+'["'+this.right+'"]'}else if(typeof this.right==="number"){i=f+"["+this.right+"]"}else if(this.right instanceof J.FuncValue){var p=[];if(!(!this.right.args||0===this.right.args.length)){var p=this.right.args.map(l)}i=""+f+"['"+this.right.funcid+"']("+p.join(",")+")"}else{i=""+f+"["+h()+"]"}}if(this.op==="!"){if(typeof this.right==="string"){i=""+"alasql.databases[alasql.useid].objects["+c()+']["'+this.right+'"]'}}if(this.op==="IS"){i=""+"("+"("+c()+"==null)"+" === "+"("+h()+"==null)"+")"}if(this.op==="=="){i=""+"alasql.utils.deepEqual("+c()+","+h()+")"}if(this.op==="==="||this.op==="!==="){i=""+"("+(this.op==="!==="?"!":"")+"("+"("+c()+").valueOf()"+"==="+"("+h()+").valueOf()"+")"+")"}if(this.op==="!=="){i=""+"(!alasql.utils.deepEqual("+c()+","+h()+"))"}if(this.op==="||"){i=""+"(''+("+c()+"||'')+("+h()+'||""))'}if(this.op==="LIKE"||this.op==="NOT LIKE"){var i="("+(this.op==="NOT LIKE"?"!":"")+"alasql.utils.like("+h()+","+c();if(this.escape){i+=","+l(this.escape)}i+="))"}if(this.op==="REGEXP"){i="alasql.stdfn.REGEXP_LIKE("+c()+","+h()+")"}if(this.op==="GLOB"){i="alasql.utils.glob("+c()+","+h()+")"}if(this.op==="BETWEEN"||this.op==="NOT BETWEEN"){var d=c();i=""+"("+(this.op==="NOT BETWEEN"?"!":"")+"("+"("+l(this.right1)+"<="+d+") && ("+d+"<="+l(this.right2)+")"+")"+")"}if(this.op==="IN"){if(this.right instanceof J.Select){i="(";i+="alasql.utils.flatArray(this.queriesfn["+this.queriesidx+"](params,null,"+t+"))";i+=".indexOf(";i+=c()+")>-1)"}else if(Array.isArray(this.right)){i="(["+this.right.map(l).join(",")+"].indexOf("+c()+")>-1)"}else{i="("+h()+".indexOf("+c()+")>-1)"}}if(this.op==="NOT IN"){if(this.right instanceof J.Select){i="(";i+="alasql.utils.flatArray(this.queriesfn["+this.queriesidx+"](params,null,p))";i+=".indexOf(";i+=c()+")<0)"}else if(Array.isArray(this.right)){i="(["+this.right.map(l).join(",")+"].indexOf(";i+=c()+")<0)"}else{i="("+h()+".indexOf(";i+=c()+")==-1)"}}if(this.allsome==="ALL"){var i;if(this.right instanceof J.Select){i="alasql.utils.flatArray(this.query.queriesfn["+this.queriesidx+"](params,null,p))";i+=".every(function(b){return (";i+=c()+")"+o+"b})"}else if(Array.isArray(this.right)){i=""+(this.right.length==1?l(this.right[0]):"["+this.right.map(l).join(",")+"]");i+=".every(function(b){return (";i+=c()+")"+o+"b})"}else{throw new Error("NOT IN operator without SELECT")}}if(this.allsome==="SOME"||this.allsome==="ANY"){var i;if(this.right instanceof J.Select){i="alasql.utils.flatArray(this.query.queriesfn["+this.queriesidx+"](params,null,p))";i+=".some(function(b){return (";i+=c()+")"+o+"b})"}else if(Array.isArray(this.right)){i=""+(this.right.length==1?l(this.right[0]):"["+this.right.map(l).join(",")+"]");i+=".some(function(b){return (";i+=c()+")"+o+"b})"}else{throw new Error("SOME/ANY operator without SELECT")}}if(this.op==="AND"){if(this.left.reduced){if(this.right.reduced){return"true"}else{i=h()}}else if(this.right.reduced){i=c()}o="&&"}var g=i||"("+c()+o+h()+")";var m="y=[("+r.join("), (")+")]";if(o=="&&"||o=="||"||o=="IS"||o=="IS NULL"||o=="IS NOT NULL"){return"("+m+", "+g+")"}else{return"("+m+", "+"y.some(function(e){return e == null}) ? void 0 : "+g+")"}};J.VarValue=function(t){return J.extend(this,t)};J.VarValue.prototype.toString=function(){return"@"+this.variable};J.VarValue.prototype.toType=function(){return"unknown"};J.VarValue.prototype.toJS=function(){return"alasql.vars['"+this.variable+"']"};J.NumValue=function(t){return J.extend(this,t)};J.NumValue.prototype.toString=function(){return this.value.toString()};J.NumValue.prototype.toType=function(){return"number"};J.NumValue.prototype.toJS=function(){return""+this.value};J.StringValue=function(t){return J.extend(this,t)};J.StringValue.prototype.toString=function(){return"'"+this.value.toString()+"'"};J.StringValue.prototype.toType=function(){return"string"};J.StringValue.prototype.toJS=function(){return"'"+c(this.value)+"'"};J.DomainValueValue=function(t){return J.extend(this,t)};J.DomainValueValue.prototype.toString=function(){return"VALUE"};J.DomainValueValue.prototype.toType=function(){return"object"};J.DomainValueValue.prototype.toJS=function(t,e,n){return t};J.ArrayValue=function(t){return J.extend(this,t)};J.ArrayValue.prototype.toString=function(){return"ARRAY[]"};J.ArrayValue.prototype.toType=function(){return"object"};J.ArrayValue.prototype.toJS=function(t,e,n){return"[("+this.value.map(function(i){return i.toJS(t,e,n)}).join("), (")+")]"};J.LogicValue=function(t){return J.extend(this,t)};J.LogicValue.prototype.toString=function(){return this.value?"TRUE":"FALSE"};J.LogicValue.prototype.toType=function(){return"boolean"};J.LogicValue.prototype.toJS=function(){return this.value?"true":"false"};J.NullValue=function(t){return J.extend(this,t)};J.NullValue.prototype.toString=function(){return"NULL"};J.NullValue.prototype.toJS=function(){return"undefined"};J.ParamValue=function(t){return J.extend(this,t)};J.ParamValue.prototype.toString=function(){return"$"+this.param};J.ParamValue.prototype.toJS=function(){if(typeof this.param==="string"){return"params['"+this.param+"']"}return"params["+this.param+"]"};J.UniOp=function(t){return J.extend(this,t)};J.UniOp.prototype.toString=function(){var t;t=void 0;if(this.op==="~"){t=this.op+this.right.toString()}if(this.op==="-"){t=this.op+this.right.toString()}if(this.op==="+"){t=this.op+this.right.toString()}if(this.op==="#"){t=this.op+this.right.toString()}if(this.op==="NOT"){t=this.op+"("+this.right.toString()+")"}if(this.op===null){t="("+this.right.toString()+")"}if(!t){t="("+this.right.toString()+")"}return t};J.UniOp.prototype.findAggregator=function(t){if(this.right.findAggregator){this.right.findAggregator(t)}};J.UniOp.prototype.toType=function(){if(this.op==="-"){return"number"}if(this.op==="+"){return"number"}if(this.op==="NOT"){return"boolean"}};J.UniOp.prototype.toJS=function(t,e,n){if(this.op==="~"){return"(~("+this.right.toJS(t,e,n)+"))"}if(this.op==="-"){return"(-("+this.right.toJS(t,e,n)+"))"}if(this.op==="+"){return"("+this.right.toJS(t,e,n)+")"}if(this.op==="NOT"){return"!("+this.right.toJS(t,e,n)+")"}if(this.op==="#"){if(this.right instanceof J.Column){return"(alasql.databases[alasql.useid].objects['"+this.right.columnid+"'])"}else{return"(alasql.databases[alasql.useid].objects["+this.right.toJS(t,e,n)+"])"}}if(this.op==null){return"("+this.right.toJS(t,e,n)+")"}};J.Column=function(t){return J.extend(this,t)};J.Column.prototype.toString=function(t){var e;if(this.columnid==+this.columnid){e="["+this.columnid+"]"}else{e=this.columnid}if(this.tableid){if(+this.columnid===this.columnid){e=this.tableid+e}else{e=this.tableid+"."+e}if(this.databaseid){e=this.databaseid+"."+e}}if(this.alias&&!t)e+=" AS "+this.alias;return e};J.Column.prototype.toJS=function(t,e,n){var i="";if(!this.tableid&&e===""&&!n){if(this.columnid!=="_"){i=t+"['"+this.columnid+"']"}else{if(t==="g"){i="g['_']"}else{i=t}}}else{if(t==="g"){i="g['"+this.nick+"']"}else if(this.tableid){if(this.columnid!=="_"){i=t+"['"+this.tableid+"']['"+this.columnid+"']"}else{if(t==="g"){i="g['_']"}else{i=t+"['"+this.tableid+"']"}}}else if(n){var r=n[this.columnid];if(r==="-"){throw new Error('Cannot resolve column "'+this.columnid+'" because it exists in two source tables')}else if(r){if(this.columnid!=="_"){i=t+"['"+r+"']['"+this.columnid+"']"}else{i=t+"['"+r+"']"}}else{if(this.columnid!=="_"){i=t+"['"+(this.tableid||e)+"']['"+this.columnid+"']"}else{i=t+"['"+(this.tableid||e)+"']"}}}else if(e===-1){i=t+"['"+this.columnid+"']"}else{if(this.columnid!=="_"){i=t+"['"+(this.tableid||e)+"']['"+this.columnid+"']"}else{i=t+"['"+(this.tableid||e)+"']"}}}return i};J.AggrValue=function(t){return J.extend(this,t)};J.AggrValue.prototype.toString=function(t){var e="";if(this.aggregatorid==="REDUCE"){e+=this.funcid+"("}else{e+=this.aggregatorid+"("}if(this.distinct){e+="DISTINCT "}if(this.expression){e+=this.expression.toString()}e+=")";if(this.over){e+=" "+this.over.toString()}if(this.alias&&!t)e+=" AS "+this.alias;return e};J.AggrValue.prototype.findAggregator=function(t){var e=c(this.toString())+":"+t.selectGroup.length;var n=false;if(!n){if(!this.nick){this.nick=e;var n=false;for(var i=0;i<t.removeKeys.length;i++){if(t.removeKeys[i]===e){n=true;break}}if(!n){t.removeKeys.push(e)}}t.selectGroup.push(this)}return};J.AggrValue.prototype.toType=function(){if(["SUM","COUNT","AVG","MIN","MAX","AGGR","VAR","STDDEV"].indexOf(this.aggregatorid)>-1){return"number"}if(["ARRAY"].indexOf(this.aggregatorid)>-1){return"array"}if(["FIRST","LAST"].indexOf(this.aggregatorid)>-1){return this.expression.toType()}};J.AggrValue.prototype.toJS=function(){var t=this.nick;if(t===undefined){t=this.toString()}return"g['"+t+"']"};J.OrderExpression=function(t){return J.extend(this,t)};J.OrderExpression.prototype.toString=J.Expression.prototype.toString;J.GroupExpression=function(t){return J.extend(this,t)};J.GroupExpression.prototype.toString=function(){return this.type+"("+this.group.toString()+")"};J.FromData=function(t){return J.extend(this,t)};J.FromData.prototype.toString=function(){if(this.data)return"DATA("+(Math.random()*1e16|0)+")";else return"?"};J.FromData.prototype.toJS=function(){};J.Select.prototype.exec=function(t,e){if(this.preparams)t=this.preparams.concat(t);var i=n.useid;db=n.databases[i];var r=this.toString();var o=T(r);var s=this.compile(i);if(!s)return;s.sql=r;s.dbversion=db.dbversion;if(db.sqlCacheSize>n.MAXSQLCACHESIZE){db.resetSqlCache()}db.sqlCacheSize++;db.sqlCache[o]=s;var a=n.res=s(t,e);return a};J.Select.prototype.Select=function(){var t=this;var e=[];if(arguments.length>1){args=Array.prototype.slice.call(arguments)}else if(arguments.length==1){if(Array.isArray(arguments[0])){args=arguments[0]}else{args=[arguments[0]]}}else{throw new Error("Wrong number of arguments of Select() function")}t.columns=[];args.forEach(function(e){if(typeof e=="string"){t.columns.push(new J.Column({columnid:e}))}else if(typeof e=="function"){var n=0;if(t.preparams){n=t.preparams.length}else{t.preparams=[]}t.preparams.push(e);t.columns.push(new J.Column({columnid:"*",func:e,param:n}))}else{}});return t};J.Select.prototype.From=function(t){var e=this;if(!e.from)e.from=[];if(Array.isArray(t)){var n=0;if(e.preparams){n=e.preparams.length}else{e.preparams=[]}e.preparams.push(t);e.from.push(new J.ParamValue({param:n}))}else if(typeof t=="string"){e.from.push(new J.Table({tableid:t}))}else{throw new Error("Unknown arguments in From() function")}return e};J.Select.prototype.OrderBy=function(){var t=this;var e=[];t.order=[];if(arguments.length==0){args=["_"]}else if(arguments.length>1){args=Array.prototype.slice.call(arguments)}else if(arguments.length==1){if(Array.isArray(arguments[0])){args=arguments[0]}else{args=[arguments[0]]}}else{throw new Error("Wrong number of arguments of Select() function")}if(args.length>0){args.forEach(function(e){var n=new J.Column({columnid:e});if(typeof e=="function"){n=e}t.order.push(new J.OrderExpression({expression:n,direction:"ASC"}))})}return t};J.Select.prototype.Top=function(t){var e=this;e.top=new J.NumValue({value:t});return e};J.Select.prototype.GroupBy=function(){var t=this;var e=[];if(arguments.length>1){args=Array.prototype.slice.call(arguments)}else if(arguments.length==1){if(Array.isArray(arguments[0])){args=arguments[0]}else{args=[arguments[0]]}}else{throw new Error("Wrong number of arguments of Select() function")}t.group=[];args.forEach(function(e){var n=new J.Column({columnid:e});t.group.push(n)});return t};J.Select.prototype.Where=function(t){var e=this;if(typeof t=="function"){e.where=t}return e};J.FuncValue=function(t){return J.extend(this,t)};J.FuncValue.prototype.toString=function(t){var e="";if(n.fn[this.funcid])e+=this.funcid;else if(n.aggr[this.funcid])e+=this.funcid;else if(n.stdlib[this.funcid.toUpperCase()]||n.stdfn[this.funcid.toUpperCase()])e+=this.funcid.toUpperCase();e+="(";if(this.args&&this.args.length>0){e+=this.args.map(function(t){return t.toString()}).join(",")}e+=")";if(this.as&&!t)e+=" AS "+this.as.toString();return e};J.FuncValue.prototype.execute=function(t,e,i){var r=1;n.precompile(this,t,e);var o=new Function("params,alasql","var y;return "+this.toJS("","",null));o(e,n);if(i)r=i(r);return r};J.FuncValue.prototype.findAggregator=function(t){if(this.args&&this.args.length>0){this.args.forEach(function(e){if(e.findAggregator)e.findAggregator(t)})}};J.FuncValue.prototype.toJS=function(t,e,i){var r="";var o=this.funcid;if(!n.fn[o]&&n.stdlib[o.toUpperCase()]){if(this.args&&this.args.length>0){r+=n.stdlib[o.toUpperCase()].apply(this,this.args.map(function(n){return n.toJS(t,e)}))}else{r+=n.stdlib[o.toUpperCase()]()}}else if(!n.fn[o]&&n.stdfn[o.toUpperCase()]){if(this.newid)r+="new ";r+="alasql.stdfn."+this.funcid.toUpperCase()+"(";if(this.args&&this.args.length>0){r+=this.args.map(function(n){return n.toJS(t,e,i)}).join(",")}r+=")"}else{if(this.newid)r+="new ";r+="alasql.fn."+this.funcid+"(";if(this.args&&this.args.length>0){r+=this.args.map(function(n){return n.toJS(t,e,i)}).join(",")}r+=")"}return r};var vt=n.stdlib={};var yt=n.stdfn={};vt.ABS=function(t){return"Math.abs("+t+")"};vt.CLONEDEEP=function(t){return"alasql.utils.cloneDeep("+t+")"};yt.CONCAT=function(){return Array.prototype.slice.call(arguments).join("")};vt.EXP=function(t){return"Math.pow(Math.E,"+t+")"};vt.IIF=function(t,e,n){if(arguments.length==3){return"(("+t+")?("+e+"):("+n+"))"}else{throw new Error("Number of arguments of IFF is not equals to 3")}};vt.IFNULL=function(t,e){return"("+t+"||"+e+")"};vt.INSTR=function(t,e){return"(("+t+").indexOf("+e+")+1)"};vt.LEN=vt.LENGTH=function(t){return a(t,"y.length")};vt.LOWER=vt.LCASE=function(t){return a(t,"String(y).toLowerCase()")};vt.MAX=vt.GREATEST=function(){return"Math.max("+Array.prototype.join.call(arguments,",")+")"};vt.MIN=vt.LEAST=function(){return"Math.min("+Array.prototype.join.call(arguments,",")+")"};vt.SUBSTRING=vt.SUBSTR=vt.MID=function(t,e,n){if(arguments.length==2)return a(t,"y.substr("+e+"-1)");else if(arguments.length==3)return a(t,"y.substr("+e+"-1,"+n+")")};yt.REGEXP_LIKE=function(t,e,n){return(t||"").search(RegExp(e,n))>-1};vt.ISNULL=vt.NULLIF=function(t,e){return"("+t+"=="+e+"?undefined:"+t+")"};vt.POWER=function(t,e){return"Math.pow("+t+","+e+")"};vt.RANDOM=function(t){if(arguments.length==0){return"Math.random()"}else{return"(Math.random()*("+t+")|0)"}};vt.ROUND=function(t,e){if(arguments.length==2){return"Math.round(("+t+")*Math.pow(10,("+e+")))/Math.pow(10,("+e+"))"}else{return"Math.round("+t+")"}};vt.CEIL=vt.CEILING=function(t){return"Math.ceil("+t+")"};vt.FLOOR=function(t){return"Math.floor("+t+")"};vt.ROWNUM=function(){return"1"};vt.ROW_NUMBER=function(){return"1"};vt.SQRT=function(t){return"Math.sqrt("+t+")"};vt.TRIM=function(t){return a(t,"y.trim()")};vt.UPPER=vt.UCASE=function(t){return a(t,"String(y).toUpperCase()")};yt.CONCAT_WS=function(){args=Array.prototype.slice.call(arguments);return args.slice(1,args.length).join(args[0])};n.aggr.GROUP_CONCAT=function(t,e,n){if(n==1){return t}else if(n==2){return e+","+t}};n.aggr.MEDIAN=function(t,e,n){if(n===2){if(t===null){return e}e.push(t);return e}else if(n===1){if(t===null){return[]}return[t]}else{var i=e.sort();return i[i.length/2|0]}};n.aggr.VAR=function(t,e,n){if(n===1){if(t===null){return{arr:[],sum:0}}return{arr:[t],sum:t}}else if(n===2){if(t===null){return e}e.arr.push(t);e.sum+=t;return e}else{var i=e.arr.length;var r=e.sum/i;var o=0;for(var s=0;s<i;s++){o+=(e.arr[s]-r)*(e.arr[s]-r)}o=o/(i-1);return o}};n.aggr.STDEV=function(t,e,i){if(i===1||i===2){return n.aggr.VAR(t,e,i)}else{return Math.sqrt(n.aggr.VAR(t,e,i))}};n.aggr.VARP=function(t,e,n){if(n==1){return{arr:[t],sum:t}}else if(n==2){e.arr.push(t);e.sum+=t;return e}else{var i=e.arr.length;var r=e.sum/i;var o=0;for(var s=0;s<i;s++){o+=(e.arr[s]-r)*(e.arr[s]-r)}o=o/i;return o}};n.aggr.STD=n.aggr.STDDEV=n.aggr.STDEVP=function(t,e,i){if(i==1||i==2){return n.aggr.VARP(t,e,i)}else{return Math.sqrt(n.aggr.VARP(t,e,i))}};yt.REPLACE=function(t,e,n){return(t||"").split(e).join(n)};var bt=[];for(var xt=0;xt<256;xt++){bt[xt]=(xt<16?"0":"")+xt.toString(16)}yt.NEWID=yt.UUID=yt.GEN_RANDOM_UUID=function(){var t=Math.random()*4294967295|0;var e=Math.random()*4294967295|0;var n=Math.random()*4294967295|0;var i=Math.random()*4294967295|0;return bt[t&255]+bt[t>>8&255]+bt[t>>16&255]+bt[t>>24&255]+"-"+bt[e&255]+bt[e>>8&255]+"-"+bt[e>>16&15|64]+bt[e>>24&255]+"-"+bt[n&63|128]+bt[n>>8&255]+"-"+bt[n>>16&255]+bt[n>>24&255]+bt[i&255]+bt[i>>8&255]+bt[i>>16&255]+bt[i>>24&255]};J.CaseValue=function(t){return J.extend(this,t)};J.CaseValue.prototype.toString=function(){var t="CASE ";if(this.expression)t+=this.expression.toString();if(this.whens){t+=this.whens.map(function(t){return" WHEN "+t.when.toString()+" THEN "+t.then.toString()}).join()}t+=" END";return t};J.CaseValue.prototype.findAggregator=function(t){if(this.expression&&this.expression.findAggregator)this.expression.findAggregator(t);if(this.whens&&this.whens.length>0){this.whens.forEach(function(e){if(e.when.findAggregator)e.when.findAggregator(t);if(e.then.findAggregator)e.then.findAggregator(t)})}if(this.elses&&this.elses.findAggregator)this.elses.findAggregator(t)};J.CaseValue.prototype.toJS=function(t,e,n){var i="((function("+t+",params,alasql){var y,r;";if(this.expression){i+="v="+this.expression.toJS(t,e,n)+";";i+=(this.whens||[]).map(function(i){return" if(v=="+i.when.toJS(t,e,n)+") {r="+i.then.toJS(t,e,n)+"}"}).join(" else ");if(this.elses)i+=" else {r="+this.elses.toJS(t,e,n)+"}"}else{i+=(this.whens||[]).map(function(i){return" if("+i.when.toJS(t,e,n)+") {r="+i.then.toJS(t,e,n)+"}"}).join(" else ");if(this.elses)i+=" else {r="+this.elses.toJS(t,e,n)+"}"}i+=";return r;}).bind(this))("+t+",params,alasql)";return i};J.Json=function(t){return J.extend(this,t)};J.Json.prototype.toString=function(){var t="";t+=_t(this.value);t+="";return t};var _t=n.utils.JSONtoString=function(t){var e="";if(typeof t=="string")e='"'+t+'"';else if(typeof t=="number")e=t;else if(typeof t=="boolean")e=t;else if(typeof t=="object"){if(Array.isArray(t)){e+="["+t.map(function(t){return _t(t)}).join(",")+"]"}else if(!t.toJS||t instanceof J.Json){e="{";var n=[];for(var i in t){var r="";if(typeof i=="string")r+='"'+i+'"';else if(typeof i=="number")r+=i;else if(typeof i=="boolean")r+=i;else{throw new Error("THis is not ES6... no expressions on left side yet")}r+=":"+_t(t[i]);n.push(r)}e+=n.join(",")+"}"}else if(t.toString){e=t.toString()}else{throw new Error("1Can not show JSON object "+JSON.stringify(t))}}else{throw new Error("2Can not show JSON object "+JSON.stringify(t))}return e};function Et(t,e,n,i){var r="";if(typeof t=="string")r='"'+t+'"';else if(typeof t=="number")r="("+t+")";else if(typeof t=="boolean")r=t;else if(typeof t=="object"){if(Array.isArray(t)){r+="["+t.map(function(t){return Et(t,e,n,i)}).join(",")+"]"}else if(!t.toJS||t instanceof J.Json){r="{";var o=[];for(var s in t){var a="";if(typeof s=="string")a+='"'+s+'"';else if(typeof s=="number")a+=s;else if(typeof s=="boolean")a+=s;else{throw new Error("THis is not ES6... no expressions on left side yet")}a+=":"+Et(t[s],e,n,i);o.push(a)}r+=o.join(",")+"}"}else if(t.toJS){r=t.toJS(e,n,i)}else{throw new Error("1Can not parse JSON object "+JSON.stringify(t))}}else{throw new Error("2Can not parse JSON object "+JSON.stringify(t))}return r}J.Json.prototype.toJS=function(t,e,n){return Et(this.value,t,e,n)};J.Convert=function(t){return J.extend(this,t)};J.Convert.prototype.toString=function(){var t="CONVERT(";t+=this.dbtypeid;if(typeof this.dbsize!="undefined"){t+="("+this.dbsize;if(this.dbprecision)t+=","+dbprecision;t+=")"}t+=","+this.expression.toString();if(this.style)t+=","+this.style;t+=")";return t};J.Convert.prototype.toJS=function(t,e,n){return"alasql.stdfn.CONVERT("+this.expression.toJS(t,e,n)+',{dbtypeid:"'+this.dbtypeid+'",dbsize:'+this.dbsize+",style:"+this.style+"})";throw new Error("There is not such type conversion for "+this.toString())};n.stdfn.CONVERT=function(t,e){var n=t;if(e.style){var i;if(/\d{8}/.test(n)){i=new Date(+n.substr(0,4),+n.substr(4,2)-1,+n.substr(6,2))}else{i=new Date(n)}switch(e.style){case 1:n=("0"+(i.getMonth()+1)).substr(-2)+"/"+("0"+i.getDate()).substr(-2)+"/"+("0"+i.getYear()).substr(-2);break;case 2:n=("0"+i.getYear()).substr(-2)+"."+("0"+(i.getMonth()+1)).substr(-2)+"."+("0"+i.getDate()).substr(-2);break;case 3:n=("0"+i.getDate()).substr(-2)+"/"+("0"+(i.getMonth()+1)).substr(-2)+"/"+("0"+i.getYear()).substr(-2);break;case 4:n=("0"+i.getDate()).substr(-2)+"."+("0"+(i.getMonth()+1)).substr(-2)+"."+("0"+i.getYear()).substr(-2);break;case 5:n=("0"+i.getDate()).substr(-2)+"-"+("0"+(i.getMonth()+1)).substr(-2)+"-"+("0"+i.getYear()).substr(-2);break;case 6:n=("0"+i.getDate()).substr(-2)+" "+i.toString().substr(4,3).toLowerCase()+" "+("0"+i.getYear()).substr(-2);break;case 7:n=i.toString().substr(4,3)+" "+("0"+i.getDate()).substr(-2)+","+("0"+i.getYear()).substr(-2);break;case 8:case 108:n=("0"+i.getHours()).substr(-2)+":"+("0"+i.getMinutes()).substr(-2)+":"+("0"+i.getSeconds()).substr(-2);break;case 10:n=("0"+(i.getMonth()+1)).substr(-2)+"-"+("0"+i.getDate()).substr(-2)+"-"+("0"+i.getYear()).substr(-2);break;case 11:n=("0"+i.getYear()).substr(-2)+"/"+("0"+(i.getMonth()+1)).substr(-2)+"/"+("0"+i.getDate()).substr(-2);break;case 12:n=("0"+i.getYear()).substr(-2)+("0"+(i.getMonth()+1)).substr(-2)+("0"+i.getDate()).substr(-2);break;case 101:n=("0"+(i.getMonth()+1)).substr(-2)+"/"+("0"+i.getDate()).substr(-2)+"/"+i.getFullYear();break;case 102:n=i.getFullYear()+"."+("0"+(i.getMonth()+1)).substr(-2)+"."+("0"+i.getDate()).substr(-2);break;case 103:n=("0"+i.getDate()).substr(-2)+"/"+("0"+(i.getMonth()+1)).substr(-2)+"/"+i.getFullYear();break;case 104:n=("0"+i.getDate()).substr(-2)+"."+("0"+(i.getMonth()+1)).substr(-2)+"."+i.getFullYear();break;case 105:n=("0"+i.getDate()).substr(-2)+"-"+("0"+(i.getMonth()+1)).substr(-2)+"-"+i.getFullYear();break;case 106:n=("0"+i.getDate()).substr(-2)+" "+i.toString().substr(4,3).toLowerCase()+" "+i.getFullYear();break;case 107:n=i.toString().substr(4,3)+" "+("0"+i.getDate()).substr(-2)+","+i.getFullYear();break;case 110:n=("0"+(i.getMonth()+1)).substr(-2)+"-"+("0"+i.getDate()).substr(-2)+"-"+i.getFullYear();break;case 111:n=i.getFullYear()+"/"+("0"+(i.getMonth()+1)).substr(-2)+"/"+("0"+i.getDate()).substr(-2);break;case 112:n=i.getFullYear()+("0"+(i.getMonth()+1)).substr(-2)+("0"+i.getDate()).substr(-2);break;default:throw new Error("The CONVERT style "+e.style+" is not realized yet.")}}var r=e.dbtypeid.toUpperCase();if(e.dbtypeid=="Date"){return new Date(n)}else if(r=="DATE"){var o=new Date(n);var s=o.getFullYear()+"."+("0"+(o.getMonth()+1)).substr(-2)+"."+("0"+o.getDate()).substr(-2);return s}else if(r=="DATETIME"||r=="DATETIME2"){var o=new Date(n);var s=o.getFullYear()+"."+("0"+(o.getMonth()+1)).substr(-2)+"."+("0"+o.getDate()).substr(-2);s+=" "+("0"+o.getHours()).substr(-2)+":"+("0"+o.getMinutes()).substr(-2)+":"+("0"+o.getSeconds()).substr(-2);s+="."+("00"+o.getMilliseconds()).substr(-3);return s}else if(["MONEY"].indexOf(r)>-1){var a=+n;return(a|0)+a*100%100/100}else if(["BOOLEAN"].indexOf(r)>-1){return!!n}else if(["INT","INTEGER","SMALLINT","BIGINT","SERIAL","SMALLSERIAL","BIGSERIAL"].indexOf(e.dbtypeid.toUpperCase())>-1){return n|0}else if(["STRING","VARCHAR","NVARCHAR","CHARACTER VARIABLE"].indexOf(e.dbtypeid.toUpperCase())>-1){if(e.dbsize)return(""+n).substr(0,e.dbsize);else return""+n}else if(["CHAR","CHARACTER","NCHAR"].indexOf(r)>-1){return(n+new Array(e.dbsize+1).join(" ")).substr(0,e.dbsize)}else if(["NUMBER","FLOAT"].indexOf(r)>-1){if(typeof e.dbprecision!="undefined"){var a=+n;var u=Math.pow(10,e.dbprecision);return(a|0)+a*u%u/u}else{return+n}}else if(["DECIMAL","NUMERIC"].indexOf(r)>-1){var a=+n;var u=Math.pow(10,e.dbprecision);return(a|0)+a*u%u/u}else if(["JSON"].indexOf(r)>-1){if(typeof n=="object")return n;try{return JSON.parse(n)}catch(t){throw new Error("Cannot convert string to JSON")}}return n};J.ColumnDef=function(t){return J.extend(this,t)};J.ColumnDef.prototype.toString=function(){var t=this.columnid;if(this.dbtypeid){t+=" "+this.dbtypeid}if(this.dbsize){t+="("+this.dbsize;if(this.dbprecision){t+=","+this.dbprecision}t+=")"}if(this.primarykey){t+=" PRIMARY KEY"}if(this.notnull){t+=" NOT NULL"}return t};J.CreateTable=function(t){return J.extend(this,t)};J.CreateTable.prototype.toString=function(){var t="CREATE";if(this.temporary){t+=" TEMPORARY"}if(this.view){t+=" VIEW"}else{t+=" "+(this.class?"CLASS":"TABLE")}if(this.ifnotexists){t+=" IF  NOT EXISTS"}t+=" "+this.table.toString();if(this.viewcolumns){t+="("+this.viewcolumns.map(function(t){return t.toString()}).join(",")+")"}if(this.as){t+=" AS "+this.as}else{var e=this.columns.map(function(t){return t.toString()});t+=" ("+e.join(",")+")"}if(this.view&&this.select){t+=" AS "+this.select.toString()}return t};J.CreateTable.prototype.execute=function(t,e,i){var r=n.databases[this.table.databaseid||t];var o=this.table.tableid;if(!o){throw new Error("Table name is not defined")}var s=this.columns;var a=this.constraints||[];if(this.ifnotexists&&r.tables[o]){return i?i(0):0}if(r.tables[o]){throw new Error("Can not create table '"+o+"', because it already exists in the database '"+r.databaseid+"'")}var u=r.tables[o]=new n.Table;if(this.class){u.isclass=true}var l=[];var c=[];if(s){s.forEach(function(t){var e=t.dbtypeid;if(!n.fn[e]){e=e.toUpperCase()}if(["SERIAL","SMALLSERIAL","BIGSERIAL"].indexOf(e)>-1){t.identity={value:1,step:1}}var i={columnid:t.columnid,dbtypeid:e,dbsize:t.dbsize,dbprecision:t.dbprecision,notnull:t.notnull,identity:t.identity};if(t.identity){u.identities[t.columnid]={value:+t.identity.value,step:+t.identity.step}}if(t.check){u.checks.push({id:t.check.constrantid,fn:new Function("r","var y;return "+t.check.expression.toJS("r",""))})}if(t.default){l.push("'"+t.columnid+"':"+t.default.toJS("r",""))}if(t.primarykey){var r=u.pk={};r.columns=[t.columnid];r.onrightfns="r['"+t.columnid+"']";r.onrightfn=new Function("r","var y;return "+r.onrightfns);r.hh=T(r.onrightfns);u.uniqs[r.hh]={}}if(t.unique){var o={};u.uk=u.uk||[];u.uk.push(o);o.columns=[t.columnid];o.onrightfns="r['"+t.columnid+"']";o.onrightfn=new Function("r","var y;return "+o.onrightfns);o.hh=T(o.onrightfns);u.uniqs[o.hh]={}}if(t.foreignkey){var s=t.foreignkey.table;var a=n.databases[s.databaseid||n.useid].tables[s.tableid];if(typeof s.columnid==="undefined"){if(a.pk.columns&&a.pk.columns.length>0){s.columnid=a.pk.columns[0]}else{throw new Error("FOREIGN KEY allowed only to tables with PRIMARY KEYs")}}var h=function(e){var n={};if(typeof e[t.columnid]==="undefined"){return true}n[s.columnid]=e[t.columnid];var i=a.pk.onrightfn(n);if(!a.uniqs[a.pk.hh][i]){throw new Error('Foreign key "'+e[t.columnid]+'" is not found in table '+a.tableid)}return true};u.checks.push({fn:h})}if(t.onupdate){c.push("r['"+t.columnid+"']="+t.onupdate.toJS("r",""))}u.columns.push(i);u.xcolumns[i.columnid]=i})}u.defaultfns=l.join(",");u.onupdatefns=c.join(";");a.forEach(function(t){var e;if(t.type==="PRIMARY KEY"){if(u.pk){throw new Error("Primary key already exists")}var i=u.pk={};i.columns=t.columns;i.onrightfns=i.columns.map(function(t){return"r['"+t+"']"}).join("+'`'+");i.onrightfn=new Function("r","var y;return "+i.onrightfns);i.hh=T(i.onrightfns);u.uniqs[i.hh]={}}else if(t.type==="CHECK"){e=new Function("r","var y;return "+t.expression.toJS("r",""))}else if(t.type==="UNIQUE"){var r={};u.uk=u.uk||[];u.uk.push(r);r.columns=t.columns;r.onrightfns=r.columns.map(function(t){return"r['"+t+"']"}).join("+'`'+");r.onrightfn=new Function("r","var y;return "+r.onrightfns);r.hh=T(r.onrightfns);u.uniqs[r.hh]={}}else if(t.type==="FOREIGN KEY"){var o=u.xcolumns[t.columns[0]];var s=t.fktable;if(t.fkcolumns&&t.fkcolumns.length>0){s.columnid=t.fkcolumns[0]}var a=n.databases[s.databaseid||n.useid].tables[s.tableid];if(typeof s.columnid==="undefined"){s.columnid=a.pk.columns[0]}e=function(t){var e={};if(typeof t[o.columnid]==="undefined"){return true}e[s.columnid]=t[o.columnid];var n=a.pk.onrightfn(e);if(!a.uniqs[a.pk.hh][n]){throw new Error('Foreign key "'+t[o.columnid]+'" is not found in table '+a.tableid)}return true}}if(e)u.checks.push({fn:e,id:t.constraintid,fk:t.type==="FOREIGN KEY"})});if(this.view&&this.viewcolumns){var h=this;this.viewcolumns.forEach(function(t,e){h.select.columns[e].as=t.columnid})}if(this.view&&this.select){u.view=true;u.select=this.select.compile(this.table.databaseid||t)}if(r.engineid){return n.engines[r.engineid].createTable(this.table.databaseid||t,o,this.ifnotexists,i)}u.insert=function(i,r){var o=n.inserted;n.inserted=[i];var s=this;var a=false;var u=false;for(var l in s.beforeinsert){var c=s.beforeinsert[l];if(c){if(c.funcid){if(n.fn[c.funcid](i)===false)u=u||true}else if(c.statement){if(c.statement.execute(t)===false)u=u||true}}}if(u)return;var h=false;for(var l in s.insteadofinsert){h=true;var c=s.insteadofinsert[l];if(c){if(c.funcid){n.fn[c.funcid](i)}else if(c.statement){c.statement.execute(t)}}}if(h)return;for(var f in s.identities){var p=s.identities[f];i[f]=p.value}if(s.checks&&s.checks.length>0){s.checks.forEach(function(t){if(!t.fn(i)){throw new Error("Violation of CHECK constraint "+(t.id||""))}})}s.columns.forEach(function(t){if(t.notnull&&typeof i[t.columnid]==="undefined"){throw new Error("Wrong NULL value in NOT NULL column "+t.columnid)}});if(s.pk){var d=s.pk;var g=d.onrightfn(i);if(typeof s.uniqs[d.hh][g]!=="undefined"){if(r)a=s.uniqs[d.hh][g];else throw new Error("Cannot insert record, because it already exists in primary key index")}}if(s.uk&&s.uk.length){s.uk.forEach(function(t){var e=t.onrightfn(i);if(typeof s.uniqs[t.hh][e]!=="undefined"){if(r)a=s.uniqs[t.hh][e];else throw new Error("Cannot insert record, because it already exists in unique index")}})}if(a){s.update(function(t){for(var e in i)t[e]=i[e]},s.data.indexOf(a),e)}else{s.data.push(i);for(var f in s.identities){var p=s.identities[f];p.value+=p.step}if(s.pk){var d=s.pk;var g=d.onrightfn(i);s.uniqs[d.hh][g]=i}if(s.uk&&s.uk.length){s.uk.forEach(function(t){var e=t.onrightfn(i);s.uniqs[t.hh][e]=i})}}for(var l in s.afterinsert){var c=s.afterinsert[l];if(c){if(c.funcid){n.fn[c.funcid](i)}else if(c.statement){c.statement.execute(t)}}}n.inserted=o};u.delete=function(e){var i=this;var r=i.data[e];var o=false;for(var s in i.beforedelete){var a=i.beforedelete[s];if(a){if(a.funcid){if(n.fn[a.funcid](r)===false)o=o||true}else if(a.statement){if(a.statement.execute(t)===false)o=o||true}}}if(o)return false;var u=false;for(var s in i.insteadofdelete){u=true;var a=i.insteadofdelete[s];if(a){if(a.funcid){n.fn[a.funcid](r)}else if(a.statement){a.statement.execute(t)}}}if(u)return;if(this.pk){var l=this.pk;var c=l.onrightfn(r);if(typeof this.uniqs[l.hh][c]==="undefined"){throw new Error("Something wrong with primary key index on table")}else{this.uniqs[l.hh][c]=undefined}}if(i.uk&&i.uk.length){i.uk.forEach(function(t){var e=t.onrightfn(r);if(typeof i.uniqs[t.hh][e]==="undefined"){throw new Error("Something wrong with unique index on table")}i.uniqs[t.hh][e]=undefined})}};u.deleteall=function(){this.data.length=0;if(this.pk){this.uniqs[this.pk.hh]={}}if(u.uk&&u.uk.length){u.uk.forEach(function(t){u.uniqs[t.hh]={}})}};u.update=function(e,i,r){var o=N(this.data[i]);var s;if(this.pk){s=this.pk;s.pkaddr=s.onrightfn(o,r);if(typeof this.uniqs[s.hh][s.pkaddr]==="undefined"){throw new Error("Something wrong with index on table")}}if(u.uk&&u.uk.length){u.uk.forEach(function(t){t.ukaddr=t.onrightfn(o);if(typeof u.uniqs[t.hh][t.ukaddr]==="undefined"){throw new Error("Something wrong with unique index on table")}})}e(o,r,n);var a=false;for(var l in u.beforeupdate){var c=u.beforeupdate[l];if(c){if(c.funcid){if(n.fn[c.funcid](this.data[i],o)===false)a=a||true}else if(c.statement){if(c.statement.execute(t)===false)a=a||true}}}if(a)return false;var h=false;for(var l in u.insteadofupdate){h=true;var c=u.insteadofupdate[l];if(c){if(c.funcid){n.fn[c.funcid](this.data[i],o)}else if(c.statement){c.statement.execute(t)}}}if(h)return;if(u.checks&&u.checks.length>0){u.checks.forEach(function(t){if(!t.fn(o)){throw new Error("Violation of CHECK constraint "+(t.id||""))}})}u.columns.forEach(function(t){if(t.notnull&&typeof o[t.columnid]==="undefined"){throw new Error("Wrong NULL value in NOT NULL column "+t.columnid)}});if(this.pk){s.newpkaddr=s.onrightfn(o);if(typeof this.uniqs[s.hh][s.newpkaddr]!=="undefined"&&s.newpkaddr!==s.pkaddr){throw new Error("Record already exists")}}if(u.uk&&u.uk.length){u.uk.forEach(function(t){t.newukaddr=t.onrightfn(o);if(typeof u.uniqs[t.hh][t.newukaddr]!=="undefined"&&t.newukaddr!==t.ukaddr){throw new Error("Record already exists")}})}if(this.pk){this.uniqs[s.hh][s.pkaddr]=undefined;this.uniqs[s.hh][s.newpkaddr]=o}if(u.uk&&u.uk.length){u.uk.forEach(function(t){u.uniqs[t.hh][t.ukaddr]=undefined;u.uniqs[t.hh][t.newukaddr]=o})}this.data[i]=o;for(var l in u.afterupdate){var c=u.afterupdate[l];if(c){if(c.funcid){n.fn[c.funcid](this.data[i],o)}else if(c.statement){c.statement.execute(t)}}}};var f;if(!n.options.nocount){f=1}if(i)f=i(f);return f};n.fn.Date=Object;n.fn.Date=Date;n.fn.Number=Number;n.fn.String=String;n.fn.Boolean=Boolean;yt.EXTEND=n.utils.extend;yt.CHAR=String.fromCharCode.bind(String);yt.ASCII=function(t){return t.charCodeAt(0)};yt.COALESCE=function(){for(var t=0;t<arguments.length;t++){if(typeof arguments[t]=="undefined")continue;if(typeof arguments[t]=="number"&&isNaN(arguments[t]))continue;return arguments[t]}return undefined};yt.USER=function(){return"alasql"};yt.OBJECT_ID=function(t){return!!n.tables[t]};yt.DATE=function(t){if(/\d{8}/.test(t))return new Date(+t.substr(0,4),+t.substr(4,2)-1,+t.substr(6,2));return new Date(t)};yt.NOW=function(){var t=new Date;var e=t.getFullYear()+"."+("0"+(t.getMonth()+1)).substr(-2)+"."+("0"+t.getDate()).substr(-2);e+=" "+("0"+t.getHours()).substr(-2)+":"+("0"+t.getMinutes()).substr(-2)+":"+("0"+t.getSeconds()).substr(-2);e+="."+("00"+t.getMilliseconds()).substr(-3);return e};yt.GETDATE=yt.NOW;yt.CURRENT_TIMESTAMP=yt.NOW;yt.SECOND=function(t){var t=new Date(t);return t.getSeconds()};yt.MINUTE=function(t){var t=new Date(t);return t.getMinutes()};yt.HOUR=function(t){var t=new Date(t);return t.getHours()};yt.DAYOFWEEK=yt.WEEKDAY=function(t){var t=new Date(t);return t.getDay()};yt.DAY=yt.DAYOFMONTH=function(t){var t=new Date(t);return t.getDate()};yt.MONTH=function(t){var t=new Date(t);return t.getMonth()+1};yt.YEAR=function(t){var t=new Date(t);return t.getFullYear()};var wt={year:1e3*3600*24*365,quarter:1e3*3600*24*365/4,month:1e3*3600*24*30,week:1e3*3600*24*7,day:1e3*3600*24,dayofyear:1e3*3600*24,weekday:1e3*3600*24,hour:1e3*3600,minute:1e3*60,second:1e3,millisecond:1,microsecond:.001};n.stdfn.DATEDIFF=function(t,e,n){var i=new Date(n).getTime()-new Date(e).getTime();return i/wt[t.toLowerCase()]};n.stdfn.DATEADD=function(t,e,n){var i=new Date(n).getTime()+e*wt[t.toLowerCase()];return new Date(i)};n.stdfn.INTERVAL=function(t,e){return t*wt[e.toLowerCase()]};n.stdfn.DATE_ADD=n.stdfn.ADDDATE=function(t,e){var n=new Date(t).getTime()+e;return new Date(n)};n.stdfn.DATE_SUB=n.stdfn.SUBDATE=function(t,e){var n=new Date(t).getTime()-e;return new Date(n)};J.DropTable=function(t){return J.extend(this,t)};J.DropTable.prototype.toString=function(){var t="DROP"+" ";if(this.view)t+="VIEW";else t+="TABLE";if(this.ifexists)t+=" IF EXISTS";t+=" "+this.tables.toString();return t};J.DropTable.prototype.execute=function(t,e,i){var r=this.ifexists;var o=0;var s=0;var a=this.tables.length;this.tables.forEach(function(e){var u=n.databases[e.databaseid||t];var l=e.tableid;if(!r||r&&u.tables[l]){if(!u.tables[l]){if(!n.options.dropifnotexists){throw new Error("Can not drop table '"+e.tableid+"', because it does not exist in the database.")}}else{if(u.engineid){n.engines[u.engineid].dropTable(e.databaseid||t,l,r,function(t){delete u.tables[l];o+=t;s++;if(s==a&&i)i(o)})}else{delete u.tables[l];o++;s++;if(s==a&&i)i(o)}}}else{s++;if(s==a&&i)i(o)}});return o};J.TruncateTable=function(t){return J.extend(this,t)};J.TruncateTable.prototype.toString=function(){var t="TRUNCATE TABLE";t+=" "+this.table.toString();return t};J.TruncateTable.prototype.execute=function(t,e,i){var r=n.databases[this.table.databaseid||t];var o=this.table.tableid;if(r.engineid){return n.engines[r.engineid].truncateTable(this.table.databaseid||t,o,this.ifexists,i)}if(r.tables[o]){r.tables[o].data=[]}else{throw new Error("Cannot truncate table becaues it does not exist")}return i?i(0):0};J.CreateVertex=function(t){return J.extend(this,t)};J.CreateVertex.prototype.toString=function(){var t="CREATE VERTEX ";if(this.class){t+=this.class+" "}if(this.sharp){t+="#"+this.sharp+" "}if(this.sets){t+=this.sets.toString()}else if(this.content){t+=this.content.toString()}else if(this.select){t+=this.select.toString()}return t};J.CreateVertex.prototype.toJS=function(t){var e="this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+t+")";return e};J.CreateVertex.prototype.compile=function(t){var e=t;var i=this.sharp;if(typeof this.name!=="undefined"){var r="x.name="+this.name.toJS();var o=new Function("x",r)}if(this.sets&&this.sets.length>0){var r=this.sets.map(function(t){return"x['"+t.column.columnid+"']="+t.expression.toJS("x","")}).join(";");var s=new Function("x,params,alasql",r)}var a=function(t,r){var a;var u=n.databases[e];var l;if(typeof i!=="undefined"){l=i}else{l=u.counter++}var c={$id:l,$node:"VERTEX"};u.objects[c.$id]=c;a=c;if(o){o(c)}if(s){s(c,t,n)}if(r){a=r(a)}return a};return a};J.CreateEdge=function(t){return J.extend(this,t)};J.CreateEdge.prototype.toString=function(){var t="CREATE EDGE"+" ";if(this.class){t+=this.class+" "}return t};J.CreateEdge.prototype.toJS=function(t){var e="this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+t+")";return e};J.CreateEdge.prototype.compile=function(t){var e=t;var i=new Function("params,alasql","var y;return "+this.from.toJS());var r=new Function("params,alasql","var y;return "+this.to.toJS());if(typeof this.name!=="undefined"){var o="x.name="+this.name.toJS();var s=new Function("x",o)}if(this.sets&&this.sets.length>0){var o=this.sets.map(function(t){return"x['"+t.column.columnid+"']="+t.expression.toJS("x","")}).join(";");var a=new Function("x,params,alasql","var y;"+o)}var u=function(t,o){var u=0;var l=n.databases[e];var c={$id:l.counter++,$node:"EDGE"};var h=i(t,n);var f=r(t,n);c.$in=[h.$id];c.$out=[f.$id];if(h.$out===undefined){h.$out=[]}h.$out.push(c.$id);if(typeof f.$in===undefined){f.$in=[]}f.$in.push(c.$id);l.objects[c.$id]=c;u=c;if(s){s(c)}if(a){a(c,t,n)}if(o){u=o(u)}return u};return u};J.CreateGraph=function(t){return J.extend(this,t)};J.CreateGraph.prototype.toString=function(){var t="CREATE GRAPH"+" ";if(this.class){t+=this.class+" "}return t};J.CreateGraph.prototype.execute=function(t,e,i){var r=[];if(this.from){if(n.from[this.from.funcid]){this.graph=n.from[this.from.funcid.toUpperCase()]}}this.graph.forEach(function(i){if(i.source){var a={};if(typeof i.as!=="undefined"){n.vars[i.as]=a}if(typeof i.prop!=="undefined"){a.name=i.prop}if(typeof i.sharp!=="undefined"){a.$id=i.sharp}if(typeof i.name!=="undefined"){a.name=i.name}if(typeof i.class!=="undefined"){a.$class=i.class}var u=n.databases[t];if(typeof a.$id==="undefined"){a.$id=u.counter++}a.$node="EDGE";if(typeof i.json!=="undefined"){D(a,new Function("params,alasql","var y;return "+i.json.toJS())(e,n))}var l;if(i.source.vars){var c=n.vars[i.source.vars];if(typeof c==="object"){l=c}else{l=u.objects[c]}}else{var h=i.source.sharp;if(typeof h==="undefined"){h=i.source.prop}l=n.databases[t].objects[h];if(typeof l==="undefined"&&n.options.autovertex&&(typeof i.source.prop!=="undefined"||typeof i.source.name!=="undefined")){l=o(i.source.prop||i.source.name);if(typeof l==="undefined"){l=s(i.source)}}}var f;if(i.source.vars){var c=n.vars[i.target.vars];if(typeof c==="object"){f=c}else{f=u.objects[c]}}else{var p=i.target.sharp;if(typeof p==="undefined"){p=i.target.prop}f=n.databases[t].objects[p];if(typeof f==="undefined"&&n.options.autovertex&&(typeof i.target.prop!=="undefined"||typeof i.target.name!=="undefined")){f=o(i.target.prop||i.target.name);if(typeof f==="undefined"){f=s(i.target)}}}a.$in=[l.$id];a.$out=[f.$id];if(typeof l.$out==="undefined"){l.$out=[]}l.$out.push(a.$id);if(typeof f.$in==="undefined"){f.$in=[]}f.$in.push(a.$id);u.objects[a.$id]=a;if(typeof a.$class!=="undefined"){if(typeof n.databases[t].tables[a.$class]==="undefined"){throw new Error("No such class. Pleace use CREATE CLASS")}else{n.databases[t].tables[a.$class].data.push(a)}}r.push(a.$id)}else{s(i)}});if(i){r=i(r)}return r;function o(t){var e=n.databases[n.useid].objects;for(var i in e){if(e[i].name===t){return e[i]}}return undefined}function s(i){var o={};if(typeof i.as!=="undefined"){n.vars[i.as]=o}if(typeof i.prop!=="undefined"){o.$id=i.prop;o.name=i.prop}if(typeof i.sharp!=="undefined"){o.$id=i.sharp}if(typeof i.name!=="undefined"){o.name=i.name}if(typeof i.class!=="undefined"){o.$class=i.class}var s=n.databases[t];if(typeof o.$id==="undefined"){o.$id=s.counter++}o.$node="VERTEX";if(typeof i.json!=="undefined"){D(o,new Function("params,alasql","var y;return "+i.json.toJS())(e,n))}s.objects[o.$id]=o;if(typeof o.$class!=="undefined"){if(typeof n.databases[t].tables[o.$class]==="undefined"){throw new Error("No such class. Pleace use CREATE CLASS")}else{n.databases[t].tables[o.$class].data.push(o)}}r.push(o.$id);return o}};J.CreateGraph.prototype.compile1=function(t){var e=t;var i=new Function("params,alasql","var y;return "+this.from.toJS());var r=new Function("params,alasql","var y;return "+this.to.toJS());if(typeof this.name!=="undefined"){var o="x.name="+this.name.toJS();var s=new Function("x",o)}if(this.sets&&this.sets.length>0){var o=this.sets.map(function(t){return"x['"+t.column.columnid+"']="+t.expression.toJS("x","")}).join(";");var a=new Function("x,params,alasql","var y;"+o)}var u=function(t,o){var u=0;var l=n.databases[e];var c={$id:l.counter++,$node:"EDGE"};var h=i(t,n);var f=r(t,n);c.$in=[h.$id];c.$out=[f.$id];if(typeof h.$out==="undefined"){h.$out=[]}h.$out.push(c.$id);if(typeof f.$in==="undefined"){f.$in=[]}f.$in.push(c.$id);l.objects[c.$id]=c;u=c;if(s){s(c)}if(a){a(c,t,n)}if(o){u=o(u)}return u};return u};J.AlterTable=function(t){return J.extend(this,t)};J.AlterTable.prototype.toString=function(){var t="ALTER TABLE "+this.table.toString();if(this.renameto)t+=" RENAME TO "+this.renameto;return t};J.AlterTable.prototype.execute=function(t,e,i){var r=n.databases[t];r.dbversion=Date.now();if(this.renameto){var o=this.table.tableid;var s=this.renameto;var a=1;if(r.tables[s]){throw new Error("Can not rename a table '"+o+"' to '"+s+"', because the table with this name already exists")}else if(s==o){throw new Error("Can not rename a table '"+o+"' to itself")}else{r.tables[s]=r.tables[o];delete r.tables[o];a=1}if(i)i(a);return a}else if(this.addcolumn){var r=n.databases[this.table.databaseid||t];r.dbversion++;var u=this.table.tableid;var l=r.tables[u];var c=this.addcolumn.columnid;if(l.xcolumns[c]){throw new Error('Cannot add column "'+c+'", because it already exists in the table "'+u+'"')}var h={columnid:c,dbtypeid:this.dbtypeid,dbsize:this.dbsize,dbprecision:this.dbprecision,dbenum:this.dbenum,defaultfns:null};var f=function(){};l.columns.push(h);l.xcolumns[c]=h;for(var p=0,d=l.data.length;p<d;p++){l.data[p][c]=f()}return i?i(1):1}else if(this.modifycolumn){var r=n.databases[this.table.databaseid||t];r.dbversion++;var u=this.table.tableid;var l=r.tables[u];var c=this.modifycolumn.columnid;if(!l.xcolumns[c]){throw new Error('Cannot modify column "'+c+'", because it was not found in the table "'+u+'"')}var h=l.xcolumns[c];h.dbtypeid=this.dbtypeid;h.dbsize=this.dbsize;h.dbprecision=this.dbprecision;h.dbenum=this.dbenum;return i?i(1):1}else if(this.renamecolumn){var r=n.databases[this.table.databaseid||t];r.dbversion++;var u=this.table.tableid;var l=r.tables[u];var c=this.renamecolumn;var g=this.to;var h;if(!l.xcolumns[c]){throw new Error('Column "'+c+'" is not found in the table "'+u+'"')}if(l.xcolumns[g]){throw new Error('Column "'+g+'" already exists in the table "'+u+'"')}if(c!=g){for(var m=0;m<l.columns.length;m++){if(l.columns[m].columnid==c){l.columns[m].columnid=g}}l.xcolumns[g]=l.xcolumns[c];delete l.xcolumns[c];for(var p=0,d=l.data.length;p<d;p++){l.data[p][g]=l.data[p][c];delete l.data[p][c]}return l.data.length}else{return i?i(0):0}}else if(this.dropcolumn){var r=n.databases[this.table.databaseid||t];r.dbversion++;var u=this.table.tableid;var l=r.tables[u];var c=this.dropcolumn;var v=false;for(var m=0;m<l.columns.length;m++){if(l.columns[m].columnid==c){v=true;l.columns.splice(m,1);break}}if(!v){throw new Error('Cannot drop column "'+c+'", because it was not found in the table "'+u+'"')}delete l.xcolumns[c];for(var p=0,d=l.data.length;p<d;p++){delete l.data[p][c]}return i?i(l.data.length):l.data.length}else{throw Error("Unknown ALTER TABLE method")}};J.CreateIndex=function(t){return J.extend(this,t)};J.CreateIndex.prototype.toString=function(){var t="CREATE";if(this.unique)t+=" UNIQUE";t+=" INDEX "+this.indexid+" ON "+this.table.toString();t+="("+this.columns.toString()+")";return t};J.CreateIndex.prototype.execute=function(t,e,i){var r=n.databases[t];var o=this.table.tableid;var s=r.tables[o];var a=this.indexid;r.indices[a]=o;var u=this.columns.map(function(t){return t.expression.toJS("r","")}).join("+'`'+");var l=new Function("r,params,alasql","return "+u);if(this.unique){s.uniqdefs[a]={rightfns:u};var c=s.uniqs[a]={};if(s.data.length>0){for(var h=0,f=s.data.length;h<f;h++){var p=u(s.data[h]);if(!c[p]){c[p]={num:0}}c[p].num++}}}else{var d=T(u);s.inddefs[a]={rightfns:u,hh:d};s.indices[d]={};var g=s.indices[d]={};if(s.data.length>0){for(var h=0,f=s.data.length;h<f;h++){var p=l(s.data[h],e,n);if(!g[p]){g[p]=[]}g[p].push(s.data[h])}}}var m=1;if(i)m=i(m);return m};J.Reindex=function(t){return J.extend(this,t)};J.Reindex.prototype.toString=function(){var t="REINDEX "+this.indexid;return t};J.Reindex.prototype.execute=function(t,e,i){var r=n.databases[t];var o=this.indexid;var s=r.indices[o];var a=r.tables[s];a.indexColumns();var u=1;if(i)u=i(u);return u};J.DropIndex=function(t){return J.extend(this,t)};J.DropIndex.prototype.toString=function(){return"DROP INDEX"+this.indexid};J.DropIndex.prototype.compile=function(t){var e=this.indexid;return function(){return 1}};J.WithSelect=function(t){return J.extend(this,t)};J.WithSelect.prototype.toString=function(){var t="WITH ";t+=this.withs.map(function(t){return t.name+" AS ("+t.select.toString()+")"}).join(",")+" ";t+=this.select.toString();return t};J.WithSelect.prototype.execute=function(t,e,i){var r=this;var o=[];r.withs.forEach(function(i){o.push(n.databases[t].tables[i.name]);var r=n.databases[t].tables[i.name]=new W({tableid:i.name});r.data=i.select.execute(t,e)});var s=1;s=this.select.execute(t,e,function(e){r.withs.forEach(function(e,i){if(o[i])n.databases[t].tables[e.name]=o[i];else delete n.databases[t].tables[e.name]});if(i)e=i(e);return e});return s};J.If=function(t){return J.extend(this,t)};J.If.prototype.toString=function(){var t="IF"+" ";t+=this.expression.toString();t+=" "+this.thenstat.toString();if(this.elsestat)t+=" ELSE "+this.thenstat.toString();return t};J.If.prototype.execute=function(t,e,i){var r;var o=new Function("params,alasql,p","var y;return "+this.expression.toJS("({})","",null)).bind(this);if(o(e,n))r=this.thenstat.execute(t,e,i);else{if(this.elsestat)r=this.elsestat.execute(t,e,i);else{if(i)r=i(r)}}return r};J.While=function(t){return J.extend(this,t)};J.While.prototype.toString=function(){var t="WHILE ";t+=this.expression.toString();t+=" "+this.loopstat.toString();return t};J.While.prototype.execute=function(t,e,i){var r=this;var o=[];var s=new Function("params,alasql,p","var y;return "+this.expression.toJS());if(i){var a=false;u();function u(l){if(a){o.push(l)}else{a=true}setTimeout(function(){if(s(e,n)){r.loopstat.execute(t,e,u)}else{o=i(o)}},0)}}else{while(s(e,n)){var l=r.loopstat.execute(t,e);o.push(l)}}return o};J.Break=function(t){return J.extend(this,t)};J.Break.prototype.toString=function(){var t="BREAK";return t};J.Break.prototype.execute=function(t,e,n,i){var r=1;if(n)r=n(r);return r};J.Continue=function(t){return J.extend(this,t)};J.Continue.prototype.toString=function(){var t="CONTINUE";return t};J.Continue.prototype.execute=function(t,e,n,i){var r=1;if(n)r=n(r);return r};J.BeginEnd=function(t){return J.extend(this,t)};J.BeginEnd.prototype.toString=function(){var t="BEGIN "+this.statements.toString()+" END";return t};J.BeginEnd.prototype.execute=function(t,e,n,i){var r=this;var o=[];var s=0;a();function a(){r.statements[s].execute(t,e,function(t){o.push(t);s++;if(s<r.statements.length)return a();if(n)o=n(o)})}return o};J.Insert=function(t){return J.extend(this,t)};J.Insert.prototype.toString=function(){var t="INSERT ";if(this.orreplace)t+="OR REPLACE ";if(this.replaceonly)t="REPLACE ";t+="INTO "+this.into.toString();if(this.columns)t+="("+this.columns.toString()+")";if(this.values)t+=" VALUES "+this.values.toString();if(this.select)t+=" "+this.select.toString();return t};J.Insert.prototype.toJS=function(t,e,n){var i="this.queriesfn["+(this.queriesidx-1)+"](this.params,null,"+t+")";return i};J.Insert.prototype.compile=function(t){var e=this;t=e.into.databaseid||t;var i=n.databases[t];var r=e.into.tableid;var o=i.tables[r];if(!o){throw"Table '"+r+"' could not be found"}var s="";var a="";var s="db.tables['"+r+"'].dirty=true;";var u="var a,aa=[],x;";var l;if(this.values){if(this.exists){this.existsfn=this.exists.map(function(e){var n=e.compile(t);n.query.modifier="RECORDSET";return n})}if(this.queries){this.queriesfn=this.queries.map(function(e){var n=e.compile(t);n.query.modifier="RECORDSET";return n})}e.values.forEach(function(u){var l=[];if(e.columns){e.columns.forEach(function(t,e){var i="'"+t.columnid+"':";if(o.xcolumns&&o.xcolumns[t.columnid]){if(["INT","FLOAT","NUMBER","MONEY"].indexOf(o.xcolumns[t.columnid].dbtypeid)>=0){i+="(x="+u[e].toJS()+",x==undefined?undefined:+x)"}else if(n.fn[o.xcolumns[t.columnid].dbtypeid]){i+="(new "+o.xcolumns[t.columnid].dbtypeid+"(";i+=u[e].toJS();i+="))"}else{i+=u[e].toJS()}}else{i+=u[e].toJS()}l.push(i)})}else{if(Array.isArray(u)&&o.columns&&o.columns.length>0){o.columns.forEach(function(t,e){var i="'"+t.columnid+"':";if(["INT","FLOAT","NUMBER","MONEY"].indexOf(t.dbtypeid)>=0){i+="+"+u[e].toJS()}else if(n.fn[t.dbtypeid]){i+="(new "+t.dbtypeid+"(";i+=u[e].toJS();i+="))"}else{i+=u[e].toJS()}l.push(i)})}else{a=Et(u)}}if(i.tables[r].defaultfns){l.unshift(i.tables[r].defaultfns)}if(a){s+="a="+a+";"}else{s+="a={"+l.join(",")+"};"}if(i.tables[r].isclass){s+="var db=alasql.databases['"+t+"'];";s+='a.$class="'+r+'";';s+="a.$id=db.counter++;";s+="db.objects[a.$id]=a;"}if(i.tables[r].insert){s+="var db=alasql.databases['"+t+"'];";s+="db.tables['"+r+"'].insert(a,"+(e.orreplace?"true":"false")+");"}else{s+="aa.push(a);"}});l=u+s;if(i.tables[r].insert){}else{s+="alasql.databases['"+t+"'].tables['"+r+"'].data="+"alasql.databases['"+t+"'].tables['"+r+"'].data.concat(aa);"}if(i.tables[r].insert){if(i.tables[r].isclass){s+="return a.$id;"}else{s+="return "+e.values.length}}else{s+="return "+e.values.length}var c=new Function("db, params, alasql","var y;"+u+s).bind(this)}else if(this.select){this.select.modifier="RECORDSET";var h=this.select.compile(t);if(i.engineid&&n.engines[i.engineid].intoTable){var f=function(t,e){var o=h(t);var s=n.engines[i.engineid].intoTable(i.databaseid,r,o.data,null,e);return s};return f}else{var p="return alasql.utils.extend(r,{"+o.defaultfns+"})";var d=new Function("r,db,params,alasql",p);var c=function(t,n,i){var o=h(n).data;if(t.tables[r].insert){for(var s=0,a=o.length;s<a;s++){var u=N(o[s]);d(u,t,n,i);t.tables[r].insert(u,e.orreplace)}}else{t.tables[r].data=t.tables[r].data.concat(o)}if(i.options.nocount)return;else return o.length}}}else if(this.default){var g="db.tables['"+r+"'].data.push({"+o.defaultfns+"});return 1;";var c=new Function("db,params,alasql",g)}else{throw new Error("Wrong INSERT parameters")}if(i.engineid&&n.engines[i.engineid].intoTable&&n.options.autocommit){var f=function(t,e){var o=new Function("db,params","var y;"+l+"return aa;")(i,t);var s=n.engines[i.engineid].intoTable(i.databaseid,r,o,null,e);return s}}else{var f=function(e,i){var o=n.databases[t];if(n.options.autocommit&&o.engineid){n.engines[o.engineid].loadTableData(t,r)}var s=c(o,e,n);if(n.options.autocommit&&o.engineid){n.engines[o.engineid].saveTableData(t,r)}if(n.options.nocount)s=undefined;if(i)i(s);return s}}return f};J.Insert.prototype.execute=function(t,e,n){return this.compile(t)(e,n)};J.CreateTrigger=function(t){return J.extend(this,t)};J.CreateTrigger.prototype.toString=function(){var t="CREATE TRIGGER "+this.trigger+" ";if(this.when)t+=this.when+" ";t+=this.action+" ON ";if(this.table.databaseid)t+=this.table.databaseid+".";t+=this.table.tableid+" ";t+=this.statement.toString();return t};J.CreateTrigger.prototype.execute=function(t,e,i){var r=1;var o=this.trigger;t=this.table.databaseid||t;var s=n.databases[t];var a=this.table.tableid;var u={action:this.action,when:this.when,statement:this.statement,funcid:this.funcid};s.triggers[o]=u;if(u.action=="INSERT"&&u.when=="BEFORE"){s.tables[a].beforeinsert[o]=u}else if(u.action=="INSERT"&&u.when=="AFTER"){s.tables[a].afterinsert[o]=u}else if(u.action=="INSERT"&&u.when=="INSTEADOF"){s.tables[a].insteadofinsert[o]=u}else if(u.action=="DELETE"&&u.when=="BEFORE"){s.tables[a].beforedelete[o]=u}else if(u.action=="DELETE"&&u.when=="AFTER"){s.tables[a].afterdelete[o]=u}else if(u.action=="DELETE"&&u.when=="INSTEADOF"){s.tables[a].insteadofdelete[o]=u}else if(u.action=="UPDATE"&&u.when=="BEFORE"){s.tables[a].beforeupdate[o]=u}else if(u.action=="UPDATE"&&u.when=="AFTER"){s.tables[a].afterupdate[o]=u}else if(u.action=="UPDATE"&&u.when=="INSTEADOF"){s.tables[a].insteadofupdate[o]=u}if(i)r=i(r);return r};J.DropTrigger=function(t){return J.extend(this,t)};J.DropTrigger.prototype.toString=function(){var t="DROP TRIGGER "+this.trigger;return t};J.DropTrigger.prototype.execute=function(t,e,i){var r=0;var o=n.databases[t];var s=this.trigger;var a=o.triggers[s];if(a){r=1;delete o.tables[a].beforeinsert[s];delete o.tables[a].afterinsert[s];delete o.tables[a].insteadofinsert[s];delete o.tables[a].beforedelte[s];delete o.tables[a].afterdelete[s];delete o.tables[a].insteadofdelete[s];delete o.tables[a].beforeupdate[s];delete o.tables[a].afterupdate[s];delete o.tables[a].insteadofupdate[s];delete o.triggers[s]}else{throw new Error("Trigger not found")}if(i)r=i(r);return r};J.Delete=function(t){return J.extend(this,t)};J.Delete.prototype.toString=function(){var t="DELETE FROM "+this.table.toString();if(this.where)t+=" WHERE "+this.where.toString();return t};J.Delete.prototype.compile=function(t){t=this.table.databaseid||t;var e=this.table.tableid;var i;var r=n.databases[t];if(this.where){if(this.exists){this.existsfn=this.exists.map(function(e){var n=e.compile(t);n.query.modifier="RECORDSET";return n})}if(this.queries){this.queriesfn=this.queries.map(function(e){var n=e.compile(t);n.query.modifier="RECORDSET";return n})}var o=new Function("r,params,alasql","var y;return ("+this.where.toJS("r","")+")").bind(this);i=function(i,s){if(r.engineid&&n.engines[r.engineid].deleteFromTable){return n.engines[r.engineid].deleteFromTable(t,e,o,i,s)}if(n.options.autocommit&&r.engineid&&r.engineid=="LOCALSTORAGE"){n.engines[r.engineid].loadTableData(t,e)}var a=r.tables[e];var u=a.data.length;var l=[];for(var c=0,h=a.data.length;c<h;c++){if(o(a.data[c],i,n)){if(a.delete){a.delete(c,i,n)}else{}}else l.push(a.data[c])}a.data=l;for(var f in a.afterdelete){var p=a.afterdelete[f];if(p){if(p.funcid){n.fn[p.funcid]()}else if(p.statement){p.statement.execute(t)}}}var d=u-a.data.length;if(n.options.autocommit&&r.engineid&&r.engineid=="LOCALSTORAGE"){n.engines[r.engineid].saveTableData(t,e)}if(s)s(d);return d}}else{i=function(i,o){if(n.options.autocommit&&r.engineid){n.engines[r.engineid].loadTableData(t,e)}var s=r.tables[e];s.dirty=true;var a=r.tables[e].data.length;r.tables[e].data.length=0;for(var u in r.tables[e].uniqs){r.tables[e].uniqs[u]={}}for(var u in r.tables[e].indices){r.tables[e].indices[u]={}}if(n.options.autocommit&&r.engineid){n.engines[r.engineid].saveTableData(t,e)}if(o)o(a);return a}}return i};J.Delete.prototype.execute=function(t,e,n){return this.compile(t)(e,n)};J.Update=function(t){return J.extend(this,t)};J.Update.prototype.toString=function(){var t="UPDATE "+this.table.toString();if(this.columns)t+=" SET "+this.columns.toString();if(this.where)t+=" WHERE "+this.where.toString();return t};J.SetColumn=function(t){return J.extend(this,t)};J.SetColumn.prototype.toString=function(){return this.column.toString()+"="+this.expression.toString()};J.Update.prototype.compile=function(t){t=this.table.databaseid||t;var e=this.table.tableid;if(this.where){if(this.exists){this.existsfn=this.exists.map(function(e){var n=e.compile(t);n.query.modifier="RECORDSET";return n})}if(this.queries){this.queriesfn=this.queries.map(function(e){var n=e.compile(t);n.query.modifier="RECORDSET";return n})}var i=new Function("r,params,alasql","var y;return "+this.where.toJS("r","")).bind(this)}var r=n.databases[t].tables[e].onupdatefns||"";r+=";";this.columns.forEach(function(t){r+="r['"+t.column.columnid+"']="+t.expression.toJS("r","")+";"});var o=new Function("r,params,alasql","var y;"+r);var s=function(r,s){var a=n.databases[t];if(a.engineid&&n.engines[a.engineid].updateTable){return n.engines[a.engineid].updateTable(t,e,o,i,r,s)}if(n.options.autocommit&&a.engineid){n.engines[a.engineid].loadTableData(t,e)}var u=a.tables[e];if(!u){throw new Error("Table '"+e+"' not exists")}var l=0;for(var c=0,h=u.data.length;c<h;c++){if(!i||i(u.data[c],r,n)){if(u.update){u.update(o,c,r)}else{o(u.data[c],r,n)}l++}}if(n.options.autocommit&&a.engineid){n.engines[a.engineid].saveTableData(t,e)}if(s)s(l);return l};return s};J.Update.prototype.execute=function(t,e,n){return this.compile(t)(e,n)};J.Merge=function(t){return J.extend(this,t)};J.Merge.prototype.toString=function(){var t="MERGE ";t+=this.into.tableid+" ";if(this.into.as)t+="AS "+this.into.as+" ";t+="USING "+this.using.tableid+" ";if(this.using.as)t+="AS "+this.using.as+" ";t+="ON "+this.on.toString()+" ";this.matches.forEach(function(e){t+="WHEN ";if(!e.matched)t+="NOT ";t+="MATCHED ";if(e.bytarget)t+="BY TARGET ";if(e.bysource)t+="BY SOURCE ";if(e.expr)t+="AND"+" "+e.expr.toString()+" ";t+="THEN ";if(e.action.delete)t+="DELETE ";if(e.action.insert){t+="INSERT ";if(e.action.columns)t+="("+e.action.columns.toString()+") ";if(e.action.values)t+="VALUES ("+e.action.values.toString()+") ";if(e.action.defaultvalues)t+="DEFAULT VALUES "}if(e.action.update){t+="UPDATE ";t+=e.action.update.map(function(t){return t.toString()}).join(",")+" "}});return t};J.Merge.prototype.execute=function(t,e,n){var i=1;if(n)i=n(i);return i};J.CreateDatabase=function(t){return J.extend(this,t)};J.CreateDatabase.prototype.toString=function(){var t="CREATE";if(this.engineid)t+=" "+this.engineid;t+=" DATABASE";if(this.ifnotexists)t+=" IF NOT EXISTS";t+=" "+this.databaseid;if(this.args&&this.args.length>0){t+="("+this.args.map(function(t){return t.toString()}).join(", ")+")"}if(this.as)t+=" AS "+this.as;return t};J.CreateDatabase.prototype.execute=function(t,e,i){var r;if(this.args&&this.args.length>0){r=this.args.map(function(t){return new Function("params,alasql","var y;return "+t.toJS())(e,n)})}if(this.engineid){var o=n.engines[this.engineid].createDatabase(this.databaseid,this.args,this.ifnotexists,this.as,i);return o}else{var s=this.databaseid;if(n.databases[s]){throw new Error("Database '"+s+"' already exists")}var a=new n.Database(s);var o=1;if(i)return i(o);return o}};J.AttachDatabase=function(t){return J.extend(this,t)};J.AttachDatabase.prototype.toString=function(){var t="ATTACH";if(this.engineid)t+=" "+this.engineid;t+=" DATABASE"+" "+this.databaseid;if(args){t+="(";if(args.length>0){t+=args.map(function(t){return t.toString()}).join(", ")}t+=")"}if(this.as)t+=" AS"+" "+this.as;return t};J.AttachDatabase.prototype.execute=function(t,e,i){if(!n.engines[this.engineid]){throw new Error('Engine "'+this.engineid+'" is not defined.')}var r=n.engines[this.engineid].attachDatabase(this.databaseid,this.as,this.args,e,i);return r};J.DetachDatabase=function(t){return J.extend(this,t)};J.DetachDatabase.prototype.toString=function(){var t="DETACH";t+=" DATABASE"+" "+this.databaseid;return t};J.DetachDatabase.prototype.execute=function(t,e,i){if(!n.databases[this.databaseid].engineid){throw new Error('Cannot detach database "'+this.engineid+'", because it was not attached.')}var r;var o=this.databaseid;if(o==n.DEFAULTDATABASEID){throw new Error("Drop of default database is prohibited")}if(!n.databases[o]){if(!this.ifexists){throw new Error("Database '"+o+"' does not exist")}else{r=0}}else{delete n.databases[o];if(o==n.useid){n.use()}r=1}if(i)i(r);return r};J.UseDatabase=function(t){return J.extend(this,t)};J.UseDatabase.prototype.toString=function(){return"USE"+" "+"DATABASE"+" "+this.databaseid};J.UseDatabase.prototype.execute=function(t,e,i){var r=this.databaseid;if(!n.databases[r]){throw new Error("Database '"+r+"' does not exist")}n.use(r);var o=1;if(i)i(o);return o};J.DropDatabase=function(t){return J.extend(this,t)};J.DropDatabase.prototype.toString=function(){var t="DROP";if(this.ifexists)t+=" IF EXISTS";t+=" DATABASE "+this.databaseid;return t};J.DropDatabase.prototype.execute=function(t,e,i){if(this.engineid){return n.engines[this.engineid].dropDatabase(this.databaseid,this.ifexists,i)}var r;var o=this.databaseid;if(o==n.DEFAULTDATABASEID){throw new Error("Drop of default database is prohibited")}if(!n.databases[o]){if(!this.ifexists){throw new Error("Database '"+o+"' does not exist")}else{r=0}}else{if(n.databases[o].engineid){throw new Error("Cannot drop database '"+o+"', because it is attached. Detach it.")}delete n.databases[o];if(o==n.useid){n.use()}r=1}if(i)i(r);return r};J.Declare=function(t){return J.extend(this,t)};J.Declare.prototype.toString=function(){var t="DECLARE ";if(this.declares&&this.declares.length>0){t=this.declares.map(function(t){var e="";e+="@"+t.variable+" ";e+=t.dbtypeid;if(this.dbsize){e+="("+this.dbsize;if(this.dbprecision){e+=","+this.dbprecision}e+=")"}if(t.expression){e+=" = "+t.expression.toString()}return e}).join(",")}return t};J.Declare.prototype.execute=function(t,e,i){var r=1;if(this.declares&&this.declares.length>0){this.declares.map(function(t){var i=t.dbtypeid;if(!n.fn[i]){i=i.toUpperCase()}n.declares[t.variable]={dbtypeid:i,dbsize:t.dbsize,dbprecision:t.dbprecision};if(t.expression){n.vars[t.variable]=new Function("params,alasql","return "+t.expression.toJS("({})","",null))(e,n);if(n.declares[t.variable]){n.vars[t.variable]=n.stdfn.CONVERT(n.vars[t.variable],n.declares[t.variable])}}})}if(i){r=i(r)}return r};J.ShowDatabases=function(t){return J.extend(this,t)};J.ShowDatabases.prototype.toString=function(){var t="SHOW DATABASES";if(this.like)t+="LIKE "+this.like.toString();return t};J.ShowDatabases.prototype.execute=function(t,e,i){if(this.engineid){return n.engines[this.engineid].showDatabases(this.like,i)}else{var r=this;var o=[];for(dbid in n.databases){o.push({databaseid:dbid})}if(r.like&&o&&o.length>0){o=o.filter(function(t){return n.utils.like(r.like.value,t.databaseid)})}if(i)i(o);return o}};J.ShowTables=function(t){return J.extend(this,t)};J.ShowTables.prototype.toString=function(){var t="SHOW TABLES";if(this.databaseid)t+=" FROM "+this.databaseid;if(this.like)t+=" LIKE "+this.like.toString();return t};J.ShowTables.prototype.execute=function(t,e,i){var r=n.databases[this.databaseid||t];var o=this;var s=[];for(tableid in r.tables){s.push({tableid:tableid})}if(o.like&&s&&s.length>0){s=s.filter(function(t){return n.utils.like(o.like.value,t.tableid)})}if(i)i(s);return s};J.ShowColumns=function(t){return J.extend(this,t)};J.ShowColumns.prototype.toString=function(){var t="SHOW COLUMNS";if(this.table.tableid)t+=" FROM "+this.table.tableid;if(this.databaseid)t+=" FROM "+this.databaseid;return t};J.ShowColumns.prototype.execute=function(t){var e=n.databases[this.databaseid||t];var i=e.tables[this.table.tableid];var r=this;if(i&&i.columns){var o=i.columns.map(function(t){return{columnid:t.columnid,dbtypeid:t.dbtypeid,dbsize:t.dbsize}});return o}else{return[]}};J.ShowIndex=function(t){return J.extend(this,t)};J.ShowIndex.prototype.toString=function(){var t="SHOW INDEX";if(this.table.tableid)t+=" FROM "+this.table.tableid;if(this.databaseid)t+=" FROM "+this.databaseid;return t};J.ShowIndex.prototype.execute=function(t){var e=n.databases[this.databaseid||t];var i=e.tables[this.table.tableid];var r=this;var o=[];if(i&&i.indices){for(var s in i.indices){o.push({hh:s,len:Object.keys(i.indices[s]).length})}}return o};J.ShowCreateTable=function(t){return J.extend(this,t)};J.ShowCreateTable.prototype.toString=function(){var t="SHOW CREATE TABLE "+this.table.tableid;if(this.databaseid)t+=" FROM "+this.databaseid;return t};J.ShowCreateTable.prototype.execute=function(t){var e=n.databases[this.databaseid||t];var i=e.tables[this.table.tableid];var r=this;if(i){var o="CREATE TABLE "+this.table.tableid+" (";var s=[];if(i.columns){i.columns.forEach(function(t){var e=t.columnid+" "+t.dbtypeid;if(t.dbsize)e+="("+t.dbsize+")";if(t.primarykey)e+=" PRIMARY KEY";s.push(e)});o+=s.join(", ")}o+=")";return o}else{throw new Error('There is no such table "'+this.table.tableid+'"')}};J.SetVariable=function(t){return J.extend(this,t)};J.SetVariable.prototype.toString=function(){var t="SET ";if(typeof this.value!="undefined")t+=this.variable.toUpperCase()+" "+(this.value?"ON":"OFF");if(this.expression)t+=this.method+this.variable+" = "+this.expression.toString();return t};J.SetVariable.prototype.execute=function(t,e,i){if(typeof this.value!="undefined"){var r=this.value;if(r=="ON")r=true;else if(r=="OFF")r=false;n.options[this.variable]=r}else if(this.expression){if(this.exists){this.existsfn=this.exists.map(function(e){var n=e.compile(t);if(n.query&&!n.query.modifier)n.query.modifier="RECORDSET";return n})}if(this.queries){this.queriesfn=this.queries.map(function(e){var n=e.compile(t);if(n.query&&!n.query.modifier)n.query.modifier="RECORDSET";return n})}var o=new Function("params,alasql","return "+this.expression.toJS("({})","",null)).bind(this)(e,n);if(n.declares[this.variable]){o=n.stdfn.CONVERT(o,n.declares[this.variable])}if(this.props&&this.props.length>0){if(this.method=="@"){var s="alasql.vars['"+this.variable+"']"}else{var s="params['"+this.variable+"']"}s+=this.props.map(function(t){if(typeof t=="string"){return"['"+t+"']"}else if(typeof t=="number"){return"["+t+"]"}else{return"["+t.toJS()+"]"}}).join();new Function("value,params,alasql","var y;"+s+"=value")(o,e,n)}else{if(this.method=="@"){n.vars[this.variable]=o}else{e[this.variable]=o}}}var o=1;if(i)o=i(o);return o};n.test=function(t,e,i){if(arguments.length===0){n.log(n.con.results);return}else if(arguments.length===1){var r=Date.now();i();n.con.log(Date.now()-r);return}if(arguments.length===2){i=e;e=1}var r=Date.now();for(var o=0;o<e;o++){i()}n.con.results[t]=Date.now()-r};n.log=function(t,e){var i=n.useid;var o=n.options.logtarget;if(r.isNode){o="console"}var s;if(typeof t==="string"){s=n(t,e)}else{s=t}if(o==="console"||r.isNode){if(typeof t==="string"&&n.options.logprompt){console.log(i+">",t)}if(Array.isArray(s)){if(console.table){console.table(s)}else{console.log(_t(s))}}else{console.log(_t(s))}}else{var a;if(o==="output"){a=document.getElementsByTagName("output")[0]}else{if(typeof o==="string"){a=document.getElementById(o)}else{a=o}}var u="";if(typeof t==="string"&&n.options.logprompt){u+="<pre><code>"+n.pretty(t)+"</code></pre>"}if(Array.isArray(s)){if(s.length===0){u+="<p>[ ]</p>"}else if(typeof s[0]!=="object"||Array.isArray(s[0])){for(var l=0,c=s.length;l<c;l++){u+="<p>"+Tt(s[l])+"</p>"}}else{u+=Tt(s)}}else{u+=Tt(s)}a.innerHTML+=u}};n.clear=function(){var t=n.options.logtarget;if(r.isNode||r.isMeteorServer){if(console.clear){console.clear()}}else{var e;if(t==="output"){e=document.getElementsByTagName("output")[0]}else{if(typeof t==="string"){e=document.getElementById(t)}else{e=t}}e.innerHTML=""}};n.write=function(t){var e=n.options.logtarget;if(r.isNode||r.isMeteorServer){if(console.log){console.log(t)}}else{var i;if(e==="output"){i=document.getElementsByTagName("output")[0]}else{if(typeof e==="string"){i=document.getElementById(e)}else{i=e}}i.innerHTML+=t}};function Tt(t){var e="";if(t===undefined){e+="undefined"}else if(Array.isArray(t)){e+="<style>";e+="table {border:1px black solid; border-collapse: collapse; border-spacing: 0px;}";e+="td,th {border:1px black solid; padding-left:5px; padding-right:5px}";e+="th {background-color: #EEE}";e+="</style>";e+="<table>";var n=[];for(var i in t[0]){n.push(i)}e+="<tr><th>#";n.forEach(function(t){e+="<th>"+t});for(var r=0,o=t.length;r<o;r++){e+="<tr><th>"+(r+1);n.forEach(function(n){e+="<td> ";if(t[r][n]==+t[r][n]){e+='<div style="text-align:right">';if(typeof t[r][n]==="undefined"){e+="NULL"}else{e+=t[r][n]}e+="</div>"}else{if(typeof t[r][n]==="undefined"){e+="NULL"}else if(typeof t[r][n]==="string"){e+=t[r][n]}else{e+=_t(t[r][n])}}})}e+="</table>"}else{e+="<p>"+_t(t)+"</p>"}return e}function St(t,e,n){if(n<=0){return}var i=e-t.scrollTop;var r=i/n*10;setTimeout(function(){if(t.scrollTop===e){return}t.scrollTop=t.scrollTop+r;St(t,e,n-10)},10)}n.prompt=function(t,e,i){if(r.isNode){throw new Error("The prompt not realized for Node.js")}var o=0;if(typeof t==="string"){t=document.getElementById(t)}if(typeof e==="string"){e=document.getElementById(e)}e.textContent=n.useid;if(i){n.prompthistory.push(i);o=n.prompthistory.length;try{var s=Date.now();n.log(i);n.write('<p style="color:blue">'+(Date.now()-s)+" ms</p>")}catch(t){n.write("<p>"+olduseid+"&gt;&nbsp;<b>"+sql+"</b></p>");n.write('<p style="color:red">'+t+"<p>")}}var a=t.getBoundingClientRect().top+document.getElementsByTagName("body")[0].scrollTop;St(document.getElementsByTagName("body")[0],a,500);t.onkeydown=function(i){if(i.which===13){var r=t.value;var s=n.useid;t.value="";n.prompthistory.push(r);o=n.prompthistory.length;try{var a=Date.now();n.log(r);n.write('<p style="color:blue">'+(Date.now()-a)+" ms</p>")}catch(t){n.write("<p>"+s+"&gt;&nbsp;"+n.pretty(r,false)+"</p>");n.write('<p style="color:red">'+t+"<p>")}t.focus();e.textContent=n.useid;var u=t.getBoundingClientRect().top+document.getElementsByTagName("body")[0].scrollTop;St(document.getElementsByTagName("body")[0],u,500)}else if(i.which===38){o--;if(o<0){o=0}if(n.prompthistory[o]){t.value=n.prompthistory[o];i.preventDefault()}}else if(i.which===40){o++;if(o>=n.prompthistory.length){o=n.prompthistory.length;t.value=""}else if(n.prompthistory[o]){t.value=n.prompthistory[o];i.preventDefault()}}}};J.BeginTransaction=function(t){return J.extend(this,t)};J.BeginTransaction.prototype.toString=function(){return"BEGIN TRANSACTION"};J.BeginTransaction.prototype.execute=function(t,e,i){var r=1;if(n.databases[t].engineid){return n.engines[n.databases[n.useid].engineid].begin(t,i)}else{}if(i)i(r);return r};J.CommitTransaction=function(t){return J.extend(this,t)};J.CommitTransaction.prototype.toString=function(){return"COMMIT TRANSACTION"};J.CommitTransaction.prototype.execute=function(t,e,i){var r=1;if(n.databases[t].engineid){return n.engines[n.databases[n.useid].engineid].commit(t,i)}else{}if(i)i(r);return r};J.RollbackTransaction=function(t){return J.extend(this,t)};J.RollbackTransaction.prototype.toString=function(){return"ROLLBACK TRANSACTION"};J.RollbackTransaction.prototype.execute=function(t,e,i){var r=1;if(n.databases[t].engineid){return n.engines[n.databases[t].engineid].rollback(t,i)}else{}if(i)i(r);return r};if(n.options.tsql){n.stdfn.OBJECT_ID=function(t,e){if(typeof e=="undefined")e="T";e=e.toUpperCase();var i=t.split(".");var r=n.useid;var o=i[0];if(i.length==2){r=i[0];o=i[1]}var s=n.databases[r].tables;r=n.databases[r].databaseid;for(var a in s){if(a==o){if(s[a].view&&e=="V")return r+"."+a;if(!s[a].view&&e=="T")return r+"."+a;return undefined}}return undefined}}if(n.options.mysql){}if(n.options.mysql||n.options.sqlite){n.from.INFORMATION_SCHEMA=function(t,e,i,r,o){if(t=="VIEWS"||t=="TABLES"){var s=[];for(var a in n.databases){var u=n.databases[a].tables;for(var l in u){if(u[l].view&&t=="VIEWS"||!u[l].view&&t=="TABLES"){s.push({TABLE_CATALOG:a,TABLE_NAME:l})}}}if(i)s=i(s,r,o);return s}throw new Error("Unknown INFORMATION_SCHEMA table")}}if(n.options.postgres){}if(n.options.oracle){}if(n.options.sqlite){}n.into.SQL=function(t,e,i,r,o){var s;if(typeof t==="object"){e=t;t=undefined}var a={};n.utils.extend(a,e);if(typeof a.tableid==="undefined"){throw new Error("Table for INSERT TO is not defined.")}var u="";if(r.length===0){if(typeof i[0]==="object"){r=Object.keys(i[0]).map(function(t){return{columnid:t}})}else{}}for(var l=0,c=i.length;l<c;l++){u+="INSERT INTO "+e.tableid+"(";u+=r.map(function(t){return t.columnid}).join(",");u+=") VALUES (";u+=r.map(function(t){var e=i[l][t.columnid];if(t.typeid){if(t.typeid==="STRING"||t.typeid==="VARCHAR"||t.typeid==="NVARCHAR"||t.typeid==="CHAR"||t.typeid==="NCHAR"){e="'"+h(e)+"'"}}else{if(typeof e=="string"){e="'"+h(e)+"'"}}return e});u+=");\n"}t=n.utils.autoExtFilename(t,"sql",e);s=n.utils.saveFile(t,u);if(o){s=o(s)}return s};n.into.HTML=function(t,i,r,o,s){var a=1;if(typeof e!=="object"){var u={headers:true};n.utils.extend(u,i);var l=document.querySelector(t);if(!l){throw new Error("Selected HTML element is not found")}if(o.length===0){if(typeof r[0]==="object"){o=Object.keys(r[0]).map(function(t){return{columnid:t}})}else{}}var c=document.createElement("table");var h=document.createElement("thead");c.appendChild(h);if(u.headers){var f=document.createElement("tr");for(var p=0;p<o.length;p++){var d=document.createElement("th");d.textContent=o[p].columnid;f.appendChild(d)}h.appendChild(f)}var g=document.createElement("tbody");c.appendChild(g);for(var m=0;m<r.length;m++){var f=document.createElement("tr");for(var p=0;p<o.length;p++){var d=document.createElement("td");d.textContent=r[m][o[p].columnid];f.appendChild(d)}g.appendChild(f)}n.utils.domEmptyChildren(l);l.appendChild(c)}if(s){a=s(a)}return a};n.into.JSON=function(t,e,i,r,o){var s=1;if(typeof t==="object"){e=t;t=undefined}var a=JSON.stringify(i);t=n.utils.autoExtFilename(t,"json",e);s=n.utils.saveFile(t,a);if(o){s=o(s)}return s};n.into.TXT=function(t,e,i,r,o){if(r.length===0&&i.length>0){r=Object.keys(i[0]).map(function(t){return{columnid:t}})}if(typeof t==="object"){e=t;t=undefined}var s=i.length;var a="";if(i.length>0){var u=r[0].columnid;a+=i.map(function(t){return t[u]}).join("\n")}t=n.utils.autoExtFilename(t,"txt",e);s=n.utils.saveFile(t,a);if(o){s=o(s)}return s};n.into.TAB=n.into.TSV=function(t,e,i,r,o){var s={};n.utils.extend(s,e);s.separator="\t";t=n.utils.autoExtFilename(t,"tab",e);s.autoExt=false;return n.into.CSV(t,s,i,r,o)};n.into.CSV=function(t,e,i,r,o){if(r.length===0&&i.length>0){r=Object.keys(i[0]).map(function(t){return{columnid:t}})}if(typeof t==="object"){e=t;t=undefined}var s={headers:true};s.separator=";";s.quote='"';s.utf8Bom=true;if(e&&!e.headers&&typeof e.headers!=="undefined"){s.utf8Bom=false}n.utils.extend(s,e);var a=i.length;var u=s.utf8Bom?"\ufeff":"";if(s.headers){u+=s.quote+r.map(function(t){return t.columnid.trim()}).join(s.quote+s.separator+s.quote)+s.quote+"\r\n"}i.forEach(function(t){u+=r.map(function(e){var n=t[e.columnid];if(s.quote!==""){n=(n+"").replace(new RegExp("\\"+s.quote,"g"),s.quote+s.quote)}if(+n!=n){n=s.quote+n+s.quote}return n}).join(s.separator)+"\r\n"});t=n.utils.autoExtFilename(t,"csv",e);a=n.utils.saveFile(t,u,null,{disableAutoBom:true});if(o){a=o(a)}return a};n.into.XLS=function(t,e,i,r,o){if(typeof t=="object"){e=t;t=undefined}var s={};if(e&&e.sheets){s=e.sheets}var a={headers:true};if(typeof s["Sheet1"]!="undefined"){a=s[0]}else{if(typeof e!="undefined"){a=e}}if(typeof a.sheetid=="undefined"){a.sheetid="Sheet1"}var u=c();t=n.utils.autoExtFilename(t,"xls",e);var l=n.utils.saveFile(t,u);if(o)l=o(l);return l;function c(){var t='<html xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" \t\txmlns="http://www.w3.org/TR/REC-html40"><head> \t\t<meta charset="utf-8" /> \t\t\x3c!--[if gte mso 9]><xml><x:ExcelWorkbook><x:ExcelWorksheets> ';t+=" <x:ExcelWorksheet><x:Name>"+a.sheetid+"</x:Name><x:WorksheetOptions><x:DisplayGridlines/>     </x:WorksheetOptions> \t\t</x:ExcelWorksheet>";t+="</x:ExcelWorksheets></x:ExcelWorkbook></xml><![endif]--\x3e</head>";t+="<body";if(typeof a.style!="undefined"){t+=' style="';if(typeof a.style=="function"){t+=a.style(a)}else{t+=a.style}t+='"'}t+=">";t+="<table>";if(typeof a.caption!="undefined"){var n=a.caption;if(typeof n=="string"){n={title:n}}t+="<caption";if(typeof n.style!="undefined"){t+=' style="';if(typeof n.style=="function"){t+=n.style(a,n)}else{t+=n.style}t+='" '}t+=">";t+=n.title;t+="</caption>"}if(typeof a.columns!="undefined"){r=a.columns}else{if(r.length==0&&i.length>0){if(typeof i[0]=="object"){if(Array.isArray(i[0])){r=i[0].map(function(t,e){return{columnid:e}})}else{r=Object.keys(i[0]).map(function(t){return{columnid:t}})}}}}r.forEach(function(t,e){if(typeof a.column!="undefined"){D(t,a.column)}if(typeof t.width=="undefined"){if(a.column&&a.column.width!="undefined"){t.width=a.column.width}else{t.width="120px"}}if(typeof t.width=="number")t.width=t.width+"px";if(typeof t.columnid=="undefined")t.columnid=e;if(typeof t.title=="undefined")t.title=""+t.columnid.trim();if(a.headers&&Array.isArray(a.headers))t.title=a.headers[e]});t+="<colgroups>";r.forEach(function(e){t+='<col style="width: '+e.width+'"></col>'});t+="</colgroups>";if(a.headers){t+="<thead>";t+="<tr>";r.forEach(function(e,n){t+="<th ";if(typeof e.style!="undefined"){t+=' style="';if(typeof e.style=="function"){t+=e.style(a,e,n)}else{t+=e.style}t+='" '}t+=">";if(typeof e.title!="undefined"){if(typeof e.title=="function"){t+=e.title(a,e,n)}else{t+=e.title}}t+="</th>"});t+="</tr>";t+="</thead>"}t+="<tbody>";if(i&&i.length>0){i.forEach(function(n,i){if(i>a.limit)return;t+="<tr";var o={};D(o,a.row);if(a.rows&&a.rows[i]){D(o,a.rows[i])}if(typeof o!="undefined"){if(typeof o.style!="undefined"){t+=' style="';if(typeof o.style=="function"){t+=o.style(a,n,i)}else{t+=o.style}t+='" '}}t+=">";r.forEach(function(r,s){var u={};D(u,a.cell);D(u,o.cell);if(typeof a.column!="undefined"){D(u,a.column.cell)}D(u,r.cell);if(a.cells&&a.cells[i]&&a.cells[i][s]){D(u,a.cells[i][s])}var l=n[r.columnid];if(typeof u.value=="function"){l=u.value(l,a,n,r,u,i,s)}var c=u.typeid;if(typeof c=="function"){c=c(l,a,n,r,u,i,s)}if(typeof c=="undefined"){if(typeof l=="number")c="number";else if(typeof l=="string")c="string";else if(typeof l=="boolean")c="boolean";else if(typeof l=="object"){if(l instanceof Date)c="date"}}var h="";if(c=="money"){h='mso-number-format:"\\#\\,\\#\\#0\\\\ _р_\\.";white-space:normal;'}else if(c=="number"){h=" "}else if(c=="date"){h='mso-number-format:"Short Date";'}else{if(e.types&&e.types[c]&&e.types[c].typestyle){h=e.types[c].typestyle}}h=h||'mso-number-format:"\\@";';t+="<td style='"+h+"' ";if(typeof u.style!="undefined"){t+=' style="';if(typeof u.style=="function"){t+=u.style(l,a,n,r,i,s)}else{t+=u.style}t+='" '}t+=">";var f=u.format;if(typeof l=="undefined"){t+=""}else if(typeof f!="undefined"){if(typeof f=="function"){t+=f(l)}else if(typeof f=="string"){t+=l}else{throw new Error("Unknown format type. Should be function or string")}}else{if(c=="number"||c=="date"){t+=l.toString()}else if(c=="money"){t+=(+l).toFixed(2)}else{t+=l}}t+="</td>"});t+="</tr>"})}t+="</tbody>";t+="</table>";t+="</body>";t+="</html>";return t}function h(t){var e=' style="';if(t&&typeof t.style!="undefined"){e+=t.style+";"}e+='" ';return e}};n.into.XLSXML=function(t,e,i,r,o){e=e||{};if(typeof t=="object"){e=t;t=undefined}var s={};if(e&&e.sheets){s=e.sheets}else{s.Sheet1=e}t=n.utils.autoExtFilename(t,"xls",e);var a=n.utils.saveFile(t,u());if(o)a=o(a);return a;function u(){var t='<?xml version="1.0"?> \t\t<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" \t\t xmlns:o="urn:schemas-microsoft-com:office:office" \t\t xmlns:x="urn:schemas-microsoft-com:office:excel" \t\t xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" \t\t xmlns:html="http://www.w3.org/TR/REC-html40"> \t\t <DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"> \t\t </DocumentProperties> \t\t <OfficeDocumentSettings xmlns="urn:schemas-microsoft-com:office:office"> \t\t  <AllowPNG/> \t\t </OfficeDocumentSettings> \t\t <ExcelWorkbook xmlns="urn:schemas-microsoft-com:office:excel"> \t\t  <ActiveSheet>0</ActiveSheet> \t\t </ExcelWorkbook> \t\t <Styles> \t\t  <Style ss:ID="Default" ss:Name="Normal"> \t\t   <Alignment ss:Vertical="Bottom"/> \t\t   <Borders/> \t\t   <Font ss:FontName="Calibri" x:Family="Swiss" ss:Size="12" ss:Color="#000000"/> \t\t   <Interior/> \t\t   <NumberFormat/> \t\t   <Protection/> \t\t  </Style>';var n="";var o=" </Styles>";var a={};var u=62;function l(t){var e="";for(var i in t){e+="<"+i;for(var r in t[i]){e+=" ";if(r.substr(0,2)=="x:"){e+=r}else{e+="ss:"}e+=r+'="'+t[i][r]+'"'}e+="/>"}var o=T(e);if(a[o]){}else{a[o]={styleid:u};n+='<Style ss:ID="s'+u+'">';n+=e;n+="</Style>";u++}return"s"+a[o].styleid}for(var c in s){var h=s[c];if(typeof h.columns!="undefined"){r=h.columns}else{if(r.length==0&&i.length>0){if(typeof i[0]=="object"){if(Array.isArray(i[0])){r=i[0].map(function(t,e){return{columnid:e}})}else{r=Object.keys(i[0]).map(function(t){return{columnid:t}})}}}}r.forEach(function(t,e){if(typeof h.column!="undefined"){D(t,h.column)}if(typeof t.width=="undefined"){if(h.column&&typeof h.column.width!="undefined"){t.width=h.column.width}else{t.width=120}}if(typeof t.width=="number")t.width=t.width;if(typeof t.columnid=="undefined")t.columnid=e;if(typeof t.title=="undefined")t.title=""+t.columnid.trim();if(h.headers&&Array.isArray(h.headers))t.title=h.headers[idx]});o+='<Worksheet ss:Name="'+c+'"> \t  \t\t\t<Table ss:ExpandedColumnCount="'+r.length+'" ss:ExpandedRowCount="'+((h.headers?1:0)+Math.min(i.length,h.limit||i.length))+'" x:FullColumns="1" \t   \t\t\tx:FullRows="1" ss:DefaultColumnWidth="65" ss:DefaultRowHeight="15">';r.forEach(function(t,e){o+='<Column ss:Index="'+(e+1)+'" ss:AutoFitWidth="0" ss:Width="'+t.width+'"/>'});if(h.headers){o+='<Row ss:AutoFitHeight="0">';r.forEach(function(t,e){o+="<Cell ";if(typeof t.style!="undefined"){var n={};if(typeof t.style=="function"){D(n,t.style(h,t,e))}else{D(n,t.style)}o+='ss:StyleID="'+l(n)+'"'}o+='><Data ss:Type="String">';if(typeof t.title!="undefined"){if(typeof t.title=="function"){o+=t.title(h,t,e)}else{o+=t.title}}o+="</Data></Cell>"});o+="</Row>"}if(i&&i.length>0){i.forEach(function(t,n){if(n>h.limit)return;var i={};D(i,h.row);if(h.rows&&h.rows[n]){D(i,h.rows[n])}o+="<Row ";if(typeof i!="undefined"){var s={};if(typeof i.style!="undefined"){if(typeof i.style=="function"){D(s,i.style(h,t,n))}else{D(s,i.style)}o+='ss:StyleID="'+l(s)+'"'}}o+=">";r.forEach(function(r,s){var a={};D(a,h.cell);D(a,i.cell);if(typeof h.column!="undefined"){D(a,h.column.cell)}D(a,r.cell);if(h.cells&&h.cells[n]&&h.cells[n][s]){D(a,h.cells[n][s])}var u=t[r.columnid];if(typeof a.value=="function"){u=a.value(u,h,t,r,a,n,s)}var c=a.typeid;if(typeof c=="function"){c=c(u,h,t,r,a,n,s)}if(typeof c=="undefined"){if(typeof u=="number")c="number";else if(typeof u=="string")c="string";else if(typeof u=="boolean")c="boolean";else if(typeof u=="object"){if(u instanceof Date)c="date"}}var f="String";if(c=="number")f="Number";else if(c=="date")f="Date";var p="";if(c=="money"){p='mso-number-format:"\\#\\,\\#\\#0\\\\ _р_\\.";white-space:normal;'}else if(c=="number"){p=" "}else if(c=="date"){p='mso-number-format:"Short Date";'}else{if(e.types&&e.types[c]&&e.types[c].typestyle){p=e.types[c].typestyle}}p=p||'mso-number-format:"\\@";';o+="<Cell ";var d={};if(typeof a.style!="undefined"){if(typeof a.style=="function"){D(d,a.style(u,h,t,r,n,s))}else{D(d,a.style)}o+='ss:StyleID="'+l(d)+'"'}o+=">";o+='<Data ss:Type="'+f+'">';var g=a.format;if(typeof u=="undefined"){o+=""}else if(typeof g!="undefined"){if(typeof g=="function"){o+=g(u)}else if(typeof g=="string"){o+=u}else{throw new Error("Unknown format type. Should be function or string")}}else{if(c=="number"||c=="date"){o+=u.toString()}else if(c=="money"){o+=(+u).toFixed(2)}else{o+=u}}o+="</Data></Cell>"});o+="</Row>"})}o+="</Table></Worksheet>"}o+="</Workbook>";return t+n+o}};n.into.XLSX=function(t,e,i,o,s){var a=1;if(R(o,[{columnid:"_"}])){i=i.map(function(t){return t._});o=undefined}else{}t=n.utils.autoExtFilename(t,"xlsx",e);var u=U();if(typeof t=="object"){e=t;t=undefined}var l={SheetNames:[],Sheets:{}};if(e.sourcefilename){n.utils.loadBinaryFile(e.sourcefilename,!!s,function(t){l=u.read(t,{type:"binary"});c()})}else{c()}if(s)a=s(a);return a;function c(){if(typeof e=="object"&&Array.isArray(e)){if(i&&i.length>0){i.forEach(function(t,n){h(e[n],t,undefined,n+1)})}}else{h(e,i,o,1)}f(s)}function h(t,e,i,r){var o={sheetid:"Sheet "+r,headers:true};n.utils.extend(o,t);var s=Object.keys(e).length;if((!i||i.length==0)&&s>0){i=Object.keys(e[0]).map(function(t){return{columnid:t}})}var a={};if(l.SheetNames.indexOf(o.sheetid)>-1){a=l.Sheets[o.sheetid]}else{l.SheetNames.push(o.sheetid);l.Sheets[o.sheetid]={};a=l.Sheets[o.sheetid]}var u="A1";if(o.range)u=o.range;var c=n.utils.xlscn(u.match(/[A-Z]+/)[0]);var h=+u.match(/[0-9]+/)[0]-1;if(l.Sheets[o.sheetid]["!ref"]){var f=l.Sheets[o.sheetid]["!ref"];var p=n.utils.xlscn(f.match(/[A-Z]+/)[0]);var d=+f.match(/[0-9]+/)[0]-1}else{var p=1,d=1}var g=Math.max(c+i.length,p);var m=Math.max(h+s+2,d);var v=h+1;l.Sheets[o.sheetid]["!ref"]="A1:"+n.utils.xlsnc(g)+m;if(o.headers){i.forEach(function(t,e){a[n.utils.xlsnc(c+e)+""+v]={v:t.columnid.trim()}});v++}for(var y=0;y<s;y++){i.forEach(function(t,i){var r={v:e[y][t.columnid]};if(typeof e[y][t.columnid]=="number"){r.t="n"}else if(typeof e[y][t.columnid]=="string"){r.t="s"}else if(typeof e[y][t.columnid]=="boolean"){r.t="b"}else if(typeof e[y][t.columnid]=="object"){if(e[y][t.columnid]instanceof Date){r.t="d"}}a[n.utils.xlsnc(c+i)+""+v]=r});v++}}function f(e){var n;if(typeof t=="undefined"){a=l}else{n=U();if(r.isNode||r.isMeteorServer){n.writeFile(l,t)}else{var i={bookType:"xlsx",bookSST:false,type:"binary"};var o=n.write(l,i);function s(t){var e=new ArrayBuffer(t.length);var n=new Uint8Array(e);for(var i=0;i!=t.length;++i)n[i]=t.charCodeAt(i)&255;return e}if(w()==9){throw new Error("Cannot save XLSX files in IE9. Please use XLS() export function")}else{Ot(new Blob([s(o)],{type:"application/octet-stream"}),t)}}}}};n.from.METEOR=function(t,e,n,i,r){var o=t.find(e).fetch();if(n){o=n(o,i,r)}return o};n.from.TABLETOP=function(t,e,i,r,o){var s=[];var a={headers:true,simpleSheet:true,key:t};n.utils.extend(a,e);a.callback=function(t){for(var e=0;e<t.length;e++){for(var n in t[e]){if(t[e][n]==+t[e][n]&&t[e].hasOwnProperty(n)){t[e][n]=+t[e][n]}}}s=t;if(i){s=i(s,r,o)}};Tabletop.init(a);return null};n.from.HTML=function(t,e,i,r,o){var s={};n.utils.extend(s,e);var a=document.querySelector(t);if(!a&&a.tagName!=="TABLE"){throw new Error("Selected HTML element is not a TABLE")}var u=[];var l=s.headers;if(l&&!Array.isArray(l)){l=[];var c=a.querySelector("thead tr").children;for(var h=0;h<c.length;h++){if(!(c.item(h).style&&c.item(h).style.display==="none"&&s.skipdisplaynone)){l.push(c.item(h).textContent)}else{l.push(undefined)}}}var f=a.querySelectorAll("tbody tr");for(var p=0;p<f.length;p++){var d=f.item(p).children;var g={};for(var h=0;h<d.length;h++){if(!(d.item(h).style&&d.item(h).style.display==="none"&&s.skipdisplaynone)){if(l){g[l[h]]=d.item(h).textContent}else{g[h]=d.item(h).textContent}}}u.push(g)}if(i){u=i(u,r,o)}return u};n.from.RANGE=function(t,e,n,i,r){var o=[];for(var s=t;s<=e;s++){o.push(s)}if(n){o=n(o,i,r)}return o};n.from.FILE=function(t,e,i,r,o){var s;if(typeof t==="string"){s=t}else if(t instanceof Event){s=t.target.files[0].name}else{throw new Error("Wrong usage of FILE() function")}var a=s.split(".");var u=a[a.length-1].toUpperCase();if(n.from[u]){return n.from[u](t,e,i,r,o)}else{throw new Error("Cannot recognize file type for loading")}};n.from.JSON=function(t,e,i,r,o){var s;t=n.utils.autoExtFilename(t,"json",e);n.utils.loadFile(t,!!i,function(t){s=JSON.parse(t);if(i){s=i(s,r,o)}});return s};n.from.TXT=function(t,e,i,r,o){var s;t=n.utils.autoExtFilename(t,"txt",e);n.utils.loadFile(t,!!i,function(t){s=t.split(/\r?\n/);if(s[s.length-1]===""){s.pop()}for(var e=0,n=s.length;e<n;e++){if(s[e]==+s[e]){s[e]=+s[e]}s[e]=[s[e]]}if(i){s=i(s,r,o)}});return s};n.from.TAB=n.from.TSV=function(t,e,i,r,o){e=e||{};e.separator="\t";t=n.utils.autoExtFilename(t,"tab",e);e.autoext=false;return n.from.CSV(t,e,i,r,o)};n.from.CSV=function(t,e,i,r,o){var s={separator:",",quote:'"',headers:true};n.utils.extend(s,e);var a;var u=[];function l(t){var e=s.separator.charCodeAt(0);var n=s.quote.charCodeAt(0);var l={},c={},h=[],f=t.length,p=0,d=0,g,m;function v(){if(p>=f){return c}if(m){return m=false,l}var i=p;if(t.charCodeAt(i)===n){var r=i;while(r++<f){if(t.charCodeAt(r)===n){if(t.charCodeAt(r+1)!==n){break}++r}}p=r+2;var o=t.charCodeAt(r+1);if(o===13){m=true;if(t.charCodeAt(r+2)===10){++p}}else if(o===10){m=true}return t.substring(i+1,r).replace(/""/g,'"')}while(p<f){var o=t.charCodeAt(p++),s=1;if(o===10){m=true}else if(o===13){m=true;if(t.charCodeAt(p)===10){++p;++s}}else if(o!==e){continue}return t.substring(i,p-s)}return t.substring(i)}while((g=v())!==c){var y=[];while(g!==l&&g!==c){y.push(g.trim());g=v()}if(s.headers){if(d===0){if(typeof s.headers==="boolean"){u=y}else if(Array.isArray(s.headers)){u=s.headers;var b={};u.forEach(function(t,e){b[t]=y[e];if(typeof b[t]!=="undefined"&&b[t].length!==0&&b[t].trim()==+b[t]){b[t]=+b[t]}});h.push(b)}}else{var b={};u.forEach(function(t,e){b[t]=y[e];if(typeof b[t]!=="undefined"&&b[t].length!==0&&b[t].trim()==+b[t]){b[t]=+b[t]}});h.push(b)}d++}else{h.push(y)}}a=h;if(s.headers){if(o&&o.sources&&o.sources[r]){var x=o.sources[r].columns=[];u.forEach(function(t){x.push({columnid:t})})}}if(i){a=i(a,r,o)}}if(new RegExp("\n").test(t)){l(t)}else{t=n.utils.autoExtFilename(t,"csv",e);n.utils.loadFile(t,!!i,l)}return a};function At(t,e,i,r,o,s){var a={};i=i||{};n.utils.extend(a,i);if(typeof a.headers==="undefined"){a.headers=true}var u;function l(t){var e="",n=0,i=10240;for(;n<t.byteLength/i;++n)e+=String.fromCharCode.apply(null,new Uint8Array(t.slice(n*i,n*i+i)));e+=String.fromCharCode.apply(null,new Uint8Array(t.slice(n*i)));return e}e=n.utils.autoExtFilename(e,"xls",i);n.utils.loadBinaryFile(e,!!r,function(e){if(e instanceof ArrayBuffer){var i=l(e);var u=t.read(btoa(i),{type:"base64"})}else{var u=t.read(e,{type:"binary"})}var c;if(typeof a.sheetid==="undefined"){c=u.SheetNames[0]}else{c=a.sheetid}var h;if(typeof a.range==="undefined"){h=u.Sheets[c]["!ref"]}else{h=a.range;if(u.Sheets[c][h]){h=u.Sheets[c][h]}}var f=h.split(":");var p=f[0].match(/[A-Z]+/)[0];var d=+f[0].match(/[0-9]+/)[0];var g=f[1].match(/[A-Z]+/)[0];var m=+f[1].match(/[0-9]+/)[0];var v={};var y=n.utils.xlscn(p);var b=n.utils.xlscn(g);for(var x=y;x<=b;x++){var _=n.utils.xlsnc(x);if(a.headers){if(u.Sheets[c][_+""+d]){v[_]=u.Sheets[c][_+""+d].v}else{v[_]=_}}else{v[_]=_}}var E=[];if(a.headers){d++}for(var w=d;w<=m;w++){var T={};for(var x=y;x<=b;x++){var _=n.utils.xlsnc(x);if(u.Sheets[c][_+""+w]){T[v[_]]=u.Sheets[c][_+""+w].v}}E.push(T)}if(E.length>0&&E[E.length-1]&&Object.keys(E[E.length-1]).length==0){E.pop()}if(r){E=r(E,o,s)}},function(t){throw t});return u}n.from.XLS=function(t,e,i,r,o){e=e||{};t=n.utils.autoExtFilename(t,"xls",e);e.autoExt=false;return At(G(),t,e,i,r,o)};n.from.XLSX=function(t,e,i,r,o){e=e||{};t=n.utils.autoExtFilename(t,"xlsx",e);e.autoExt=false;return At(U(),t,e,i,r,o)};n.from.XML=function(t,e,i,r,o){var s;n.utils.loadFile(t,!!i,function(t){s=It(t).root;if(i)s=i(s,r,o)});return s};function It(t){t=t.trim();t=t.replace(/<!--[\s\S]*?-->/g,"");return e();function e(){return{declaration:n(),root:i()}}function n(){var t=a(/^<\?xml\s*/);if(!t)return;var e={attributes:{}};while(!(u()||l("?>"))){var n=o();if(!n)return e;e.attributes[n.name]=n.value}a(/\?>\s*/);return e}function i(){var t=a(/^<([\w-:.]+)\s*/);if(!t)return;var e={name:t[1],attributes:{},children:[]};while(!(u()||l(">")||l("?>")||l("/>"))){var n=o();if(!n)return e;e.attributes[n.name]=n.value}if(a(/^\s*\/>\s*/)){return e}a(/\??>\s*/);e.content=r();var s;while(s=i()){e.children.push(s)}a(/^<\/[\w-:.]+>\s*/);return e}function r(){var t=a(/^([^<]*)/);if(t)return t[1];return""}function o(){var t=a(/([\w:-]+)\s*=\s*("[^"]*"|'[^']*'|\w+)\s*/);if(!t)return;return{name:t[1],value:s(t[2])}}function s(t){return t.replace(/^['"]|['"]$/g,"")}function a(e){var n=t.match(e);if(!n)return;t=t.slice(n[0].length);return n}function u(){return 0==t.length}function l(e){return 0==t.indexOf(e)}}n.from.GEXF=function(t,e,i,r,o){var s;n("SEARCH FROM XML("+t+")",[],function(t){s=t;console.log(s);if(i)s=i(s)});return s};J.Print=function(t){return J.extend(this,t)};J.Print.prototype.toString=function(){var t="PRINT";if(this.statement)t+=" "+this.statement.toString();return t};J.Print.prototype.execute=function(t,e,i){var r=this;var o=1;n.precompile(this,t,e);if(this.exprs&&this.exprs.length>0){var s=this.exprs.map(function(t){var i=new Function("params,alasql,p","var y;return "+t.toJS("({})","",null)).bind(r);var o=i(e,n);return _t(o)});console.log.apply(console,s)}else if(this.select){var a=this.select.execute(t,e);console.log(_t(a))}else{console.log()}if(i)o=i(o);return o};J.Source=function(t){return J.extend(this,t)};J.Source.prototype.toString=function(){var t="SOURCE";if(this.url)t+=" '"+this.url+" '";return t};J.Source.prototype.execute=function(t,e,i){var r;m(this.url,!!i,function(t){r=n(t);if(i)r=i(r);return r},function(t){throw t});return r};J.Require=function(t){return J.extend(this,t)};J.Require.prototype.toString=function(){var t="REQUIRE";if(this.paths&&this.paths.length>0){t+=this.paths.map(function(t){return t.toString()}).join(",")}if(this.plugins&&this.plugins.length>0){t+=this.plugins.map(function(t){return t.toUpperCase()}).join(",")}return t};J.Require.prototype.execute=function(t,e,i){var r=this;var o=0;var s="";if(this.paths&&this.paths.length>0){this.paths.forEach(function(t){m(t.value,!!i,function(t){o++;s+=t;if(o<r.paths.length)return;new Function("params,alasql",s)(e,n);if(i)o=i(o)})})}else if(this.plugins&&this.plugins.length>0){this.plugins.forEach(function(t){if(!n.plugins[t]){m(n.path+"/alasql-"+t.toLowerCase()+".js",!!i,function(a){o++;s+=a;if(o<r.plugins.length)return;new Function("params,alasql",s)(e,n);n.plugins[t]=true;if(i)o=i(o)})}})}else{if(i)o=i(o)}return o};J.Assert=function(t){return J.extend(this,t)};J.Source.prototype.toString=function(){var t="ASSERT";if(this.value)t+=" "+JSON.stringify(this.value);return t};J.Assert.prototype.execute=function(t){if(!R(n.res,this.value)){throw new Error((this.message||"Assert wrong")+": "+JSON.stringify(n.res)+" == "+JSON.stringify(this.value))}return 1};var Ct=n.engines.WEBSQL=function(){};Ct.createDatabase=function(t,e,i,r){var o=1;var s=openDatabase(t,e[0],e[1],e[2]);if(this.dbid){var a=n.createDatabase(this.dbid);a.engineid="WEBSQL";a.wdbid=t;sb.wdb=a}if(!s){throw new Error('Cannot create WebSQL database "'+databaseid+'"')}if(r)r(o);return o};Ct.dropDatabase=function(t){throw new Error("This is impossible to drop WebSQL database.")};Ct.attachDatabase=function(t,e,i,r,o){var s=1;if(n.databases[e]){throw new Error('Unable to attach database as "'+e+'" because it already exists')}alasqlopenDatabase(t,i[0],i[1],i[2]);return s};var Lt=n.engines.INDEXEDDB=function(){};if(r.hasIndexedDB){if(typeof r.global.indexedDB.webkitGetDatabaseNames=="function"){Lt.getDatabaseNames=r.global.indexedDB.webkitGetDatabaseNames.bind(r.global.indexedDB)}else{Lt.getDatabaseNames=function(){var t={};var e={contains:function(t){return true},notsupported:true};setTimeout(function(){var n={target:{result:e}};t.onsuccess(n)},0);return t};Lt.getDatabaseNamesNotSupported=true}}Lt.showDatabases=function(t,e){var n=Lt.getDatabaseNames();n.onsuccess=function(n){var i=n.target.result;if(Lt.getDatabaseNamesNotSupported){throw new Error("SHOW DATABASE is not supported in this browser")}var r=[];if(t){var o=new RegExp(t.value.replace(/\%/g,".*"),"g")}for(var s=0;s<i.length;s++){if(!t||i[s].match(o)){r.push({databaseid:i[s]})}}e(r)}};Lt.createDatabase=function(t,e,n,i,o){console.log(arguments);var s=r.global.indexedDB;if(n){var a=s.open(t,1);a.onsuccess=function(t){t.target.result.close();if(o)o(1)}}else{var u=s.open(t,1);u.onupgradeneeded=function(t){console.log("abort");t.target.transaction.abort()};u.onsuccess=function(e){console.log("success");if(n){if(o)o(0)}else{throw new Error('IndexedDB: Cannot create new database "'+t+'" because it already exists')}}}};Lt.createDatabase=function(t,e,n,i,o){var s=r.global.indexedDB;if(Lt.getDatabaseNamesNotSupported){if(n){var a=true;var u=s.open(t);u.onupgradeneeded=function(t){a=false};u.onsuccess=function(t){t.target.result.close();if(a){if(o)o(0)}else{if(o)o(1)}}}else{var l=s.open(t);l.onupgradeneeded=function(t){t.target.transaction.abort()};l.onabort=function(t){if(o)o(1)};l.onsuccess=function(e){e.target.result.close();throw new Error('IndexedDB: Cannot create new database "'+t+'" because it already exists')}}}else{var l=Lt.getDatabaseNames();l.onsuccess=function(e){var i=e.target.result;if(i.contains(t)){if(n){if(o)o(0);return}else{throw new Error('IndexedDB: Cannot create new database "'+t+'" because it already exists')}}var r=s.open(t,1);r.onsuccess=function(t){t.target.result.close();if(o)o(1)}}}};Lt.dropDatabase=function(t,e,n){var i=r.global.indexedDB;var o=Lt.getDatabaseNames();o.onsuccess=function(r){var o=r.target.result;if(!o.contains(t)){if(e){if(n)n(0);return}else{throw new Error('IndexedDB: Cannot drop new database "'+t+'" because it does not exist')}}var s=i.deleteDatabase(t);s.onsuccess=function(t){if(n)n(1)}}};Lt.attachDatabase=function(t,e,i,o,s){if(!r.hasIndexedDB){throw new Error("The current browser does not support IndexedDB")}var a=r.global.indexedDB;var u=Lt.getDatabaseNames();u.onsuccess=function(i){var r=i.target.result;if(!r.contains(t)){throw new Error('IndexedDB: Cannot attach database "'+t+'" because it does not exist')}var o=a.open(t);o.onsuccess=function(i){var r=i.target.result;var o=new n.Database(e||t);o.engineid="INDEXEDDB";o.ixdbid=t;o.tables=[];var a=r.objectStoreNames;for(var u=0;u<a.length;u++){o.tables[a[u]]={}}i.target.result.close();if(s)s(1)}}};Lt.createTable=function(t,e,i,o){var s=r.global.indexedDB;var a=n.databases[t].ixdbid;var u=Lt.getDatabaseNames();u.onsuccess=function(n){var i=n.target.result;if(!i.contains(a)){throw new Error('IndexedDB: Cannot create table in database "'+a+'" because it does not exist')}var r=s.open(a);r.onversionchange=function(t){t.target.result.close()};r.onsuccess=function(n){var i=n.target.result.version;n.target.result.close();var r=s.open(a,i+1);r.onupgradeneeded=function(t){var n=t.target.result;var i=n.createObjectStore(e,{autoIncrement:true})};r.onsuccess=function(t){t.target.result.close();if(o)o(1)};r.onerror=function(t){throw t};r.onblocked=function(n){throw new Error('Cannot create table "'+e+'" because database "'+t+'"  is blocked')}}}};Lt.dropTable=function(t,e,i,o){var s=r.global.indexedDB;var a=n.databases[t].ixdbid;var u=Lt.getDatabaseNames();u.onsuccess=function(r){var u=r.target.result;if(!u.contains(a)){throw new Error('IndexedDB: Cannot drop table in database "'+a+'" because it does not exist')}var l=s.open(a);l.onversionchange=function(t){t.target.result.close()};l.onsuccess=function(r){var u=r.target.result.version;r.target.result.close();var l=s.open(a,u+1);l.onupgradeneeded=function(r){var o=r.target.result;if(o.objectStoreNames.contains(e)){o.deleteObjectStore(e);delete n.databases[t].tables[e]}else{if(!i){throw new Error('IndexedDB: Cannot drop table "'+e+'" because it does not exist')}}};l.onsuccess=function(t){t.target.result.close();if(o)o(1)};l.onerror=function(t){throw t};l.onblocked=function(n){throw new Error('Cannot drop table "'+e+'" because database "'+t+'" is blocked')}}}};Lt.intoTable=function(t,e,i,o,s){var a=r.global.indexedDB;var u=n.databases[t].ixdbid;var l=a.open(u);l.onsuccess=function(t){var n=t.target.result;var r=n.transaction([e],"readwrite");var o=r.objectStore(e);for(var a=0,u=i.length;a<u;a++){o.add(i[a])}r.oncomplete=function(){n.close();if(s)s(u)}}};Lt.fromTable=function(t,e,i,o,s){var a=r.global.indexedDB;var u=n.databases[t].ixdbid;var l=a.open(u);l.onsuccess=function(t){var n=[];var r=t.target.result;var a=r.transaction([e]);var u=a.objectStore(e);var l=u.openCursor();l.onblocked=function(t){};l.onerror=function(t){};l.onsuccess=function(t){var e=t.target.result;if(e){n.push(e.value);e.continue()}else{r.close();if(i)i(n,o,s)}}}};Lt.deleteFromTable=function(t,e,i,o,s){var a=r.global.indexedDB;var u=n.databases[t].ixdbid;var l=a.open(u);l.onsuccess=function(t){var n=[];var r=t.target.result;var a=r.transaction([e],"readwrite");var u=a.objectStore(e);var l=u.openCursor();var c=0;l.onblocked=function(t){};l.onerror=function(t){};l.onsuccess=function(t){var e=t.target.result;if(e){if(!i||i(e.value,o)){e.delete();c++}e.continue()}else{r.close();if(s)s(c)}}}};Lt.updateTable=function(t,e,i,o,s,a){var u=r.global.indexedDB;var l=n.databases[t].ixdbid;var c=u.open(l);c.onsuccess=function(t){var n=[];var r=t.target.result;var u=r.transaction([e],"readwrite");var l=u.objectStore(e);var c=l.openCursor();var h=0;c.onblocked=function(t){};c.onerror=function(t){};c.onsuccess=function(t){var e=t.target.result;if(e){if(!o||o(e.value,s)){var n=e.value;i(n,s);e.update(n);h++}e.continue()}else{r.close();if(a)a(h)}}}};var Mt=n.engines.LOCALSTORAGE=function(){};Mt.get=function(t){var e=localStorage.getItem(t);if(typeof e==="undefined")return;var n=undefined;try{n=JSON.parse(e)}catch(t){throw new Error("Cannot parse JSON object from localStorage"+e)}return n};Mt.set=function(t,e){if(typeof e==="undefined")localStorage.removeItem(t);else localStorage.setItem(t,JSON.stringify(e))};Mt.storeTable=function(t,e){var i=n.databases[t];var r=i.tables[e];var o={};o.columns=r.columns;o.data=r.data;o.identities=r.identities;Mt.set(i.lsdbid+"."+e,o)};Mt.restoreTable=function(t,e){var i=n.databases[t];var r=Mt.get(i.lsdbid+"."+e);var o=new n.Table;for(var s in r){o[s]=r[s]}i.tables[e]=o;o.indexColumns();return o};Mt.removeTable=function(t,e){var i=n.databases[t];localStorage.removeItem(i.lsdbid+"."+e)};Mt.createDatabase=function(t,e,n,i,r){var o=1;var s=Mt.get("alasql");if(!(n&&s&&s.databases&&s.databases[t])){if(!s)s={databases:{}};if(s.databases&&s.databases[t]){throw new Error('localStorage: Cannot create new database "'+t+'" because it already exists')}s.databases[t]=true;Mt.set("alasql",s);Mt.set(t,{databaseid:t,tables:{}})}else{o=0}if(r)o=r(o);return o};Mt.dropDatabase=function(t,e,n){var i=1;var r=Mt.get("alasql");if(!(e&&r&&r.databases&&!r.databases[t])){if(!r){if(!e){throw new Error("There is no any AlaSQL databases in localStorage")}else{return n?n(0):0}}if(r.databases&&!r.databases[t]){throw new Error('localStorage: Cannot drop database "'+t+'" because there is no such database')}delete r.databases[t];Mt.set("alasql",r);var o=Mt.get(t);for(var s in o.tables){localStorage.removeItem(t+"."+s)}localStorage.removeItem(t)}else{i=0}if(n)i=n(i);return i};Mt.attachDatabase=function(t,e,i,r,o){var s=1;if(n.databases[e]){throw new Error('Unable to attach database as "'+e+'" because it already exists')}if(!e)e=t;var a=new n.Database(e);a.engineid="LOCALSTORAGE";a.lsdbid=t;a.tables=Mt.get(t).tables;if(!n.options.autocommit){if(a.tables){for(var u in a.tables){Mt.restoreTable(e,u)}}}if(o)s=o(s);return s};Mt.showDatabases=function(t,e){var n=[];var i=Mt.get("alasql");if(t){var r=new RegExp(t.value.replace(/\%/g,".*"),"g")}if(i&&i.databases){for(dbid in i.databases){n.push({databaseid:dbid})}if(t&&n&&n.length>0){n=n.filter(function(t){return t.databaseid.match(r)})}}if(e)n=e(n);return n};Mt.createTable=function(t,e,i,r){var o=1;var s=n.databases[t].lsdbid;var a=Mt.get(s+"."+e);if(a&&!i){throw new Error('Table "'+e+'" alsready exists in localStorage database "'+s+'"')}var u=Mt.get(s);var l=n.databases[t].tables[e];u.tables[e]=true;Mt.set(s,u);Mt.storeTable(t,e);if(r)o=r(o);return o};Mt.truncateTable=function(t,e,i,r){var o=1;var s=n.databases[t].lsdbid;if(n.options.autocommit){var a=Mt.get(s)}else{var a=n.databases[t]}if(!i&&!a.tables[e]){throw new Error('Cannot truncate table "'+e+'" in localStorage, because it does not exist')}var u=Mt.restoreTable(t,e);u.data=[];Mt.storeTable(t,e);if(r)o=r(o);return o};Mt.dropTable=function(t,e,i,r){var o=1;var s=n.databases[t].lsdbid;if(n.options.autocommit){var a=Mt.get(s)}else{var a=n.databases[t]}if(!i&&!a.tables[e]){throw new Error('Cannot drop table "'+e+'" in localStorage, because it does not exist')}delete a.tables[e];Mt.set(s,a);Mt.removeTable(t,e);if(r)o=r(o);return o};Mt.fromTable=function(t,e,i,r,o){var s=n.databases[t].lsdbid;var a=Mt.restoreTable(t,e).data;if(i)a=i(a,r,o);return a};Mt.intoTable=function(t,e,i,r,o){var s=n.databases[t].lsdbid;var a=i.length;var u=Mt.restoreTable(t,e);if(!u.data)u.data=[];u.data=u.data.concat(i);Mt.storeTable(t,e);if(o)a=o(a);return a};Mt.loadTableData=function(t,e){var i=n.databases[t];var r=n.databases[t].lsdbid;Mt.restoreTable(t,e)};Mt.saveTableData=function(t,e){var i=n.databases[t];var r=n.databases[t].lsdbid;Mt.storeTable(r,e);i.tables[e].data=undefined};Mt.commit=function(t,e){var i=n.databases[t];var r=n.databases[t].lsdbid;var o={databaseid:r,tables:{}};if(i.tables){for(var s in i.tables){o.tables[s]=true;Mt.storeTable(t,s)}}Mt.set(r,o);return e?e(1):1};Mt.begin=Mt.commit;Mt.rollback=function(t,e){return;var i=n.databases[t];i.dbversion++;var r=n.databases[t].lsdbid;var o=Mt.get(r);delete n.databases[t];n.databases[t]=new n.Database(t);D(n.databases[t],o);n.databases[t].databaseid=t;n.databases[t].engineid="LOCALSTORAGE";if(o.tables){for(var s in o.tables){Mt.restoreTable(t,s)}}};var Nt=n.engines.SQLITE=function(){};Nt.createDatabase=function(t,e,n,i,r){throw new Error("Connot create SQLITE database in memory. Attach it.")};Nt.dropDatabase=function(t){throw new Error("This is impossible to drop SQLite database. Detach it.")};Nt.attachDatabase=function(t,e,i,r,o){var s=1;if(n.databases[e]){throw new Error('Unable to attach database as "'+e+'" because it already exists')}if(i[0]&&i[0]instanceof J.StringValue||i[0]instanceof J.ParamValue){if(i[0]instanceof J.StringValue){var a=i[0].value}else if(i[0]instanceof J.ParamValue){var a=r[i[0].param]}n.utils.loadBinaryFile(a,true,function(i){var r=new n.Database(e||t);r.engineid="SQLITE";r.sqldbid=t;var s=r.sqldb=new SQL.Database(i);r.tables=[];var a=s.exec("SELECT * FROM sqlite_master WHERE type='table'")[0].values;a.forEach(function(t){r.tables[t[1]]={};var e=r.tables[t[1]].columns=[];var i=n.parse(t[4]);var o=i.statements[0].columns;if(o&&o.length>0){o.forEach(function(t){e.push(t)})}});o(1)},function(t){throw new Error('Cannot open SQLite database file "'+i[0].value+'"')});return s}else{throw new Error("Cannot attach SQLite database without a file")}return s};Nt.fromTable=function(t,e,i,r,o){var s=n.databases[t].sqldb.exec("SELECT * FROM "+e);var a=o.sources[r].columns=[];if(s[0].columns.length>0){s[0].columns.forEach(function(t){a.push({columnid:t})})}var u=[];if(s[0].values.length>0){s[0].values.forEach(function(t){var e={};a.forEach(function(n,i){e[n.columnid]=t[i]});u.push(e)})}if(i)i(u,r,o)};Nt.intoTable=function(t,e,i,r,o){var s=n.databases[t].sqldb;for(var a=0,u=i.length;a<u;a++){var l="INSERT INTO "+e+" (";var c=i[a];var h=Object.keys(c);l+=h.join(",");l+=") VALUES (";l+=h.map(function(t){v=c[t];if(typeof v=="string")v="'"+v+"'";return v}).join(",");l+=")";s.exec(l)}var f=u;if(o)o(f);return f};var Rt=n.engines.FILESTORAGE=n.engines.FILE=function(){};Rt.createDatabase=function(t,e,i,r,o){var s=1;var a=e[0].value;n.utils.fileExists(a,function(t){if(t){if(i){s=0;if(o)s=o(s);return s}else{throw new Error("Cannot create new database file, because it alreagy exists")}}else{var e={tables:{}};n.utils.saveFile(a,JSON.stringify(e),function(t){if(o)s=o(s)})}});return s};Rt.dropDatabase=function(t,e,i){var r;var o=t.value;n.utils.fileExists(o,function(t){if(t){r=1;n.utils.deleteFile(o,function(){r=1;if(i)r=i(r)})}else{if(!e){throw new Error("Cannot drop database file, because it does not exist")}r=0;if(i)r=i(r)}});return r};Rt.attachDatabase=function(t,e,i,r,o){var s=1;if(n.databases[e]){throw new Error('Unable to attach database as "'+e+'" because it already exists')}var a=new n.Database(e||t);a.engineid="FILESTORAGE";a.filename=i[0].value;m(a.filename,!!o,function(t){try{a.data=JSON.parse(t)}catch(t){throw new Error("Data in FileStorage database are corrupted")}a.tables=a.data.tables;if(!n.options.autocommit){if(a.tables){for(var e in a.tables){a.tables[e].data=a.data[e]}}}if(o)s=o(s)});return s};Rt.createTable=function(t,e,i,r){var o=n.databases[t];var s=o.data[e];var a=1;if(s&&!i){throw new Error('Table "'+e+'" alsready exists in the database "'+fsdbid+'"')}var u=n.databases[t].tables[e];o.data.tables[e]={columns:u.columns};o.data[e]=[];Rt.updateFile(t);if(r)r(a);return a};Rt.updateFile=function(t){var e=n.databases[t];if(e.issaving){e.postsave=true;return}e.issaving=true;e.postsave=false;n.utils.saveFile(e.filename,JSON.stringify(e.data),function(){e.issaving=false;if(e.postsave){setTimeout(function(){Rt.updateFile(t)},50)}})};Rt.dropTable=function(t,e,i,r){var o=1;var s=n.databases[t];if(!i&&!s.tables[e]){throw new Error('Cannot drop table "'+e+'" in fileStorage, because it does not exist')}delete s.tables[e];delete s.data.tables[e];delete s.data[e];Rt.updateFile(t);if(r)r(o);return o};Rt.fromTable=function(t,e,i,r,o){var s=n.databases[t];var a=s.data[e];if(i)a=i(a,r,o);return a};Rt.intoTable=function(t,e,i,r,o){var s=n.databases[t];var a=i.length;var u=s.data[e];if(!u)u=[];s.data[e]=u.concat(i);Rt.updateFile(t);if(o)o(a);return a};Rt.loadTableData=function(t,e){var i=n.databases[t];i.tables[e].data=i.data[e]};Rt.saveTableData=function(t,e){var i=n.databases[t];i.data[e]=i.tables[e].data;i.tables[e].data=null;Rt.updateFile(t)};Rt.commit=function(t,e){var i=n.databases[t];var r={tables:{}};if(i.tables){for(var o in i.tables){i.data.tables[o]={columns:i.tables[o].columns};i.data[o]=i.tables[o].data}}Rt.updateFile(t);return e?e(1):1};Rt.begin=Rt.commit;Rt.rollback=function(t,e){var i=1;var r=n.databases[t];r.dbversion++;o();function o(){setTimeout(function(){if(r.issaving){return o()}else{n.loadFile(r.filename,!!e,function(o){r.data=o;r.tables={};for(var s in r.data.tables){var a=new n.Table({columns:r.data.tables[s].columns});D(a,r.data.tables[s]);r.tables[s]=a;if(!n.options.autocommit){r.tables[s].data=r.data[s]}r.tables[s].indexColumns()}delete n.databases[t];n.databases[t]=new n.Database(t);D(n.databases[t],r);n.databases[t].engineid="FILESTORAGE";n.databases[t].filename=r.filename;if(e)i=e(i)})}},100)}};if(r.isBrowser&&!r.isWebWorker){n=n||false;if(!n){throw new Error("alasql was not found")}n.worker=function(){throw new Error("Can find webworker in this enviroment")};if(typeof Worker!=="undefined"){n.worker=function(t,e,i){if(t===true){t=undefined}if(typeof t==="undefined"){var r=document.getElementsByTagName("script");for(var o=0;o<r.length;o++){if(r[o].src.substr(-16).toLowerCase()==="alasql-worker.js"){t=r[o].src.substr(0,r[o].src.length-16)+"alasql.js";break}else if(r[o].src.substr(-20).toLowerCase()==="alasql-worker.min.js"){t=r[o].src.substr(0,r[o].src.length-20)+"alasql.min.js";break}else if(r[o].src.substr(-9).toLowerCase()==="alasql.js"){t=r[o].src;break}else if(r[o].src.substr(-13).toLowerCase()==="alasql.min.js"){t=r[o].src.substr(0,r[o].src.length-13)+"alasql.min.js";break}}}if(typeof t==="undefined"){throw new Error("Path to alasql.js is not specified")}else if(t!==false){var s="importScripts('";s+=t;s+="');self.onmessage = function(event) {"+"alasql(event.data.sql,event.data.params, function(data){"+"postMessage({id:event.data.id, data:data});});}";var a=new Blob([s],{type:"text/plain"});n.webworker=new Worker(URL.createObjectURL(a));n.webworker.onmessage=function(t){var e=t.data.id;n.buffer[e](t.data.data);delete n.buffer[e]};n.webworker.onerror=function(t){throw t};if(arguments.length>1){var u="REQUIRE "+e.map(function(t){return'"'+t+'"'}).join(",");n(u,[],i)}}else if(t===false){delete n.webworker;return}}}var Ot=Ot||function(t){"use strict";if(typeof t==="undefined"||typeof navigator!=="undefined"&&/MSIE [1-9]\./.test(navigator.userAgent)){return}var e=t.document,n=function(){return t.URL||t.webkitURL||t},i=e.createElementNS("http://www.w3.org/1999/xhtml","a"),r="download"in i,o=function(t){var e=new MouseEvent("click");t.dispatchEvent(e)},s=/constructor/i.test(t.HTMLElement)||t.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent),u=function(e){(t.setImmediate||t.setTimeout)(function(){throw e},0)},l="application/octet-stream",c=1e3*40,h=function(t){var e=function(){if(typeof t==="string"){n().revokeObjectURL(t)}else{t.remove()}};setTimeout(e,c)},f=function(t,e,n){e=[].concat(e);var i=e.length;while(i--){var r=t["on"+e[i]];if(typeof r==="function"){try{r.call(t,n||t)}catch(t){u(t)}}}},p=function(t){if(/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)){return new Blob([String.fromCharCode(65279),t],{type:t.type})}return t},d=function(e,u,c){if(!c){e=p(e)}var d=this,g=e.type,m=g===l,v,y=function(){f(d,"writestart progress write writeend".split(" "))},b=function(){if((a||m&&s)&&t.FileReader){var i=new FileReader;i.onloadend=function(){var e=a?i.result:i.result.replace(/^data:[^;]*;/,"data:attachment/file;");var n=t.open(e,"_blank");if(!n)t.location.href=e;e=undefined;d.readyState=d.DONE;y()};i.readAsDataURL(e);d.readyState=d.INIT;return}if(!v){v=n().createObjectURL(e)}if(m){t.location.href=v}else{var r=t.open(v,"_blank");if(!r){t.location.href=v}}d.readyState=d.DONE;y();h(v)};d.readyState=d.INIT;if(r){v=n().createObjectURL(e);setTimeout(function(){i.href=v;i.download=u;o(i);y();h(v);d.readyState=d.DONE});return}b()},g=d.prototype,m=function(t,e,n){return new d(t,e||t.name||"download",n)};if(typeof navigator!=="undefined"&&navigator.msSaveOrOpenBlob){return function(t,e,n){e=e||t.name||"download";if(!n){t=p(t)}return navigator.msSaveOrOpenBlob(t,e)}}g.abort=function(){};g.readyState=g.INIT=0;g.WRITING=1;g.DONE=2;g.error=g.onwritestart=g.onprogress=g.onwrite=g.onabort=g.onerror=g.onwriteend=null;return m}(typeof self!=="undefined"&&self||typeof window!=="undefined"&&window||this.content);if(typeof t!=="undefined"&&t.exports){t.exports.saveAs=Ot}else if(typeof define!=="undefined"&&define!==null&&define.amd!==null){define("FileSaver.js",function(){return Ot})}n.utils.saveAs=Ot}new Y("alasql");n.use("alasql");return n})},function(t,e,n){(function(n){var i,r,o;(function(n,s){if(true){!(r=[],i=s(n),o=typeof i==="function"?i.apply(e,r):i,o!==undefined&&(t.exports=o))}else if(typeof e==="object"){t.exports=s(n)}else{n.iziToast=s(n)}})(typeof n!=="undefined"?n:this.window||this.global,function(t){"use strict";var e={},n="iziToast",i=document.querySelector("body"),r=/Mobi/.test(navigator.userAgent)?true:false,o=/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor),s=typeof InstallTrigger!=="undefined",a="ontouchstart"in document.documentElement,u=["bottomRight","bottomLeft","bottomCenter","topRight","topLeft","topCenter","center"],l={info:{color:"blue",icon:"ico-info"},success:{color:"green",icon:"ico-check"},warning:{color:"yellow",icon:"ico-warning"},error:{color:"red",icon:"ico-error"}},c=568,h={};var f={class:"",title:"",titleColor:"",message:"",messageColor:"",backgroundColor:"",color:"",icon:"",iconText:"",iconColor:"",image:"",imageWidth:50,zindex:99999,layout:1,balloon:false,close:true,rtl:false,position:"bottomRight",target:"",targetFirst:true,timeout:5e3,drag:true,pauseOnHover:true,resetOnHover:false,progressBar:true,progressBarColor:"",animateInside:true,buttons:{},transitionIn:"fadeInUp",transitionOut:"fadeOut",transitionInMobile:"fadeInUp",transitionOutMobile:"fadeOutDown",onOpen:function(){},onClose:function(){}};if(!("remove"in Element.prototype)){Element.prototype.remove=function(){if(this.parentNode){this.parentNode.removeChild(this)}}}var p=function(t,e,n){if(Object.prototype.toString.call(t)==="[object Object]"){for(var i in t){if(Object.prototype.hasOwnProperty.call(t,i)){e.call(n,t[i],i,t)}}}else{if(t){for(var r=0,o=t.length;r<o;r++){e.call(n,t[r],r,t)}}}};var d=function(t,e){var n={};p(t,function(e,i){n[i]=t[i]});p(e,function(t,i){n[i]=e[i]});return n};var g=function(t){var e=document.createDocumentFragment(),n=document.createElement("div");n.innerHTML=t;while(n.firstChild){e.appendChild(n.firstChild)}return e};var m=function(t){if(t.substring(0,1)=="#"||t.substring(0,3)=="rgb"||t.substring(0,3)=="hsl"){return true}else{return false}};var v=function(){return{move:function(t,e,n,i){var r,a=.3,u=180;t.style.transform="translateX("+i+"px)";if(i>0){r=(u-i)/u;if(r<a){e.hide(d(n,{transitionOut:"fadeOutRight",transitionOutMobile:"fadeOutRight"}),t,"drag")}}else{r=(u+i)/u;if(r<a){e.hide(d(n,{transitionOut:"fadeOutLeft",transitionOutMobile:"fadeOutLeft"}),t,"drag")}}t.style.opacity=r;if(r<a){if(o||s)t.style.left=i+"px";t.parentNode.style.opacity=a;this.stopMoving(t,null)}},startMoving:function(t,e,n,i){i=i||window.event;var r=a?i.touches[0].clientX:i.clientX,o=t.style.transform.replace("px)","");o=o.replace("translateX(","");var s=r-o;t.classList.remove(n.transitionIn);t.classList.remove(n.transitionInMobile);t.style.transition="";if(a){document.ontouchmove=function(i){i.preventDefault();i=i||window.event;var r=i.touches[0].clientX,o=r-s;v.move(t,e,n,o)}}else{document.onmousemove=function(i){i.preventDefault();i=i||window.event;var r=i.clientX,o=r-s;v.move(t,e,n,o)}}},stopMoving:function(t,e){if(a){document.ontouchmove=function(){}}else{document.onmousemove=function(){}}t.style.transition="transform 0.4s ease, opacity 0.4s ease";t.style.opacity="";t.style.transform="";window.setTimeout(function(){t.style.transition=""},400)}}}();var y=function(t,e,i){var r=false;var o=false;var s=false;var a=null;var u=t.querySelector("."+n+"-progressbar div");var l={hideEta:null,maxHideTime:null,currentTime:(new Date).getTime(),updateProgress:function(){r=t.classList.contains(n+"-paused")?true:false;o=t.classList.contains(n+"-reseted")?true:false;s=t.classList.contains(n+"-closed")?true:false;if(o){clearTimeout(a);u.style.width="100%";y(t,e,i);t.classList.remove(n+"-reseted")}if(s){clearTimeout(a);t.classList.remove(n+"-closed")}if(!r&&!o&&!s){l.currentTime=l.currentTime+10;var c=(l.hideEta-l.currentTime)/l.maxHideTime*100;u.style.width=c+"%";if(Math.round(c)<0||typeof t!="object"){clearTimeout(a);i.apply()}}}};if(e.timeout>0){l.maxHideTime=parseFloat(e.timeout);l.hideEta=(new Date).getTime()+l.maxHideTime;a=setInterval(l.updateProgress,10)}};e.destroy=function(){p(document.querySelectorAll("."+n+"-wrapper"),function(t,e){t.remove()});p(document.querySelectorAll("."+n),function(t,e){t.remove()});document.removeEventListener(n+"-open",{},false);document.removeEventListener(n+"-close",{},false);h={}};e.settings=function(t){e.destroy();h=t;f=d(f,t||{})};p(l,function(t,n){e[n]=function(e){var n=d(h,e||{});n=d(t,n||{});this.show(n)}});e.hide=function(t,e,i){var o=d(f,t||{});i=i||false;if(typeof e!="object"){e=document.querySelector(e)}e.classList.add(n+"-closed");if(o.transitionIn||o.transitionInMobile){e.classList.remove(o.transitionIn);e.classList.remove(o.transitionInMobile)}if(r||window.innerWidth<=c){if(o.transitionOutMobile)e.classList.add(o.transitionOutMobile)}else{if(o.transitionOut)e.classList.add(o.transitionOut)}var s=e.parentNode.offsetHeight;e.parentNode.style.height=s+"px";e.style.pointerEvents="none";if(!r||window.innerWidth>c){e.parentNode.style.transitionDelay="0.2s"}setTimeout(function(){e.parentNode.style.height="0px";e.parentNode.style.overflow="";window.setTimeout(function(){e.parentNode.remove()},1e3)},200);if(o.class){try{var a;if(window.CustomEvent){a=new CustomEvent(n+"-close",{detail:{class:o.class}})}else{a=document.createEvent("CustomEvent");a.initCustomEvent(n+"-close",true,true,{class:o.class})}document.dispatchEvent(a)}catch(t){console.warn(t)}}if(typeof o.onClose!=="undefined"){o.onClose.apply(null,[o,e,i])}};e.show=function(t){var e=this;var i=d(h,t||{});i=d(f,i);var o=document.createElement("div");o.classList.add(n+"-capsule");var s=document.createElement("div");s.classList.add(n);if(r||window.innerWidth<=c){if(i.transitionInMobile.length>0)s.classList.add(i.transitionInMobile)}else{if(i.transitionIn.length>0)s.classList.add(i.transitionIn)}if(i.rtl){s.classList.add(n+"-rtl")}if(i.color.length>0){if(m(i.color)){s.style.background=i.color}else{s.classList.add(n+"-color-"+i.color)}}if(i.backgroundColor.length>0){s.style.background=i.backgroundColor}if(i.class){s.classList.add(i.class)}if(i.image){var l=document.createElement("div");l.classList.add(n+"-cover");l.style.width=i.imageWidth+"px";l.style.backgroundImage="url("+i.image+")";s.appendChild(l)}var b;if(i.close){b=document.createElement("button");b.classList.add(n+"-close");s.appendChild(b)}else{if(i.rtl){s.style.paddingLeft="30px"}else{s.style.paddingRight="30px"}}if(i.progressBar){var x=document.createElement("div");x.classList.add(n+"-progressbar");var _=document.createElement("div");_.style.background=i.progressBarColor;x.appendChild(_);s.appendChild(x);setTimeout(function(){y(s,i,function(){e.hide(i,s)})},300)}else if(i.progressBar===false&&i.timeout>0){setTimeout(function(){e.hide(i,s)},i.timeout)}var E=document.createElement("div");E.classList.add(n+"-body");if(i.image){if(i.rtl){E.style.marginRight=i.imageWidth+10+"px"}else{E.style.marginLeft=i.imageWidth+10+"px"}}if(i.icon){var w=document.createElement("i");w.setAttribute("class",n+"-icon "+i.icon);if(i.iconText){w.appendChild(document.createTextNode(i.iconText))}if(i.rtl){E.style.paddingRight="33px"}else{E.style.paddingLeft="33px"}if(i.iconColor){w.style.color=i.iconColor}E.appendChild(w)}var T=document.createElement("strong");if(i.titleColor.length>0){T.style.color=i.titleColor}T.appendChild(g(i.title));var S=document.createElement("p");if(i.messageColor.length>0){S.style.color=i.messageColor}S.appendChild(g(i.message));if(i.layout>1){s.classList.add(n+"-layout"+i.layout)}if(i.balloon){s.classList.add(n+"-balloon")}E.appendChild(T);E.appendChild(S);var A;if(i.buttons.length>0){A=document.createElement("div");A.classList.add(n+"-buttons");S.style.marginRight="15px";var I=0;p(i.buttons,function(t,n){A.appendChild(g(t[0]));var i=A.childNodes;i[I].addEventListener("click",function(n){n.preventDefault();var i=t[1];return new i(e,s)});I++});E.appendChild(A)}s.appendChild(E);o.style.visibility="hidden";o.appendChild(s);setTimeout(function(){var t=s.offsetHeight;var e=s.currentStyle||window.getComputedStyle(s);var n=e.marginTop;n=n.split("px");n=parseInt(n[0]);var r=e.marginBottom;r=r.split("px");r=parseInt(r[0]);o.style.visibility="";o.style.height=t+r+n+"px";setTimeout(function(){o.style.height="auto";if(i.target){o.style.overflow="visible"}},1e3)},100);var C=i.position,L;if(i.target){L=document.querySelector(i.target);L.classList.add(n+"-target");if(i.targetFirst){L.insertBefore(o,L.firstChild)}else{L.appendChild(o)}}else{if(u.indexOf(i.position)==-1){console.warn("["+n+"] Incorrect position.\nIt can be › "+u);return}if(r||window.innerWidth<=c){if(i.position=="bottomLeft"||i.position=="bottomRight"||i.position=="bottomCenter"){C=n+"-wrapper-bottomCenter"}else if(i.position=="topLeft"||i.position=="topRight"||i.position=="topCenter"){C=n+"-wrapper-topCenter"}else{C=n+"-wrapper-center"}}else{C=n+"-wrapper-"+C}L=document.querySelector("."+n+"-wrapper."+C);if(!L){L=document.createElement("div");L.classList.add(n+"-wrapper");L.classList.add(C);document.body.appendChild(L)}if(i.position=="topLeft"||i.position=="topCenter"||i.position=="topRight"){L.insertBefore(o,L.firstChild)}else{L.appendChild(o)}}if(!isNaN(i.zindex)){L.style.zIndex=i.zindex}else{console.warn("["+n+"] Invalid zIndex.")}i.onOpen.apply(null,[i,s]);try{var M;if(window.CustomEvent){M=new CustomEvent(n+"-open",{detail:{class:i.class}})}else{M=document.createEvent("CustomEvent");M.initCustomEvent(n+"-open",true,true,{class:i.class})}document.dispatchEvent(M)}catch(t){console.warn(t)}if(i.animateInside){s.classList.add(n+"-animateInside");var N=200;var R=100;var O=300;if(i.transitionIn=="bounceInLeft"){N=400;R=200;O=400}window.setTimeout(function(){T.classList.add("slideIn")},N);window.setTimeout(function(){S.classList.add("slideIn")},R);if(i.icon){window.setTimeout(function(){w.classList.add("revealIn")},O)}if(i.buttons.length>0&&A){var D=150;p(A.childNodes,function(t,e){window.setTimeout(function(){t.classList.add("revealIn")},D);D=D+D})}}if(b){b.addEventListener("click",function(t){var n=t.target;e.hide(i,s,"button")})}if(i.pauseOnHover){s.addEventListener("mouseenter",function(t){this.classList.add(n+"-paused")});s.addEventListener("mouseleave",function(t){this.classList.remove(n+"-paused")})}if(i.resetOnHover){s.addEventListener("mouseenter",function(t){this.classList.add(n+"-reseted")});s.addEventListener("mouseleave",function(t){this.classList.remove(n+"-reseted")})}if(i.drag){if(a){s.addEventListener("touchstart",function(t){v.startMoving(this,e,i,t)},false);s.addEventListener("touchend",function(t){v.stopMoving(this,t)},false)}else{s.addEventListener("mousedown",function(t){t.preventDefault();v.startMoving(this,e,i,t)},false);s.addEventListener("mouseup",function(t){t.preventDefault();v.stopMoving(this,t)},false)}}};return e})}).call(e,n(20))},function(t,e,n){"use strict";t.exports=n(61)},function(t,e,n){var i=n(47);if(typeof i==="string")i=[[t.i,i,""]];var r=n(13)(i,{});if(i.locals)t.exports=i.locals;if(false){if(!i.locals){t.hot.accept("!!../../node_modules/css-loader/index.js!./perfect-scrollbar.css",function(){var e=require("!!../../node_modules/css-loader/index.js!./perfect-scrollbar.css");if(typeof e==="string")e=[[t.id,e,""]];r(e)})}t.hot.dispose(function(){r()})}},function(t,e,n){var i=n(48);if(typeof i==="string")i=[[t.i,i,""]];var r=n(13)(i,{});if(i.locals)t.exports=i.locals;if(false){if(!i.locals){t.hot.accept("!!../../../css-loader/index.js!./iziToast.css",function(){var e=require("!!../../../css-loader/index.js!./iziToast.css");if(typeof e==="string")e=[[t.id,e,""]];r(e)})}t.hot.dispose(function(){r()})}},function(t,e,n){t.exports={isolines:n(103),convex:n(95),within:n(119),concave:n(94),difference:n(96),collect:n(92),flip:n(98),simplify:n(114),bezier:n(88),tag:n(116),sample:n(113),envelope:n(97),square:n(26),midpoint:n(107),buffer:n(90),center:n(22),centroid:n(91),combine:n(93),distance:n(1),explode:n(23),bbox:n(14),tesselate:n(117),bboxPolygon:n(21),inside:n(8),intersect:n(101),nearest:n(108),planepoint:n(24),random:n(112),tin:n(19),union:n(27),bearing:n(15),destination:n(16),kinks:n(104),pointOnSurface:n(110),area:n(87),along:n(86),lineDistance:n(105),lineSlice:n(106),pointOnLine:n(25),pointGrid:n(109),squareGrid:n(115),triangleGrid:n(118),hexGrid:n(100)};var i=n(0);t.exports.point=i.point;t.exports.polygon=i.polygon;t.exports.lineString=i.lineString;t.exports.multiPoint=i.multiPoint;t.exports.multiPolygon=i.multiPolygon;t.exports.multiLineString=i.multiLineString;t.exports.feature=i.feature;t.exports.featureCollection=i.featureCollection;t.exports.geometryCollection=i.geometryCollection},function(t,e,n){turf=n(39);KORTxyz={settings:{followCompas:JSON.parse(localStorage.getItem("followCompas")),useWebGL:JSON.parse(localStorage.getItem("useWebGL"))==null?true:JSON.parse(localStorage.getItem("useWebGL"))},user:{name:localStorage.getItem("name"),pw:localStorage.getItem("pw")},GPS:{lng:0,lat:0,time:0}};Ps=n(36);n(37);Ps.initialize(document.getElementById("top"));iziToast=n(35);n(38);if("ontouchstart"in document.documentElement){window.onerror=function(t,e,n){iziToast.error({icon:"material-icons",iconText:"error",message:"Error message: "+t+" <br> URL: "+e+" <br> Line Number: "+n});return true};for(var i=document.styleSheets.length-1;i>=0;i--){var r=document.styleSheets[i];if(r.cssRules){for(var o=r.cssRules.length-1;o>=0;o--){var s=r.cssRules[o];if(s.selectorText){s.selectorText=s.selectorText.replace(":hover",":active")}}}}}n(31);n(30);n(29);detectWebGL=function(){var t=document.createElement("canvas");var e=null;try{e=t.getContext("webgl")}catch(t){e=null}if(!e){try{e=text_canvas.getContext("experimental-webgl")}catch(t){e=null}}return e?true:false};if(JSON.parse(KORTxyz.settings.useWebGL)&&detectWebGL()){n(33)}else{n(32)}alasql=n(34);alasql("CREATE INDEXEDDB DATABASE IF NOT EXISTS KORTxyz;         ATTACH INDEXEDDB DATABASE KORTxyz;         USE KORTxyz;         CREATE TABLE IF NOT EXISTS data;         SELECT * FROM data;         CREATE TABLE IF NOT EXISTS route;         SELECT * FROM route;        CREATE TABLE IF NOT EXISTS sources;         SELECT * FROM sources;",function(t){if(t[4].length>0){addData(t[4])}if(t[6].length>0){addRoute(t[6])}KORTxyz.sources=t[8]})},function(t,e,n){"use strict";t.exports=o;var i=n(18);function r(t,e){var n=new Array(e+1);for(var r=0;r<t.length;++r){n[r]=t[r]}for(var r=0;r<=t.length;++r){for(var o=t.length;o<=e;++o){var s=new Array(e);for(var a=0;a<e;++a){s[a]=Math.pow(o+1-r,a)}n[o]=s}var u=i.apply(void 0,n);if(u){return true}}return false}function o(t){var e=t.length;if(e===0){return[]}if(e===1){return[0]}var n=t[0].length;var i=[t[0]];var o=[0];for(var s=1;s<e;++s){i.push(t[s]);if(!r(i,n)){i.pop();continue}o.push(s);if(o.length===n+1){return o}}return o}},function(t,e,n){"use strict";"use restrict";var i=32;e.INT_BITS=i;e.INT_MAX=2147483647;e.INT_MIN=-1<<i-1;e.sign=function(t){return(t>0)-(t<0)};e.abs=function(t){var e=t>>i-1;return(t^e)-e};e.min=function(t,e){return e^(t^e)&-(t<e)};e.max=function(t,e){return t^(t^e)&-(t<e)};e.isPow2=function(t){return!(t&t-1)&&!!t};e.log2=function(t){var e,n;e=(t>65535)<<4;t>>>=e;n=(t>255)<<3;t>>>=n;e|=n;n=(t>15)<<2;t>>>=n;e|=n;n=(t>3)<<1;t>>>=n;e|=n;return e|t>>1};e.log10=function(t){return t>=1e9?9:t>=1e8?8:t>=1e7?7:t>=1e6?6:t>=1e5?5:t>=1e4?4:t>=1e3?3:t>=100?2:t>=10?1:0};e.popCount=function(t){t=t-(t>>>1&1431655765);t=(t&858993459)+(t>>>2&858993459);return(t+(t>>>4)&252645135)*16843009>>>24};function r(t){var e=32;t&=-t;if(t)e--;if(t&65535)e-=16;if(t&16711935)e-=8;if(t&252645135)e-=4;if(t&858993459)e-=2;if(t&1431655765)e-=1;return e}e.countTrailingZeros=r;e.nextPow2=function(t){t+=t===0;--t;t|=t>>>1;t|=t>>>2;t|=t>>>4;t|=t>>>8;t|=t>>>16;return t+1};e.prevPow2=function(t){t|=t>>>1;t|=t>>>2;t|=t>>>4;t|=t>>>8;t|=t>>>16;return t-(t>>>1)};e.parity=function(t){t^=t>>>16;t^=t>>>8;t^=t>>>4;t&=15;return 27030>>>t&1};var o=new Array(256);(function(t){for(var e=0;e<256;++e){var n=e,i=e,r=7;for(n>>>=1;n;n>>>=1){i<<=1;i|=n&1;--r}t[e]=i<<r&255}})(o);e.reverse=function(t){return o[t&255]<<24|o[t>>>8&255]<<16|o[t>>>16&255]<<8|o[t>>>24&255]};e.interleave2=function(t,e){t&=65535;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;e&=65535;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;e=(e|e<<1)&1431655765;return t|e<<1};e.deinterleave2=function(t,e){t=t>>>e&1431655765;t=(t|t>>>1)&858993459;t=(t|t>>>2)&252645135;t=(t|t>>>4)&16711935;t=(t|t>>>16)&65535;return t<<16>>16};e.interleave3=function(t,e,n){t&=1023;t=(t|t<<16)&4278190335;t=(t|t<<8)&251719695;t=(t|t<<4)&3272356035;t=(t|t<<2)&1227133513;e&=1023;e=(e|e<<16)&4278190335;e=(e|e<<8)&251719695;e=(e|e<<4)&3272356035;e=(e|e<<2)&1227133513;t|=e<<1;n&=1023;n=(n|n<<16)&4278190335;n=(n|n<<8)&251719695;n=(n|n<<4)&3272356035;n=(n|n<<2)&1227133513;return t|n<<2};e.deinterleave3=function(t,e){t=t>>>e&1227133513;t=(t|t>>>2)&3272356035;t=(t|t>>>4)&251719695;t=(t|t>>>8)&4278190335;t=(t|t>>>16)&1023;return t<<22>>22};e.nextCombination=function(t){var e=t|t-1;return e+1|(~e&-~e)-1>>>r(t)+1}},function(t,e,n){"use strict";var i=n(44);var r=n(45);var o=n(46);t.exports=s;function s(t){var e=t.length;if(e===0){return[]}else if(e===1){return[[0]]}var n=t[0].length;if(n===0){return[]}else if(n===1){return i(t)}else if(n===2){return r(t)}return o(t,n)}},function(t,e,n){"use strict";t.exports=i;function i(t){var e=0;var n=0;for(var i=1;i<t.length;++i){if(t[i][0]<t[e][0]){e=i}if(t[i][0]>t[n][0]){n=i}}if(e<n){return[[e],[n]]}else if(e>n){return[[n],[e]]}else{return[[e]]}}},function(t,e,n){"use strict";t.exports=r;var i=n(58);function r(t){var e=i(t);var n=e.length;if(n<=2){return[]}var r=new Array(n);var o=e[n-1];for(var s=0;s<n;++s){var a=e[s];r[s]=[o,a];o=a}return r}},function(t,e,n){"use strict";t.exports=a;var i=n(55);var r=n(41);function o(t,e){var n=t.length;var i=new Array(n);for(var r=0;r<e.length;++r){i[r]=t[e[r]]}var o=e.length;for(var r=0;r<n;++r){if(e.indexOf(r)<0){i[o++]=t[r]}}return i}function s(t,e){var n=t.length;var i=e.length;for(var r=0;r<n;++r){var o=t[r];for(var s=0;s<o.length;++s){var a=o[s];if(a<i){o[s]=e[a]}else{a=a-i;for(var u=0;u<i;++u){if(a>=e[u]){a+=1}}o[s]=a}}}return t}function a(t,e){try{return i(t,true)}catch(l){var n=r(t);if(n.length<=e){return[]}var a=o(t,n);var u=i(a,true);return s(u,n)}}},function(t,e,n){e=t.exports=n(10)(undefined);e.push([t.i,"/* perfect-scrollbar v0.6.16 */\r\n.ps-container {\r\n  -ms-touch-action: auto;\r\n  touch-action: auto;\r\n  overflow: hidden !important;\r\n  -ms-overflow-style: none; }\r\n  @supports (-ms-overflow-style: none) {\r\n    .ps-container {\r\n      overflow: auto !important; } }\r\n  @media screen and (-ms-high-contrast: active), (-ms-high-contrast: none) {\r\n    .ps-container {\r\n      overflow: auto !important; } }\r\n  .ps-container.ps-active-y > .ps-scrollbar-y-rail {\r\n    display: block;\r\n    background-color: transparent; }\r\n  .ps-container.ps-in-scrolling.ps-y > .ps-scrollbar-y-rail {\r\n    background-color: #eee;\r\n    opacity: 0.9; }\r\n    .ps-container.ps-in-scrolling.ps-y > .ps-scrollbar-y-rail > .ps-scrollbar-y {\r\n      background-color: #999;\r\n      width: 2px; }\r\n  .ps-container > .ps-scrollbar-y-rail {\r\n    display: none;\r\n    position: absolute;\r\n    /* please don't change 'position' */\r\n    opacity: 0;\r\n    -webkit-transition: background-color .2s linear, opacity .2s linear;\r\n    -o-transition: background-color .2s linear, opacity .2s linear;\r\n    -moz-transition: background-color .2s linear, opacity .2s linear;\r\n    transition: background-color .2s linear, opacity .2s linear;\r\n    right: 0;\r\n    /* there must be 'right' for ps-scrollbar-y-rail */\r\n    width: 2x; }\r\n    .ps-container > .ps-scrollbar-y-rail > .ps-scrollbar-y {\r\n      position: absolute;\r\n      /* please don't change 'position' */\r\n      background-color: #aaa;\r\n      -webkit-transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, -webkit-border-radius .2s ease-in-out;\r\n      transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, -webkit-border-radius .2s ease-in-out;\r\n      -o-transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out;\r\n      -moz-transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out, -moz-border-radius .2s ease-in-out;\r\n      transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out;\r\n      transition: background-color .2s linear, height .2s linear, width .2s ease-in-out, border-radius .2s ease-in-out, -webkit-border-radius .2s ease-in-out, -moz-border-radius .2s ease-in-out;\r\n      right: 2px;\r\n      /* there must be 'right' for ps-scrollbar-y */\r\n      width: 2px; }\r\n  .ps-container:hover.ps-in-scrolling.ps-y > .ps-scrollbar-y-rail {\r\n    background-color: #eee;\r\n    opacity: 0.9; }\r\n  .ps-container:hover.ps-in-scrolling.ps-y > .ps-scrollbar-y-rail > .ps-scrollbar-y {\r\n      background-color: #999;\r\n      width: 2px; }\r\n  .ps-container:hover > .ps-scrollbar-y-rail {\r\n    opacity: 0.6; }",""])},function(t,e,n){e=t.exports=n(10)(undefined);e.push([t.i,'/*\n* iziToast | v1.1.0\n* http://izitoast.marcelodolce.com\n* by Marcelo Dolce.\n*/\n.iziToast-capsule {\n  font-size: 0;\n  height: 0;\n  max-height: 1000px;\n  width: 100%;\n  transform: translateZ(0);\n  backface-visibility: hidden;\n  transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1), height 0.5s cubic-bezier(0.25, 0.8, 0.25, 1);\n}\n.iziToast {\n  display: inline-block;\n  clear: both;\n  position: relative;\n  font-family: \'Lato\', arial;\n  font-size: 14px;\n  padding: 8px 50px 9px 0;\n  background: rgba(238,238,238,0.9);\n  border-color: rgba(238,238,238,0.9);\n  pointer-events: all;\n  cursor: default;\n  transform: translateX(0);\n  -webkit-touch-callout: none /* iOS Safari */;\n  -webkit-user-select: none /* Chrome/Safari/Opera */;\n  -khtml-user-select: none /* Konqueror */;\n  -moz-user-select: none /* Firefox */;\n  -ms-user-select: none /* Internet Explorer/Edge */;\n  user-select: none;\n}\n.iziToast > .iziToast-progressbar {\n  position: absolute;\n  left: 0;\n  bottom: 0;\n  width: 100%;\n  z-index: 1;\n  background: rgba(255,255,255,0.2);\n}\n.iziToast > .iziToast-progressbar > div {\n  height: 2px;\n  width: 100%;\n  background: rgba(0,0,0,0.3);\n  border-radius: 0 0 3px 3px;\n}\n.iziToast.iziToast-balloon:before {\n  content: \'\';\n  position: absolute;\n  right: 8px;\n  left: auto;\n  width: 0px;\n  height: 0px;\n  top: 100%;\n  border-right: 0px solid transparent;\n  border-left: 15px solid transparent;\n  border-top: 10px solid #000;\n  border-top-color: inherit;\n  border-radius: 0;\n}\n.iziToast.iziToast-balloon .iziToast-progressbar {\n  top: 0;\n  bottom: auto;\n}\n.iziToast.iziToast-balloon > div {\n  border-radius: 0 0 0 3px;\n}\n.iziToast > .iziToast-cover {\n  position: absolute;\n  left: 0;\n  top: 0;\n  bottom: 0;\n  height: 100%;\n  margin: 0;\n  background-size: 100%;\n  background-position: 50% 50%;\n  background-repeat: no-repeat;\n  background-color: rgba(0,0,0,0.1);\n}\n.iziToast > .iziToast-close {\n  position: absolute;\n  right: 0;\n  top: 0;\n  border: 0;\n  padding: 0;\n  opacity: 0.6;\n  width: 42px;\n  height: 100%;\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAABHNCSVQICAgIfAhkiAAAAAlwSFlzAAAJPAAACTwBcGfW0QAAABl0RVh0U29mdHdhcmUAd3d3Lmlua3NjYXBlLm9yZ5vuPBoAAAD3SURBVFiF1ZdtDoMgDEBfdi4PwAX8vLFn0qT7wxantojKupmQmCi8R4tSACpgjC2ICCUbEBa8ingjsU1AXRBeR8aLN64FiknswN8CYefBBDQ3whuFESy7WyQMeC0ipEI0A+0FeBvHUFN8xPaUhAH/iKoWsnXHGegy4J0yxialOfaHJAz4bhRzQzgDvdGnz4GbAonZbCQMuBm1K/kcFu8Mp1N2cFFpsxsMuJqqbIGExGl4loARajU1twskJLLhIsID7+tvUoDnIjTg5T9DPH9EBrz8rxjPzciAl9+O8SxI8CzJ8CxKFfh3ynK8Dyb8wNHM/XDqejx/AtNyPO87tNybAAAAAElFTkSuQmCC") no-repeat 50% 50%;\n  background-size: 8px;\n  cursor: pointer;\n  outline: none;\n}\n.iziToast > .iziToast-close:hover {\n  opacity: 1;\n}\n.iziToast > .iziToast-body {\n  position: relative;\n  padding: 0 0 0 10px;\n  margin: 0 0 0 16px;\n}\n.iziToast > .iziToast-body::after {\n  content: "";\n  display: table;\n  clear: both;\n}\n.iziToast > .iziToast-body > .iziToast-buttons {\n  min-height: 17px;\n  display: inline-block;\n  margin: 0 -2px;\n}\n.iziToast > .iziToast-body > .iziToast-buttons > button,\n.iziToast > .iziToast-body > .iziToast-buttons > a {\n  display: inline-block;\n  margin: 6px 2px;\n  border-radius: 2px;\n  border: 0;\n  padding: 5px 10px;\n  font-size: 12px;\n  letter-spacing: 0.02em;\n  cursor: pointer;\n  background: rgba(0,0,0,0.1);\n  color: #000;\n}\n.iziToast > .iziToast-body > .iziToast-buttons > button:hover,\n.iziToast > .iziToast-body > .iziToast-buttons > a:hover {\n  background: rgba(0,0,0,0.2);\n}\n.iziToast > .iziToast-body > .iziToast-icon {\n  height: 100%;\n  position: absolute;\n  left: 0;\n  top: 50%;\n  display: table;\n  font-size: 23px;\n  line-height: 24px;\n  margin-top: -12px;\n  color: #000;\n}\n.iziToast > .iziToast-body > .iziToast-icon.ico-info {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAG9AAABvQG676d5AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAL1QTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAguN3MAAAAD50Uk5TAAECAwQJChATFBsiJigpKiswMTY5SExdYmZocHF3gIWLkZSdn6Gpqqyws7y9wMrNz9DU5OXm7O/09/r7/P576NJaAAABQUlEQVRYw+3X507DQBBGUadAeu+k917s9GQz7/9YoASDQzy7swMSCPn+zncU70qWbBiysuPNZpw12JVO8NapxN3HDnDtEGMCTXivyQRmNjBjAqYNmL8CRCpTYQNiWolozhODM9x1HiQ05tGegIdEL0rdF3fg2q5ImvtbF0C6tPzqva8Lkro+JdAGaW3VvgaKavJ98qgCjknZPrAAZYuABCgDobLkBiwKYOE3UQBSBRQY0YAReoR7GrDHjjEHxHIIUKcCdQToUIEOAgypwBAB5lRgjgArKrBSvYVVmR7gAR7w3wGLClju+waQa3xz7ypo7V0Ezf2DoL3/IjD2d0IaWKU/gAwPyPwcEH5hFTb+eHHnv40zgLzzvPIM4Nnx1SKeOM/Q/wT6rEMIre39OsQ7xtTytl+muBcRrE6220k1KPvNK+p25cd3vT+OAAAAAElFTkSuQmCC") no-repeat 50% 50%;\n  background-size: 85%;\n  width: 24px;\n  height: 24px;\n}\n.iziToast > .iziToast-body > .iziToast-icon.ico-warning {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEQAAABECAYAAAA4E5OyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3hpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNi1jMTMyIDc5LjE1OTI4NCwgMjAxNi8wNC8xOS0xMzoxMzo0MCAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDowMWRjNjc0NS0yZDRmLWQyNDctODczZS02Yjk4NjgzNTU0NWIiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6RDNEMzQ3Q0M5NzA2MTFFNkEyNDU4OEU1RkRBRDkzREQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6RDNEMzQ3Q0I5NzA2MTFFNkEyNDU4OEU1RkRBRDkzREQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIDIwMTUuNSAoV2luZG93cykiPiA8eG1wTU06RGVyaXZlZEZyb20gc3RSZWY6aW5zdGFuY2VJRD0ieG1wLmlpZDowMWRjNjc0NS0yZDRmLWQyNDctODczZS02Yjk4NjgzNTU0NWIiIHN0UmVmOmRvY3VtZW50SUQ9InhtcC5kaWQ6MDFkYzY3NDUtMmQ0Zi1kMjQ3LTg3M2UtNmI5ODY4MzU1NDViIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+pK1ECgAABPFJREFUeNrsW0lrFEEUrqqeRB0j0QQiRiJojDsYXIIbLnhQEBdQBC9uFw+JeBAUQfSiqH/C5SfoVVRQXPAgKCoal6BoXNBoMIjo2OX3pkudJD2dmpmq7p6e+aBmmunprldfffXq1etqLqVkUYPz1B76ljJzLnJboiaEcz6aM9GdJYS5M2DPjyjtEZHLg4lOfLR4JXtcuQqBOuqhjpc4bFA/9UEl02BTf0UqRDBxOIcMQoP6rfIUAnU0Qx3PcJgecuo7VNIGu3orSiFQwnEfMghpda5yFAJ1zIA6HuEwlecvGahkLmzrTjwhIEOAjAc4nDvCX8nBtsK+rwkfMs4uDTL+OthDiVZIThDWonkJOdjpsPFdQhXyLwjTBTnYY4lUiE8QpgtysLNh5/NEKcQnCNNFCteeSJRCAoIwXcBKdxFsvZcIhQQEYfqcMn4qEQrRCML0ZcLEWil/XS1rhaBnT5ogw7uXPF3WQwbq6MDnNnN3lIs5T20t2yEjuIC8+Zr/kneLVMagfnuq1jm/y0ohnNesyyXDIGYi/N9TVgrhBCZoimwf7BSNKITwVoX0P8pEIc6OoWT8bVgxxQeTYfp+K6aTQkwWoAaNeIEiNQoWbc5OXDMRZQKOt9DiT/PaPqrLuP3mCRH7NRv0AX9u8iE0jXMPde5BdcWaEKCOGqrZmH3575NaXQCpdSbbYNiHiIPU63r/da8ELHBv4+OXxk2aVJ3xm2UwrzSR76Ae0wvD3TFBs4TgznvlW0bCgEo1fozVLIMF3FFdMgyjTtUdH4VAHVOhjic4rNVfqBlTCOEn7jcL9+uJhUJUAqeWRYdaU0kkYUAd7dDYDhYxyAayJXpCvMQNZ9HDSBJJlGZBDRZvfD2LDfh6z6aoCAkhYRO2TaJ4dVCiRnaw2EF2lJJEEsWRwVPoiZMspiDbyMYQFeLs9RI1scVMZaP9wAzMp9UzlubSpkmjgZkfetXGm++WFSIOlEpGSGhWttpTCNTRoJ7P1pceSFlXCKFfbeLrs6IQhMdHTJChMDHIaeNrvIE66pXN5ocMjGyBlrrMKdpZGXByIcooQyF9F9muf4F2Jkmc1cxi6ZZXqH6cT9bN4cy5Y7Iust1oChGYgxtnDBNC5THuvYp5jzpJrQtAxk0L9WSoDTpt1XKqgouLGDSbLM4I5FzpSdxYixHsJVe6m0ueZTD+loHhmywBwIyzHO29VZJThYTPsIRApy1ihAXcRvC6giUGcoXXpiKGjNpgex+H8yxa+A21n2DMpU0wP9E/yzljxw0EZEF4iKEzH+12C5p2aYOtBW+fW76gklafGa0R53ps1k1tK2japaCI4gS7RonOgM7YYLkzKAYaVcCTu+wG2yl2x7N7Of+539fUNGwLU/K9vTXMh6gNtvQErtHyFNiCut/kT0CJAVPhex58Vk/8+gNnGbXhvtG+x3eWBJxst0xG1lf5vVwwSCHomUnoGdpCnbZPCHupvP3AEHXQWuYGNLQ0BBuGvVwghqjjWEhkEKaB/LsgYFV2iNA0zzmtZa6HRAZh2MsF/xQCY9rUYivFwkcIa5m8oJcLaOH3bJBChJdui4IMwuiIyCCkRE6qMasQKBZBmDzPKhhgYbeUmQtcBWHd9uOO2OM1vWrvUGYarGxnVdRjwHyhDbafwok7ygKfubeuqEI7Y1ZpEFUKqoRUCSkEfwQYALtKyHv0Xn99AAAAAElFTkSuQmCC") no-repeat 50% 50%;\n  background-size: 85%;\n  width: 24px;\n  height: 24px;\n}\n.iziToast > .iziToast-body > .iziToast-icon.ico-error {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAG9AAABvQG676d5AAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAORQTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgEmT/QAAAEt0Uk5TAAEDBQYLEBUYGxwyNTZAQkVGTVRVVldYWVpiY2Rpa3BydX+Bh4qPmZuio6SoqbCys7a6u76/wsPExcrNztLY293e4+bx8vX3+/3+EVs5KAAAAsdJREFUWMOtl2l76UAUgE8oUarUVlpqqa3XUtSulBRF/v//qZs5kwySmPPcO1+SzJk3yZx9AByGL5avNPqLzWbRb1TyMR+Qhvr0/qOfjJ/3J1WWvsmN9rrN2A9zNxK4klnpjmOVUa7xD5+66/h8cMVvP/Sr4+PWmb/7FlfuVuNWtVgo19vzgzj/fefEPwqaXzfTfsEqyZomWOTRXnuv1pJu1Hsu9iQmlvzVRpfKH1M8i9j/YbhnLnm7fIP5fc3FVNk1X1W62D+XDF0dLjjAZYf4mf65/mpeVzsHv/iHtqET+6P9di8gyR+3GhAE3H8IvK53BP/l/0/hdf3etCD6/1By/1+oySk3VwY3pUrywSBaM4Xxj/GbkeWP/sBulyw/5ND/FGkeAH0yZ8hG7CFC4CHMnkZGpLH81aXwACyy9n/V9sxEURIPCTbxfLztsPj3knjwaNyZfCwKmjQeoMZyiw9iTJgm8pBkkzHIsyjyE3lQWZ7MQ4UlfCoPMDemK9AwrmMyD21jvgF949oi81A3BH1YGNcqmYeyIVnAxrgWyTwUDNEGX1Ag81DEF7AtlMk8VHELTIl1Mg8tVCIzY5vMwxjNyBxpTuZhhY7EXPmgUnn/Dl0ZgylJ5CHNgwnDuUbkocnDGROK5qHx3rVZnTClJUg8RK2Uhkl1QuKhayVVntbDFD4ipHVeWHoEXpmJhYWXtqw0z6spljb+uA7K8qp2UlzN8j6Q5L3Ds/JuNhhyPJYEocGwWhwp/uWyxTGbLCl+Z9NkWW3e1f3XbNs8odEcuL5AHTo0mkKru866nGY0x1YXlDdTC72wg//O3JptUErWsWKS8FxsPto1xYeSfT8V3wqNbC0pZDl/urm2ZNu40x5DmugPh3m7Xi4Uq63xaifOayFnJQc61w9dnYCrne+n7vj0/urBM7V0xpepqwfPfz/6/ofDN+34/wtfWqtteombTwAAAABJRU5ErkJggg==") no-repeat 50% 50%;\n  background-size: 80%;\n  width: 24px;\n  height: 24px;\n}\n.iziToast > .iziToast-body > .iziToast-icon.ico-check {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAMAAACdt4HsAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAItAAACLQHlZp/kAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAD9QTFRF////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAxQXeHgAAABR0Uk5TAAMGCCAhIiNVV1lboaTb4OHi4/zOYgETAAAAuklEQVRYhe2VyxbCIAxEg+K7FZX8/7e6EFqPp6VhZuEms793EZJBxOP5d3YkH+9njk+aLxyvmq8crzqQ/Bicd975OXuSv6UTx2d9GQwtXg2G9fkNqgZDY/5hNBia71cMzyPIGwyb+7NhMOxf02Da34bBuP/F8DiA/Kqh4/4WDV33u2DovP9qiCA/GVIE+R8D1F9fBrD/JgPcn9WA928xEP09G9D+rwb4/ygGnP8YGF4kjBwvEkje4+nMG2DWH9EwoSnuAAAAAElFTkSuQmCC") no-repeat 50% 50%;\n  background-size: 85%;\n  width: 24px;\n  height: 24px;\n}\n.iziToast > .iziToast-body > strong {\n  padding: 0 10px 0 0;\n  margin: 10px 0 -10px 0;\n  line-height: 16px;\n  font-size: 14px;\n  float: left;\n  color: #000;\n}\n.iziToast > .iziToast-body > p {\n  color: rgba(0,0,0,0.6);\n  padding: 0;\n  margin: 10px 0;\n  font-size: 14px;\n  line-height: 16px;\n  text-align: left;\n  float: left;\n}\n.iziToast.iziToast-animateInside p,\n.iziToast.iziToast-animateInside strong,\n.iziToast.iziToast-animateInside .iziToast-icon,\n.iziToast.iziToast-animateInside .iziToast-buttons * {\n  opacity: 0;\n}\n.iziToast-target {\n  position: relative;\n  width: 100%;\n  margin: 0 auto;\n}\n.iziToast-target .iziToast-capsule {\n  overflow: hidden;\n}\n.iziToast-target .iziToast-capsule:after {\n  visibility: hidden;\n  display: block;\n  font-size: 0;\n  content: " ";\n  clear: both;\n  height: 0;\n}\n.iziToast-target .iziToast-capsule .iziToast {\n  width: 100%;\n  float: left;\n}\n.iziToast-wrapper {\n  position: fixed;\n  width: 100%;\n  pointer-events: none;\n  display: flex;\n  flex-direction: column;\n}\n.iziToast-wrapper .iziToast.iziToast-balloon:before {\n  border-right: 0 solid transparent;\n  border-left: 15px solid transparent;\n  border-top: 10px solid #000;\n  border-top-color: inherit;\n  right: 8px;\n  left: auto;\n}\n.iziToast-wrapper-bottomLeft {\n  left: 0;\n  bottom: 0;\n}\n.iziToast-wrapper-bottomLeft .iziToast.iziToast-balloon:before {\n  border-right: 15px solid transparent;\n  border-left: 0 solid transparent;\n  right: auto;\n  left: 8px;\n}\n.iziToast-wrapper-bottomRight {\n  right: 0;\n  bottom: 0;\n  text-align: right;\n}\n.iziToast-wrapper-topLeft {\n  left: 0;\n  top: 0;\n}\n.iziToast-wrapper-topLeft .iziToast.iziToast-balloon:before {\n  border-right: 15px solid transparent;\n  border-left: 0 solid transparent;\n  right: auto;\n  left: 8px;\n}\n.iziToast-wrapper-topRight {\n  top: 0;\n  right: 0;\n  text-align: right;\n}\n.iziToast-wrapper-topCenter {\n  top: 0;\n  left: 0;\n  right: 0;\n  text-align: center;\n}\n.iziToast-wrapper-bottomCenter {\n  bottom: 0;\n  left: 0;\n  right: 0;\n  text-align: center;\n}\n.iziToast-wrapper-center {\n  top: 0;\n  bottom: 0;\n  left: 0;\n  right: 0;\n  text-align: center;\n  justify-content: center;\n  flex-flow: column;\n  align-items: center;\n}\n.iziToast-rtl {\n  direction: rtl;\n  padding: 8px 0 9px 50px;\n}\n.iziToast-rtl .iziToast-cover {\n  left: auto;\n  right: 0;\n}\n.iziToast-rtl .iziToast-close {\n  right: auto;\n  left: 0;\n}\n.iziToast-rtl .iziToast-body {\n  padding: 0 10px 0 0;\n  margin: 0 16px 0 0;\n}\n.iziToast-rtl .iziToast-body strong {\n  padding: 0 0 0 10px;\n}\n.iziToast-rtl .iziToast-body strong,\n.iziToast-rtl .iziToast-body p {\n  float: right;\n}\n.iziToast-rtl .iziToast-body .iziToast-icon {\n  left: auto;\n  right: 0;\n}\n@media only screen and (min-width: 568px) {\n  .iziToast-wrapper {\n    padding: 10px 15px;\n  }\n  .iziToast-cover {\n    border-radius: 3px 0 0 3px;\n  }\n  .iziToast {\n    margin: 5px 0;\n    border-radius: 3px;\n    width: auto;\n  }\n  .iziToast::after {\n    content: \'\';\n    z-index: -1;\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 100%;\n    height: 100%;\n    border-radius: 3px;\n    box-shadow: inset 0 -10px 20px -10px rgba(0,0,0,0.2), inset 0 0 5px rgba(0,0,0,0.1), 0 8px 8px -5px rgba(0,0,0,0.25);\n  }\n  .iziToast.iziToast-color-dark::after {\n    box-shadow: inset 0 -10px 20px -10px rgba(255,255,255,0.3), 0 10px 10px -5px rgba(0,0,0,0.25);\n  }\n  .iziToast.iziToast-balloon .iziToast-progressbar {\n    background: transparent;\n  }\n  .iziToast.iziToast-balloon::after {\n    box-shadow: 0 10px 10px -5px rgba(0,0,0,0.25), inset 0 10px 20px -5px rgba(0,0,0,0.25);\n  }\n  .iziToast-target .iziToast::after {\n    box-shadow: inset 0 -10px 20px -10px rgba(0,0,0,0.2), inset 0 0 5px rgba(0,0,0,0.1);\n  }\n}\n.iziToast.iziToast-color-dark {\n  background: #565c70;\n  border-color: #565c70;\n}\n.iziToast.iziToast-color-dark strong {\n  color: #fff;\n}\n.iziToast.iziToast-color-dark p {\n  color: rgba(255,255,255,0.7);\n  font-weight: 300;\n}\n.iziToast.iziToast-color-dark .iziToast-close {\n  background: url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAAAmJLR0QAAKqNIzIAAAAJcEhZcwAADdcAAA3XAUIom3gAAAAHdElNRQfgCR4OIQIPSao6AAAAwElEQVRIx72VUQ6EIAwFmz2XB+AConhjzqTJ7JeGKhLYlyx/BGdoBVpjIpMJNjgIZDKTkQHYmYfwmR2AfAqGFBcO2QjXZCd24bEggvd1KBx+xlwoDpYmvnBUUy68DYXD77ESr8WDtYqvxRex7a8oHP4Wo1Mkt5I68Mc+qYqv1h5OsZmZsQ3gj/02h6cO/KEYx29hu3R+VTTwz6D3TymIP1E8RvEiiVdZfEzicxYLiljSxKIqlnW5seitTW6uYnv/Aqh4whX3mEUrAAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDE2LTA5LTMwVDE0OjMzOjAyKzAyOjAwl6RMVgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAxNi0wOS0zMFQxNDozMzowMiswMjowMOb59OoAAAAZdEVYdFNvZnR3YXJlAHd3dy5pbmtzY2FwZS5vcmeb7jwaAAAAAElFTkSuQmCC") no-repeat 50% 50%;\n  background-size: 8px;\n}\n.iziToast.iziToast-color-dark .iziToast-icon {\n  color: #fff;\n}\n.iziToast.iziToast-color-dark strong {\n  font-weight: 500;\n}\n.iziToast.iziToast-color-dark .iziToast-buttons button,\n.iziToast.iziToast-color-dark .iziToast-buttons a {\n  color: #fff;\n  background: rgba(255,255,255,0.1);\n}\n.iziToast.iziToast-color-dark .iziToast-buttons button:hover,\n.iziToast.iziToast-color-dark .iziToast-buttons a:hover {\n  background: rgba(255,255,255,0.2);\n}\n.iziToast.iziToast-color-red {\n  background: rgba(243,186,189,0.9);\n  border-color: rgba(243,186,189,0.9);\n}\n.iziToast.iziToast-color-yellow {\n  background: rgba(243,237,172,0.9);\n  border-color: rgba(243,237,172,0.9);\n}\n.iziToast.iziToast-color-blue {\n  background: rgba(181,225,249,0.9);\n  border-color: rgba(181,225,249,0.9);\n}\n.iziToast.iziToast-color-green {\n  background: rgba(180,241,196,0.9);\n  border-color: rgba(180,241,196,0.9);\n}\n.iziToast.iziToast-layout2 .iziToast-body > p {\n  width: 100%;\n}\n.revealIn {\n  -webkit-animation: revealIn 1s cubic-bezier(0.25, 1.6, 0.25, 1) both;\n  -moz-animation: revealIn 1s cubic-bezier(0.25, 1.6, 0.25, 1) both;\n  animation: revealIn 1s cubic-bezier(0.25, 1.6, 0.25, 1) both;\n}\n@-webkit-keyframes revealIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: scale3d(0.3, 0.3, 1);\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-moz-keyframes revealIn {\n  0% {\n    opacity: 0;\n    -moz-transform: scale3d(0.3, 0.3, 1);\n  }\n  100% {\n    opacity: 1;\n  }\n}\n.slideIn {\n  -webkit-animation: slideIn 1s cubic-bezier(0.16, 0.81, 0.32, 1) both;\n  -moz-animation: slideIn 1s cubic-bezier(0.16, 0.81, 0.32, 1) both;\n  animation: slideIn 1s cubic-bezier(0.16, 0.81, 0.32, 1) both;\n}\n@-webkit-keyframes slideIn {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateX(50px);\n  }\n  100% {\n    opacity: 1;\n    -webkit-transform: translateX(0);\n  }\n}\n@-moz-keyframes slideIn {\n  0% {\n    opacity: 0;\n    -moz-transform: translateX(50px);\n  }\n  100% {\n    opacity: 1;\n    -moz-transform: translateX(0);\n  }\n}\n.bounceInLeft {\n  -webkit-animation: bounceInLeft 0.7s ease-in-out both;\n  animation: bounceInLeft 0.7s ease-in-out both;\n}\n@-webkit-keyframes bounceInLeft {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateX(280px);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: translateX(-20px);\n  }\n  70% {\n    -webkit-transform: translateX(10px);\n  }\n  100% {\n    -webkit-transform: translateX(0);\n  }\n}\n.bounceInRight {\n  -webkit-animation: bounceInRight 0.85s ease-in-out both;\n  animation: bounceInRight 0.85s ease-in-out both;\n}\n@-webkit-keyframes bounceInRight {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateX(-280px);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: translateX(20px);\n  }\n  70% {\n    -webkit-transform: translateX(-10px);\n  }\n  100% {\n    -webkit-transform: translateX(0);\n  }\n}\n.bounceInDown {\n  -webkit-animation: bounceInDown 0.7s ease-in-out both;\n  animation: bounceInDown 0.7s ease-in-out both;\n}\n@-webkit-keyframes bounceInDown {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateY(-200px);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: translateY(10px);\n  }\n  70% {\n    -webkit-transform: translateY(-5px);\n  }\n  100% {\n    -webkit-transform: translateY(0);\n  }\n}\n.bounceInUp {\n  -webkit-animation: bounceInUp 0.7s ease-in-out both;\n  animation: bounceInUp 0.7s ease-in-out both;\n}\n@-webkit-keyframes bounceInUp {\n  0% {\n    opacity: 0;\n    -webkit-transform: translateY(200px);\n  }\n  50% {\n    opacity: 1;\n    -webkit-transform: translateY(-10px);\n  }\n  70% {\n    -webkit-transform: translateY(5px);\n  }\n  100% {\n    -webkit-transform: translateY(0);\n  }\n}\n.fadeIn {\n  -webkit-animation: fadeIn 0.5s ease both;\n  animation: fadeIn 0.5s ease both;\n}\n@-webkit-keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n.fadeInUp {\n  -webkit-animation: fadeInUp 0.7s ease both;\n  animation: fadeInUp 0.7s ease both;\n}\n@-webkit-keyframes fadeInUp {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n.fadeInDown {\n  -webkit-animation: fadeInDown 0.7s ease both;\n  animation: fadeInDown 0.7s ease both;\n}\n@-webkit-keyframes fadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n.fadeInLeft {\n  -webkit-animation: fadeInLeft 0.85s cubic-bezier(0.25, 0.8, 0.25, 1) both;\n  animation: fadeInLeft 0.85s cubic-bezier(0.25, 0.8, 0.25, 1) both;\n}\n@-webkit-keyframes fadeInLeft {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(300px, 0, 0);\n    transform: translate3d(300px, 0, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n.fadeInRight {\n  -webkit-animation: fadeInRight 0.85s cubic-bezier(0.25, 0.8, 0.25, 1) both;\n  animation: fadeInRight 0.85s cubic-bezier(0.25, 0.8, 0.25, 1) both;\n}\n@-webkit-keyframes fadeInRight {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(-300px, 0, 0);\n    transform: translate3d(-300px, 0, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n.flipInX {\n  -webkit-animation: flipInX 0.85s cubic-bezier(0.35, 0, 0.25, 1) both;\n  animation: flipInX 0.85s cubic-bezier(0.35, 0, 0.25, 1) both;\n}\n@-webkit-keyframes flipInX {\n  from {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n  40% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n  }\n  60% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n  }\n  to {\n    -webkit-transform: perspective(400px);\n    transform: perspective(400px);\n  }\n}\n.fadeOut {\n  -webkit-animation: fadeOut 0.7s ease both;\n  animation: fadeOut 0.7s ease both;\n}\n@-webkit-keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n.fadeOutDown {\n  -webkit-animation: fadeOutDown 0.7s cubic-bezier(0.4, 0.45, 0.15, 0.91) both;\n  animation: fadeOutDown 0.7s cubic-bezier(0.4, 0.45, 0.15, 0.91) both;\n}\n@-webkit-keyframes fadeOutDown {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n}\n.fadeOutUp {\n  -webkit-animation: fadeOutUp 0.7s cubic-bezier(0.4, 0.45, 0.15, 0.91) both;\n  animation: fadeOutUp 0.7s cubic-bezier(0.4, 0.45, 0.15, 0.91) both;\n}\n@-webkit-keyframes fadeOutUp {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n  }\n}\n.fadeOutLeft {\n  -webkit-animation: fadeOutLeft 0.5s ease both;\n  animation: fadeOutLeft 0.5s ease both;\n}\n@-webkit-keyframes fadeOutLeft {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(-200px, 0, 0);\n    transform: translate3d(-200px, 0, 0);\n  }\n}\n.fadeOutRight {\n  -webkit-animation: fadeOutRight 0.5s ease both;\n  animation: fadeOutRight 0.5s ease both;\n}\n@-webkit-keyframes fadeOutRight {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(200px, 0, 0);\n    transform: translate3d(200px, 0, 0);\n  }\n}\n.flipOutX {\n  -webkit-backface-visibility: visible !important;\n  backface-visibility: visible !important;\n  -webkit-animation: flipOutX 0.7s cubic-bezier(0.4, 0.45, 0.15, 0.91) both;\n  animation: flipOutX 0.7s cubic-bezier(0.4, 0.45, 0.15, 0.91) both;\n}\n@-webkit-keyframes flipOutX {\n  from {\n    -webkit-transform: perspective(400px);\n    transform: perspective(400px);\n  }\n  30% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    opacity: 1;\n  }\n  to {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n}\n@-moz-keyframes revealIn {\n  0% {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 1);\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes revealIn {\n  0% {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 1);\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-o-keyframes revealIn {\n  0% {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 1);\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@keyframes revealIn {\n  0% {\n    opacity: 0;\n    transform: scale3d(0.3, 0.3, 1);\n  }\n  100% {\n    opacity: 1;\n  }\n}\n@-moz-keyframes slideIn {\n  0% {\n    opacity: 0;\n    transform: translateX(50px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes slideIn {\n  0% {\n    opacity: 0;\n    transform: translateX(50px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-o-keyframes slideIn {\n  0% {\n    opacity: 0;\n    transform: translateX(50px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@keyframes slideIn {\n  0% {\n    opacity: 0;\n    transform: translateX(50px);\n  }\n  100% {\n    opacity: 1;\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(280px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateX(-20px);\n  }\n  70% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(280px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateX(-20px);\n  }\n  70% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-o-keyframes bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(280px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateX(-20px);\n  }\n  70% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes bounceInLeft {\n  0% {\n    opacity: 0;\n    transform: translateX(280px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateX(-20px);\n  }\n  70% {\n    transform: translateX(10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-280px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateX(20px);\n  }\n  70% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-webkit-keyframes bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-280px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateX(20px);\n  }\n  70% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-o-keyframes bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-280px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateX(20px);\n  }\n  70% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@keyframes bounceInRight {\n  0% {\n    opacity: 0;\n    transform: translateX(-280px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateX(20px);\n  }\n  70% {\n    transform: translateX(-10px);\n  }\n  100% {\n    transform: translateX(0);\n  }\n}\n@-moz-keyframes bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-200px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  70% {\n    transform: translateY(-5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-200px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  70% {\n    transform: translateY(-5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-o-keyframes bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-200px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  70% {\n    transform: translateY(-5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes bounceInDown {\n  0% {\n    opacity: 0;\n    transform: translateY(-200px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateY(10px);\n  }\n  70% {\n    transform: translateY(-5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes bounceInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(200px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateY(-10px);\n  }\n  70% {\n    transform: translateY(5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-webkit-keyframes bounceInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(200px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateY(-10px);\n  }\n  70% {\n    transform: translateY(5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-o-keyframes bounceInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(200px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateY(-10px);\n  }\n  70% {\n    transform: translateY(5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@keyframes bounceInUp {\n  0% {\n    opacity: 0;\n    transform: translateY(200px);\n  }\n  50% {\n    opacity: 1;\n    transform: translateY(-10px);\n  }\n  70% {\n    transform: translateY(5px);\n  }\n  100% {\n    transform: translateY(0);\n  }\n}\n@-moz-keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-webkit-keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-o-keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@keyframes fadeIn {\n  from {\n    opacity: 0;\n  }\n  to {\n    opacity: 1;\n  }\n}\n@-moz-keyframes fadeInUp {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-webkit-keyframes fadeInUp {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-o-keyframes fadeInUp {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@keyframes fadeInUp {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-moz-keyframes fadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-webkit-keyframes fadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-o-keyframes fadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@keyframes fadeInDown {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-moz-keyframes fadeInLeft {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(300px, 0, 0);\n    transform: translate3d(300px, 0, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-webkit-keyframes fadeInLeft {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(300px, 0, 0);\n    transform: translate3d(300px, 0, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-o-keyframes fadeInLeft {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(300px, 0, 0);\n    transform: translate3d(300px, 0, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@keyframes fadeInLeft {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(300px, 0, 0);\n    transform: translate3d(300px, 0, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-moz-keyframes fadeInRight {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(-300px, 0, 0);\n    transform: translate3d(-300px, 0, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-webkit-keyframes fadeInRight {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(-300px, 0, 0);\n    transform: translate3d(-300px, 0, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-o-keyframes fadeInRight {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(-300px, 0, 0);\n    transform: translate3d(-300px, 0, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@keyframes fadeInRight {\n  from {\n    opacity: 0;\n    -webkit-transform: translate3d(-300px, 0, 0);\n    transform: translate3d(-300px, 0, 0);\n  }\n  to {\n    opacity: 1;\n    -webkit-transform: none;\n    transform: none;\n  }\n}\n@-moz-keyframes flipInX {\n  from {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n  40% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n  }\n  60% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n  }\n  to {\n    -webkit-transform: perspective(400px);\n    transform: perspective(400px);\n  }\n}\n@-webkit-keyframes flipInX {\n  from {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n  40% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n  }\n  60% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n  }\n  to {\n    -webkit-transform: perspective(400px);\n    transform: perspective(400px);\n  }\n}\n@-o-keyframes flipInX {\n  from {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n  40% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n  }\n  60% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n  }\n  to {\n    -webkit-transform: perspective(400px);\n    transform: perspective(400px);\n  }\n}\n@keyframes flipInX {\n  from {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n  40% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n  }\n  60% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 10deg);\n    opacity: 1;\n  }\n  80% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -5deg);\n  }\n  to {\n    -webkit-transform: perspective(400px);\n    transform: perspective(400px);\n  }\n}\n@-moz-keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@-webkit-keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@-o-keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@keyframes fadeOut {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n  }\n}\n@-moz-keyframes fadeOutDown {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n}\n@-webkit-keyframes fadeOutDown {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n}\n@-o-keyframes fadeOutDown {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n}\n@keyframes fadeOutDown {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(0, 100%, 0);\n    transform: translate3d(0, 100%, 0);\n  }\n}\n@-moz-keyframes fadeOutUp {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n  }\n}\n@-webkit-keyframes fadeOutUp {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n  }\n}\n@-o-keyframes fadeOutUp {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n  }\n}\n@keyframes fadeOutUp {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(0, -100%, 0);\n    transform: translate3d(0, -100%, 0);\n  }\n}\n@-moz-keyframes fadeOutLeft {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(-200px, 0, 0);\n    transform: translate3d(-200px, 0, 0);\n  }\n}\n@-webkit-keyframes fadeOutLeft {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(-200px, 0, 0);\n    transform: translate3d(-200px, 0, 0);\n  }\n}\n@-o-keyframes fadeOutLeft {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(-200px, 0, 0);\n    transform: translate3d(-200px, 0, 0);\n  }\n}\n@keyframes fadeOutLeft {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(-200px, 0, 0);\n    transform: translate3d(-200px, 0, 0);\n  }\n}\n@-moz-keyframes fadeOutRight {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(200px, 0, 0);\n    transform: translate3d(200px, 0, 0);\n  }\n}\n@-webkit-keyframes fadeOutRight {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(200px, 0, 0);\n    transform: translate3d(200px, 0, 0);\n  }\n}\n@-o-keyframes fadeOutRight {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(200px, 0, 0);\n    transform: translate3d(200px, 0, 0);\n  }\n}\n@keyframes fadeOutRight {\n  from {\n    opacity: 1;\n  }\n  to {\n    opacity: 0;\n    -webkit-transform: translate3d(200px, 0, 0);\n    transform: translate3d(200px, 0, 0);\n  }\n}\n@-moz-keyframes flipOutX {\n  from {\n    -webkit-transform: perspective(400px);\n    transform: perspective(400px);\n  }\n  30% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    opacity: 1;\n  }\n  to {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n}\n@-webkit-keyframes flipOutX {\n  from {\n    -webkit-transform: perspective(400px);\n    transform: perspective(400px);\n  }\n  30% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    opacity: 1;\n  }\n  to {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n}\n@-o-keyframes flipOutX {\n  from {\n    -webkit-transform: perspective(400px);\n    transform: perspective(400px);\n  }\n  30% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    opacity: 1;\n  }\n  to {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n}\n@keyframes flipOutX {\n  from {\n    -webkit-transform: perspective(400px);\n    transform: perspective(400px);\n  }\n  30% {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, -20deg);\n    opacity: 1;\n  }\n  to {\n    -webkit-transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    transform: perspective(400px) rotate3d(1, 0, 0, 90deg);\n    opacity: 0;\n  }\n}\n',""])},function(t,e,n){e=t.exports=n(10)(undefined);e.push([t.i,"/* required styles */\r\n\r\n.leaflet-pane,\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-tile-container,\r\n.leaflet-pane > svg,\r\n.leaflet-pane > canvas,\r\n.leaflet-zoom-box,\r\n.leaflet-image-layer,\r\n.leaflet-layer {\r\n\tposition: absolute;\r\n\tleft: 0;\r\n\ttop: 0;\r\n\t}\r\n.leaflet-container {\r\n\toverflow: hidden;\r\n\t}\r\n.leaflet-tile,\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\t-webkit-user-select: none;\r\n\t   -moz-user-select: none;\r\n\t        user-select: none;\r\n\t  -webkit-user-drag: none;\r\n\t}\r\n/* Safari renders non-retina tile on retina better with this, but Chrome is worse */\r\n.leaflet-safari .leaflet-tile {\r\n\timage-rendering: -webkit-optimize-contrast;\r\n\t}\r\n/* hack that prevents hw layers \"stretching\" when loading new tiles */\r\n.leaflet-safari .leaflet-tile-container {\r\n\twidth: 1600px;\r\n\theight: 1600px;\r\n\t-webkit-transform-origin: 0 0;\r\n\t}\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow {\r\n\tdisplay: block;\r\n\t}\r\n/* .leaflet-container svg: reset svg max-width decleration shipped in Joomla! (joomla.org) 3.x */\r\n/* .leaflet-container img: map is broken in FF if you have max-width: 100% on tiles */\r\n.leaflet-container .leaflet-overlay-pane svg,\r\n.leaflet-container .leaflet-marker-pane img,\r\n.leaflet-container .leaflet-shadow-pane img,\r\n.leaflet-container .leaflet-tile-pane img,\r\n.leaflet-container img.leaflet-image-layer {\r\n\tmax-width: none !important;\r\n\t}\r\n\r\n.leaflet-container.leaflet-touch-zoom {\r\n\t-ms-touch-action: pan-x pan-y;\r\n\ttouch-action: pan-x pan-y;\r\n\t}\r\n.leaflet-container.leaflet-touch-drag {\r\n\t-ms-touch-action: pinch-zoom;\r\n\t}\r\n.leaflet-container.leaflet-touch-drag.leaflet-touch-zoom {\r\n\t-ms-touch-action: none;\r\n\ttouch-action: none;\r\n}\r\n.leaflet-tile {\r\n\tfilter: inherit;\r\n\tvisibility: hidden;\r\n\t}\r\n.leaflet-tile-loaded {\r\n\tvisibility: inherit;\r\n\t}\r\n.leaflet-zoom-box {\r\n\twidth: 0;\r\n\theight: 0;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\tz-index: 800;\r\n\t}\r\n/* workaround for https://bugzilla.mozilla.org/show_bug.cgi?id=888319 */\r\n.leaflet-overlay-pane svg {\r\n\t-moz-user-select: none;\r\n\t}\r\n\r\n.leaflet-pane         { z-index: 400; }\r\n\r\n.leaflet-tile-pane    { z-index: 200; }\r\n.leaflet-overlay-pane { z-index: 400; }\r\n.leaflet-shadow-pane  { z-index: 500; }\r\n.leaflet-marker-pane  { z-index: 600; }\r\n.leaflet-tooltip-pane   { z-index: 650; }\r\n.leaflet-popup-pane   { z-index: 700; }\r\n\r\n.leaflet-map-pane canvas { z-index: 100; }\r\n.leaflet-map-pane svg    { z-index: 200; }\r\n\r\n.leaflet-vml-shape {\r\n\twidth: 1px;\r\n\theight: 1px;\r\n\t}\r\n.lvml {\r\n\tbehavior: url(#default#VML);\r\n\tdisplay: inline-block;\r\n\tposition: absolute;\r\n\t}\r\n\r\n\r\n/* control positioning */\r\n\r\n.leaflet-control {\r\n\tposition: relative;\r\n\tz-index: 800;\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-top,\r\n.leaflet-bottom {\r\n\tposition: absolute;\r\n\tz-index: 1000;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-top {\r\n\ttop: 0;\r\n\t}\r\n.leaflet-right {\r\n\tright: 0;\r\n\t}\r\n.leaflet-bottom {\r\n\tbottom: 0;\r\n\t}\r\n.leaflet-left {\r\n\tleft: 0;\r\n\t}\r\n.leaflet-control {\r\n\tfloat: left;\r\n\tclear: both;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tfloat: right;\r\n\t}\r\n.leaflet-top .leaflet-control {\r\n\tmargin-top: 10px;\r\n\t}\r\n.leaflet-bottom .leaflet-control {\r\n\tmargin-bottom: 10px;\r\n\t}\r\n.leaflet-left .leaflet-control {\r\n\tmargin-left: 10px;\r\n\t}\r\n.leaflet-right .leaflet-control {\r\n\tmargin-right: 10px;\r\n\t}\r\n\r\n\r\n/* zoom and fade animations */\r\n\r\n.leaflet-fade-anim .leaflet-tile {\r\n\twill-change: opacity;\r\n\t}\r\n.leaflet-fade-anim .leaflet-popup {\r\n\topacity: 0;\r\n\t-webkit-transition: opacity 0.2s linear;\r\n\t   -moz-transition: opacity 0.2s linear;\r\n\t     -o-transition: opacity 0.2s linear;\r\n\t        transition: opacity 0.2s linear;\r\n\t}\r\n.leaflet-fade-anim .leaflet-map-pane .leaflet-popup {\r\n\topacity: 1;\r\n\t}\r\n.leaflet-zoom-animated {\r\n\t-webkit-transform-origin: 0 0;\r\n\t    -ms-transform-origin: 0 0;\r\n\t        transform-origin: 0 0;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\twill-change: transform;\r\n\t}\r\n.leaflet-zoom-anim .leaflet-zoom-animated {\r\n\t-webkit-transition: -webkit-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t   -moz-transition:    -moz-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t     -o-transition:      -o-transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t        transition:         transform 0.25s cubic-bezier(0,0,0.25,1);\r\n\t}\r\n.leaflet-zoom-anim .leaflet-tile,\r\n.leaflet-pan-anim .leaflet-tile {\r\n\t-webkit-transition: none;\r\n\t   -moz-transition: none;\r\n\t     -o-transition: none;\r\n\t        transition: none;\r\n\t}\r\n\r\n.leaflet-zoom-anim .leaflet-zoom-hide {\r\n\tvisibility: hidden;\r\n\t}\r\n\r\n\r\n/* cursors */\r\n\r\n.leaflet-interactive {\r\n\tcursor: pointer;\r\n\t}\r\n.leaflet-grab {\r\n\tcursor: -webkit-grab;\r\n\tcursor:    -moz-grab;\r\n\t}\r\n.leaflet-crosshair,\r\n.leaflet-crosshair .leaflet-interactive {\r\n\tcursor: crosshair;\r\n\t}\r\n.leaflet-popup-pane,\r\n.leaflet-control {\r\n\tcursor: auto;\r\n\t}\r\n.leaflet-dragging .leaflet-grab,\r\n.leaflet-dragging .leaflet-grab .leaflet-interactive,\r\n.leaflet-dragging .leaflet-marker-draggable {\r\n\tcursor: move;\r\n\tcursor: -webkit-grabbing;\r\n\tcursor:    -moz-grabbing;\r\n\t}\r\n\r\n/* marker & overlays interactivity */\r\n.leaflet-marker-icon,\r\n.leaflet-marker-shadow,\r\n.leaflet-image-layer,\r\n.leaflet-pane > svg path,\r\n.leaflet-tile-container {\r\n\tpointer-events: none;\r\n\t}\r\n\r\n.leaflet-marker-icon.leaflet-interactive,\r\n.leaflet-image-layer.leaflet-interactive,\r\n.leaflet-pane > svg path.leaflet-interactive {\r\n\tpointer-events: visiblePainted; /* IE 9-10 doesn't have auto */\r\n\tpointer-events: auto;\r\n\t}\r\n\r\n/* visual tweaks */\r\n\r\n.leaflet-container {\r\n\tbackground: #ddd;\r\n\toutline: 0;\r\n\t}\r\n.leaflet-container a {\r\n\tcolor: #0078A8;\r\n\t}\r\n.leaflet-container a.leaflet-active {\r\n\toutline: 2px solid orange;\r\n\t}\r\n.leaflet-zoom-box {\r\n\tborder: 2px dotted #38f;\r\n\tbackground: rgba(255,255,255,0.5);\r\n\t}\r\n\r\n\r\n/* general typography */\r\n.leaflet-container {\r\n\tfont: 12px/1.5 \"Helvetica Neue\", Arial, Helvetica, sans-serif;\r\n\t}\r\n\r\n\r\n/* general toolbar styles */\r\n\r\n.leaflet-bar {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.65);\r\n\tborder-radius: 4px;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #fff;\r\n\tborder-bottom: 1px solid #ccc;\r\n\twidth: 26px;\r\n\theight: 26px;\r\n\tline-height: 26px;\r\n\tdisplay: block;\r\n\ttext-align: center;\r\n\ttext-decoration: none;\r\n\tcolor: black;\r\n\t}\r\n.leaflet-bar a,\r\n.leaflet-control-layers-toggle {\r\n\tbackground-position: 50% 50%;\r\n\tbackground-repeat: no-repeat;\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-bar a:hover {\r\n\tbackground-color: #f4f4f4;\r\n\t}\r\n.leaflet-bar a:first-child {\r\n\tborder-top-left-radius: 4px;\r\n\tborder-top-right-radius: 4px;\r\n\t}\r\n.leaflet-bar a:last-child {\r\n\tborder-bottom-left-radius: 4px;\r\n\tborder-bottom-right-radius: 4px;\r\n\tborder-bottom: none;\r\n\t}\r\n.leaflet-bar a.leaflet-disabled {\r\n\tcursor: default;\r\n\tbackground-color: #f4f4f4;\r\n\tcolor: #bbb;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-bar a {\r\n\twidth: 30px;\r\n\theight: 30px;\r\n\tline-height: 30px;\r\n\t}\r\n\r\n\r\n/* zoom control */\r\n\r\n.leaflet-control-zoom-in,\r\n.leaflet-control-zoom-out {\r\n\tfont: bold 18px 'Lucida Console', Monaco, monospace;\r\n\ttext-indent: 1px;\r\n\t}\r\n.leaflet-control-zoom-out {\r\n\tfont-size: 20px;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-zoom-in {\r\n\tfont-size: 22px;\r\n\t}\r\n.leaflet-touch .leaflet-control-zoom-out {\r\n\tfont-size: 24px;\r\n\t}\r\n\r\n\r\n/* layers control */\r\n\r\n.leaflet-control-layers {\r\n\tbox-shadow: 0 1px 5px rgba(0,0,0,0.4);\r\n\tbackground: #fff;\r\n\tborder-radius: 5px;\r\n\t}\r\n.leaflet-control-layers-toggle {\r\n\tbackground-image: url("+n(123)+");\r\n\twidth: 36px;\r\n\theight: 36px;\r\n\t}\r\n.leaflet-retina .leaflet-control-layers-toggle {\r\n\tbackground-image: url("+n(122)+");\r\n\tbackground-size: 26px 26px;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers-toggle {\r\n\twidth: 44px;\r\n\theight: 44px;\r\n\t}\r\n.leaflet-control-layers .leaflet-control-layers-list,\r\n.leaflet-control-layers-expanded .leaflet-control-layers-toggle {\r\n\tdisplay: none;\r\n\t}\r\n.leaflet-control-layers-expanded .leaflet-control-layers-list {\r\n\tdisplay: block;\r\n\tposition: relative;\r\n\t}\r\n.leaflet-control-layers-expanded {\r\n\tpadding: 6px 10px 6px 6px;\r\n\tcolor: #333;\r\n\tbackground: #fff;\r\n\t}\r\n.leaflet-control-layers-scrollbar {\r\n\toverflow-y: scroll;\r\n\tpadding-right: 5px;\r\n\t}\r\n.leaflet-control-layers-selector {\r\n\tmargin-top: 2px;\r\n\tposition: relative;\r\n\ttop: 1px;\r\n\t}\r\n.leaflet-control-layers label {\r\n\tdisplay: block;\r\n\t}\r\n.leaflet-control-layers-separator {\r\n\theight: 0;\r\n\tborder-top: 1px solid #ddd;\r\n\tmargin: 5px -10px 5px -6px;\r\n\t}\r\n\r\n/* Default icon URLs */\r\n.leaflet-default-icon-path {\r\n\tbackground-image: url("+n(124)+');\r\n\t}\r\n\r\n\r\n/* attribution and scale controls */\r\n\r\n.leaflet-container .leaflet-control-attribution {\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.7);\r\n\tmargin: 0;\r\n\t}\r\n.leaflet-control-attribution,\r\n.leaflet-control-scale-line {\r\n\tpadding: 0 5px;\r\n\tcolor: #333;\r\n\t}\r\n.leaflet-control-attribution a {\r\n\ttext-decoration: none;\r\n\t}\r\n.leaflet-control-attribution a:hover {\r\n\ttext-decoration: underline;\r\n\t}\r\n.leaflet-container .leaflet-control-attribution,\r\n.leaflet-container .leaflet-control-scale {\r\n\tfont-size: 11px;\r\n\t}\r\n.leaflet-left .leaflet-control-scale {\r\n\tmargin-left: 5px;\r\n\t}\r\n.leaflet-bottom .leaflet-control-scale {\r\n\tmargin-bottom: 5px;\r\n\t}\r\n.leaflet-control-scale-line {\r\n\tborder: 2px solid #777;\r\n\tborder-top: none;\r\n\tline-height: 1.1;\r\n\tpadding: 2px 5px 1px;\r\n\tfont-size: 11px;\r\n\twhite-space: nowrap;\r\n\toverflow: hidden;\r\n\t-moz-box-sizing: border-box;\r\n\t     box-sizing: border-box;\r\n\r\n\tbackground: #fff;\r\n\tbackground: rgba(255, 255, 255, 0.5);\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child) {\r\n\tborder-top: 2px solid #777;\r\n\tborder-bottom: none;\r\n\tmargin-top: -2px;\r\n\t}\r\n.leaflet-control-scale-line:not(:first-child):not(:last-child) {\r\n\tborder-bottom: 2px solid #777;\r\n\t}\r\n\r\n.leaflet-touch .leaflet-control-attribution,\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tbox-shadow: none;\r\n\t}\r\n.leaflet-touch .leaflet-control-layers,\r\n.leaflet-touch .leaflet-bar {\r\n\tborder: 2px solid rgba(0,0,0,0.2);\r\n\tbackground-clip: padding-box;\r\n\t}\r\n\r\n\r\n/* popup */\r\n\r\n.leaflet-popup {\r\n\tposition: absolute;\r\n\ttext-align: center;\r\n\tmargin-bottom: 20px;\r\n\t}\r\n.leaflet-popup-content-wrapper {\r\n\tpadding: 1px;\r\n\ttext-align: left;\r\n\tborder-radius: 12px;\r\n\t}\r\n.leaflet-popup-content {\r\n\tmargin: 13px 19px;\r\n\tline-height: 1.4;\r\n\t}\r\n.leaflet-popup-content p {\r\n\tmargin: 18px 0;\r\n\t}\r\n.leaflet-popup-tip-container {\r\n\twidth: 40px;\r\n\theight: 20px;\r\n\tposition: absolute;\r\n\tleft: 50%;\r\n\tmargin-left: -20px;\r\n\toverflow: hidden;\r\n\tpointer-events: none;\r\n\t}\r\n.leaflet-popup-tip {\r\n\twidth: 17px;\r\n\theight: 17px;\r\n\tpadding: 1px;\r\n\r\n\tmargin: -10px auto 0;\r\n\r\n\t-webkit-transform: rotate(45deg);\r\n\t   -moz-transform: rotate(45deg);\r\n\t    -ms-transform: rotate(45deg);\r\n\t     -o-transform: rotate(45deg);\r\n\t        transform: rotate(45deg);\r\n\t}\r\n.leaflet-popup-content-wrapper,\r\n.leaflet-popup-tip {\r\n\tbackground: white;\r\n\tcolor: #333;\r\n\tbox-shadow: 0 3px 14px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button {\r\n\tposition: absolute;\r\n\ttop: 0;\r\n\tright: 0;\r\n\tpadding: 4px 4px 0 0;\r\n\tborder: none;\r\n\ttext-align: center;\r\n\twidth: 18px;\r\n\theight: 14px;\r\n\tfont: 16px/14px Tahoma, Verdana, sans-serif;\r\n\tcolor: #c3c3c3;\r\n\ttext-decoration: none;\r\n\tfont-weight: bold;\r\n\tbackground: transparent;\r\n\t}\r\n.leaflet-container a.leaflet-popup-close-button:hover {\r\n\tcolor: #999;\r\n\t}\r\n.leaflet-popup-scrolled {\r\n\toverflow: auto;\r\n\tborder-bottom: 1px solid #ddd;\r\n\tborder-top: 1px solid #ddd;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-popup-content-wrapper {\r\n\tzoom: 1;\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\twidth: 24px;\r\n\tmargin: 0 auto;\r\n\r\n\t-ms-filter: "progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678)";\r\n\tfilter: progid:DXImageTransform.Microsoft.Matrix(M11=0.70710678, M12=0.70710678, M21=-0.70710678, M22=0.70710678);\r\n\t}\r\n.leaflet-oldie .leaflet-popup-tip-container {\r\n\tmargin-top: -1px;\r\n\t}\r\n\r\n.leaflet-oldie .leaflet-control-zoom,\r\n.leaflet-oldie .leaflet-control-layers,\r\n.leaflet-oldie .leaflet-popup-content-wrapper,\r\n.leaflet-oldie .leaflet-popup-tip {\r\n\tborder: 1px solid #999;\r\n\t}\r\n\r\n\r\n/* div icon */\r\n\r\n.leaflet-div-icon {\r\n\tbackground: #fff;\r\n\tborder: 1px solid #666;\r\n\t}\r\n\r\n\r\n/* Tooltip */\r\n/* Base styles for the element that has a tooltip */\r\n.leaflet-tooltip {\r\n\tposition: absolute;\r\n\tpadding: 6px;\r\n\tbackground-color: #fff;\r\n\tborder: 1px solid #fff;\r\n\tborder-radius: 3px;\r\n\tcolor: #222;\r\n\twhite-space: nowrap;\r\n\t-webkit-user-select: none;\r\n\t-moz-user-select: none;\r\n\t-ms-user-select: none;\r\n\tuser-select: none;\r\n\tpointer-events: none;\r\n\tbox-shadow: 0 1px 3px rgba(0,0,0,0.4);\r\n\t}\r\n.leaflet-tooltip.leaflet-clickable {\r\n\tcursor: pointer;\r\n\tpointer-events: auto;\r\n\t}\r\n.leaflet-tooltip-top:before,\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\tposition: absolute;\r\n\tpointer-events: none;\r\n\tborder: 6px solid transparent;\r\n\tbackground: transparent;\r\n\tcontent: "";\r\n\t}\r\n\r\n/* Directions */\r\n\r\n.leaflet-tooltip-bottom {\r\n\tmargin-top: 6px;\r\n}\r\n.leaflet-tooltip-top {\r\n\tmargin-top: -6px;\r\n}\r\n.leaflet-tooltip-bottom:before,\r\n.leaflet-tooltip-top:before {\r\n\tleft: 50%;\r\n\tmargin-left: -6px;\r\n\t}\r\n.leaflet-tooltip-top:before {\r\n\tbottom: 0;\r\n\tmargin-bottom: -12px;\r\n\tborder-top-color: #fff;\r\n\t}\r\n.leaflet-tooltip-bottom:before {\r\n\ttop: 0;\r\n\tmargin-top: -12px;\r\n\tmargin-left: -6px;\r\n\tborder-bottom-color: #fff;\r\n\t}\r\n.leaflet-tooltip-left {\r\n\tmargin-left: -6px;\r\n}\r\n.leaflet-tooltip-right {\r\n\tmargin-left: 6px;\r\n}\r\n.leaflet-tooltip-left:before,\r\n.leaflet-tooltip-right:before {\r\n\ttop: 50%;\r\n\tmargin-top: -6px;\r\n\t}\r\n.leaflet-tooltip-left:before {\r\n\tright: 0;\r\n\tmargin-right: -12px;\r\n\tborder-left-color: #fff;\r\n\t}\r\n.leaflet-tooltip-right:before {\r\n\tleft: 0;\r\n\tmargin-left: -12px;\r\n\tborder-right-color: #fff;\r\n\t}\r\n',""])},function(t,e,n){e=t.exports=n(10)(undefined);e.push([t.i,'.mapboxgl-map {\n    font: 12px/20px \'Helvetica Neue\', Arial, Helvetica, sans-serif;\n    overflow: hidden;\n    position: relative;\n    -webkit-tap-highlight-color: rgba(0,0,0,0);\n}\n\n.mapboxgl-canvas-container.mapboxgl-interactive,\n.mapboxgl-ctrl-nav-compass {\n    cursor: -webkit-grab;\n    cursor: -moz-grab;\n    cursor: grab;\n}\n.mapboxgl-canvas-container.mapboxgl-interactive:active,\n.mapboxgl-ctrl-nav-compass:active {\n    cursor: -webkit-grabbing;\n    cursor: -moz-grabbing;\n    cursor: grabbing;\n}\n\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate {\n    -ms-touch-action: pan-x pan-y;\n    touch-action: pan-x pan-y;\n}\n.mapboxgl-canvas-container.mapboxgl-touch-drag-pan {\n    -ms-touch-action: pinch-zoom;\n}\n.mapboxgl-canvas-container.mapboxgl-touch-zoom-rotate.mapboxgl-touch-drag-pan {\n    -ms-touch-action: none;\n    touch-action: none;\n}\n.mapboxgl-ctrl-top-left,\n.mapboxgl-ctrl-top-right,\n.mapboxgl-ctrl-bottom-left,\n.mapboxgl-ctrl-bottom-right  { position:absolute; pointer-events:none; z-index:2; }\n.mapboxgl-ctrl-top-left      { top:0; left:0; }\n.mapboxgl-ctrl-top-right     { top:0; right:0; }\n.mapboxgl-ctrl-bottom-left   { bottom:0; left:0; }\n.mapboxgl-ctrl-bottom-right  { right:0; bottom:0; }\n\n.mapboxgl-ctrl { clear:both; pointer-events:auto }\n.mapboxgl-ctrl-top-left .mapboxgl-ctrl { margin:10px 0 0 10px; float:left; }\n.mapboxgl-ctrl-top-right .mapboxgl-ctrl{ margin:10px 10px 0 0; float:right; }\n.mapboxgl-ctrl-bottom-left .mapboxgl-ctrl { margin:0 0 10px 10px; float:left; }\n.mapboxgl-ctrl-bottom-right .mapboxgl-ctrl { margin:0 10px 10px 0; float:right; }\n\n.mapboxgl-ctrl-group {\n    border-radius: 4px;\n    -moz-box-shadow: 0px 0px 2px rgba(0,0,0,0.1);\n    -webkit-box-shadow: 0px 0px 2px rgba(0,0,0,0.1);\n    box-shadow: 0px 0px 0px 2px rgba(0,0,0,0.1);\n    overflow: hidden;\n    background: #fff;\n}\n.mapboxgl-ctrl-group > button {\n    width: 30px;\n    height: 30px;\n    display: block;\n    padding: 0;\n    outline: none;\n    border: none;\n    border-bottom: 1px solid #ddd;\n    box-sizing: border-box;\n    background-color: rgba(0,0,0,0);\n    cursor: pointer;\n}\n/* https://bugzilla.mozilla.org/show_bug.cgi?id=140562 */\n.mapboxgl-ctrl > button::-moz-focus-inner {\n    border: 0;\n    padding: 0;\n}\n.mapboxgl-ctrl > button:last-child {\n    border-bottom: 0;\n}\n.mapboxgl-ctrl > button:hover {\n    background-color: rgba(0,0,0,0.05);\n}\n.mapboxgl-ctrl-icon,\n.mapboxgl-ctrl-icon > .mapboxgl-ctrl-compass-arrow {\n    speak: none;\n    -webkit-font-smoothing: antialiased;\n    -moz-osx-font-smoothing: grayscale;\n}\n.mapboxgl-ctrl-icon {\n    padding: 5px;\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-out {\n    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23333333%3B%27%20d%3D%27m%207%2C9%20c%20-0.554%2C0%20-1%2C0.446%20-1%2C1%200%2C0.554%200.446%2C1%201%2C1%20l%206%2C0%20c%200.554%2C0%201%2C-0.446%201%2C-1%200%2C-0.554%20-0.446%2C-1%20-1%2C-1%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-zoom-in {\n    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0A%20%20%3Cpath%20style%3D%27fill%3A%23333333%3B%27%20d%3D%27M%2010%206%20C%209.446%206%209%206.4459904%209%207%20L%209%209%20L%207%209%20C%206.446%209%206%209.446%206%2010%20C%206%2010.554%206.446%2011%207%2011%20L%209%2011%20L%209%2013%20C%209%2013.55401%209.446%2014%2010%2014%20C%2010.554%2014%2011%2013.55401%2011%2013%20L%2011%2011%20L%2013%2011%20C%2013.554%2011%2014%2010.554%2014%2010%20C%2014%209.446%2013.554%209%2013%209%20L%2011%209%20L%2011%207%20C%2011%206.4459904%2010.554%206%2010%206%20z%27%20%2F%3E%0A%3C%2Fsvg%3E%0A");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate  {\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%23333%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-geolocate.watching  {\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%20%20%3Cpath%20style%3D%27fill%3A%2300f%3B%27%20d%3D%27M10%204C9%204%209%205%209%205L9%205.1A5%205%200%200%200%205.1%209L5%209C5%209%204%209%204%2010%204%2011%205%2011%205%2011L5.1%2011A5%205%200%200%200%209%2014.9L9%2015C9%2015%209%2016%2010%2016%2011%2016%2011%2015%2011%2015L11%2014.9A5%205%200%200%200%2014.9%2011L15%2011C15%2011%2016%2011%2016%2010%2016%209%2015%209%2015%209L14.9%209A5%205%200%200%200%2011%205.1L11%205C11%205%2011%204%2010%204zM10%206.5A3.5%203.5%200%200%201%2013.5%2010%203.5%203.5%200%200%201%2010%2013.5%203.5%203.5%200%200%201%206.5%2010%203.5%203.5%200%200%201%2010%206.5zM10%208.3A1.8%201.8%200%200%200%208.3%2010%201.8%201.8%200%200%200%2010%2011.8%201.8%201.8%200%200%200%2011.8%2010%201.8%201.8%200%200%200%2010%208.3z%27%20%2F%3E%0D%0A%3C%2Fsvg%3E");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-fullscreen  {\n    background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHZpZXdCb3g9IjAgMCAyMCAyMCIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0iZnVsbHNjcmVlbi5zdmciPjxtZXRhZGF0YQogICAgIGlkPSJtZXRhZGF0YTQxODUiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnM0MTgzIiAvPjxzb2RpcG9kaTpuYW1lZHZpZXcKICAgICBwYWdlY29sb3I9IiNmZmZmZmYiCiAgICAgYm9yZGVyY29sb3I9IiM2NjY2NjYiCiAgICAgYm9yZGVyb3BhY2l0eT0iMSIKICAgICBvYmplY3R0b2xlcmFuY2U9IjEwIgogICAgIGdyaWR0b2xlcmFuY2U9IjEwIgogICAgIGd1aWRldG9sZXJhbmNlPSIxMCIKICAgICBpbmtzY2FwZTpwYWdlb3BhY2l0eT0iMCIKICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PSIyIgogICAgIGlua3NjYXBlOndpbmRvdy13aWR0aD0iMTQ3MSIKICAgICBpbmtzY2FwZTp3aW5kb3ctaGVpZ2h0PSI2OTUiCiAgICAgaWQ9Im5hbWVkdmlldzQxODEiCiAgICAgc2hvd2dyaWQ9ImZhbHNlIgogICAgIGlua3NjYXBlOnpvb209IjExLjMxMzcwOCIKICAgICBpbmtzY2FwZTpjeD0iMTQuNjk4MjgiCiAgICAgaW5rc2NhcGU6Y3k9IjEwLjUyNjY4OSIKICAgICBpbmtzY2FwZTp3aW5kb3cteD0iNjk3IgogICAgIGlua3NjYXBlOndpbmRvdy15PSIyOTgiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJMYXllcl8xIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1wYXRocz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSI+PGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNjA3NiIgLz48L3NvZGlwb2RpOm5hbWVkdmlldz48cGF0aAogICAgIGQ9Ik0gNSA0IEMgNC41IDQgNCA0LjUgNCA1IEwgNCA2IEwgNCA5IEwgNC41IDkgTCA1Ljc3NzM0MzggNy4yOTY4NzUgQyA2Ljc3NzEzMTkgOC4wNjAyMTMxIDcuODM1NzY1IDguOTU2NTcyOCA4Ljg5MDYyNSAxMCBDIDcuODI1NzEyMSAxMS4wNjMzIDYuNzc2MTc5MSAxMS45NTE2NzUgNS43ODEyNSAxMi43MDcwMzEgTCA0LjUgMTEgTCA0IDExIEwgNCAxNSBDIDQgMTUuNSA0LjUgMTYgNSAxNiBMIDkgMTYgTCA5IDE1LjUgTCA3LjI3MzQzNzUgMTQuMjA1MDc4IEMgOC4wNDI4OTMxIDEzLjE4Nzg4NiA4LjkzOTU0NDEgMTIuMTMzNDgxIDkuOTYwOTM3NSAxMS4wNjgzNTkgQyAxMS4wNDIzNzEgMTIuMTQ2OTkgMTEuOTQyMDkzIDEzLjIxMTIgMTIuNzA3MDMxIDE0LjIxODc1IEwgMTEgMTUuNSBMIDExIDE2IEwgMTQgMTYgTCAxNSAxNiBDIDE1LjUgMTYgMTYgMTUuNSAxNiAxNSBMIDE2IDE0IEwgMTYgMTEgTCAxNS41IDExIEwgMTQuMjA1MDc4IDEyLjcyNjU2MiBDIDEzLjE3Nzk4NSAxMS45NDk2MTcgMTIuMTEyNzE4IDExLjA0MzU3NyAxMS4wMzcxMDkgMTAuMDA5NzY2IEMgMTIuMTUxODU2IDguOTgxMDYxIDEzLjIyNDM0NSA4LjA3OTg2MjQgMTQuMjI4NTE2IDcuMzA0Njg3NSBMIDE1LjUgOSBMIDE2IDkgTCAxNiA1IEMgMTYgNC41IDE1LjUgNCAxNSA0IEwgMTEgNCBMIDExIDQuNSBMIDEyLjcwMzEyNSA1Ljc3NzM0MzggQyAxMS45MzI2NDcgNi43ODY0ODM0IDExLjAyNjY5MyA3Ljg1NTQ3MTIgOS45NzA3MDMxIDguOTE5OTIxOSBDIDguOTU4NDczOSA3LjgyMDQ5NDMgOC4wNjk4NzY3IDYuNzYyNzE4OCA3LjMwNDY4NzUgNS43NzE0ODQ0IEwgOSA0LjUgTCA5IDQgTCA2IDQgTCA1IDQgeiAiCiAgICAgaWQ9InBhdGg0MTY5IiAvPjwvc3ZnPg==");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-shrink  {\n    background-image: url("data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhLS0gR2VuZXJhdG9yOiBBZG9iZSBJbGx1c3RyYXRvciAxOS4wLjEsIFNWRyBFeHBvcnQgUGx1Zy1JbiAuIFNWRyBWZXJzaW9uOiA2LjAwIEJ1aWxkIDApICAtLT4KCjxzdmcKICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICB4bWxuczpjYz0iaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjIgogICB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiCiAgIHhtbG5zOnN2Zz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciCiAgIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgeG1sbnM6c29kaXBvZGk9Imh0dHA6Ly9zb2RpcG9kaS5zb3VyY2Vmb3JnZS5uZXQvRFREL3NvZGlwb2RpLTAuZHRkIgogICB4bWxuczppbmtzY2FwZT0iaHR0cDovL3d3dy5pbmtzY2FwZS5vcmcvbmFtZXNwYWNlcy9pbmtzY2FwZSIKICAgdmVyc2lvbj0iMS4xIgogICBpZD0iTGF5ZXJfMSIKICAgeD0iMHB4IgogICB5PSIwcHgiCiAgIHZpZXdCb3g9IjAgMCAyMCAyMCIKICAgc3R5bGU9ImVuYWJsZS1iYWNrZ3JvdW5kOm5ldyAwIDAgMjAgMjA7IgogICB4bWw6c3BhY2U9InByZXNlcnZlIgogICBpbmtzY2FwZTp2ZXJzaW9uPSIwLjkxIHIxMzcyNSIKICAgc29kaXBvZGk6ZG9jbmFtZT0ic2hyaW5rLnN2ZyI+PG1ldGFkYXRhCiAgICAgaWQ9Im1ldGFkYXRhMTkiPjxyZGY6UkRGPjxjYzpXb3JrCiAgICAgICAgIHJkZjphYm91dD0iIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZQogICAgICAgICAgIHJkZjpyZXNvdXJjZT0iaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2UiIC8+PGRjOnRpdGxlPjwvZGM6dGl0bGU+PC9jYzpXb3JrPjwvcmRmOlJERj48L21ldGFkYXRhPjxkZWZzCiAgICAgaWQ9ImRlZnMxNyIgLz48c29kaXBvZGk6bmFtZWR2aWV3CiAgICAgcGFnZWNvbG9yPSIjZmZmZmZmIgogICAgIGJvcmRlcmNvbG9yPSIjNjY2NjY2IgogICAgIGJvcmRlcm9wYWNpdHk9IjEiCiAgICAgb2JqZWN0dG9sZXJhbmNlPSIxMCIKICAgICBncmlkdG9sZXJhbmNlPSIxMCIKICAgICBndWlkZXRvbGVyYW5jZT0iMTAiCiAgICAgaW5rc2NhcGU6cGFnZW9wYWNpdHk9IjAiCiAgICAgaW5rc2NhcGU6cGFnZXNoYWRvdz0iMiIKICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9IjIwMjEiCiAgICAgaW5rc2NhcGU6d2luZG93LWhlaWdodD0iOTA4IgogICAgIGlkPSJuYW1lZHZpZXcxNSIKICAgICBzaG93Z3JpZD0iZmFsc2UiCiAgICAgaW5rc2NhcGU6em9vbT0iMSIKICAgICBpbmtzY2FwZTpjeD0iNC45NTAxMDgyIgogICAgIGlua3NjYXBlOmN5PSIxMC44NTQ3NDciCiAgICAgaW5rc2NhcGU6d2luZG93LXg9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LXk9IjAiCiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD0iMCIKICAgICBpbmtzY2FwZTpjdXJyZW50LWxheWVyPSJMYXllcl8xIgogICAgIGlua3NjYXBlOnNuYXAtYmJveD0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1lZGdlLW1pZHBvaW50cz0idHJ1ZSIKICAgICBpbmtzY2FwZTpiYm94LW5vZGVzPSJ0cnVlIgogICAgIGlua3NjYXBlOnNuYXAtYmJveC1taWRwb2ludHM9InRydWUiCiAgICAgaW5rc2NhcGU6b2JqZWN0LXBhdGhzPSJ0cnVlIgogICAgIGlua3NjYXBlOm9iamVjdC1ub2Rlcz0idHJ1ZSI+PGlua3NjYXBlOmdyaWQKICAgICAgIHR5cGU9Inh5Z3JpZCIKICAgICAgIGlkPSJncmlkNDE0NyIgLz48L3NvZGlwb2RpOm5hbWVkdmlldz48cGF0aAogICAgIHN0eWxlPSJmaWxsOiMwMDAwMDAiCiAgICAgZD0iTSA0LjI0MjE4NzUgMy40OTIxODc1IEEgMC43NTAwNzUgMC43NTAwNzUgMCAwIDAgMy43MTg3NSA0Ljc4MTI1IEwgNS45NjQ4NDM4IDcuMDI3MzQzOCBMIDQgOC41IEwgNCA5IEwgOCA5IEMgOC41MDAwMDEgOC45OTk5OTg4IDkgOC40OTk5OTkyIDkgOCBMIDkgNCBMIDguNSA0IEwgNy4wMTc1NzgxIDUuOTU1MDc4MSBMIDQuNzgxMjUgMy43MTg3NSBBIDAuNzUwMDc1IDAuNzUwMDc1IDAgMCAwIDQuMjQyMTg3NSAzLjQ5MjE4NzUgeiBNIDE1LjczNDM3NSAzLjQ5MjE4NzUgQSAwLjc1MDA3NSAwLjc1MDA3NSAwIDAgMCAxNS4yMTg3NSAzLjcxODc1IEwgMTIuOTg0Mzc1IDUuOTUzMTI1IEwgMTEuNSA0IEwgMTEgNCBMIDExIDggQyAxMSA4LjQ5OTk5OTIgMTEuNDk5OTk5IDguOTk5OTk4OCAxMiA5IEwgMTYgOSBMIDE2IDguNSBMIDE0LjAzNTE1NiA3LjAyNzM0MzggTCAxNi4yODEyNSA0Ljc4MTI1IEEgMC43NTAwNzUgMC43NTAwNzUgMCAwIDAgMTUuNzM0Mzc1IDMuNDkyMTg3NSB6IE0gNCAxMSBMIDQgMTEuNSBMIDUuOTY0ODQzOCAxMi45NzI2NTYgTCAzLjcxODc1IDE1LjIxODc1IEEgMC43NTEzMDA5NiAwLjc1MTMwMDk2IDAgMSAwIDQuNzgxMjUgMTYuMjgxMjUgTCA3LjAyNzM0MzggMTQuMDM1MTU2IEwgOC41IDE2IEwgOSAxNiBMIDkgMTIgQyA5IDExLjUwMDAwMSA4LjUwMDAwMSAxMS4wMDAwMDEgOCAxMSBMIDQgMTEgeiBNIDEyIDExIEMgMTEuNDk5OTk5IDExLjAwMDAwMSAxMSAxMS41MDAwMDEgMTEgMTIgTCAxMSAxNiBMIDExLjUgMTYgTCAxMi45NzI2NTYgMTQuMDM1MTU2IEwgMTUuMjE4NzUgMTYuMjgxMjUgQSAwLjc1MTMwMDk2IDAuNzUxMzAwOTYgMCAxIDAgMTYuMjgxMjUgMTUuMjE4NzUgTCAxNC4wMzUxNTYgMTIuOTcyNjU2IEwgMTYgMTEuNSBMIDE2IDExIEwgMTIgMTEgeiAiCiAgICAgaWQ9InBhdGg3IiAvPjwvc3ZnPg==");\n}\n.mapboxgl-ctrl-icon.mapboxgl-ctrl-compass > .mapboxgl-ctrl-compass-arrow {\n    width: 20px;\n    height: 20px;\n    margin: 5px;\n    background-image: url("data:image/svg+xml;charset=utf8,%3Csvg%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%20viewBox%3D%270%200%2020%2020%27%3E%0A%09%3Cpolygon%20fill%3D%27%23333333%27%20points%3D%276%2C9%2010%2C1%2014%2C9%27%2F%3E%0A%09%3Cpolygon%20fill%3D%27%23CCCCCC%27%20points%3D%276%2C11%2010%2C19%2014%2C11%20%27%2F%3E%0A%3C%2Fsvg%3E");\n    background-repeat: no-repeat;\n    display: inline-block;\n}\n\na.mapboxgl-ctrl-logo {\n    width: 85px;\n    height: 20px;\n    display: block;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    background-image: url(data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXRmLTgiPz48c3ZnIHZlcnNpb249IjEuMSIgaWQ9IkxheWVyXzEiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgeG1sbnM6eGxpbms9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkveGxpbmsiIHg9IjBweCIgeT0iMHB4IiB2aWV3Qm94PSIwIDAgODAuNDcgMjAuMDIiIHN0eWxlPSJlbmFibGUtYmFja2dyb3VuZDpuZXcgMCAwIDgwLjQ3IDIwLjAyOyIgeG1sOnNwYWNlPSJwcmVzZXJ2ZSI+PHN0eWxlIHR5cGU9InRleHQvY3NzIj4uc3Qwe29wYWNpdHk6MC42O2ZpbGw6I0ZGRkZGRjtlbmFibGUtYmFja2dyb3VuZDpuZXcgICAgO30uc3Qxe29wYWNpdHk6MC42O2VuYWJsZS1iYWNrZ3JvdW5kOm5ldyAgICA7fTwvc3R5bGU+PGc+PHBhdGggY2xhc3M9InN0MCIgZD0iTTc5LjI5LDEzLjYxYzAsMC4xMS0wLjA5LDAuMi0wLjIsMC4yaC0xLjUzYy0wLjEyLDAtMC4yMy0wLjA2LTAuMjktMC4xNmwtMS4zNy0yLjI4bC0xLjM3LDIuMjhjLTAuMDYsMC4xLTAuMTcsMC4xNi0wLjI5LDAuMTZoLTEuNTNjLTAuMDQsMC0wLjA4LTAuMDEtMC4xMS0wLjAzYy0wLjA5LTAuMDYtMC4xMi0wLjE4LTAuMDYtMC4yN2MwLDAsMCwwLDAsMGwyLjMxLTMuNWwtMi4yOC0zLjQ3Yy0wLjAyLTAuMDMtMC4wMy0wLjA3LTAuMDMtMC4xMWMwLTAuMTEsMC4wOS0wLjIsMC4yLTAuMmgxLjUzYzAuMTIsMCwwLjIzLDAuMDYsMC4yOSwwLjE2bDEuMzQsMi4yNWwxLjMzLTIuMjRjMC4wNi0wLjEsMC4xNy0wLjE2LDAuMjktMC4xNmgxLjUzYzAuMDQsMCwwLjA4LDAuMDEsMC4xMSwwLjAzYzAuMDksMC4wNiwwLjEyLDAuMTgsMC4wNiwwLjI3YzAsMCwwLDAsMCwwTDc2Ljk2LDEwbDIuMzEsMy41Qzc5LjI4LDEzLjUzLDc5LjI5LDEzLjU3LDc5LjI5LDEzLjYxeiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik02My4wOSw5LjE2Yy0wLjM3LTEuNzktMS44Ny0zLjEyLTMuNjYtMy4xMmMtMC45OCwwLTEuOTMsMC40LTIuNiwxLjEyVjMuMzdjMC0wLjEyLTAuMS0wLjIyLTAuMjItMC4yMmgtMS4zM2MtMC4xMiwwLTAuMjIsMC4xLTAuMjIsMC4yMnYxMC4yMWMwLDAuMTIsMC4xLDAuMjIsMC4yMiwwLjIyaDEuMzNjMC4xMiwwLDAuMjItMC4xLDAuMjItMC4yMnYtMC43YzAuNjgsMC43MSwxLjYyLDEuMTIsMi42LDEuMTJjMS43OSwwLDMuMjktMS4zNCwzLjY2LTMuMTNDNjMuMjEsMTAuMyw2My4yMSw5LjcyLDYzLjA5LDkuMTZMNjMuMDksOS4xNnogTTU5LjEyLDEyLjQxYy0xLjI2LDAtMi4yOC0xLjA2LTIuMy0yLjM2VjkuOTljMC4wMi0xLjMxLDEuMDQtMi4zNiwyLjMtMi4zNnMyLjMsMS4wNywyLjMsMi4zOVM2MC4zOSwxMi40MSw1OS4xMiwxMi40MXoiLz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNNjguMjYsNi4wNGMtMS44OS0wLjAxLTMuNTQsMS4yOS0zLjk2LDMuMTNjLTAuMTIsMC41Ni0wLjEyLDEuMTMsMCwxLjY5YzAuNDIsMS44NSwyLjA3LDMuMTYsMy45NywzLjE0YzIuMjQsMCw0LjA2LTEuNzgsNC4wNi0zLjk5UzcwLjUxLDYuMDQsNjguMjYsNi4wNHogTTY4LjI0LDEyLjQyYy0xLjI3LDAtMi4zLTEuMDctMi4zLTIuMzlzMS4wMy0yLjQsMi4zLTIuNHMyLjMsMS4wNywyLjMsMi4zOVM2OS41MSwxMi40MSw2OC4yNCwxMi40Mkw2OC4yNCwxMi40MnoiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNTkuMTIsNy42M2MtMS4yNiwwLTIuMjgsMS4wNi0yLjMsMi4zNnYwLjA2YzAuMDIsMS4zMSwxLjA0LDIuMzYsMi4zLDIuMzZzMi4zLTEuMDcsMi4zLTIuMzlTNjAuMzksNy42Myw1OS4xMiw3LjYzeiBNNTkuMTIsMTEuMjNjLTAuNiwwLTEuMDktMC41My0xLjExLTEuMTlWMTBjMC4wMS0wLjY2LDAuNTEtMS4xOSwxLjExLTEuMTlzMS4xMSwwLjU0LDEuMTEsMS4yMVM1OS43NCwxMS4yMyw1OS4xMiwxMS4yM3oiLz48cGF0aCBjbGFzcz0ic3QxIiBkPSJNNjguMjQsNy42M2MtMS4yNywwLTIuMywxLjA3LTIuMywyLjM5czEuMDMsMi4zOSwyLjMsMi4zOXMyLjMtMS4wNywyLjMtMi4zOVM2OS41MSw3LjYzLDY4LjI0LDcuNjN6IE02OC4yNCwxMS4yM2MtMC42MSwwLTEuMTEtMC41NC0xLjExLTEuMjFzMC41LTEuMiwxLjExLTEuMnMxLjExLDAuNTQsMS4xMSwxLjIxUzY4Ljg1LDExLjIzLDY4LjI0LDExLjIzeiIvPjxwYXRoIGNsYXNzPSJzdDAiIGQ9Ik00My41Niw2LjI0aC0xLjMzYy0wLjEyLDAtMC4yMiwwLjEtMC4yMiwwLjIydjAuN2MtMC42OC0wLjcxLTEuNjItMS4xMi0yLjYtMS4xMmMtMi4wNywwLTMuNzUsMS43OC0zLjc1LDMuOTlzMS42OSwzLjk5LDMuNzUsMy45OWMwLjk5LDAsMS45My0wLjQxLDIuNi0xLjEzdjAuN2MwLDAuMTIsMC4xLDAuMjIsMC4yMiwwLjIyaDEuMzNjMC4xMiwwLDAuMjItMC4xLDAuMjItMC4yMlY2LjQ0YzAtMC4xMS0wLjA5LTAuMjEtMC4yMS0wLjIxQzQzLjU3LDYuMjQsNDMuNTcsNi4yNCw0My41Niw2LjI0eiBNNDIuMDIsMTAuMDVjLTAuMDEsMS4zMS0xLjA0LDIuMzYtMi4zLDIuMzZzLTIuMy0xLjA3LTIuMy0yLjM5czEuMDMtMi40LDIuMjktMi40YzEuMjcsMCwyLjI4LDEuMDYsMi4zLDIuMzZMNDIuMDIsMTAuMDV6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTM5LjcyLDcuNjNjLTEuMjcsMC0yLjMsMS4wNy0yLjMsMi4zOXMxLjAzLDIuMzksMi4zLDIuMzlzMi4yOC0xLjA2LDIuMy0yLjM2VjkuOTlDNDIsOC42OCw0MC45OCw3LjYzLDM5LjcyLDcuNjN6IE0zOC42MiwxMC4wMmMwLTAuNjcsMC41LTEuMjEsMS4xMS0xLjIxYzAuNjEsMCwxLjA5LDAuNTMsMS4xMSwxLjE5djAuMDRjLTAuMDEsMC42NS0wLjUsMS4xOC0xLjExLDEuMThTMzguNjIsMTAuNjgsMzguNjIsMTAuMDJ6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTQ5LjkxLDYuMDRjLTAuOTgsMC0xLjkzLDAuNC0yLjYsMS4xMlY2LjQ1YzAtMC4xMi0wLjEtMC4yMi0wLjIyLTAuMjJoLTEuMzNjLTAuMTIsMC0wLjIyLDAuMS0wLjIyLDAuMjJ2MTAuMjFjMCwwLjEyLDAuMSwwLjIyLDAuMjIsMC4yMmgxLjMzYzAuMTIsMCwwLjIyLTAuMSwwLjIyLTAuMjJ2LTMuNzhjMC42OCwwLjcxLDEuNjIsMS4xMiwyLjYxLDEuMTJjMi4wNywwLDMuNzUtMS43OCwzLjc1LTMuOTlTNTEuOTgsNi4wNCw0OS45MSw2LjA0eiBNNDkuNiwxMi40MmMtMS4yNiwwLTIuMjgtMS4wNi0yLjMtMi4zNlY5Ljk5YzAuMDItMS4zMSwxLjA0LTIuMzcsMi4yOS0yLjM3YzEuMjYsMCwyLjMsMS4wNywyLjMsMi4zOVM1MC44NiwxMi40MSw0OS42LDEyLjQyTDQ5LjYsMTIuNDJ6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTQ5LjYsNy42M2MtMS4yNiwwLTIuMjgsMS4wNi0yLjMsMi4zNnYwLjA2YzAuMDIsMS4zMSwxLjA0LDIuMzYsMi4zLDIuMzZzMi4zLTEuMDcsMi4zLTIuMzlTNTAuODYsNy42Myw0OS42LDcuNjN6IE00OS42LDExLjIzYy0wLjYsMC0xLjA5LTAuNTMtMS4xMS0xLjE5VjEwQzQ4LjUsOS4zNCw0OSw4LjgxLDQ5LjYsOC44MWMwLjYsMCwxLjExLDAuNTUsMS4xMSwxLjIxUzUwLjIxLDExLjIzLDQ5LjYsMTEuMjN6Ii8+PHBhdGggY2xhc3M9InN0MCIgZD0iTTM0LjM2LDEzLjU5YzAsMC4xMi0wLjEsMC4yMi0wLjIyLDAuMjJoLTEuMzRjLTAuMTIsMC0wLjIyLTAuMS0wLjIyLTAuMjJWOS4yNGMwLTAuOTMtMC43LTEuNjMtMS41NC0xLjYzYy0wLjc2LDAtMS4zOSwwLjY3LTEuNTEsMS41NGwwLjAxLDQuNDRjMCwwLjEyLTAuMSwwLjIyLTAuMjIsMC4yMmgtMS4zNGMtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY5LjI0YzAtMC45My0wLjctMS42My0xLjU0LTEuNjNjLTAuODEsMC0xLjQ3LDAuNzUtMS41MiwxLjcxdjQuMjdjMCwwLjEyLTAuMSwwLjIyLTAuMjIsMC4yMmgtMS4zM2MtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY2LjQ0YzAuMDEtMC4xMiwwLjEtMC4yMSwwLjIyLTAuMjFoMS4zM2MwLjEyLDAsMC4yMSwwLjEsMC4yMiwwLjIxdjAuNjNjMC40OC0wLjY1LDEuMjQtMS4wNCwyLjA2LTEuMDVoMC4wM2MxLjA0LDAsMS45OSwwLjU3LDIuNDgsMS40OGMwLjQzLTAuOSwxLjMzLTEuNDgsMi4zMi0xLjQ5YzEuNTQsMCwyLjc5LDEuMTksMi43NiwyLjY1TDM0LjM2LDEzLjU5eiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik04MC4zMiwxMi45N2wtMC4wNy0wLjEyTDc4LjM4LDEwbDEuODUtMi44MWMwLjQyLTAuNjQsMC4yNS0xLjQ5LTAuMzktMS45MmMtMC4wMS0wLjAxLTAuMDItMC4wMS0wLjAzLTAuMDJjLTAuMjItMC4xNC0wLjQ4LTAuMjEtMC43NC0wLjIxaC0xLjUzYy0wLjUzLDAtMS4wMywwLjI4LTEuMywwLjc0bC0wLjMyLDAuNTNsLTAuMzItMC41M2MtMC4yOC0wLjQ2LTAuNzctMC43NC0xLjMxLTAuNzRoLTEuNTNjLTAuNTcsMC0xLjA4LDAuMzUtMS4yOSwwLjg4Yy0yLjA5LTEuNTgtNS4wMy0xLjQtNi45MSwwLjQzYy0wLjMzLDAuMzItMC42MiwwLjY5LTAuODUsMS4wOWMtMC44NS0xLjU1LTIuNDUtMi42LTQuMjgtMi42Yy0wLjQ4LDAtMC45NiwwLjA3LTEuNDEsMC4yMlYzLjM3YzAtMC43OC0wLjYzLTEuNDEtMS40LTEuNDFoLTEuMzNjLTAuNzcsMC0xLjQsMC42My0xLjQsMS40djMuNTdjLTAuOS0xLjMtMi4zOC0yLjA4LTMuOTctMi4wOWMtMC43LDAtMS4zOSwwLjE1LTIuMDIsMC40NWMtMC4yMy0wLjE2LTAuNTEtMC4yNS0wLjgtMC4yNWgtMS4zM2MtMC40MywwLTAuODMsMC4yLTEuMSwwLjUzYy0wLjAyLTAuMDMtMC4wNC0wLjA1LTAuMDctMC4wOGMtMC4yNy0wLjI5LTAuNjUtMC40NS0xLjA0LTAuNDVoLTEuMzJjLTAuMjksMC0wLjU3LDAuMDktMC44LDAuMjVDNDAuOCw1LDQwLjEyLDQuODUsMzkuNDIsNC44NWMtMS43NCwwLTMuMjcsMC45NS00LjE2LDIuMzhjLTAuMTktMC40NC0wLjQ2LTAuODUtMC43OS0xLjE5Yy0wLjc2LTAuNzctMS44LTEuMTktMi44OC0xLjE5aC0wLjAxYy0wLjg1LDAuMDEtMS42NywwLjMxLTIuMzQsMC44NGMtMC43LTAuNTQtMS41Ni0wLjg0LTIuNDUtMC44NGgtMC4wM2MtMC4yOCwwLTAuNTUsMC4wMy0wLjgyLDAuMWMtMC4yNywwLjA2LTAuNTMsMC4xNS0wLjc4LDAuMjdjLTAuMi0wLjExLTAuNDMtMC4xNy0wLjY3LTAuMTdoLTEuMzNjLTAuNzgsMC0xLjQsMC42My0xLjQsMS40djcuMTRjMCwwLjc4LDAuNjMsMS40LDEuNCwxLjRoMS4zM2MwLjc4LDAsMS40MS0wLjYzLDEuNDEtMS40MWMwLDAsMCwwLDAsMFY5LjM1YzAuMDMtMC4zNCwwLjIyLTAuNTYsMC4zNC0wLjU2YzAuMTcsMCwwLjM2LDAuMTcsMC4zNiwwLjQ1djQuMzVjMCwwLjc4LDAuNjMsMS40LDEuNCwxLjRoMS4zNGMwLjc4LDAsMS40LTAuNjMsMS40LTEuNGwtMC4wMS00LjM1YzAuMDYtMC4zLDAuMjQtMC40NSwwLjMzLTAuNDVjMC4xNywwLDAuMzYsMC4xNywwLjM2LDAuNDV2NC4zNWMwLDAuNzgsMC42MywxLjQsMS40LDEuNGgxLjM0YzAuNzgsMCwxLjQtMC42MywxLjQtMS40di0wLjM2YzAuOTEsMS4yMywyLjM0LDEuOTYsMy44NywxLjk2YzAuNywwLDEuMzktMC4xNSwyLjAyLTAuNDVjMC4yMywwLjE2LDAuNTEsMC4yNSwwLjgsMC4yNWgxLjMyYzAuMjksMCwwLjU3LTAuMDksMC44LTAuMjV2MS45MWMwLDAuNzgsMC42MywxLjQsMS40LDEuNGgxLjMzYzAuNzgsMCwxLjQtMC42MywxLjQtMS40di0xLjY5YzAuNDYsMC4xNCwwLjk0LDAuMjIsMS40MiwwLjIxYzEuNjIsMCwzLjA3LTAuODMsMy45Ny0yLjF2MC41YzAsMC43OCwwLjYzLDEuNCwxLjQsMS40aDEuMzNjMC4yOSwwLDAuNTctMC4wOSwwLjgtMC4yNWMwLjYzLDAuMywxLjMyLDAuNDUsMi4wMiwwLjQ1YzEuODMsMCwzLjQzLTEuMDUsNC4yOC0yLjZjMS40NywyLjUyLDQuNzEsMy4zNiw3LjIyLDEuODljMC4xNy0wLjEsMC4zNC0wLjIxLDAuNS0wLjM0YzAuMjEsMC41MiwwLjcyLDAuODcsMS4yOSwwLjg2aDEuNTNjMC41MywwLDEuMDMtMC4yOCwxLjMtMC43NGwwLjM1LTAuNThsMC4zNSwwLjU4YzAuMjgsMC40NiwwLjc3LDAuNzQsMS4zMSwwLjc0aDEuNTJjMC43NywwLDEuMzktMC42MywxLjM4LTEuMzlDODAuNDcsMTMuMzgsODAuNDIsMTMuMTcsODAuMzIsMTIuOTdMODAuMzIsMTIuOTd6IE0zNC4xNSwxMy44MWgtMS4zNGMtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY5LjI0YzAtMC45My0wLjctMS42My0xLjU0LTEuNjNjLTAuNzYsMC0xLjM5LDAuNjctMS41MSwxLjU0bDAuMDEsNC40NGMwLDAuMTItMC4xLDAuMjItMC4yMiwwLjIyaC0xLjM0Yy0wLjEyLDAtMC4yMi0wLjEtMC4yMi0wLjIyVjkuMjRjMC0wLjkzLTAuNy0xLjYzLTEuNTQtMS42M2MtMC44MSwwLTEuNDcsMC43NS0xLjUyLDEuNzF2NC4yN2MwLDAuMTItMC4xLDAuMjItMC4yMiwwLjIyaC0xLjMzYy0wLjEyLDAtMC4yMi0wLjEtMC4yMi0wLjIyVjYuNDRjMC4wMS0wLjEyLDAuMS0wLjIxLDAuMjItMC4yMWgxLjMzYzAuMTIsMCwwLjIxLDAuMSwwLjIyLDAuMjF2MC42M2MwLjQ4LTAuNjUsMS4yNC0xLjA0LDIuMDYtMS4wNWgwLjAzYzEuMDQsMCwxLjk5LDAuNTcsMi40OCwxLjQ4YzAuNDMtMC45LDEuMzMtMS40OCwyLjMyLTEuNDljMS41NCwwLDIuNzksMS4xOSwyLjc2LDIuNjVsMC4wMSw0LjkxQzM0LjM3LDEzLjcsMzQuMjcsMTMuOCwzNC4xNSwxMy44MUMzNC4xNSwxMy44MSwzNC4xNSwxMy44MSwzNC4xNSwxMy44MXogTTQzLjc4LDEzLjU5YzAsMC4xMi0wLjEsMC4yMi0wLjIyLDAuMjJoLTEuMzNjLTAuMTIsMC0wLjIyLTAuMS0wLjIyLTAuMjJ2LTAuNzFDNDEuMzQsMTMuNiw0MC40LDE0LDM5LjQyLDE0Yy0yLjA3LDAtMy43NS0xLjc4LTMuNzUtMy45OXMxLjY5LTMuOTksMy43NS0zLjk5YzAuOTgsMCwxLjkyLDAuNDEsMi42LDEuMTJ2LTAuN2MwLTAuMTIsMC4xLTAuMjIsMC4yMi0wLjIyaDEuMzNjMC4xMS0wLjAxLDAuMjEsMC4wOCwwLjIyLDAuMmMwLDAuMDEsMCwwLjAxLDAsMC4wMlYxMy41OXogTTQ5LjkxLDE0Yy0wLjk4LDAtMS45Mi0wLjQxLTIuNi0xLjEydjMuNzhjMCwwLjEyLTAuMSwwLjIyLTAuMjIsMC4yMmgtMS4zM2MtMC4xMiwwLTAuMjItMC4xLTAuMjItMC4yMlY2LjQ1YzAtMC4xMiwwLjEtMC4yMSwwLjIyLTAuMjFoMS4zM2MwLjEyLDAsMC4yMiwwLjEsMC4yMiwwLjIydjAuN2MwLjY4LTAuNzIsMS42Mi0xLjEyLDIuNi0xLjEyYzIuMDcsMCwzLjc1LDEuNzcsMy43NSwzLjk4UzUxLjk4LDE0LDQ5LjkxLDE0eiBNNjMuMDksMTAuODdDNjIuNzIsMTIuNjUsNjEuMjIsMTQsNTkuNDMsMTRjLTAuOTgsMC0xLjkyLTAuNDEtMi42LTEuMTJ2MC43YzAsMC4xMi0wLjEsMC4yMi0wLjIyLDAuMjJoLTEuMzNjLTAuMTIsMC0wLjIyLTAuMS0wLjIyLTAuMjJWMy4zN2MwLTAuMTIsMC4xLTAuMjIsMC4yMi0wLjIyaDEuMzNjMC4xMiwwLDAuMjIsMC4xLDAuMjIsMC4yMnYzLjc4YzAuNjgtMC43MSwxLjYyLTEuMTIsMi42LTEuMTFjMS43OSwwLDMuMjksMS4zMywzLjY2LDMuMTJDNjMuMjEsOS43Myw2My4yMSwxMC4zMSw2My4wOSwxMC44N0w2My4wOSwxMC44N0w2My4wOSwxMC44N3ogTTY4LjI2LDE0LjAxYy0xLjksMC4wMS0zLjU1LTEuMjktMy45Ny0zLjE0Yy0wLjEyLTAuNTYtMC4xMi0xLjEzLDAtMS42OWMwLjQyLTEuODUsMi4wNy0zLjE1LDMuOTctMy4xNGMyLjI1LDAsNC4wNiwxLjc4LDQuMDYsMy45OVM3MC41LDE0LjAxLDY4LjI2LDE0LjAxTDY4LjI2LDE0LjAxeiBNNzkuMDksMTMuODFoLTEuNTNjLTAuMTIsMC0wLjIzLTAuMDYtMC4yOS0wLjE2bC0xLjM3LTIuMjhsLTEuMzcsMi4yOGMtMC4wNiwwLjEtMC4xNywwLjE2LTAuMjksMC4xNmgtMS41M2MtMC4wNCwwLTAuMDgtMC4wMS0wLjExLTAuMDNjLTAuMDktMC4wNi0wLjEyLTAuMTgtMC4wNi0wLjI3YzAsMCwwLDAsMCwwbDIuMzEtMy41bC0yLjI4LTMuNDdjLTAuMDItMC4wMy0wLjAzLTAuMDctMC4wMy0wLjExYzAtMC4xMSwwLjA5LTAuMiwwLjItMC4yaDEuNTNjMC4xMiwwLDAuMjMsMC4wNiwwLjI5LDAuMTZsMS4zNCwyLjI1bDEuMzQtMi4yNWMwLjA2LTAuMSwwLjE3LTAuMTYsMC4yOS0wLjE2aDEuNTNjMC4wNCwwLDAuMDgsMC4wMSwwLjExLDAuMDNjMC4wOSwwLjA2LDAuMTIsMC4xOCwwLjA2LDAuMjdjMCwwLDAsMCwwLDBMNzYuOTYsMTBsMi4zMSwzLjVjMC4wMiwwLjAzLDAuMDMsMC4wNywwLjAzLDAuMTFDNzkuMjksMTMuNzIsNzkuMiwxMy44MSw3OS4wOSwxMy44MUM3OS4wOSwxMy44MSw3OS4wOSwxMy44MSw3OS4wOSwxMy44MUw3OS4wOSwxMy44MXoiLz48cGF0aCBjbGFzcz0ic3QwIiBkPSJNMTAsMS4yMWMtNC44NywwLTguODEsMy45NS04LjgxLDguODFzMy45NSw4LjgxLDguODEsOC44MXM4LjgxLTMuOTUsOC44MS04LjgxQzE4LjgxLDUuMTUsMTQuODcsMS4yMSwxMCwxLjIxeiBNMTQuMTgsMTIuMTljLTEuODQsMS44NC00LjU1LDIuMi02LjM4LDIuMmMtMC42NywwLTEuMzQtMC4wNS0yLTAuMTVjMCwwLTAuOTctNS4zNywyLjA0LTguMzljMC43OS0wLjc5LDEuODYtMS4yMiwyLjk4LTEuMjJjMS4yMSwwLDIuMzcsMC40OSwzLjIzLDEuMzVDMTUuOCw3LjczLDE1Ljg1LDEwLjUsMTQuMTgsMTIuMTl6Ii8+PHBhdGggY2xhc3M9InN0MSIgZD0iTTEwLDAuMDJjLTUuNTIsMC0xMCw0LjQ4LTEwLDEwczQuNDgsMTAsMTAsMTBzMTAtNC40OCwxMC0xMEMxOS45OSw0LjUsMTUuNTIsMC4wMiwxMCwwLjAyeiBNMTAsMTguODNjLTQuODcsMC04LjgxLTMuOTUtOC44MS04LjgxUzUuMTMsMS4yLDEwLDEuMnM4LjgxLDMuOTUsOC44MSw4LjgxQzE4LjgxLDE0Ljg5LDE0Ljg3LDE4LjgzLDEwLDE4LjgzeiIvPjxwYXRoIGNsYXNzPSJzdDEiIGQ9Ik0xNC4wNCw1Ljk4Yy0xLjc1LTEuNzUtNC41My0xLjgxLTYuMi0wLjE0QzQuODMsOC44Niw1LjgsMTQuMjMsNS44LDE0LjIzczUuMzcsMC45Nyw4LjM5LTIuMDRDMTUuODUsMTAuNSwxNS44LDcuNzMsMTQuMDQsNS45OHogTTExLjg4LDkuODdsLTAuODcsMS43OGwtMC44Ni0xLjc4TDguMzgsOS4wMWwxLjc3LTAuODZsMC44Ni0xLjc4bDAuODcsMS43OGwxLjc3LDAuODZMMTEuODgsOS44N3oiLz48cG9seWdvbiBjbGFzcz0ic3QwIiBwb2ludHM9IjEzLjY1LDkuMDEgMTEuODgsOS44NyAxMS4wMSwxMS42NSAxMC4xNSw5Ljg3IDguMzgsOS4wMSAxMC4xNSw4LjE1IDExLjAxLDYuMzcgMTEuODgsOC4xNSAiLz48L2c+PC9zdmc+);\n\n}\n\n.mapboxgl-ctrl.mapboxgl-ctrl-attrib {\n    padding: 0 5px;\n    background-color: rgba(255, 255, 255, .5);\n    margin: 0;\n}\n.mapboxgl-ctrl-attrib.compact {\n    padding-top: 2px;\n    padding-bottom: 2px;\n    margin: 0 10px 10px 10px;\n    position: relative;\n    padding-right: 24px;\n    background-color: #fff;\n    border-radius: 3px 12px 12px 3px;\n    visibility: hidden;\n}\n.mapboxgl-ctrl-attrib.compact:hover {\n    visibility: visible;\n}\n.mapboxgl-ctrl-attrib.compact:after {\n    content: \'\';\n    cursor: pointer;\n    position: absolute;\n    bottom: 0;\n    right: 0;\n    background-image: url("data:image/svg+xml;charset=utf-8,%3Csvg%20viewBox%3D%270%200%2020%2020%27%20xmlns%3D%27http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%27%3E%0D%0A%09%3Cpath%20fill%3D%27%23333333%27%20fill-rule%3D%27evenodd%27%20d%3D%27M4%2C10a6%2C6%200%201%2C0%2012%2C0a6%2C6%200%201%2C0%20-12%2C0%20M9%2C7a1%2C1%200%201%2C0%202%2C0a1%2C1%200%201%2C0%20-2%2C0%20M9%2C10a1%2C1%200%201%2C1%202%2C0l0%2C3a1%2C1%200%201%2C1%20-2%2C0%27%20%2F%3E%0D%0A%3C%2Fsvg%3E");\n    background-color: rgba(255, 255, 255, .5);\n    width: 24px;\n    height: 24px;\n    box-sizing: border-box;\n    visibility: visible;\n    border-radius: 12px;\n}\n.mapboxgl-ctrl-attrib a {\n    color: rgba(0,0,0,0.75);\n    text-decoration: none;\n}\n.mapboxgl-ctrl-attrib a:hover {\n    color: inherit;\n    text-decoration: underline;\n}\n.mapboxgl-ctrl-attrib .mapbox-improve-map {\n    font-weight: bold;\n    margin-left: 2px;\n}\n\n.mapboxgl-ctrl-scale {\n    background-color: rgba(255,255,255,0.75);\n    font-size: 10px;\n    border-width: medium 2px 2px;\n    border-style: none solid solid;\n    border-color: #333;\n    padding: 0 5px;\n    color: #333;\n}\n\n.mapboxgl-popup {\n    position: absolute;\n    top: 0;\n    left: 0;\n    display: -webkit-flex;\n    display: flex;\n    will-change: transform;\n    pointer-events: none;\n}\n.mapboxgl-popup-anchor-top,\n.mapboxgl-popup-anchor-top-left,\n.mapboxgl-popup-anchor-top-right {\n    -webkit-flex-direction: column;\n    flex-direction: column;\n}\n.mapboxgl-popup-anchor-bottom,\n.mapboxgl-popup-anchor-bottom-left,\n.mapboxgl-popup-anchor-bottom-right {\n    -webkit-flex-direction: column-reverse;\n    flex-direction: column-reverse;\n}\n.mapboxgl-popup-anchor-left {\n    -webkit-flex-direction: row;\n    flex-direction: row;\n}\n.mapboxgl-popup-anchor-right {\n    -webkit-flex-direction: row-reverse;\n    flex-direction: row-reverse;\n}\n.mapboxgl-popup-tip {\n    width: 0;\n    height: 0;\n    border: 10px solid transparent;\n    z-index: 1;\n}\n.mapboxgl-popup-anchor-top .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-top: none;\n    border-bottom-color: #fff;\n}\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-tip {\n    -webkit-align-self: flex-start;\n    align-self: flex-start;\n    border-top: none;\n    border-left: none;\n    border-bottom-color: #fff;\n}\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-tip {\n    -webkit-align-self: flex-end;\n    align-self: flex-end;\n    border-top: none;\n    border-right: none;\n    border-bottom-color: #fff;\n}\n.mapboxgl-popup-anchor-bottom .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-bottom: none;\n    border-top-color: #fff;\n}\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-tip {\n    -webkit-align-self: flex-start;\n    align-self: flex-start;\n    border-bottom: none;\n    border-left: none;\n    border-top-color: #fff;\n}\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-tip {\n    -webkit-align-self: flex-end;\n    align-self: flex-end;\n    border-bottom: none;\n    border-right: none;\n    border-top-color: #fff;\n}\n.mapboxgl-popup-anchor-left .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-left: none;\n    border-right-color: #fff;\n}\n.mapboxgl-popup-anchor-right .mapboxgl-popup-tip {\n    -webkit-align-self: center;\n    align-self: center;\n    border-right: none;\n    border-left-color: #fff;\n}\n.mapboxgl-popup-close-button {\n    position: absolute;\n    right: 0;\n    top: 0;\n    border: none;\n    border-radius: 0 3px 0 0;\n    cursor: pointer;\n    background-color: rgba(0,0,0,0);\n}\n.mapboxgl-popup-close-button:hover {\n    background-color: rgba(0,0,0,0.05);\n}\n.mapboxgl-popup-content {\n    position: relative;\n    background: #fff;\n    border-radius: 3px;\n    box-shadow: 0 1px 2px rgba(0,0,0,0.10);\n    padding: 10px 10px 15px;\n    pointer-events: auto;\n}\n.mapboxgl-popup-anchor-top-left .mapboxgl-popup-content {\n    border-top-left-radius: 0;\n}\n.mapboxgl-popup-anchor-top-right .mapboxgl-popup-content {\n    border-top-right-radius: 0;\n}\n.mapboxgl-popup-anchor-bottom-left .mapboxgl-popup-content {\n    border-bottom-left-radius: 0;\n}\n.mapboxgl-popup-anchor-bottom-right .mapboxgl-popup-content {\n    border-bottom-right-radius: 0;\n}\n\n.mapboxgl-marker {\n    position: absolute;\n    top: 0;\n    left: 0;\n    will-change: transform;\n}\n\n.mapboxgl-crosshair,\n.mapboxgl-crosshair .mapboxgl-interactive,\n.mapboxgl-crosshair .mapboxgl-interactive:active {\n    cursor: crosshair;\n}\n.mapboxgl-boxzoom {\n    position: absolute;\n    top: 0;\n    left: 0;\n    width: 0;\n    height: 0;\n    background: #fff;\n    border: 2px dotted #202020;\n    opacity: 0.5;\n}\n@media print {\n    .mapbox-improve-map {\n        display:none;\n    }\n}\n',""])},function(t,e,n){"use strict";t.exports=i;function i(t,e,n){n=n||2;var i=e&&e.length,o=i?e[0]*n:t.length,a=r(t,0,o,n,true),u=[];if(!a)return u;var l,c,f,p,d,g,m;if(i)a=h(t,e,a,n);if(t.length>80*n){l=f=t[0];c=p=t[1];for(var v=n;v<o;v+=n){d=t[v];g=t[v+1];if(d<l)l=d;if(g<c)c=g;if(d>f)f=d;if(g>p)p=g}m=Math.max(f-l,p-c)}s(a,u,n,l,c,m);return u}function r(t,e,n,i,r){var o,s;if(r===N(t,e,n,i)>0){for(o=e;o<n;o+=i)s=C(o,t[o],t[o+1],s)}else{for(o=n-i;o>=e;o-=i)s=C(o,t[o],t[o+1],s)}if(s&&E(s,s.next)){L(s);s=s.next}return s}function o(t,e){if(!t)return t;if(!e)e=t;var n=t,i;do{i=false;if(!n.steiner&&(E(n,n.next)||_(n.prev,n,n.next)===0)){L(n);n=e=n.prev;if(n===n.next)return null;i=true}else{n=n.next}}while(i||n!==e);return e}function s(t,e,n,i,r,h,f){if(!t)return;if(!f&&h)g(t,i,r,h);var p=t,d,m;while(t.prev!==t.next){d=t.prev;m=t.next;if(h?u(t,i,r,h):a(t)){e.push(d.i/n);e.push(t.i/n);e.push(m.i/n);L(t);t=m.next;p=m.next;continue}t=m;if(t===p){if(!f){s(o(t),e,n,i,r,h,1)}else if(f===1){t=l(t,e,n);s(t,e,n,i,r,h,2)}else if(f===2){c(t,e,n,i,r,h)}break}}}function a(t){var e=t.prev,n=t,i=t.next;if(_(e,n,i)>=0)return false;var r=t.next.next;while(r!==t.prev){if(b(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&_(r.prev,r,r.next)>=0)return false;r=r.next}return true}function u(t,e,n,i){var r=t.prev,o=t,s=t.next;if(_(r,o,s)>=0)return false;var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,u=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,l=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y;var h=v(a,u,e,n,i),f=v(l,c,e,n,i);var p=t.nextZ;while(p&&p.z<=f){if(p!==t.prev&&p!==t.next&&b(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return false;p=p.nextZ}p=t.prevZ;while(p&&p.z>=h){if(p!==t.prev&&p!==t.next&&b(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return false;p=p.prevZ}return true}function l(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;if(!E(r,o)&&w(r,i,i.next,o)&&S(r,o)&&S(o,r)){e.push(r.i/n);e.push(i.i/n);e.push(o.i/n);L(i);L(i.next);i=t=o}i=i.next}while(i!==t);return i}function c(t,e,n,i,r,a){var u=t;do{var l=u.next.next;while(l!==u.prev){if(u.i!==l.i&&x(u,l)){var c=I(u,l);u=o(u,u.next);c=o(c,c.next);s(u,e,n,i,r,a);s(c,e,n,i,r,a);return}l=l.next}u=u.next}while(u!==t)}function h(t,e,n,i){var s=[],a,u,l,c,h;for(a=0,u=e.length;a<u;a++){l=e[a]*i;c=a<u-1?e[a+1]*i:t.length;h=r(t,l,c,i,false);if(h===h.next)h.steiner=true;s.push(y(h))}s.sort(f);for(a=0;a<s.length;a++){p(s[a],n);n=o(n,n.next)}return n}function f(t,e){return t.x-e.x}function p(t,e){e=d(t,e);if(e){var n=I(e,t);o(n,n.next)}}function d(t,e){var n=e,i=t.x,r=t.y,o=-Infinity,s;do{if(r<=n.y&&r>=n.next.y){var a=n.x+(r-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(a<=i&&a>o){o=a;if(a===i){if(r===n.y)return n;if(r===n.next.y)return n.next}s=n.x<n.next.x?n:n.next}}n=n.next}while(n!==e);if(!s)return null;if(i===o)return s.prev;var u=s,l=s.x,c=s.y,h=Infinity,f;n=s.next;while(n!==u){if(i>=n.x&&n.x>=l&&b(r<c?i:o,r,l,c,r<c?o:i,r,n.x,n.y)){f=Math.abs(r-n.y)/(i-n.x);if((f<h||f===h&&n.x>s.x)&&S(n,t)){s=n;h=f}}n=n.next}return s}function g(t,e,n,i){var r=t;do{if(r.z===null)r.z=v(r.x,r.y,e,n,i);r.prevZ=r.prev;r.nextZ=r.next;r=r.next}while(r!==t);r.prevZ.nextZ=null;r.prevZ=null;m(r)}function m(t){var e,n,i,r,o,s,a,u,l=1;do{n=t;t=null;o=null;s=0;while(n){s++;i=n;a=0;for(e=0;e<l;e++){a++;i=i.nextZ;if(!i)break}u=l;while(a>0||u>0&&i){if(a===0){r=i;i=i.nextZ;u--}else if(u===0||!i){r=n;n=n.nextZ;a--}else if(n.z<=i.z){r=n;n=n.nextZ;a--}else{r=i;i=i.nextZ;u--}if(o)o.nextZ=r;else t=r;r.prevZ=o;o=r}n=i}o.nextZ=null;l*=2}while(s>1);return t}function v(t,e,n,i,r){t=32767*(t-n)/r;e=32767*(e-i)/r;t=(t|t<<8)&16711935;t=(t|t<<4)&252645135;t=(t|t<<2)&858993459;t=(t|t<<1)&1431655765;e=(e|e<<8)&16711935;e=(e|e<<4)&252645135;e=(e|e<<2)&858993459;e=(e|e<<1)&1431655765;return t|e<<1}function y(t){var e=t,n=t;do{if(e.x<n.x)n=e;e=e.next}while(e!==t);return n}function b(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function x(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!T(t,e)&&S(t,e)&&S(e,t)&&A(t,e)}function _(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function E(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,n,i){if(E(t,e)&&E(n,i)||E(t,i)&&E(n,e))return true;return _(t,e,n)>0!==_(t,e,i)>0&&_(n,i,t)>0!==_(n,i,e)>0}function T(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&w(n,n.next,t,e))return true;n=n.next}while(n!==t);return false}function S(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function A(t,e){var n=t,i=false,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{if(n.y>o!==n.next.y>o&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x)i=!i;n=n.next}while(n!==t);return i}function I(t,e){var n=new M(t.i,t.x,t.y),i=new M(e.i,e.x,e.y),r=t.next,o=e.prev;t.next=e;e.prev=t;n.next=r;r.prev=n;i.next=n;n.prev=i;o.next=i;i.prev=o;return i}function C(t,e,n,i){var r=new M(t,e,n);if(!i){r.prev=r;r.next=r}else{r.next=i.next;r.prev=i;i.next.prev=r;i.next=r}return r}function L(t){t.next.prev=t.prev;t.prev.next=t.next;if(t.prevZ)t.prevZ.nextZ=t.nextZ;if(t.nextZ)t.nextZ.prevZ=t.prevZ}function M(t,e,n){this.i=t;this.x=e;this.y=n;this.prev=null;this.next=null;this.z=null;this.prevZ=null;this.nextZ=null;this.steiner=false}i.deviation=function(t,e,n,i){var r=e&&e.length;var o=r?e[0]*n:t.length;var s=Math.abs(N(t,0,o,n));if(r){for(var a=0,u=e.length;a<u;a++){var l=e[a]*n;var c=a<u-1?e[a+1]*n:t.length;s-=Math.abs(N(t,l,c,n))}}var h=0;for(a=0;a<i.length;a+=3){var f=i[a]*n;var p=i[a+1]*n;var d=i[a+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return s===0&&h===0?0:Math.abs((h-s)/s)};function N(t,e,n,i){var r=0;for(var o=e,s=n-i;o<n;o+=i){r+=(t[s]-t[o])*(t[o+1]+t[s+1]);s=o}return r}i.flatten=function(t){var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0;for(var r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++){for(var s=0;s<e;s++)n.vertices.push(t[r][o][s])}if(r>0){i+=t[r-1].length;n.holes.push(i)}}return n}},function(t,e,n){var r=n(129);t.exports.geometry=o;t.exports.ring=a;function o(t){var e=0,n;switch(t.type){case"Polygon":return s(t.coordinates);case"MultiPolygon":for(n=0;n<t.coordinates.length;n++){e+=s(t.coordinates[n])}return e;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0;case"GeometryCollection":for(n=0;n<t.geometries.length;n++){e+=o(t.geometries[n])}return e}}function s(t){var e=0;if(t&&t.length>0){e+=Math.abs(a(t[0]));for(var n=1;n<t.length;n++){e-=Math.abs(a(t[n]))}}return e}function a(t){var e,n,o,s,a,l,c=0,h=t.length;if(h>2){for(i=0;i<h;i++){if(i===h-2){s=h-2;a=h-1;l=0}else if(i===h-1){s=h-1;a=0;l=1}else{s=i;a=i+1;l=i+2}e=t[s];n=t[a];o=t[l];c+=(u(o[0])-u(e[0]))*Math.sin(u(n[1]))}c=c*r.RADIUS*r.RADIUS/2}return c}function u(t){return t*Math.PI/180}},function(t,e){t.exports=i;var n={Point:"geometry",MultiPoint:"geometry",LineString:"geometry",MultiLineString:"geometry",Polygon:"geometry",MultiPolygon:"geometry",GeometryCollection:"geometry",Feature:"feature",FeatureCollection:"featurecollection"};function i(t){if(!t||!t.type)return null;var e=n[t.type];if(!e)return null;if(e==="geometry"){return{type:"FeatureCollection",features:[{type:"Feature",properties:{},geometry:t}]}}else if(e==="feature"){return{type:"FeatureCollection",features:[t]}}else if(e==="featurecollection"){return t}}},function(t,e){t.exports=function(){throw new Error("call .point() or .polygon() instead")};function n(t){if(t)return l(t);else return[s(),a()]}t.exports.position=n;t.exports.point=function(t,e){var r=[];for(i=0;i<t;i++){r.push(f(e?u(n(e)):u()))}return p(r)};t.exports.polygon=function(t,e,o,s){if(typeof e!=="number")e=10;if(typeof o!=="number")o=10;var a=[];for(i=0;i<t;i++){var u=[],l=Array.apply(null,new Array(e+1)).map(Math.random);l.forEach(c);l.forEach(d);u[u.length-1]=u[0];u=u.map(r(n(s)));a.push(f(h([u])))}function c(t,e,n){n[e]=e>0?t+n[e-1]:t}function d(t,e){t=t*2*Math.PI/l[l.length-1];var n=Math.random();u.push([n*o*Math.sin(t),n*o*Math.cos(t)])}return p(a)};function r(t){return function(e,n){return[e[0]+t[0],e[1]+t[1]]}}function o(){return Math.random()-.5}function s(){return o()*360}function a(){return o()*180}function u(t){return{type:"Point",coordinates:t||[s(),a()]}}function l(t){return[Math.random()*(t[2]-t[0])+t[0],Math.random()*(t[3]-t[1])+t[1]]}function c(){return{type:"Point",coordinates:[s(),a()]}}function h(t){return{type:"Polygon",coordinates:t}}function f(t){return{type:"Feature",geometry:t,properties:{}}}function p(t){return{type:"FeatureCollection",features:t}}},function(t,e,n){"use strict";t.exports=p;var i=n(18);var r=n(76).compareCells;function o(t,e){return t-e}function s(t,e,n){this.vertices=t;this.adjacent=e;this.boundary=n;this.lastVisited=-1}s.prototype.flip=function(){var t=this.vertices[0];this.vertices[0]=this.vertices[1];this.vertices[1]=t;var e=this.adjacent[0];this.adjacent[0]=this.adjacent[1];this.adjacent[1]=e};function a(t,e,n){this.vertices=t;this.cell=e;this.index=n}function u(t,e){return r(t.vertices,e.vertices)}function l(t){var e=["function orient(){var tuple=this.tuple;return test("];for(var n=0;n<=t;++n){if(n>0){e.push(",")}e.push("tuple[",n,"]")}e.push(")}return orient");var r=new Function("test",e.join(""));var o=i[t+1];if(!o){o=i}return r(o)}var c=[];function h(t,e,n){this.dimension=t;this.vertices=e;this.simplices=n;this.interior=n.filter(function(t){return!t.boundary});this.tuple=new Array(t+1);for(var i=0;i<=t;++i){this.tuple[i]=this.vertices[i]}var r=c[t];if(!r){r=c[t]=l(t)}this.orient=r}var f=h.prototype;f.handleBoundaryDegeneracy=function(t,e){var n=this.dimension;var i=this.vertices.length-1;var r=this.tuple;var o=this.vertices;var s=[t];t.lastVisited=-i;while(s.length>0){t=s.pop();var a=t.vertices;var u=t.adjacent;for(var l=0;l<=n;++l){var c=u[l];if(!c.boundary||c.lastVisited<=-i){continue}var h=c.vertices;for(var f=0;f<=n;++f){var p=h[f];if(p<0){r[f]=e}else{r[f]=o[p]}}var d=this.orient();if(d>0){return c}c.lastVisited=-i;if(d===0){s.push(c)}}}return null};f.walk=function(t,e){var n=this.vertices.length-1;var i=this.dimension;var r=this.vertices;var o=this.tuple;var s=e?this.interior.length*Math.random()|0:this.interior.length-1;var a=this.interior[s];t:while(!a.boundary){var u=a.vertices;var l=a.adjacent;for(var c=0;c<=i;++c){o[c]=r[u[c]]}a.lastVisited=n;for(var c=0;c<=i;++c){var h=l[c];if(h.lastVisited>=n){continue}var f=o[c];o[c]=t;var p=this.orient();o[c]=f;if(p<0){a=h;continue t}else{if(!h.boundary){h.lastVisited=n}else{h.lastVisited=-n}}}return}return a};f.addPeaks=function(t,e){var n=this.vertices.length-1;var i=this.dimension;var r=this.vertices;var o=this.tuple;var l=this.interior;var c=this.simplices;var h=[e];e.lastVisited=n;e.vertices[e.vertices.indexOf(-1)]=n;e.boundary=false;l.push(e);var f=[];while(h.length>0){var e=h.pop();var p=e.vertices;var d=e.adjacent;var g=p.indexOf(n);if(g<0){continue}for(var m=0;m<=i;++m){if(m===g){continue}var v=d[m];if(!v.boundary||v.lastVisited>=n){continue}var y=v.vertices;if(v.lastVisited!==-n){var b=0;for(var x=0;x<=i;++x){if(y[x]<0){b=x;o[x]=t}else{o[x]=r[y[x]]}}var _=this.orient();if(_>0){y[b]=n;v.boundary=false;l.push(v);h.push(v);v.lastVisited=n;continue}else{v.lastVisited=-n}}var E=v.adjacent;var w=p.slice();var T=d.slice();var S=new s(w,T,true);c.push(S);var A=E.indexOf(e);if(A<0){continue}E[A]=S;T[g]=v;w[m]=-1;T[m]=e;d[m]=S;S.flip();for(var x=0;x<=i;++x){var I=w[x];if(I<0||I===n){continue}var C=new Array(i-1);var L=0;for(var M=0;M<=i;++M){var N=w[M];if(N<0||M===x){continue}C[L++]=N}f.push(new a(C,S,x))}}}f.sort(u);for(var m=0;m+1<f.length;m+=2){var R=f[m];var O=f[m+1];var D=R.index;var P=O.index;if(D<0||P<0){continue}R.cell.adjacent[R.index]=O.cell;O.cell.adjacent[O.index]=R.cell}};f.insert=function(t,e){var n=this.vertices;n.push(t);var i=this.walk(t,e);if(!i){return}var r=this.dimension;var o=this.tuple;for(var s=0;s<=r;++s){var a=i.vertices[s];if(a<0){o[s]=t}else{o[s]=n[a]}}var u=this.orient(o);if(u<0){return}else if(u===0){i=this.handleBoundaryDegeneracy(i,t);if(!i){return}}this.addPeaks(t,i)};f.boundary=function(){var t=this.dimension;var e=[];var n=this.simplices;var i=n.length;for(var r=0;r<i;++r){var o=n[r];if(o.boundary){var s=new Array(t);var a=o.vertices;var u=0;var l=0;for(var c=0;c<=t;++c){if(a[c]>=0){s[u++]=a[c]}else{l=c&1}}if(l===(t&1)){var h=s[0];s[0]=s[1];s[1]=h}e.push(s)}}return e};function p(t,e){var n=t.length;if(n===0){throw new Error("Must have at least d+1 points")}var r=t[0].length;if(n<=r){throw new Error("Must input at least d+1 points")}var o=t.slice(0,r+1);var a=i.apply(void 0,o);if(a===0){throw new Error("Input not in general position")}var u=new Array(r+1);for(var l=0;l<=r;++l){u[l]=l}if(a<0){u[0]=1;u[1]=0}var c=new s(u,new Array(r+1),false);var f=c.adjacent;var p=new Array(r+2);for(var l=0;l<=r;++l){var d=u.slice();for(var g=0;g<=r;++g){if(g===l){d[g]=-1}}var m=d[0];d[0]=d[1];d[1]=m;var v=new s(d,new Array(r+1),true);f[l]=v;p[l]=v}p[r+1]=c;for(var l=0;l<=r;++l){var d=f[l].vertices;var y=f[l].adjacent;for(var g=0;g<=r;++g){var b=d[g];if(b<0){y[g]=c;continue}for(var x=0;x<=r;++x){if(f[x].vertices.indexOf(b)<0){y[g]=f[x]}}}}var _=new h(r,o,p);var E=!!e;for(var l=r+1;l<n;++l){_.insert(t[l],E)}return _.boundary()}},function(t,e,n){var i,r;(function(o,s,a){var u={version:"1.0.3"};function l(){var t=o.L;u.noConflict=function(){o.L=t;return this};o.L=u}if(typeof t==="object"&&typeof t.exports==="object"){t.exports=u}else if(true){!(i=u,r=typeof i==="function"?i.call(e,n,e,t):i,r!==a&&(t.exports=r))}if(typeof o!=="undefined"){l()}u.Util={extend:function(t){var e,n,i,r;for(n=1,i=arguments.length;n<i;n++){r=arguments[n];for(e in r){t[e]=r[e]}}return t},create:Object.create||function(){function t(){}return function(e){t.prototype=e;return new t}}(),bind:function(t,e){var n=Array.prototype.slice;if(t.bind){return t.bind.apply(t,n.call(arguments,1))}var i=n.call(arguments,2);return function(){return t.apply(e,i.length?i.concat(n.call(arguments)):arguments)}},stamp:function(t){t._leaflet_id=t._leaflet_id||++u.Util.lastId;return t._leaflet_id},lastId:0,throttle:function(t,e,n){var i,r,o,s;s=function(){i=false;if(r){o.apply(n,r);r=false}};o=function(){if(i){r=arguments}else{t.apply(n,arguments);setTimeout(s,e);i=true}};return o},wrapNum:function(t,e,n){var i=e[1],r=e[0],o=i-r;return t===i&&n?t:((t-r)%o+o)%o+r},falseFn:function(){return false},formatNum:function(t,e){var n=Math.pow(10,e||5);return Math.round(t*n)/n},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},splitWords:function(t){return u.Util.trim(t).split(/\s+/)},setOptions:function(t,e){if(!t.hasOwnProperty("options")){t.options=t.options?u.Util.create(t.options):{}}for(var n in e){t.options[n]=e[n]}return t.options},getParamString:function(t,e,n){var i=[];for(var r in t){i.push(encodeURIComponent(n?r.toUpperCase():r)+"="+encodeURIComponent(t[r]))}return(!e||e.indexOf("?")===-1?"?":"&")+i.join("&")},template:function(t,e){return t.replace(u.Util.templateRe,function(t,n){var i=e[n];if(i===a){throw new Error("No value provided for variable "+t)}else if(typeof i==="function"){i=i(e)}return i})},templateRe:/\{ *([\w_\-]+) *\}/g,isArray:Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"},indexOf:function(t,e){for(var n=0;n<t.length;n++){if(t[n]===e){return n}}return-1},emptyImageUrl:"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs="};(function(){function t(t){return o["webkit"+t]||o["moz"+t]||o["ms"+t]}var e=0;function n(t){var n=+new Date,i=Math.max(0,16-(n-e));e=n+i;return o.setTimeout(t,i)}var i=o.requestAnimationFrame||t("RequestAnimationFrame")||n,r=o.cancelAnimationFrame||t("CancelAnimationFrame")||t("CancelRequestAnimationFrame")||function(t){o.clearTimeout(t)};u.Util.requestAnimFrame=function(t,e,r){if(r&&i===n){t.call(e)}else{return i.call(o,u.bind(t,e))}};u.Util.cancelAnimFrame=function(t){if(t){r.call(o,t)}}})();u.extend=u.Util.extend;u.bind=u.Util.bind;u.stamp=u.Util.stamp;u.setOptions=u.Util.setOptions;u.Class=function(){};u.Class.extend=function(t){var e=function(){if(this.initialize){this.initialize.apply(this,arguments)}this.callInitHooks()};var n=e.__super__=this.prototype;var i=u.Util.create(n);i.constructor=e;e.prototype=i;for(var r in this){if(this.hasOwnProperty(r)&&r!=="prototype"){e[r]=this[r]}}if(t.statics){u.extend(e,t.statics);delete t.statics}if(t.includes){u.Util.extend.apply(null,[i].concat(t.includes));delete t.includes}if(i.options){t.options=u.Util.extend(u.Util.create(i.options),t.options)}u.extend(i,t);i._initHooks=[];i.callInitHooks=function(){if(this._initHooksCalled){return}if(n.callInitHooks){n.callInitHooks.call(this)}this._initHooksCalled=true;for(var t=0,e=i._initHooks.length;t<e;t++){i._initHooks[t].call(this)}};return e};u.Class.include=function(t){u.extend(this.prototype,t);return this};u.Class.mergeOptions=function(t){u.extend(this.prototype.options,t);return this};u.Class.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1);var n=typeof t==="function"?t:function(){this[t].apply(this,e)};this.prototype._initHooks=this.prototype._initHooks||[];this.prototype._initHooks.push(n);return this};u.Evented=u.Class.extend({on:function(t,e,n){if(typeof t==="object"){for(var i in t){this._on(i,t[i],e)}}else{t=u.Util.splitWords(t);for(var r=0,o=t.length;r<o;r++){this._on(t[r],e,n)}}return this},off:function(t,e,n){if(!t){delete this._events}else if(typeof t==="object"){for(var i in t){this._off(i,t[i],e)}}else{t=u.Util.splitWords(t);for(var r=0,o=t.length;r<o;r++){this._off(t[r],e,n)}}return this},_on:function(t,e,n){this._events=this._events||{};var i=this._events[t];if(!i){i=[];this._events[t]=i}if(n===this){n=a}var r={fn:e,ctx:n},o=i;for(var s=0,u=o.length;s<u;s++){if(o[s].fn===e&&o[s].ctx===n){return}}o.push(r)},_off:function(t,e,n){var i,r,o;if(!this._events){return}i=this._events[t];if(!i){return}if(!e){for(r=0,o=i.length;r<o;r++){i[r].fn=u.Util.falseFn}delete this._events[t];return}if(n===this){n=a}if(i){for(r=0,o=i.length;r<o;r++){var s=i[r];if(s.ctx!==n){continue}if(s.fn===e){s.fn=u.Util.falseFn;if(this._firingCount){this._events[t]=i=i.slice()}i.splice(r,1);return}}}},fire:function(t,e,n){if(!this.listens(t,n)){return this}var i=u.Util.extend({},e,{type:t,target:this});if(this._events){var r=this._events[t];if(r){this._firingCount=this._firingCount+1||1;for(var o=0,s=r.length;o<s;o++){var a=r[o];a.fn.call(a.ctx||this,i)}this._firingCount--}}if(n){this._propagateEvent(i)}return this},listens:function(t,e){var n=this._events&&this._events[t];if(n&&n.length){return true}if(e){for(var i in this._eventParents){if(this._eventParents[i].listens(t,e)){return true}}}return false},once:function(t,e,n){if(typeof t==="object"){for(var i in t){this.once(i,t[i],e)}return this}var r=u.bind(function(){this.off(t,e,n).off(t,r,n)},this);return this.on(t,e,n).on(t,r,n)},addEventParent:function(t){this._eventParents=this._eventParents||{};this._eventParents[u.stamp(t)]=t;return this},removeEventParent:function(t){if(this._eventParents){delete this._eventParents[u.stamp(t)]}return this},_propagateEvent:function(t){for(var e in this._eventParents){this._eventParents[e].fire(t.type,u.extend({layer:t.target},t),true)}}});var c=u.Evented.prototype;c.addEventListener=c.on;c.removeEventListener=c.clearAllEventListeners=c.off;c.addOneTimeEventListener=c.once;c.fireEvent=c.fire;c.hasEventListeners=c.listens;u.Mixin={Events:c};(function(){var t=navigator.userAgent.toLowerCase(),e=s.documentElement,n="ActiveXObject"in o,i=t.indexOf("webkit")!==-1,r=t.indexOf("phantom")!==-1,a=t.search("android [23]")!==-1,l=t.indexOf("chrome")!==-1,c=t.indexOf("gecko")!==-1&&!i&&!o.opera&&!n,h=navigator.platform.indexOf("Win")===0,f=typeof orientation!=="undefined"||t.indexOf("mobile")!==-1,p=!o.PointerEvent&&o.MSPointerEvent,d=o.PointerEvent||p,g=n&&"transition"in e.style,m="WebKitCSSMatrix"in o&&"m11"in new o.WebKitCSSMatrix&&!a,v="MozPerspective"in e.style,y="OTransition"in e.style;var b=!o.L_NO_TOUCH&&(d||"ontouchstart"in o||o.DocumentTouch&&s instanceof o.DocumentTouch);u.Browser={ie:n,ielt9:n&&!s.addEventListener,edge:"msLaunchUri"in navigator&&!("documentMode"in s),webkit:i,gecko:c,android:t.indexOf("android")!==-1,android23:a,chrome:l,safari:!l&&t.indexOf("safari")!==-1,win:h,ie3d:g,webkit3d:m,gecko3d:v,opera12:y,any3d:!o.L_DISABLE_3D&&(g||m||v)&&!y&&!r,mobile:f,mobileWebkit:f&&i,mobileWebkit3d:f&&m,mobileOpera:f&&o.opera,mobileGecko:f&&c,touch:!!b,msPointer:!!p,pointer:!!d,retina:(o.devicePixelRatio||o.screen.deviceXDPI/o.screen.logicalXDPI)>1}})();u.Point=function(t,e,n){this.x=n?Math.round(t):t;this.y=n?Math.round(e):e};u.Point.prototype={clone:function(){return new u.Point(this.x,this.y)},add:function(t){return this.clone()._add(u.point(t))},_add:function(t){this.x+=t.x;this.y+=t.y;return this},subtract:function(t){return this.clone()._subtract(u.point(t))},_subtract:function(t){this.x-=t.x;this.y-=t.y;return this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){this.x/=t;this.y/=t;return this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){this.x*=t;this.y*=t;return this},scaleBy:function(t){return new u.Point(this.x*t.x,this.y*t.y)},unscaleBy:function(t){return new u.Point(this.x/t.x,this.y/t.y)},round:function(){return this.clone()._round()},_round:function(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this},floor:function(){return this.clone()._floor()},_floor:function(){this.x=Math.floor(this.x);this.y=Math.floor(this.y);return this},ceil:function(){return this.clone()._ceil()},_ceil:function(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this},distanceTo:function(t){t=u.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},equals:function(t){t=u.point(t);return t.x===this.x&&t.y===this.y},contains:function(t){t=u.point(t);return Math.abs(t.x)<=Math.abs(this.x)&&Math.abs(t.y)<=Math.abs(this.y)},toString:function(){return"Point("+u.Util.formatNum(this.x)+", "+u.Util.formatNum(this.y)+")"}};u.point=function(t,e,n){if(t instanceof u.Point){return t}if(u.Util.isArray(t)){return new u.Point(t[0],t[1])}if(t===a||t===null){return t}if(typeof t==="object"&&"x"in t&&"y"in t){return new u.Point(t.x,t.y)}return new u.Point(t,e,n)};u.Bounds=function(t,e){if(!t){return}var n=e?[t,e]:t;for(var i=0,r=n.length;i<r;i++){this.extend(n[i])}};u.Bounds.prototype={extend:function(t){t=u.point(t);if(!this.min&&!this.max){this.min=t.clone();this.max=t.clone()}else{this.min.x=Math.min(t.x,this.min.x);this.max.x=Math.max(t.x,this.max.x);this.min.y=Math.min(t.y,this.min.y);this.max.y=Math.max(t.y,this.max.y)}return this},getCenter:function(t){return new u.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new u.Point(this.min.x,this.max.y)},getTopRight:function(){return new u.Point(this.max.x,this.min.y)},getSize:function(){return this.max.subtract(this.min)},contains:function(t){var e,n;if(typeof t[0]==="number"||t instanceof u.Point){t=u.point(t)}else{t=u.bounds(t)}if(t instanceof u.Bounds){e=t.min;n=t.max}else{e=n=t}return e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=u.bounds(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>=e.x&&i.x<=n.x,s=r.y>=e.y&&i.y<=n.y;return o&&s},overlaps:function(t){t=u.bounds(t);var e=this.min,n=this.max,i=t.min,r=t.max,o=r.x>e.x&&i.x<n.x,s=r.y>e.y&&i.y<n.y;return o&&s},isValid:function(){return!!(this.min&&this.max)}};u.bounds=function(t,e){if(!t||t instanceof u.Bounds){return t}return new u.Bounds(t,e)};u.Transformation=function(t,e,n,i){this._a=t;this._b=e;this._c=n;this._d=i};u.Transformation.prototype={transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){e=e||1;t.x=e*(this._a*t.x+this._b);t.y=e*(this._c*t.y+this._d);return t},untransform:function(t,e){e=e||1;return new u.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}};u.DomUtil={get:function(t){return typeof t==="string"?s.getElementById(t):t},getStyle:function(t,e){var n=t.style[e]||t.currentStyle&&t.currentStyle[e];if((!n||n==="auto")&&s.defaultView){var i=s.defaultView.getComputedStyle(t,null);n=i?i[e]:null}return n==="auto"?null:n},create:function(t,e,n){var i=s.createElement(t);i.className=e||"";if(n){n.appendChild(i)}return i},remove:function(t){var e=t.parentNode;if(e){e.removeChild(t)}},empty:function(t){while(t.firstChild){t.removeChild(t.firstChild)}},toFront:function(t){t.parentNode.appendChild(t)},toBack:function(t){var e=t.parentNode;e.insertBefore(t,e.firstChild)},hasClass:function(t,e){if(t.classList!==a){return t.classList.contains(e)}var n=u.DomUtil.getClass(t);return n.length>0&&new RegExp("(^|\\s)"+e+"(\\s|$)").test(n)},addClass:function(t,e){if(t.classList!==a){var n=u.Util.splitWords(e);for(var i=0,r=n.length;i<r;i++){t.classList.add(n[i])}}else if(!u.DomUtil.hasClass(t,e)){var o=u.DomUtil.getClass(t);u.DomUtil.setClass(t,(o?o+" ":"")+e)}},removeClass:function(t,e){if(t.classList!==a){t.classList.remove(e)}else{u.DomUtil.setClass(t,u.Util.trim((" "+u.DomUtil.getClass(t)+" ").replace(" "+e+" "," ")))}},setClass:function(t,e){if(t.className.baseVal===a){t.className=e}else{t.className.baseVal=e}},getClass:function(t){return t.className.baseVal===a?t.className:t.className.baseVal},setOpacity:function(t,e){if("opacity"in t.style){t.style.opacity=e}else if("filter"in t.style){u.DomUtil._setOpacityIE(t,e)}},_setOpacityIE:function(t,e){var n=false,i="DXImageTransform.Microsoft.Alpha";try{n=t.filters.item(i)}catch(t){if(e===1){return}}e=Math.round(e*100);if(n){n.Enabled=e!==100;n.Opacity=e}else{t.style.filter+=" progid:"+i+"(opacity="+e+")"}},testProp:function(t){var e=s.documentElement.style;for(var n=0;n<t.length;n++){if(t[n]in e){return t[n]}}return false},setTransform:function(t,e,n){var i=e||new u.Point(0,0);t.style[u.DomUtil.TRANSFORM]=(u.Browser.ie3d?"translate("+i.x+"px,"+i.y+"px)":"translate3d("+i.x+"px,"+i.y+"px,0)")+(n?" scale("+n+")":"")},setPosition:function(t,e){t._leaflet_pos=e;if(u.Browser.any3d){u.DomUtil.setTransform(t,e)}else{t.style.left=e.x+"px";t.style.top=e.y+"px"}},getPosition:function(t){return t._leaflet_pos||new u.Point(0,0)}};(function(){u.DomUtil.TRANSFORM=u.DomUtil.testProp(["transform","WebkitTransform","OTransform","MozTransform","msTransform"]);var t=u.DomUtil.TRANSITION=u.DomUtil.testProp(["webkitTransition","transition","OTransition","MozTransition","msTransition"]);u.DomUtil.TRANSITION_END=t==="webkitTransition"||t==="OTransition"?t+"End":"transitionend";if("onselectstart"in s){u.DomUtil.disableTextSelection=function(){u.DomEvent.on(o,"selectstart",u.DomEvent.preventDefault)};u.DomUtil.enableTextSelection=function(){u.DomEvent.off(o,"selectstart",u.DomEvent.preventDefault)}}else{var e=u.DomUtil.testProp(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);u.DomUtil.disableTextSelection=function(){if(e){var t=s.documentElement.style;this._userSelect=t[e];t[e]="none"}};u.DomUtil.enableTextSelection=function(){if(e){s.documentElement.style[e]=this._userSelect;delete this._userSelect}}}u.DomUtil.disableImageDrag=function(){u.DomEvent.on(o,"dragstart",u.DomEvent.preventDefault)};u.DomUtil.enableImageDrag=function(){u.DomEvent.off(o,"dragstart",u.DomEvent.preventDefault)};u.DomUtil.preventOutline=function(t){while(t.tabIndex===-1){t=t.parentNode}if(!t||!t.style){return}u.DomUtil.restoreOutline();this._outlineElement=t;this._outlineStyle=t.style.outline;t.style.outline="none";u.DomEvent.on(o,"keydown",u.DomUtil.restoreOutline,this)};u.DomUtil.restoreOutline=function(){if(!this._outlineElement){return}this._outlineElement.style.outline=this._outlineStyle;delete this._outlineElement;delete this._outlineStyle;u.DomEvent.off(o,"keydown",u.DomUtil.restoreOutline,this)}})();u.LatLng=function(t,e,n){if(isNaN(t)||isNaN(e)){throw new Error("Invalid LatLng object: ("+t+", "+e+")")}this.lat=+t;this.lng=+e;if(n!==a){this.alt=+n}};u.LatLng.prototype={equals:function(t,e){if(!t){return false}t=u.latLng(t);var n=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return n<=(e===a?1e-9:e)},toString:function(t){return"LatLng("+u.Util.formatNum(this.lat,t)+", "+u.Util.formatNum(this.lng,t)+")"},distanceTo:function(t){return u.CRS.Earth.distance(this,u.latLng(t))},wrap:function(){return u.CRS.Earth.wrapLatLng(this)},toBounds:function(t){var e=180*t/40075017,n=e/Math.cos(Math.PI/180*this.lat);return u.latLngBounds([this.lat-e,this.lng-n],[this.lat+e,this.lng+n])},clone:function(){return new u.LatLng(this.lat,this.lng,this.alt)}};u.latLng=function(t,e,n){if(t instanceof u.LatLng){return t}if(u.Util.isArray(t)&&typeof t[0]!=="object"){if(t.length===3){return new u.LatLng(t[0],t[1],t[2])}if(t.length===2){return new u.LatLng(t[0],t[1])}return null}if(t===a||t===null){return t}if(typeof t==="object"&&"lat"in t){return new u.LatLng(t.lat,"lng"in t?t.lng:t.lon,t.alt)}if(e===a){return null}return new u.LatLng(t,e,n)};u.LatLngBounds=function(t,e){if(!t){return}var n=e?[t,e]:t;for(var i=0,r=n.length;i<r;i++){this.extend(n[i])}};u.LatLngBounds.prototype={extend:function(t){var e=this._southWest,n=this._northEast,i,r;if(t instanceof u.LatLng){i=t;r=t}else if(t instanceof u.LatLngBounds){i=t._southWest;r=t._northEast;if(!i||!r){return this}}else{return t?this.extend(u.latLng(t)||u.latLngBounds(t)):this}if(!e&&!n){this._southWest=new u.LatLng(i.lat,i.lng);this._northEast=new u.LatLng(r.lat,r.lng)}else{e.lat=Math.min(i.lat,e.lat);e.lng=Math.min(i.lng,e.lng);n.lat=Math.max(r.lat,n.lat);n.lng=Math.max(r.lng,n.lng)}return this},pad:function(t){var e=this._southWest,n=this._northEast,i=Math.abs(e.lat-n.lat)*t,r=Math.abs(e.lng-n.lng)*t;return new u.LatLngBounds(new u.LatLng(e.lat-i,e.lng-r),new u.LatLng(n.lat+i,n.lng+r))},getCenter:function(){return new u.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new u.LatLng(this.getNorth(),this.getWest())},getSouthEast:function(){return new u.LatLng(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(t){if(typeof t[0]==="number"||t instanceof u.LatLng||"lat"in t){t=u.latLng(t)}else{t=u.latLngBounds(t)}var e=this._southWest,n=this._northEast,i,r;if(t instanceof u.LatLngBounds){i=t.getSouthWest();r=t.getNorthEast()}else{i=r=t}return i.lat>=e.lat&&r.lat<=n.lat&&i.lng>=e.lng&&r.lng<=n.lng},intersects:function(t){t=u.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>=e.lat&&i.lat<=n.lat,s=r.lng>=e.lng&&i.lng<=n.lng;return o&&s},overlaps:function(t){t=u.latLngBounds(t);var e=this._southWest,n=this._northEast,i=t.getSouthWest(),r=t.getNorthEast(),o=r.lat>e.lat&&i.lat<n.lat,s=r.lng>e.lng&&i.lng<n.lng;return o&&s},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(t){if(!t){return false}t=u.latLngBounds(t);return this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())},isValid:function(){return!!(this._southWest&&this._northEast)}};u.latLngBounds=function(t,e){if(t instanceof u.LatLngBounds){return t}return new u.LatLngBounds(t,e)};u.Projection={};u.Projection.LonLat={project:function(t){return new u.Point(t.lng,t.lat)},unproject:function(t){return new u.LatLng(t.y,t.x)},bounds:u.bounds([-180,-90],[180,90])};u.Projection.SphericalMercator={R:6378137,MAX_LATITUDE:85.0511287798,project:function(t){var e=Math.PI/180,n=this.MAX_LATITUDE,i=Math.max(Math.min(n,t.lat),-n),r=Math.sin(i*e);return new u.Point(this.R*t.lng*e,this.R*Math.log((1+r)/(1-r))/2)},unproject:function(t){var e=180/Math.PI;return new u.LatLng((2*Math.atan(Math.exp(t.y/this.R))-Math.PI/2)*e,t.x*e/this.R)},bounds:function(){var t=6378137*Math.PI;return u.bounds([-t,-t],[t,t])}()};u.CRS={latLngToPoint:function(t,e){var n=this.projection.project(t),i=this.scale(e);return this.transformation._transform(n,i)},pointToLatLng:function(t,e){var n=this.scale(e),i=this.transformation.untransform(t,n);return this.projection.unproject(i)},project:function(t){return this.projection.project(t)},unproject:function(t){return this.projection.unproject(t)},scale:function(t){return 256*Math.pow(2,t)},zoom:function(t){return Math.log(t/256)/Math.LN2},getProjectedBounds:function(t){if(this.infinite){return null}var e=this.projection.bounds,n=this.scale(t),i=this.transformation.transform(e.min,n),r=this.transformation.transform(e.max,n);return u.bounds(i,r)},infinite:false,wrapLatLng:function(t){var e=this.wrapLng?u.Util.wrapNum(t.lng,this.wrapLng,true):t.lng,n=this.wrapLat?u.Util.wrapNum(t.lat,this.wrapLat,true):t.lat,i=t.alt;return u.latLng(n,e,i)},wrapLatLngBounds:function(t){var e=t.getCenter(),n=this.wrapLatLng(e),i=e.lat-n.lat,r=e.lng-n.lng;if(i===0&&r===0){return t}var o=t.getSouthWest(),s=t.getNorthEast(),a=u.latLng({lat:o.lat-i,lng:o.lng-r}),l=u.latLng({lat:s.lat-i,lng:s.lng-r});return new u.LatLngBounds(a,l)}};u.CRS.Simple=u.extend({},u.CRS,{projection:u.Projection.LonLat,transformation:new u.Transformation(1,0,-1,0),scale:function(t){return Math.pow(2,t)},zoom:function(t){return Math.log(t)/Math.LN2},distance:function(t,e){var n=e.lng-t.lng,i=e.lat-t.lat;return Math.sqrt(n*n+i*i)},infinite:true});u.CRS.Earth=u.extend({},u.CRS,{wrapLng:[-180,180],R:6371e3,distance:function(t,e){var n=Math.PI/180,i=t.lat*n,r=e.lat*n,o=Math.sin(i)*Math.sin(r)+Math.cos(i)*Math.cos(r)*Math.cos((e.lng-t.lng)*n);return this.R*Math.acos(Math.min(o,1))}});u.CRS.EPSG3857=u.extend({},u.CRS.Earth,{code:"EPSG:3857",projection:u.Projection.SphericalMercator,transformation:function(){var t=.5/(Math.PI*u.Projection.SphericalMercator.R);return new u.Transformation(t,.5,-t,.5)}()});u.CRS.EPSG900913=u.extend({},u.CRS.EPSG3857,{code:"EPSG:900913"});u.CRS.EPSG4326=u.extend({},u.CRS.Earth,{code:"EPSG:4326",projection:u.Projection.LonLat,transformation:new u.Transformation(1/180,1,-1/180,.5)});u.Map=u.Evented.extend({options:{crs:u.CRS.EPSG3857,center:a,zoom:a,minZoom:a,maxZoom:a,layers:[],maxBounds:a,renderer:a,zoomAnimation:true,zoomAnimationThreshold:4,fadeAnimation:true,markerZoomAnimation:true,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:true},initialize:function(t,e){e=u.setOptions(this,e);this._initContainer(t);this._initLayout();this._onResize=u.bind(this._onResize,this);this._initEvents();if(e.maxBounds){this.setMaxBounds(e.maxBounds)}if(e.zoom!==a){this._zoom=this._limitZoom(e.zoom)}if(e.center&&e.zoom!==a){this.setView(u.latLng(e.center),e.zoom,{reset:true})}this._handlers=[];this._layers={};this._zoomBoundLayers={};this._sizeChanged=true;this.callInitHooks();this._zoomAnimated=u.DomUtil.TRANSITION&&u.Browser.any3d&&!u.Browser.mobileOpera&&this.options.zoomAnimation;if(this._zoomAnimated){this._createAnimProxy();u.DomEvent.on(this._proxy,u.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}this._addLayers(this.options.layers)},setView:function(t,e,n){e=e===a?this._zoom:this._limitZoom(e);t=this._limitCenter(u.latLng(t),e,this.options.maxBounds);n=n||{};this._stop();if(this._loaded&&!n.reset&&n!==true){if(n.animate!==a){n.zoom=u.extend({animate:n.animate},n.zoom);n.pan=u.extend({animate:n.animate,duration:n.duration},n.pan)}var i=this._zoom!==e?this._tryAnimatedZoom&&this._tryAnimatedZoom(t,e,n.zoom):this._tryAnimatedPan(t,n.pan);if(i){clearTimeout(this._sizeTimer);return this}}this._resetView(t,e);return this},setZoom:function(t,e){if(!this._loaded){this._zoom=t;return this}return this.setView(this.getCenter(),t,{zoom:e})},zoomIn:function(t,e){t=t||(u.Browser.any3d?this.options.zoomDelta:1);return this.setZoom(this._zoom+t,e)},zoomOut:function(t,e){t=t||(u.Browser.any3d?this.options.zoomDelta:1);return this.setZoom(this._zoom-t,e)},setZoomAround:function(t,e,n){var i=this.getZoomScale(e),r=this.getSize().divideBy(2),o=t instanceof u.Point?t:this.latLngToContainerPoint(t),s=o.subtract(r).multiplyBy(1-1/i),a=this.containerPointToLatLng(r.add(s));return this.setView(a,e,{zoom:n})},_getBoundsCenterZoom:function(t,e){e=e||{};t=t.getBounds?t.getBounds():u.latLngBounds(t);var n=u.point(e.paddingTopLeft||e.padding||[0,0]),i=u.point(e.paddingBottomRight||e.padding||[0,0]),r=this.getBoundsZoom(t,false,n.add(i));r=typeof e.maxZoom==="number"?Math.min(e.maxZoom,r):r;var o=i.subtract(n).divideBy(2),s=this.project(t.getSouthWest(),r),a=this.project(t.getNorthEast(),r),l=this.unproject(s.add(a).divideBy(2).add(o),r);return{center:l,zoom:r}},fitBounds:function(t,e){t=u.latLngBounds(t);if(!t.isValid()){throw new Error("Bounds are not valid.")}var n=this._getBoundsCenterZoom(t,e);return this.setView(n.center,n.zoom,e)},fitWorld:function(t){return this.fitBounds([[-90,-180],[90,180]],t)},panTo:function(t,e){return this.setView(t,this._zoom,{pan:e})},panBy:function(t,e){t=u.point(t).round();e=e||{};if(!t.x&&!t.y){return this.fire("moveend")}if(e.animate!==true&&!this.getSize().contains(t)){this._resetView(this.unproject(this.project(this.getCenter()).add(t)),this.getZoom());return this}if(!this._panAnim){this._panAnim=new u.PosAnimation;this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)}if(!e.noMoveStart){this.fire("movestart")}if(e.animate!==false){u.DomUtil.addClass(this._mapPane,"leaflet-pan-anim");var n=this._getMapPanePos().subtract(t).round();this._panAnim.run(this._mapPane,n,e.duration||.25,e.easeLinearity)}else{this._rawPanBy(t);this.fire("move").fire("moveend")}return this},flyTo:function(t,e,n){n=n||{};if(n.animate===false||!u.Browser.any3d){return this.setView(t,e,n)}this._stop();var i=this.project(this.getCenter()),r=this.project(t),o=this.getSize(),s=this._zoom;t=u.latLng(t);e=e===a?s:e;var l=Math.max(o.x,o.y),c=l*this.getZoomScale(s,e),h=r.distanceTo(i)||1,f=1.42,p=f*f;function d(t){var e=t?-1:1,n=t?c:l,i=c*c-l*l+e*p*p*h*h,r=2*n*p*h,o=i/r,s=Math.sqrt(o*o+1)-o;var a=s<1e-9?-18:Math.log(s);return a}function g(t){return(Math.exp(t)-Math.exp(-t))/2}function m(t){return(Math.exp(t)+Math.exp(-t))/2}function v(t){return g(t)/m(t)}var y=d(0);function b(t){return l*(m(y)/m(y+f*t))}function x(t){return l*(m(y)*v(y+f*t)-g(y))/p}function _(t){return 1-Math.pow(1-t,1.5)}var E=Date.now(),w=(d(1)-y)/f,T=n.duration?1e3*n.duration:1e3*w*.8;function S(){var n=(Date.now()-E)/T,o=_(n)*w;if(n<=1){this._flyToFrame=u.Util.requestAnimFrame(S,this);this._move(this.unproject(i.add(r.subtract(i).multiplyBy(x(o)/h)),s),this.getScaleZoom(l/b(o),s),{flyTo:true})}else{this._move(t,e)._moveEnd(true)}}this._moveStart(true);S.call(this);return this},flyToBounds:function(t,e){var n=this._getBoundsCenterZoom(t,e);return this.flyTo(n.center,n.zoom,e)},setMaxBounds:function(t){t=u.latLngBounds(t);if(!t.isValid()){this.options.maxBounds=null;return this.off("moveend",this._panInsideMaxBounds)}else if(this.options.maxBounds){this.off("moveend",this._panInsideMaxBounds)}this.options.maxBounds=t;if(this._loaded){this._panInsideMaxBounds()}return this.on("moveend",this._panInsideMaxBounds)},setMinZoom:function(t){this.options.minZoom=t;if(this._loaded&&this.getZoom()<this.options.minZoom){return this.setZoom(t)}return this},setMaxZoom:function(t){this.options.maxZoom=t;if(this._loaded&&this.getZoom()>this.options.maxZoom){return this.setZoom(t)}return this},panInsideBounds:function(t,e){this._enforcingBounds=true;var n=this.getCenter(),i=this._limitCenter(n,this._zoom,u.latLngBounds(t));if(!n.equals(i)){this.panTo(i,e)}this._enforcingBounds=false;return this},invalidateSize:function(t){if(!this._loaded){return this}t=u.extend({animate:false,pan:true},t===true?{animate:true}:t);var e=this.getSize();this._sizeChanged=true;this._lastCenter=null;var n=this.getSize(),i=e.divideBy(2).round(),r=n.divideBy(2).round(),o=i.subtract(r);if(!o.x&&!o.y){return this}if(t.animate&&t.pan){this.panBy(o)}else{if(t.pan){this._rawPanBy(o)}this.fire("move");if(t.debounceMoveend){clearTimeout(this._sizeTimer);this._sizeTimer=setTimeout(u.bind(this.fire,this,"moveend"),200)}else{this.fire("moveend")}}return this.fire("resize",{oldSize:e,newSize:n})},stop:function(){this.setZoom(this._limitZoom(this._zoom));if(!this.options.zoomSnap){this.fire("viewreset")}return this._stop()},locate:function(t){t=this._locateOptions=u.extend({timeout:1e4,watch:false},t);if(!("geolocation"in navigator)){this._handleGeolocationError({code:0,message:"Geolocation not supported."});return this}var e=u.bind(this._handleGeolocationResponse,this),n=u.bind(this._handleGeolocationError,this);if(t.watch){this._locationWatchId=navigator.geolocation.watchPosition(e,n,t)}else{navigator.geolocation.getCurrentPosition(e,n,t)}return this},stopLocate:function(){if(navigator.geolocation&&navigator.geolocation.clearWatch){navigator.geolocation.clearWatch(this._locationWatchId)}if(this._locateOptions){this._locateOptions.setView=false}return this},_handleGeolocationError:function(t){var e=t.code,n=t.message||(e===1?"permission denied":e===2?"position unavailable":"timeout");if(this._locateOptions.setView&&!this._loaded){this.fitWorld()}this.fire("locationerror",{code:e,message:"Geolocation error: "+n+"."})},_handleGeolocationResponse:function(t){var e=t.coords.latitude,n=t.coords.longitude,i=new u.LatLng(e,n),r=i.toBounds(t.coords.accuracy),o=this._locateOptions;if(o.setView){var s=this.getBoundsZoom(r);this.setView(i,o.maxZoom?Math.min(s,o.maxZoom):s)}var a={latlng:i,bounds:r,timestamp:t.timestamp};for(var l in t.coords){if(typeof t.coords[l]==="number"){a[l]=t.coords[l]}}this.fire("locationfound",a)},addHandler:function(t,e){if(!e){return this}var n=this[t]=new e(this);this._handlers.push(n);if(this.options[t]){n.enable()}return this},remove:function(){this._initEvents(true);if(this._containerId!==this._container._leaflet_id){throw new Error("Map container is being reused by another instance")}try{delete this._container._leaflet_id;delete this._containerId}catch(t){this._container._leaflet_id=a;this._containerId=a}u.DomUtil.remove(this._mapPane);if(this._clearControlPos){this._clearControlPos()}this._clearHandlers();if(this._loaded){this.fire("unload")}for(var t in this._layers){this._layers[t].remove()}return this},createPane:function(t,e){var n="leaflet-pane"+(t?" leaflet-"+t.replace("Pane","")+"-pane":""),i=u.DomUtil.create("div",n,e||this._mapPane);if(t){this._panes[t]=i}return i},getCenter:function(){this._checkIfLoaded();if(this._lastCenter&&!this._moved()){return this._lastCenter}return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new u.LatLngBounds(e,n)},getMinZoom:function(){return this.options.minZoom===a?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===a?this._layersMaxZoom===a?Infinity:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(t,e,n){t=u.latLngBounds(t);n=u.point(n||[0,0]);var i=this.getZoom()||0,r=this.getMinZoom(),o=this.getMaxZoom(),s=t.getNorthWest(),a=t.getSouthEast(),l=this.getSize().subtract(n),c=u.bounds(this.project(a,i),this.project(s,i)).getSize(),h=u.Browser.any3d?this.options.zoomSnap:1;var f=Math.min(l.x/c.x,l.y/c.y);i=this.getScaleZoom(f,i);if(h){i=Math.round(i/(h/100))*(h/100);i=e?Math.ceil(i/h)*h:Math.floor(i/h)*h}return Math.max(r,Math.min(o,i))},getSize:function(){if(!this._size||this._sizeChanged){this._size=new u.Point(this._container.clientWidth||0,this._container.clientHeight||0);this._sizeChanged=false}return this._size.clone()},getPixelBounds:function(t,e){var n=this._getTopLeftPoint(t,e);return new u.Bounds(n,n.add(this.getSize()))},getPixelOrigin:function(){this._checkIfLoaded();return this._pixelOrigin},getPixelWorldBounds:function(t){return this.options.crs.getProjectedBounds(t===a?this.getZoom():t)},getPane:function(t){return typeof t==="string"?this._panes[t]:t},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t,e){var n=this.options.crs;e=e===a?this._zoom:e;return n.scale(t)/n.scale(e)},getScaleZoom:function(t,e){var n=this.options.crs;e=e===a?this._zoom:e;var i=n.zoom(t*n.scale(e));return isNaN(i)?Infinity:i},project:function(t,e){e=e===a?this._zoom:e;return this.options.crs.latLngToPoint(u.latLng(t),e)},unproject:function(t,e){e=e===a?this._zoom:e;return this.options.crs.pointToLatLng(u.point(t),e)},layerPointToLatLng:function(t){var e=u.point(t).add(this.getPixelOrigin());return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(u.latLng(t))._round();return e._subtract(this.getPixelOrigin())},wrapLatLng:function(t){return this.options.crs.wrapLatLng(u.latLng(t))},wrapLatLngBounds:function(t){return this.options.crs.wrapLatLngBounds(u.latLngBounds(t))},distance:function(t,e){return this.options.crs.distance(u.latLng(t),u.latLng(e))},containerPointToLayerPoint:function(t){return u.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return u.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(u.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(u.latLng(t)))},mouseEventToContainerPoint:function(t){return u.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=u.DomUtil.get(t);if(!e){throw new Error("Map container not found.")}else if(e._leaflet_id){throw new Error("Map container is already initialized.")}u.DomEvent.addListener(e,"scroll",this._onScroll,this);this._containerId=u.Util.stamp(e)},_initLayout:function(){var t=this._container;this._fadeAnimated=this.options.fadeAnimation&&u.Browser.any3d;u.DomUtil.addClass(t,"leaflet-container"+(u.Browser.touch?" leaflet-touch":"")+(u.Browser.retina?" leaflet-retina":"")+(u.Browser.ielt9?" leaflet-oldie":"")+(u.Browser.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var e=u.DomUtil.getStyle(t,"position");if(e!=="absolute"&&e!=="relative"&&e!=="fixed"){t.style.position="relative"}this._initPanes();if(this._initControlPos){this._initControlPos()}},_initPanes:function(){var t=this._panes={};this._paneRenderers={};this._mapPane=this.createPane("mapPane",this._container);u.DomUtil.setPosition(this._mapPane,new u.Point(0,0));this.createPane("tilePane");this.createPane("shadowPane");this.createPane("overlayPane");this.createPane("markerPane");this.createPane("tooltipPane");this.createPane("popupPane");if(!this.options.markerZoomAnimation){u.DomUtil.addClass(t.markerPane,"leaflet-zoom-hide");u.DomUtil.addClass(t.shadowPane,"leaflet-zoom-hide")}},_resetView:function(t,e){u.DomUtil.setPosition(this._mapPane,new u.Point(0,0));var n=!this._loaded;this._loaded=true;e=this._limitZoom(e);this.fire("viewprereset");var i=this._zoom!==e;this._moveStart(i)._move(t,e)._moveEnd(i);this.fire("viewreset");if(n){this.fire("load")}},_moveStart:function(t){if(t){this.fire("zoomstart")}return this.fire("movestart")},_move:function(t,e,n){if(e===a){e=this._zoom}var i=this._zoom!==e;this._zoom=e;this._lastCenter=t;this._pixelOrigin=this._getNewPixelOrigin(t);if(i||n&&n.pinch){this.fire("zoom",n)}return this.fire("move",n)},_moveEnd:function(t){if(t){this.fire("zoomend")}return this.fire("moveend")},_stop:function(){u.Util.cancelAnimFrame(this._flyToFrame);if(this._panAnim){this._panAnim.stop()}return this},_rawPanBy:function(t){u.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){if(!this._enforcingBounds){this.panInsideBounds(this.options.maxBounds)}},_checkIfLoaded:function(){if(!this._loaded){throw new Error("Set map center and zoom first.")}},_initEvents:function(t){if(!u.DomEvent){return}this._targets={};this._targets[u.stamp(this._container)]=this;var e=t?"off":"on";u.DomEvent[e](this._container,"click dblclick mousedown mouseup "+"mouseover mouseout mousemove contextmenu keypress",this._handleDOMEvent,this);if(this.options.trackResize){u.DomEvent[e](o,"resize",this._onResize,this)}if(u.Browser.any3d&&this.options.transform3DLimit){this[e]("moveend",this._onMoveEnd)}},_onResize:function(){u.Util.cancelAnimFrame(this._resizeRequest);this._resizeRequest=u.Util.requestAnimFrame(function(){this.invalidateSize({debounceMoveend:true})},this)},_onScroll:function(){this._container.scrollTop=0;this._container.scrollLeft=0},_onMoveEnd:function(){var t=this._getMapPanePos();if(Math.max(Math.abs(t.x),Math.abs(t.y))>=this.options.transform3DLimit){this._resetView(this.getCenter(),this.getZoom())}},_findEventTargets:function(t,e){var n=[],i,r=e==="mouseout"||e==="mouseover",o=t.target||t.srcElement,s=false;while(o){i=this._targets[u.stamp(o)];if(i&&(e==="click"||e==="preclick")&&!t._simulated&&this._draggableMoved(i)){s=true;break}if(i&&i.listens(e,true)){if(r&&!u.DomEvent._isExternalTarget(o,t)){break}n.push(i);if(r){break}}if(o===this._container){break}o=o.parentNode}if(!n.length&&!s&&!r&&u.DomEvent._isExternalTarget(o,t)){n=[this]}return n},_handleDOMEvent:function(t){if(!this._loaded||u.DomEvent._skipped(t)){return}var e=t.type==="keypress"&&t.keyCode===13?"click":t.type;if(e==="mousedown"){u.DomUtil.preventOutline(t.target||t.srcElement)}this._fireDOMEvent(t,e)},_fireDOMEvent:function(t,e,n){if(t.type==="click"){var i=u.Util.extend({},t);i.type="preclick";this._fireDOMEvent(i,i.type,n)}if(t._stopped){return}n=(n||[]).concat(this._findEventTargets(t,e));if(!n.length){return}var r=n[0];if(e==="contextmenu"&&r.listens(e,true)){u.DomEvent.preventDefault(t)}var o={originalEvent:t};if(t.type!=="keypress"){var s=r instanceof u.Marker;o.containerPoint=s?this.latLngToContainerPoint(r.getLatLng()):this.mouseEventToContainerPoint(t);o.layerPoint=this.containerPointToLayerPoint(o.containerPoint);o.latlng=s?r.getLatLng():this.layerPointToLatLng(o.layerPoint)}for(var a=0;a<n.length;a++){n[a].fire(e,o,true);if(o.originalEvent._stopped||n[a].options.nonBubblingEvents&&u.Util.indexOf(n[a].options.nonBubblingEvents,e)!==-1){return}}},_draggableMoved:function(t){t=t.dragging&&t.dragging.enabled()?t:this;return t.dragging&&t.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var t=0,e=this._handlers.length;t<e;t++){this._handlers[t].disable()}},whenReady:function(t,e){if(this._loaded){t.call(e||this,{target:this})}else{this.on("load",t,e)}return this},_getMapPanePos:function(){return u.DomUtil.getPosition(this._mapPane)||new u.Point(0,0)},_moved:function(){var t=this._getMapPanePos();return t&&!t.equals([0,0])},_getTopLeftPoint:function(t,e){var n=t&&e!==a?this._getNewPixelOrigin(t,e):this.getPixelOrigin();return n.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(t,e){var n=this.getSize()._divideBy(2);return this.project(t,e)._subtract(n)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return this.project(t,e)._subtract(i)},_latLngBoundsToNewLayerBounds:function(t,e,n){var i=this._getNewPixelOrigin(n,e);return u.bounds([this.project(t.getSouthWest(),e)._subtract(i),this.project(t.getNorthWest(),e)._subtract(i),this.project(t.getSouthEast(),e)._subtract(i),this.project(t.getNorthEast(),e)._subtract(i)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitCenter:function(t,e,n){if(!n){return t}var i=this.project(t,e),r=this.getSize().divideBy(2),o=new u.Bounds(i.subtract(r),i.add(r)),s=this._getBoundsOffset(o,n,e);if(s.round().equals([0,0])){return t}return this.unproject(i.add(s),e)},_limitOffset:function(t,e){if(!e){return t}var n=this.getPixelBounds(),i=new u.Bounds(n.min.add(t),n.max.add(t));return t.add(this._getBoundsOffset(i,e))},_getBoundsOffset:function(t,e,n){var i=u.bounds(this.project(e.getNorthEast(),n),this.project(e.getSouthWest(),n)),r=i.min.subtract(t.min),o=i.max.subtract(t.max),s=this._rebound(r.x,-o.x),a=this._rebound(r.y,-o.y);return new u.Point(s,a)},_rebound:function(t,e){return t+e>0?Math.round(t-e)/2:Math.max(0,Math.ceil(t))-Math.max(0,Math.floor(e))},_limitZoom:function(t){var e=this.getMinZoom(),n=this.getMaxZoom(),i=u.Browser.any3d?this.options.zoomSnap:1;if(i){t=Math.round(t/i)*i}return Math.max(e,Math.min(n,t))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){u.DomUtil.removeClass(this._mapPane,"leaflet-pan-anim");this.fire("moveend")},_tryAnimatedPan:function(t,e){var n=this._getCenterOffset(t)._floor();if((e&&e.animate)!==true&&!this.getSize().contains(n)){return false}this.panBy(n,e);return true},_createAnimProxy:function(){var t=this._proxy=u.DomUtil.create("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(t);this.on("zoomanim",function(e){var n=u.DomUtil.TRANSFORM,i=t.style[n];u.DomUtil.setTransform(t,this.project(e.center,e.zoom),this.getZoomScale(e.zoom,1));if(i===t.style[n]&&this._animatingZoom){this._onZoomTransitionEnd()}},this);this.on("load moveend",function(){var e=this.getCenter(),n=this.getZoom();u.DomUtil.setTransform(t,this.project(e,n),this.getZoomScale(n,1))},this)},_catchTransitionEnd:function(t){if(this._animatingZoom&&t.propertyName.indexOf("transform")>=0){this._onZoomTransitionEnd()}},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(t,e,n){if(this._animatingZoom){return true}n=n||{};if(!this._zoomAnimated||n.animate===false||this._nothingToAnimate()||Math.abs(e-this._zoom)>this.options.zoomAnimationThreshold){return false}var i=this.getZoomScale(e),r=this._getCenterOffset(t)._divideBy(1-1/i);if(n.animate!==true&&!this.getSize().contains(r)){return false}u.Util.requestAnimFrame(function(){this._moveStart(true)._animateZoom(t,e,true)},this);return true},_animateZoom:function(t,e,n,i){if(n){this._animatingZoom=true;this._animateToCenter=t;this._animateToZoom=e;u.DomUtil.addClass(this._mapPane,"leaflet-zoom-anim")}this.fire("zoomanim",{center:t,zoom:e,noUpdate:i});setTimeout(u.bind(this._onZoomTransitionEnd,this),250)},_onZoomTransitionEnd:function(){if(!this._animatingZoom){return}u.DomUtil.removeClass(this._mapPane,"leaflet-zoom-anim");this._animatingZoom=false;this._move(this._animateToCenter,this._animateToZoom);u.Util.requestAnimFrame(function(){this._moveEnd(true)},this)}});u.map=function(t,e){return new u.Map(t,e)};u.Layer=u.Evented.extend({options:{pane:"overlayPane",nonBubblingEvents:[],attribution:null},addTo:function(t){t.addLayer(this);return this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(t){if(t){t.removeLayer(this)}return this},getPane:function(t){return this._map.getPane(t?this.options[t]||t:this.options.pane)},addInteractiveTarget:function(t){this._map._targets[u.stamp(t)]=this;return this},removeInteractiveTarget:function(t){delete this._map._targets[u.stamp(t)];return this},getAttribution:function(){return this.options.attribution},_layerAdd:function(t){var e=t.target;if(!e.hasLayer(this)){return}this._map=e;this._zoomAnimated=e._zoomAnimated;if(this.getEvents){var n=this.getEvents();e.on(n,this);this.once("remove",function(){e.off(n,this)},this)}this.onAdd(e);if(this.getAttribution&&e.attributionControl){e.attributionControl.addAttribution(this.getAttribution())}this.fire("add");e.fire("layeradd",{layer:this})}});u.Map.include({addLayer:function(t){var e=u.stamp(t);if(this._layers[e]){return this}this._layers[e]=t;t._mapToAdd=this;if(t.beforeAdd){t.beforeAdd(this)}this.whenReady(t._layerAdd,t);return this},removeLayer:function(t){var e=u.stamp(t);if(!this._layers[e]){return this}if(this._loaded){t.onRemove(this)}if(t.getAttribution&&this.attributionControl){this.attributionControl.removeAttribution(t.getAttribution())}delete this._layers[e];if(this._loaded){this.fire("layerremove",{layer:t});t.fire("remove")}t._map=t._mapToAdd=null;return this},hasLayer:function(t){return!!t&&u.stamp(t)in this._layers},eachLayer:function(t,e){for(var n in this._layers){t.call(e,this._layers[n])}return this},_addLayers:function(t){t=t?u.Util.isArray(t)?t:[t]:[];for(var e=0,n=t.length;e<n;e++){this.addLayer(t[e])}},_addZoomLimit:function(t){if(isNaN(t.options.maxZoom)||!isNaN(t.options.minZoom)){this._zoomBoundLayers[u.stamp(t)]=t;this._updateZoomLevels()}},_removeZoomLimit:function(t){var e=u.stamp(t);if(this._zoomBoundLayers[e]){delete this._zoomBoundLayers[e];this._updateZoomLevels()}},_updateZoomLevels:function(){var t=Infinity,e=-Infinity,n=this._getZoomSpan();for(var i in this._zoomBoundLayers){var r=this._zoomBoundLayers[i].options;t=r.minZoom===a?t:Math.min(t,r.minZoom);e=r.maxZoom===a?e:Math.max(e,r.maxZoom)}this._layersMaxZoom=e===-Infinity?a:e;this._layersMinZoom=t===Infinity?a:t;if(n!==this._getZoomSpan()){this.fire("zoomlevelschange")}if(this.options.maxZoom===a&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom){this.setZoom(this._layersMaxZoom)}if(this.options.minZoom===a&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom){this.setZoom(this._layersMinZoom)}}});var h="_leaflet_events";u.DomEvent={on:function(t,e,n,i){if(typeof e==="object"){for(var r in e){this._on(t,r,e[r],n)}}else{e=u.Util.splitWords(e);for(var o=0,s=e.length;o<s;o++){this._on(t,e[o],n,i)}}return this},off:function(t,e,n,i){if(typeof e==="object"){for(var r in e){this._off(t,r,e[r],n)}}else{e=u.Util.splitWords(e);for(var o=0,s=e.length;o<s;o++){this._off(t,e[o],n,i)}}return this},_on:function(t,e,n,i){var r=e+u.stamp(n)+(i?"_"+u.stamp(i):"");if(t[h]&&t[h][r]){return this}var s=function(e){return n.call(i||t,e||o.event)};var a=s;if(u.Browser.pointer&&e.indexOf("touch")===0){this.addPointerListener(t,e,s,r)}else if(u.Browser.touch&&e==="dblclick"&&this.addDoubleTapListener&&!(u.Browser.pointer&&u.Browser.chrome)){this.addDoubleTapListener(t,s,r)}else if("addEventListener"in t){if(e==="mousewheel"){t.addEventListener("onwheel"in t?"wheel":"mousewheel",s,false)}else if(e==="mouseenter"||e==="mouseleave"){s=function(e){e=e||o.event;if(u.DomEvent._isExternalTarget(t,e)){a(e)}};t.addEventListener(e==="mouseenter"?"mouseover":"mouseout",s,false)}else{if(e==="click"&&u.Browser.android){s=function(t){return u.DomEvent._filterClick(t,a)}}t.addEventListener(e,s,false)}}else if("attachEvent"in t){t.attachEvent("on"+e,s)}t[h]=t[h]||{};t[h][r]=s;return this},_off:function(t,e,n,i){var r=e+u.stamp(n)+(i?"_"+u.stamp(i):""),o=t[h]&&t[h][r];if(!o){return this}if(u.Browser.pointer&&e.indexOf("touch")===0){this.removePointerListener(t,e,r)}else if(u.Browser.touch&&e==="dblclick"&&this.removeDoubleTapListener){this.removeDoubleTapListener(t,r)}else if("removeEventListener"in t){if(e==="mousewheel"){t.removeEventListener("onwheel"in t?"wheel":"mousewheel",o,false)}else{t.removeEventListener(e==="mouseenter"?"mouseover":e==="mouseleave"?"mouseout":e,o,false)}}else if("detachEvent"in t){t.detachEvent("on"+e,o)}t[h][r]=null;return this},stopPropagation:function(t){if(t.stopPropagation){t.stopPropagation()}else if(t.originalEvent){t.originalEvent._stopped=true}else{t.cancelBubble=true}u.DomEvent._skipped(t);return this},disableScrollPropagation:function(t){return u.DomEvent.on(t,"mousewheel",u.DomEvent.stopPropagation)},disableClickPropagation:function(t){var e=u.DomEvent.stopPropagation;u.DomEvent.on(t,u.Draggable.START.join(" "),e);return u.DomEvent.on(t,{click:u.DomEvent._fakeStop,dblclick:e})},preventDefault:function(t){if(t.preventDefault){t.preventDefault()}else{t.returnValue=false}return this},stop:function(t){return u.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){if(!e){return new u.Point(t.clientX,t.clientY)}var n=e.getBoundingClientRect();return new u.Point(t.clientX-n.left-e.clientLeft,t.clientY-n.top-e.clientTop)},_wheelPxFactor:u.Browser.win&&u.Browser.chrome?2:u.Browser.gecko?o.devicePixelRatio:1,getWheelDelta:function(t){return u.Browser.edge?t.wheelDeltaY/2:t.deltaY&&t.deltaMode===0?-t.deltaY/u.DomEvent._wheelPxFactor:t.deltaY&&t.deltaMode===1?-t.deltaY*20:t.deltaY&&t.deltaMode===2?-t.deltaY*60:t.deltaX||t.deltaZ?0:t.wheelDelta?(t.wheelDeltaY||t.wheelDelta)/2:t.detail&&Math.abs(t.detail)<32765?-t.detail*20:t.detail?t.detail/-32765*60:0},_skipEvents:{},_fakeStop:function(t){u.DomEvent._skipEvents[t.type]=true},_skipped:function(t){var e=this._skipEvents[t.type];this._skipEvents[t.type]=false;return e},_isExternalTarget:function(t,e){var n=e.relatedTarget;if(!n){return true}try{while(n&&n!==t){n=n.parentNode}}catch(t){return false}return n!==t},_filterClick:function(t,e){var n=t.timeStamp||t.originalEvent&&t.originalEvent.timeStamp,i=u.DomEvent._lastClick&&n-u.DomEvent._lastClick;if(i&&i>100&&i<500||t.target._simulatedClick&&!t._simulated){u.DomEvent.stop(t);return}u.DomEvent._lastClick=n;e(t)}};u.DomEvent.addListener=u.DomEvent.on;u.DomEvent.removeListener=u.DomEvent.off;u.PosAnimation=u.Evented.extend({run:function(t,e,n,i){this.stop();this._el=t;this._inProgress=true;this._duration=n||.25;this._easeOutPower=1/Math.max(i||.5,.2);this._startPos=u.DomUtil.getPosition(t);this._offset=e.subtract(this._startPos);this._startTime=+new Date;this.fire("start");this._animate()},stop:function(){if(!this._inProgress){return}this._step(true);this._complete()},_animate:function(){this._animId=u.Util.requestAnimFrame(this._animate,this);this._step()},_step:function(t){var e=+new Date-this._startTime,n=this._duration*1e3;if(e<n){this._runFrame(this._easeOut(e/n),t)}else{this._runFrame(1);this._complete()}},_runFrame:function(t,e){var n=this._startPos.add(this._offset.multiplyBy(t));if(e){n._round()}u.DomUtil.setPosition(this._el,n);this.fire("step")},_complete:function(){u.Util.cancelAnimFrame(this._animId);this._inProgress=false;this.fire("end")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}});u.Projection.Mercator={R:6378137,R_MINOR:6356752.314245179,bounds:u.bounds([-20037508.34279,-15496570.73972],[20037508.34279,18764656.23138]),project:function(t){var e=Math.PI/180,n=this.R,i=t.lat*e,r=this.R_MINOR/n,o=Math.sqrt(1-r*r),s=o*Math.sin(i);var a=Math.tan(Math.PI/4-i/2)/Math.pow((1-s)/(1+s),o/2);i=-n*Math.log(Math.max(a,1e-10));return new u.Point(t.lng*e*n,i)},unproject:function(t){var e=180/Math.PI,n=this.R,i=this.R_MINOR/n,r=Math.sqrt(1-i*i),o=Math.exp(-t.y/n),s=Math.PI/2-2*Math.atan(o);for(var a=0,l=.1,c;a<15&&Math.abs(l)>1e-7;a++){c=r*Math.sin(s);c=Math.pow((1-c)/(1+c),r/2);l=Math.PI/2-2*Math.atan(o*c)-s;s+=l}return new u.LatLng(s*e,t.x*e/n)}};u.CRS.EPSG3395=u.extend({},u.CRS.Earth,{code:"EPSG:3395",projection:u.Projection.Mercator,transformation:function(){var t=.5/(Math.PI*u.Projection.Mercator.R);return new u.Transformation(t,.5,-t,.5)}()});u.GridLayer=u.Layer.extend({options:{tileSize:256,opacity:1,updateWhenIdle:u.Browser.mobile,updateWhenZooming:true,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:a,noWrap:false,pane:"tilePane",className:"",keepBuffer:2},initialize:function(t){u.setOptions(this,t)},onAdd:function(){this._initContainer();this._levels={};this._tiles={};this._resetView();this._update()},beforeAdd:function(t){t._addZoomLimit(this)},onRemove:function(t){this._removeAllTiles();u.DomUtil.remove(this._container);t._removeZoomLimit(this);this._container=null;this._tileZoom=null},bringToFront:function(){if(this._map){u.DomUtil.toFront(this._container);this._setAutoZIndex(Math.max)}return this},bringToBack:function(){if(this._map){u.DomUtil.toBack(this._container);this._setAutoZIndex(Math.min)}return this},getContainer:function(){return this._container},setOpacity:function(t){this.options.opacity=t;this._updateOpacity();return this},setZIndex:function(t){this.options.zIndex=t;this._updateZIndex();return this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();this._update()}return this},getEvents:function(){var t={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};if(!this.options.updateWhenIdle){if(!this._onMove){this._onMove=u.Util.throttle(this._onMoveEnd,this.options.updateInterval,this)}t.move=this._onMove}if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},createTile:function(){return s.createElement("div")},getTileSize:function(){var t=this.options.tileSize;return t instanceof u.Point?t:new u.Point(t,t)},_updateZIndex:function(){if(this._container&&this.options.zIndex!==a&&this.options.zIndex!==null){this._container.style.zIndex=this.options.zIndex}},_setAutoZIndex:function(t){var e=this.getPane().children,n=-t(-Infinity,Infinity);for(var i=0,r=e.length,o;i<r;i++){o=e[i].style.zIndex;if(e[i]!==this._container&&o){n=t(n,+o)}}if(isFinite(n)){this.options.zIndex=n+t(-1,1);this._updateZIndex()}},_updateOpacity:function(){if(!this._map){return}if(u.Browser.ielt9){return}u.DomUtil.setOpacity(this._container,this.options.opacity);var t=+new Date,e=false,n=false;for(var i in this._tiles){var r=this._tiles[i];if(!r.current||!r.loaded){continue}var o=Math.min(1,(t-r.loaded)/200);u.DomUtil.setOpacity(r.el,o);if(o<1){e=true}else{if(r.active){n=true}r.active=true}}if(n&&!this._noPrune){this._pruneTiles()}if(e){u.Util.cancelAnimFrame(this._fadeFrame);this._fadeFrame=u.Util.requestAnimFrame(this._updateOpacity,this)}},_initContainer:function(){if(this._container){return}this._container=u.DomUtil.create("div","leaflet-layer "+(this.options.className||""));this._updateZIndex();if(this.options.opacity<1){this._updateOpacity()}this.getPane().appendChild(this._container)},_updateLevels:function(){var t=this._tileZoom,e=this.options.maxZoom;if(t===a){return a}for(var n in this._levels){if(this._levels[n].el.children.length||n===t){this._levels[n].el.style.zIndex=e-Math.abs(t-n)}else{u.DomUtil.remove(this._levels[n].el);this._removeTilesAtZoom(n);delete this._levels[n]}}var i=this._levels[t],r=this._map;if(!i){i=this._levels[t]={};i.el=u.DomUtil.create("div","leaflet-tile-container leaflet-zoom-animated",this._container);i.el.style.zIndex=e;i.origin=r.project(r.unproject(r.getPixelOrigin()),t).round();i.zoom=t;this._setZoomTransform(i,r.getCenter(),r.getZoom());u.Util.falseFn(i.el.offsetWidth)}this._level=i;return i},_pruneTiles:function(){if(!this._map){return}var t,e;var n=this._map.getZoom();if(n>this.options.maxZoom||n<this.options.minZoom){this._removeAllTiles();return}for(t in this._tiles){e=this._tiles[t];e.retain=e.current}for(t in this._tiles){e=this._tiles[t];if(e.current&&!e.active){var i=e.coords;if(!this._retainParent(i.x,i.y,i.z,i.z-5)){this._retainChildren(i.x,i.y,i.z,i.z+2)}}}for(t in this._tiles){if(!this._tiles[t].retain){this._removeTile(t)}}},_removeTilesAtZoom:function(t){for(var e in this._tiles){if(this._tiles[e].coords.z!==t){continue}this._removeTile(e)}},_removeAllTiles:function(){for(var t in this._tiles){this._removeTile(t)}},_invalidateAll:function(){for(var t in this._levels){u.DomUtil.remove(this._levels[t].el);delete this._levels[t]}this._removeAllTiles();this._tileZoom=null},_retainParent:function(t,e,n,i){var r=Math.floor(t/2),o=Math.floor(e/2),s=n-1,a=new u.Point(+r,+o);a.z=+s;var l=this._tileCoordsToKey(a),c=this._tiles[l];if(c&&c.active){c.retain=true;return true}else if(c&&c.loaded){c.retain=true}if(s>i){return this._retainParent(r,o,s,i)}return false},_retainChildren:function(t,e,n,i){for(var r=2*t;r<2*t+2;r++){for(var o=2*e;o<2*e+2;o++){var s=new u.Point(r,o);s.z=n+1;var a=this._tileCoordsToKey(s),l=this._tiles[a];if(l&&l.active){l.retain=true;continue}else if(l&&l.loaded){l.retain=true}if(n+1<i){this._retainChildren(r,o,n+1,i)}}}},_resetView:function(t){var e=t&&(t.pinch||t.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),e,e)},_animateZoom:function(t){this._setView(t.center,t.zoom,true,t.noUpdate)},_setView:function(t,e,n,i){var r=Math.round(e);if(this.options.maxZoom!==a&&r>this.options.maxZoom||this.options.minZoom!==a&&r<this.options.minZoom){r=a}var o=this.options.updateWhenZooming&&r!==this._tileZoom;if(!i||o){this._tileZoom=r;if(this._abortLoading){this._abortLoading()}this._updateLevels();this._resetGrid();if(r!==a){this._update(t)}if(!n){this._pruneTiles()}this._noPrune=!!n}this._setZoomTransforms(t,e)},_setZoomTransforms:function(t,e){for(var n in this._levels){this._setZoomTransform(this._levels[n],t,e)}},_setZoomTransform:function(t,e,n){var i=this._map.getZoomScale(n,t.zoom),r=t.origin.multiplyBy(i).subtract(this._map._getNewPixelOrigin(e,n)).round();if(u.Browser.any3d){u.DomUtil.setTransform(t.el,r,i)}else{u.DomUtil.setPosition(t.el,r)}},_resetGrid:function(){var t=this._map,e=t.options.crs,n=this._tileSize=this.getTileSize(),i=this._tileZoom;var r=this._map.getPixelWorldBounds(this._tileZoom);if(r){this._globalTileRange=this._pxBoundsToTileRange(r)}this._wrapX=e.wrapLng&&!this.options.noWrap&&[Math.floor(t.project([0,e.wrapLng[0]],i).x/n.x),Math.ceil(t.project([0,e.wrapLng[1]],i).x/n.y)];this._wrapY=e.wrapLat&&!this.options.noWrap&&[Math.floor(t.project([e.wrapLat[0],0],i).y/n.x),Math.ceil(t.project([e.wrapLat[1],0],i).y/n.y)]},_onMoveEnd:function(){if(!this._map||this._map._animatingZoom){return}this._update()},_getTiledPixelBounds:function(t){var e=this._map,n=e._animatingZoom?Math.max(e._animateToZoom,e.getZoom()):e.getZoom(),i=e.getZoomScale(n,this._tileZoom),r=e.project(t,this._tileZoom).floor(),o=e.getSize().divideBy(i*2);return new u.Bounds(r.subtract(o),r.add(o))},_update:function(t){var e=this._map;if(!e){return}var n=e.getZoom();if(t===a){t=e.getCenter()}if(this._tileZoom===a){return}var i=this._getTiledPixelBounds(t),r=this._pxBoundsToTileRange(i),o=r.getCenter(),l=[],c=this.options.keepBuffer,h=new u.Bounds(r.getBottomLeft().subtract([c,-c]),r.getTopRight().add([c,-c]));for(var f in this._tiles){var p=this._tiles[f].coords;if(p.z!==this._tileZoom||!h.contains(u.point(p.x,p.y))){this._tiles[f].current=false}}if(Math.abs(n-this._tileZoom)>1){this._setView(t,n);return}for(var d=r.min.y;d<=r.max.y;d++){for(var g=r.min.x;g<=r.max.x;g++){var m=new u.Point(g,d);m.z=this._tileZoom;if(!this._isValidTile(m)){continue}var v=this._tiles[this._tileCoordsToKey(m)];if(v){v.current=true}else{l.push(m)}}}l.sort(function(t,e){return t.distanceTo(o)-e.distanceTo(o)});if(l.length!==0){if(!this._loading){this._loading=true;this.fire("loading")}var y=s.createDocumentFragment();for(g=0;g<l.length;g++){this._addTile(l[g],y)}this._level.el.appendChild(y)}},_isValidTile:function(t){var e=this._map.options.crs;if(!e.infinite){var n=this._globalTileRange;if(!e.wrapLng&&(t.x<n.min.x||t.x>n.max.x)||!e.wrapLat&&(t.y<n.min.y||t.y>n.max.y)){return false}}if(!this.options.bounds){return true}var i=this._tileCoordsToBounds(t);return u.latLngBounds(this.options.bounds).overlaps(i)},_keyToBounds:function(t){return this._tileCoordsToBounds(this._keyToTileCoords(t))},_tileCoordsToBounds:function(t){var e=this._map,n=this.getTileSize(),i=t.scaleBy(n),r=i.add(n),o=e.unproject(i,t.z),s=e.unproject(r,t.z),a=new u.LatLngBounds(o,s);if(!this.options.noWrap){e.wrapLatLngBounds(a)}return a},_tileCoordsToKey:function(t){return t.x+":"+t.y+":"+t.z},_keyToTileCoords:function(t){var e=t.split(":"),n=new u.Point(+e[0],+e[1]);n.z=+e[2];return n},_removeTile:function(t){var e=this._tiles[t];if(!e){return}u.DomUtil.remove(e.el);delete this._tiles[t];this.fire("tileunload",{tile:e.el,coords:this._keyToTileCoords(t)})},_initTile:function(t){u.DomUtil.addClass(t,"leaflet-tile");var e=this.getTileSize();t.style.width=e.x+"px";t.style.height=e.y+"px";t.onselectstart=u.Util.falseFn;t.onmousemove=u.Util.falseFn;if(u.Browser.ielt9&&this.options.opacity<1){u.DomUtil.setOpacity(t,this.options.opacity)}if(u.Browser.android&&!u.Browser.android23){t.style.WebkitBackfaceVisibility="hidden"}},_addTile:function(t,e){var n=this._getTilePos(t),i=this._tileCoordsToKey(t);var r=this.createTile(this._wrapCoords(t),u.bind(this._tileReady,this,t));this._initTile(r);if(this.createTile.length<2){u.Util.requestAnimFrame(u.bind(this._tileReady,this,t,null,r))}u.DomUtil.setPosition(r,n);this._tiles[i]={el:r,coords:t,current:true};e.appendChild(r);this.fire("tileloadstart",{tile:r,coords:t})},_tileReady:function(t,e,n){if(!this._map){return}if(e){this.fire("tileerror",{error:e,tile:n,coords:t})}var i=this._tileCoordsToKey(t);n=this._tiles[i];if(!n){return}n.loaded=+new Date;if(this._map._fadeAnimated){u.DomUtil.setOpacity(n.el,0);u.Util.cancelAnimFrame(this._fadeFrame);this._fadeFrame=u.Util.requestAnimFrame(this._updateOpacity,this)}else{n.active=true;this._pruneTiles()}if(!e){u.DomUtil.addClass(n.el,"leaflet-tile-loaded");this.fire("tileload",{tile:n.el,coords:t})}if(this._noTilesToLoad()){this._loading=false;this.fire("load");if(u.Browser.ielt9||!this._map._fadeAnimated){u.Util.requestAnimFrame(this._pruneTiles,this)}else{setTimeout(u.bind(this._pruneTiles,this),250)}}},_getTilePos:function(t){return t.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(t){var e=new u.Point(this._wrapX?u.Util.wrapNum(t.x,this._wrapX):t.x,this._wrapY?u.Util.wrapNum(t.y,this._wrapY):t.y);e.z=t.z;return e},_pxBoundsToTileRange:function(t){var e=this.getTileSize();return new u.Bounds(t.min.unscaleBy(e).floor(),t.max.unscaleBy(e).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var t in this._tiles){if(!this._tiles[t].loaded){return false}}return true}});u.gridLayer=function(t){return new u.GridLayer(t)};u.TileLayer=u.GridLayer.extend({options:{minZoom:0,maxZoom:18,maxNativeZoom:null,minNativeZoom:null,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:false,zoomReverse:false,detectRetina:false,crossOrigin:false},initialize:function(t,e){this._url=t;e=u.setOptions(this,e);if(e.detectRetina&&u.Browser.retina&&e.maxZoom>0){e.tileSize=Math.floor(e.tileSize/2);if(!e.zoomReverse){e.zoomOffset++;e.maxZoom--}else{e.zoomOffset--;e.minZoom++}e.minZoom=Math.max(0,e.minZoom)}if(typeof e.subdomains==="string"){e.subdomains=e.subdomains.split("")}if(!u.Browser.android){this.on("tileunload",this._onTileRemove)}},setUrl:function(t,e){this._url=t;if(!e){this.redraw()}return this},createTile:function(t,e){var n=s.createElement("img");u.DomEvent.on(n,"load",u.bind(this._tileOnLoad,this,e,n));u.DomEvent.on(n,"error",u.bind(this._tileOnError,this,e,n));if(this.options.crossOrigin){n.crossOrigin=""}n.alt="";n.setAttribute("role","presentation");n.src=this.getTileUrl(t);return n},getTileUrl:function(t){var e={r:u.Browser.retina?"@2x":"",s:this._getSubdomain(t),x:t.x,y:t.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var n=this._globalTileRange.max.y-t.y;if(this.options.tms){e["y"]=n}e["-y"]=n}return u.Util.template(this._url,u.extend(e,this.options))},_tileOnLoad:function(t,e){if(u.Browser.ielt9){setTimeout(u.bind(t,this,null,e),0)}else{t(null,e)}},_tileOnError:function(t,e,n){var i=this.options.errorTileUrl;if(i&&e.src!==i){e.src=i}t(n,e)},getTileSize:function(){var t=this._map,e=u.GridLayer.prototype.getTileSize.call(this),n=this._tileZoom+this.options.zoomOffset,i=this.options.minNativeZoom,r=this.options.maxNativeZoom;if(i!==null&&n<i){return e.divideBy(t.getZoomScale(i,n)).round()}if(r!==null&&n>r){return e.divideBy(t.getZoomScale(r,n)).round()}return e},_onTileRemove:function(t){t.tile.onload=null},_getZoomForUrl:function(){var t=this._tileZoom,e=this.options.maxZoom,n=this.options.zoomReverse,i=this.options.zoomOffset,r=this.options.minNativeZoom,o=this.options.maxNativeZoom;if(n){t=e-t}t+=i;if(r!==null&&t<r){return r}if(o!==null&&t>o){return o}return t},_getSubdomain:function(t){var e=Math.abs(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_abortLoading:function(){var t,e;for(t in this._tiles){if(this._tiles[t].coords.z!==this._tileZoom){e=this._tiles[t].el;e.onload=u.Util.falseFn;e.onerror=u.Util.falseFn;if(!e.complete){e.src=u.Util.emptyImageUrl;u.DomUtil.remove(e)}}}}});u.tileLayer=function(t,e){return new u.TileLayer(t,e)};u.TileLayer.WMS=u.TileLayer.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:false,version:"1.1.1"},options:{crs:null,uppercase:false},initialize:function(t,e){this._url=t;var n=u.extend({},this.defaultWmsParams);for(var i in e){if(!(i in this.options)){n[i]=e[i]}}e=u.setOptions(this,e);n.width=n.height=e.tileSize*(e.detectRetina&&u.Browser.retina?2:1);this.wmsParams=n},onAdd:function(t){this._crs=this.options.crs||t.options.crs;this._wmsVersion=parseFloat(this.wmsParams.version);var e=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[e]=this._crs.code;u.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t){var e=this._tileCoordsToBounds(t),n=this._crs.project(e.getNorthWest()),i=this._crs.project(e.getSouthEast()),r=(this._wmsVersion>=1.3&&this._crs===u.CRS.EPSG4326?[i.y,n.x,n.y,i.x]:[n.x,i.y,i.x,n.y]).join(","),o=u.TileLayer.prototype.getTileUrl.call(this,t);return o+u.Util.getParamString(this.wmsParams,o,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+r},setParams:function(t,e){u.extend(this.wmsParams,t);if(!e){this.redraw()}return this}});u.tileLayer.wms=function(t,e){return new u.TileLayer.WMS(t,e)};u.ImageOverlay=u.Layer.extend({options:{opacity:1,alt:"",interactive:false,crossOrigin:false},initialize:function(t,e,n){this._url=t;this._bounds=u.latLngBounds(e);u.setOptions(this,n)},onAdd:function(){if(!this._image){this._initImage();if(this.options.opacity<1){this._updateOpacity()}}if(this.options.interactive){u.DomUtil.addClass(this._image,"leaflet-interactive");this.addInteractiveTarget(this._image)}this.getPane().appendChild(this._image);this._reset()},onRemove:function(){u.DomUtil.remove(this._image);if(this.options.interactive){this.removeInteractiveTarget(this._image)}},setOpacity:function(t){this.options.opacity=t;if(this._image){this._updateOpacity()}return this},setStyle:function(t){if(t.opacity){this.setOpacity(t.opacity)}return this},bringToFront:function(){if(this._map){u.DomUtil.toFront(this._image)}return this},bringToBack:function(){if(this._map){u.DomUtil.toBack(this._image)}return this},setUrl:function(t){this._url=t;if(this._image){this._image.src=t}return this},setBounds:function(t){this._bounds=t;if(this._map){this._reset()}return this},getEvents:function(){var t={zoom:this._reset,viewreset:this._reset};if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var t=this._image=u.DomUtil.create("img","leaflet-image-layer "+(this._zoomAnimated?"leaflet-zoom-animated":""));t.onselectstart=u.Util.falseFn;t.onmousemove=u.Util.falseFn;t.onload=u.bind(this.fire,this,"load");if(this.options.crossOrigin){t.crossOrigin=""}t.src=this._url;t.alt=this.options.alt},_animateZoom:function(t){var e=this._map.getZoomScale(t.zoom),n=this._map._latLngBoundsToNewLayerBounds(this._bounds,t.zoom,t.center).min;u.DomUtil.setTransform(this._image,n,e)},_reset:function(){var t=this._image,e=new u.Bounds(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),n=e.getSize();u.DomUtil.setPosition(t,e.min);t.style.width=n.x+"px";t.style.height=n.y+"px"},_updateOpacity:function(){u.DomUtil.setOpacity(this._image,this.options.opacity)}});u.imageOverlay=function(t,e,n){return new u.ImageOverlay(t,e,n)};u.Icon=u.Class.extend({initialize:function(t){u.setOptions(this,t)},createIcon:function(t){return this._createIcon("icon",t)},createShadow:function(t){return this._createIcon("shadow",t)},_createIcon:function(t,e){var n=this._getIconUrl(t);if(!n){if(t==="icon"){throw new Error("iconUrl not set in Icon options (see the docs).")}return null}var i=this._createImg(n,e&&e.tagName==="IMG"?e:null);this._setIconStyles(i,t);return i},_setIconStyles:function(t,e){var n=this.options;var i=n[e+"Size"];if(typeof i==="number"){i=[i,i]}var r=u.point(i),o=u.point(e==="shadow"&&n.shadowAnchor||n.iconAnchor||r&&r.divideBy(2,true));t.className="leaflet-marker-"+e+" "+(n.className||"");if(o){t.style.marginLeft=-o.x+"px";t.style.marginTop=-o.y+"px"}if(r){t.style.width=r.x+"px";t.style.height=r.y+"px"}},_createImg:function(t,e){e=e||s.createElement("img");e.src=t;return e},_getIconUrl:function(t){return u.Browser.retina&&this.options[t+"RetinaUrl"]||this.options[t+"Url"]}});u.icon=function(t){return new u.Icon(t)};u.Icon.Default=u.Icon.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(t){if(!u.Icon.Default.imagePath){u.Icon.Default.imagePath=this._detectIconPath()}return(this.options.imagePath||u.Icon.Default.imagePath)+u.Icon.prototype._getIconUrl.call(this,t)},_detectIconPath:function(){var t=u.DomUtil.create("div","leaflet-default-icon-path",s.body);var e=u.DomUtil.getStyle(t,"background-image")||u.DomUtil.getStyle(t,"backgroundImage");s.body.removeChild(t);return e.indexOf("url")===0?e.replace(/^url\([\"\']?/,"").replace(/marker-icon\.png[\"\']?\)$/,""):""}});u.Marker=u.Layer.extend({options:{icon:new u.Icon.Default,interactive:true,draggable:false,keyboard:true,title:"",alt:"",zIndexOffset:0,opacity:1,riseOnHover:false,riseOffset:250,pane:"markerPane",nonBubblingEvents:["click","dblclick","mouseover","mouseout","contextmenu"]},initialize:function(t,e){u.setOptions(this,e);this._latlng=u.latLng(t)},onAdd:function(t){this._zoomAnimated=this._zoomAnimated&&t.options.markerZoomAnimation;if(this._zoomAnimated){t.on("zoomanim",this._animateZoom,this)}this._initIcon();this.update()},onRemove:function(t){if(this.dragging&&this.dragging.enabled()){this.options.draggable=true;this.dragging.removeHooks()}if(this._zoomAnimated){t.off("zoomanim",this._animateZoom,this)}this._removeIcon();this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(t){var e=this._latlng;this._latlng=u.latLng(t);this.update();return this.fire("move",{oldLatLng:e,latlng:this._latlng})},setZIndexOffset:function(t){this.options.zIndexOffset=t;return this.update()},setIcon:function(t){this.options.icon=t;if(this._map){this._initIcon();this.update()}if(this._popup){this.bindPopup(this._popup,this._popup.options)}return this},getElement:function(){return this._icon},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}return this},_initIcon:function(){var t=this.options,e="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");var n=t.icon.createIcon(this._icon),i=false;if(n!==this._icon){if(this._icon){this._removeIcon()}i=true;if(t.title){n.title=t.title}if(t.alt){n.alt=t.alt}}u.DomUtil.addClass(n,e);if(t.keyboard){n.tabIndex="0"}this._icon=n;if(t.riseOnHover){this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex})}var r=t.icon.createShadow(this._shadow),o=false;if(r!==this._shadow){this._removeShadow();o=true}if(r){u.DomUtil.addClass(r,e);r.alt=""}this._shadow=r;if(t.opacity<1){this._updateOpacity()}if(i){this.getPane().appendChild(this._icon)}this._initInteraction();if(r&&o){this.getPane("shadowPane").appendChild(this._shadow)}},_removeIcon:function(){if(this.options.riseOnHover){this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex})}u.DomUtil.remove(this._icon);this.removeInteractiveTarget(this._icon);this._icon=null},_removeShadow:function(){if(this._shadow){u.DomUtil.remove(this._shadow)}this._shadow=null},_setPos:function(t){u.DomUtil.setPosition(this._icon,t);if(this._shadow){u.DomUtil.setPosition(this._shadow,t)}this._zIndex=t.y+this.options.zIndexOffset;this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center).round();this._setPos(e)},_initInteraction:function(){if(!this.options.interactive){return}u.DomUtil.addClass(this._icon,"leaflet-interactive");this.addInteractiveTarget(this._icon);if(u.Handler.MarkerDrag){var t=this.options.draggable;if(this.dragging){t=this.dragging.enabled();this.dragging.disable()}this.dragging=new u.Handler.MarkerDrag(this);if(t){this.dragging.enable()}}},setOpacity:function(t){this.options.opacity=t;if(this._map){this._updateOpacity()}return this},_updateOpacity:function(){var t=this.options.opacity;u.DomUtil.setOpacity(this._icon,t);if(this._shadow){u.DomUtil.setOpacity(this._shadow,t)}},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor||[0,0]},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor||[0,0]}});u.marker=function(t,e){return new u.Marker(t,e)};u.DivIcon=u.Icon.extend({options:{iconSize:[12,12],html:false,bgPos:null,className:"leaflet-div-icon"},createIcon:function(t){var e=t&&t.tagName==="DIV"?t:s.createElement("div"),n=this.options;e.innerHTML=n.html!==false?n.html:"";if(n.bgPos){var i=u.point(n.bgPos);e.style.backgroundPosition=-i.x+"px "+-i.y+"px"}this._setIconStyles(e,"icon");return e},createShadow:function(){return null}});u.divIcon=function(t){return new u.DivIcon(t)};u.DivOverlay=u.Layer.extend({options:{offset:[0,7],className:"",pane:"popupPane"},initialize:function(t,e){u.setOptions(this,t);this._source=e},onAdd:function(t){this._zoomAnimated=t._zoomAnimated;if(!this._container){this._initLayout()}if(t._fadeAnimated){u.DomUtil.setOpacity(this._container,0)}clearTimeout(this._removeTimeout);this.getPane().appendChild(this._container);this.update();if(t._fadeAnimated){u.DomUtil.setOpacity(this._container,1)}this.bringToFront()},onRemove:function(t){if(t._fadeAnimated){u.DomUtil.setOpacity(this._container,0);this._removeTimeout=setTimeout(u.bind(u.DomUtil.remove,u.DomUtil,this._container),200)}else{u.DomUtil.remove(this._container)}},getLatLng:function(){return this._latlng},setLatLng:function(t){this._latlng=u.latLng(t);if(this._map){this._updatePosition();this._adjustPan()}return this},getContent:function(){return this._content},setContent:function(t){this._content=t;this.update();return this},getElement:function(){return this._container},update:function(){if(!this._map){return}this._container.style.visibility="hidden";this._updateContent();this._updateLayout();this._updatePosition();this._container.style.visibility="";this._adjustPan()},getEvents:function(){var t={zoom:this._updatePosition,viewreset:this._updatePosition};if(this._zoomAnimated){t.zoomanim=this._animateZoom}return t},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){if(this._map){u.DomUtil.toFront(this._container)}return this},bringToBack:function(){if(this._map){u.DomUtil.toBack(this._container)}return this},_updateContent:function(){if(!this._content){return}var t=this._contentNode;var e=typeof this._content==="function"?this._content(this._source||this):this._content;if(typeof e==="string"){t.innerHTML=e}else{while(t.hasChildNodes()){t.removeChild(t.firstChild)}t.appendChild(e)}this.fire("contentupdate")},_updatePosition:function(){if(!this._map){return}var t=this._map.latLngToLayerPoint(this._latlng),e=u.point(this.options.offset),n=this._getAnchor();if(this._zoomAnimated){u.DomUtil.setPosition(this._container,t.add(n))}else{e=e.add(t).add(n)}var i=this._containerBottom=-e.y,r=this._containerLeft=-Math.round(this._containerWidth/2)+e.x;this._container.style.bottom=i+"px";this._container.style.left=r+"px"},_getAnchor:function(){return[0,0]}});u.Popup=u.DivOverlay.extend({options:{maxWidth:300,minWidth:50,maxHeight:null,autoPan:true,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:false,closeButton:true,autoClose:true,className:""},openOn:function(t){t.openPopup(this);return this},onAdd:function(t){u.DivOverlay.prototype.onAdd.call(this,t);t.fire("popupopen",{popup:this});if(this._source){this._source.fire("popupopen",{popup:this},true);if(!(this._source instanceof u.Path)){this._source.on("preclick",u.DomEvent.stopPropagation)}}},onRemove:function(t){u.DivOverlay.prototype.onRemove.call(this,t);t.fire("popupclose",{popup:this});if(this._source){this._source.fire("popupclose",{popup:this},true);if(!(this._source instanceof u.Path)){this._source.off("preclick",u.DomEvent.stopPropagation)}}},getEvents:function(){var t=u.DivOverlay.prototype.getEvents.call(this);if("closeOnClick"in this.options?this.options.closeOnClick:this._map.options.closePopupOnClick){t.preclick=this._close}if(this.options.keepInView){t.moveend=this._adjustPan}return t},_close:function(){if(this._map){this._map.closePopup(this)}},_initLayout:function(){var t="leaflet-popup",e=this._container=u.DomUtil.create("div",t+" "+(this.options.className||"")+" leaflet-zoom-animated");if(this.options.closeButton){var n=this._closeButton=u.DomUtil.create("a",t+"-close-button",e);n.href="#close";n.innerHTML="&#215;";u.DomEvent.on(n,"click",this._onCloseButtonClick,this)}var i=this._wrapper=u.DomUtil.create("div",t+"-content-wrapper",e);this._contentNode=u.DomUtil.create("div",t+"-content",i);u.DomEvent.disableClickPropagation(i).disableScrollPropagation(this._contentNode).on(i,"contextmenu",u.DomEvent.stopPropagation);this._tipContainer=u.DomUtil.create("div",t+"-tip-container",e);this._tip=u.DomUtil.create("div",t+"-tip",this._tipContainer)},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width="";e.whiteSpace="nowrap";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth);n=Math.max(n,this.options.minWidth);e.width=n+1+"px";e.whiteSpace="";e.height="";var i=t.offsetHeight,r=this.options.maxHeight,o="leaflet-popup-scrolled";if(r&&i>r){e.height=r+"px";u.DomUtil.addClass(t,o)}else{u.DomUtil.removeClass(t,o)}this._containerWidth=this._container.offsetWidth},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center),n=this._getAnchor();u.DomUtil.setPosition(this._container,e.add(n))},_adjustPan:function(){if(!this.options.autoPan||this._map._panAnim&&this._map._panAnim._inProgress){return}var t=this._map,e=parseInt(u.DomUtil.getStyle(this._container,"marginBottom"),10)||0,n=this._container.offsetHeight+e,i=this._containerWidth,r=new u.Point(this._containerLeft,-n-this._containerBottom);r._add(u.DomUtil.getPosition(this._container));var o=t.layerPointToContainerPoint(r),s=u.point(this.options.autoPanPadding),a=u.point(this.options.autoPanPaddingTopLeft||s),l=u.point(this.options.autoPanPaddingBottomRight||s),c=t.getSize(),h=0,f=0;if(o.x+i+l.x>c.x){h=o.x+i-c.x+l.x}if(o.x-h-a.x<0){h=o.x-a.x}if(o.y+n+l.y>c.y){f=o.y+n-c.y+l.y}if(o.y-f-a.y<0){f=o.y-a.y}if(h||f){t.fire("autopanstart").panBy([h,f])}},_onCloseButtonClick:function(t){this._close();u.DomEvent.stop(t)},_getAnchor:function(){return u.point(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}});u.popup=function(t,e){return new u.Popup(t,e)};u.Map.mergeOptions({closePopupOnClick:true});u.Map.include({openPopup:function(t,e,n){if(!(t instanceof u.Popup)){t=new u.Popup(n).setContent(t)}if(e){t.setLatLng(e)}if(this.hasLayer(t)){return this}if(this._popup&&this._popup.options.autoClose){this.closePopup()}this._popup=t;return this.addLayer(t)},closePopup:function(t){if(!t||t===this._popup){t=this._popup;this._popup=null}if(t){this.removeLayer(t)}return this}});u.Layer.include({bindPopup:function(t,e){if(t instanceof u.Popup){u.setOptions(t,e);this._popup=t;t._source=this}else{if(!this._popup||e){this._popup=new u.Popup(e,this)}this._popup.setContent(t)}if(!this._popupHandlersAdded){this.on({click:this._openPopup,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=true}return this},unbindPopup:function(){if(this._popup){this.off({click:this._openPopup,remove:this.closePopup,move:this._movePopup});this._popupHandlersAdded=false;this._popup=null}return this},openPopup:function(t,e){if(!(t instanceof u.Layer)){e=t;t=this}if(t instanceof u.FeatureGroup){for(var n in this._layers){t=this._layers[n];break}}if(!e){e=t.getCenter?t.getCenter():t.getLatLng()}if(this._popup&&this._map){this._popup._source=t;this._popup.update();this._map.openPopup(this._popup,e)}return this},closePopup:function(){if(this._popup){this._popup._close()}return this},togglePopup:function(t){if(this._popup){if(this._popup._map){this.closePopup()}else{this.openPopup(t)}}return this},isPopupOpen:function(){return this._popup?this._popup.isOpen():false},setPopupContent:function(t){if(this._popup){this._popup.setContent(t)}return this},getPopup:function(){return this._popup},_openPopup:function(t){var e=t.layer||t.target;if(!this._popup){return}if(!this._map){return}u.DomEvent.stop(t);if(e instanceof u.Path){this.openPopup(t.layer||t.target,t.latlng);return}if(this._map.hasLayer(this._popup)&&this._popup._source===e){this.closePopup()}else{this.openPopup(e,t.latlng)}},_movePopup:function(t){this._popup.setLatLng(t.latlng)}});u.Tooltip=u.DivOverlay.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:false,sticky:false,interactive:false,opacity:.9},onAdd:function(t){u.DivOverlay.prototype.onAdd.call(this,t);this.setOpacity(this.options.opacity);t.fire("tooltipopen",{tooltip:this});if(this._source){this._source.fire("tooltipopen",{tooltip:this},true)}},onRemove:function(t){u.DivOverlay.prototype.onRemove.call(this,t);t.fire("tooltipclose",{tooltip:this});if(this._source){this._source.fire("tooltipclose",{tooltip:this},true)}},getEvents:function(){var t=u.DivOverlay.prototype.getEvents.call(this);if(u.Browser.touch&&!this.options.permanent){t.preclick=this._close}return t},_close:function(){if(this._map){this._map.closeTooltip(this)}},_initLayout:function(){var t="leaflet-tooltip",e=t+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=u.DomUtil.create("div",e)},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(t){var e=this._map,n=this._container,i=e.latLngToContainerPoint(e.getCenter()),r=e.layerPointToContainerPoint(t),o=this.options.direction,s=n.offsetWidth,a=n.offsetHeight,l=u.point(this.options.offset),c=this._getAnchor();if(o==="top"){t=t.add(u.point(-s/2+l.x,-a+l.y+c.y,true))}else if(o==="bottom"){t=t.subtract(u.point(s/2-l.x,-l.y,true))}else if(o==="center"){t=t.subtract(u.point(s/2+l.x,a/2-c.y+l.y,true))}else if(o==="right"||o==="auto"&&r.x<i.x){o="right";t=t.add(u.point(l.x+c.x,c.y-a/2+l.y,true))}else{o="left";t=t.subtract(u.point(s+c.x-l.x,a/2-c.y-l.y,true))}u.DomUtil.removeClass(n,"leaflet-tooltip-right");u.DomUtil.removeClass(n,"leaflet-tooltip-left");u.DomUtil.removeClass(n,"leaflet-tooltip-top");u.DomUtil.removeClass(n,"leaflet-tooltip-bottom");u.DomUtil.addClass(n,"leaflet-tooltip-"+o);u.DomUtil.setPosition(n,t)},_updatePosition:function(){var t=this._map.latLngToLayerPoint(this._latlng);this._setPosition(t)},setOpacity:function(t){this.options.opacity=t;if(this._container){u.DomUtil.setOpacity(this._container,t)}},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPosition(e)},_getAnchor:function(){return u.point(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}});u.tooltip=function(t,e){return new u.Tooltip(t,e)};u.Map.include({openTooltip:function(t,e,n){if(!(t instanceof u.Tooltip)){t=new u.Tooltip(n).setContent(t)}if(e){t.setLatLng(e)}if(this.hasLayer(t)){return this}return this.addLayer(t)},closeTooltip:function(t){if(t){this.removeLayer(t)}return this}});u.Layer.include({bindTooltip:function(t,e){if(t instanceof u.Tooltip){u.setOptions(t,e);this._tooltip=t;t._source=this}else{if(!this._tooltip||e){this._tooltip=u.tooltip(e,this)}this._tooltip.setContent(t)}this._initTooltipInteractions();if(this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)){this.openTooltip()}return this},unbindTooltip:function(){if(this._tooltip){this._initTooltipInteractions(true);this.closeTooltip();this._tooltip=null}return this},_initTooltipInteractions:function(t){if(!t&&this._tooltipHandlersAdded){return}var e=t?"off":"on",n={remove:this.closeTooltip,move:this._moveTooltip};if(!this._tooltip.options.permanent){n.mouseover=this._openTooltip;n.mouseout=this.closeTooltip;if(this._tooltip.options.sticky){n.mousemove=this._moveTooltip}if(u.Browser.touch){n.click=this._openTooltip}}else{n.add=this._openTooltip}this[e](n);this._tooltipHandlersAdded=!t},openTooltip:function(t,e){if(!(t instanceof u.Layer)){e=t;t=this}if(t instanceof u.FeatureGroup){for(var n in this._layers){t=this._layers[n];break}}if(!e){e=t.getCenter?t.getCenter():t.getLatLng()}if(this._tooltip&&this._map){this._tooltip._source=t;this._tooltip.update();this._map.openTooltip(this._tooltip,e);if(this._tooltip.options.interactive&&this._tooltip._container){u.DomUtil.addClass(this._tooltip._container,"leaflet-clickable");this.addInteractiveTarget(this._tooltip._container)}}return this},closeTooltip:function(){if(this._tooltip){this._tooltip._close();if(this._tooltip.options.interactive&&this._tooltip._container){u.DomUtil.removeClass(this._tooltip._container,"leaflet-clickable");this.removeInteractiveTarget(this._tooltip._container)}}return this},toggleTooltip:function(t){if(this._tooltip){if(this._tooltip._map){this.closeTooltip()}else{this.openTooltip(t)}}return this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(t){if(this._tooltip){this._tooltip.setContent(t)}return this},getTooltip:function(){return this._tooltip},_openTooltip:function(t){var e=t.layer||t.target;if(!this._tooltip||!this._map){return}this.openTooltip(e,this._tooltip.options.sticky?t.latlng:a)},_moveTooltip:function(t){var e=t.latlng,n,i;if(this._tooltip.options.sticky&&t.originalEvent){n=this._map.mouseEventToContainerPoint(t.originalEvent);i=this._map.containerPointToLayerPoint(n);e=this._map.layerPointToLatLng(i)}this._tooltip.setLatLng(e)}});u.LayerGroup=u.Layer.extend({initialize:function(t){this._layers={};var e,n;if(t){for(e=0,n=t.length;e<n;e++){this.addLayer(t[e])}}},addLayer:function(t){var e=this.getLayerId(t);this._layers[e]=t;if(this._map){this._map.addLayer(t)}return this},removeLayer:function(t){var e=t in this._layers?t:this.getLayerId(t);if(this._map&&this._layers[e]){this._map.removeLayer(this._layers[e])}delete this._layers[e];return this},hasLayer:function(t){return!!t&&(t in this._layers||this.getLayerId(t)in this._layers)},clearLayers:function(){for(var t in this._layers){this.removeLayer(this._layers[t])}return this},invoke:function(t){var e=Array.prototype.slice.call(arguments,1),n,i;for(n in this._layers){i=this._layers[n];if(i[t]){i[t].apply(i,e)}}return this},onAdd:function(t){for(var e in this._layers){t.addLayer(this._layers[e])}},onRemove:function(t){for(var e in this._layers){t.removeLayer(this._layers[e])}},eachLayer:function(t,e){for(var n in this._layers){t.call(e,this._layers[n])}return this},getLayer:function(t){return this._layers[t]},getLayers:function(){var t=[];for(var e in this._layers){t.push(this._layers[e])}return t},setZIndex:function(t){return this.invoke("setZIndex",t)},getLayerId:function(t){return u.stamp(t)}});u.layerGroup=function(t){return new u.LayerGroup(t)};u.FeatureGroup=u.LayerGroup.extend({addLayer:function(t){if(this.hasLayer(t)){return this}t.addEventParent(this);u.LayerGroup.prototype.addLayer.call(this,t);return this.fire("layeradd",{layer:t})},removeLayer:function(t){if(!this.hasLayer(t)){return this}if(t in this._layers){t=this._layers[t]}t.removeEventParent(this);u.LayerGroup.prototype.removeLayer.call(this,t);return this.fire("layerremove",{layer:t})},setStyle:function(t){return this.invoke("setStyle",t)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var t=new u.LatLngBounds;for(var e in this._layers){var n=this._layers[e];t.extend(n.getBounds?n.getBounds():n.getLatLng())}return t}});u.featureGroup=function(t){return new u.FeatureGroup(t)};u.Renderer=u.Layer.extend({options:{padding:.1},initialize:function(t){u.setOptions(this,t);u.stamp(this);this._layers=this._layers||{}},onAdd:function(){if(!this._container){this._initContainer();if(this._zoomAnimated){u.DomUtil.addClass(this._container,"leaflet-zoom-animated")}}this.getPane().appendChild(this._container);this._update();this.on("update",this._updatePaths,this)},onRemove:function(){u.DomUtil.remove(this._container);this.off("update",this._updatePaths,this)},getEvents:function(){var t={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};if(this._zoomAnimated){t.zoomanim=this._onAnimZoom}return t},_onAnimZoom:function(t){this._updateTransform(t.center,t.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(t,e){var n=this._map.getZoomScale(e,this._zoom),i=u.DomUtil.getPosition(this._container),r=this._map.getSize().multiplyBy(.5+this.options.padding),o=this._map.project(this._center,e),s=this._map.project(t,e),a=s.subtract(o),l=r.multiplyBy(-n).add(i).add(r).subtract(a);if(u.Browser.any3d){u.DomUtil.setTransform(this._container,l,n)}else{u.DomUtil.setPosition(this._container,l)}},_reset:function(){this._update();this._updateTransform(this._center,this._zoom);for(var t in this._layers){this._layers[t]._reset()}},_onZoomEnd:function(){for(var t in this._layers){this._layers[t]._project()}},_updatePaths:function(){for(var t in this._layers){this._layers[t]._update()}},_update:function(){var t=this.options.padding,e=this._map.getSize(),n=this._map.containerPointToLayerPoint(e.multiplyBy(-t)).round();this._bounds=new u.Bounds(n,n.add(e.multiplyBy(1+t*2)).round());this._center=this._map.getCenter();this._zoom=this._map.getZoom()}});u.Map.include({getRenderer:function(t){var e=t.options.renderer||this._getPaneRenderer(t.options.pane)||this.options.renderer||this._renderer;if(!e){e=this._renderer=this.options.preferCanvas&&u.canvas()||u.svg()}if(!this.hasLayer(e)){this.addLayer(e)}return e},_getPaneRenderer:function(t){if(t==="overlayPane"||t===a){return false}var e=this._paneRenderers[t];if(e===a){e=u.SVG&&u.svg({pane:t})||u.Canvas&&u.canvas({pane:t});this._paneRenderers[t]=e}return e}});u.Path=u.Layer.extend({options:{stroke:true,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:false,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:true},beforeAdd:function(t){this._renderer=t.getRenderer(this)},onAdd:function(){this._renderer._initPath(this);this._reset();this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){if(this._map){this._renderer._updatePath(this)}return this},setStyle:function(t){u.setOptions(this,t);if(this._renderer){this._renderer._updateStyle(this)}return this},bringToFront:function(){if(this._renderer){this._renderer._bringToFront(this)}return this},bringToBack:function(){if(this._renderer){this._renderer._bringToBack(this)}return this},getElement:function(){return this._path},_reset:function(){this._project();this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(u.Browser.touch?10:0)}});u.LineUtil={simplify:function(t,e){if(!e||!t.length){return t.slice()}var n=e*e;t=this._reducePoints(t,n);t=this._simplifyDP(t,n);return t},pointToSegmentDistance:function(t,e,n){return Math.sqrt(this._sqClosestPointOnSegment(t,e,n,true))},closestPointOnSegment:function(t,e,n){return this._sqClosestPointOnSegment(t,e,n)},_simplifyDP:function(t,e){var n=t.length,i=typeof Uint8Array!==a+""?Uint8Array:Array,r=new i(n);r[0]=r[n-1]=1;this._simplifyDPStep(t,r,e,0,n-1);var o,s=[];for(o=0;o<n;o++){if(r[o]){s.push(t[o])}}return s},_simplifyDPStep:function(t,e,n,i,r){var o=0,s,a,u;for(a=i+1;a<=r-1;a++){u=this._sqClosestPointOnSegment(t[a],t[i],t[r],true);if(u>o){s=a;o=u}}if(o>n){e[s]=1;this._simplifyDPStep(t,e,n,i,s);this._simplifyDPStep(t,e,n,s,r)}},_reducePoints:function(t,e){var n=[t[0]];for(var i=1,r=0,o=t.length;i<o;i++){if(this._sqDist(t[i],t[r])>e){n.push(t[i]);r=i}}if(r<o-1){n.push(t[o-1])}return n},clipSegment:function(t,e,n,i,r){var o=i?this._lastCode:this._getBitCode(t,n),s=this._getBitCode(e,n),a,u,l;this._lastCode=s;while(true){if(!(o|s)){return[t,e]}if(o&s){return false}a=o||s;u=this._getEdgeIntersection(t,e,a,n,r);l=this._getBitCode(u,n);if(a===o){t=u;o=l}else{e=u;s=l}}},_getEdgeIntersection:function(t,e,n,i,r){var o=e.x-t.x,s=e.y-t.y,a=i.min,l=i.max,c,h;if(n&8){c=t.x+o*(l.y-t.y)/s;h=l.y}else if(n&4){c=t.x+o*(a.y-t.y)/s;h=a.y}else if(n&2){c=l.x;h=t.y+s*(l.x-t.x)/o}else if(n&1){c=a.x;h=t.y+s*(a.x-t.x)/o}return new u.Point(c,h,r)},_getBitCode:function(t,e){var n=0;if(t.x<e.min.x){n|=1}else if(t.x>e.max.x){n|=2}if(t.y<e.min.y){n|=4}else if(t.y>e.max.y){n|=8}return n},_sqDist:function(t,e){var n=e.x-t.x,i=e.y-t.y;return n*n+i*i},_sqClosestPointOnSegment:function(t,e,n,i){var r=e.x,o=e.y,s=n.x-r,a=n.y-o,l=s*s+a*a,c;if(l>0){c=((t.x-r)*s+(t.y-o)*a)/l;if(c>1){r=n.x;o=n.y}else if(c>0){r+=s*c;o+=a*c}}s=t.x-r;a=t.y-o;return i?s*s+a*a:new u.Point(r,o)}};u.Polyline=u.Path.extend({options:{smoothFactor:1,noClip:false},initialize:function(t,e){u.setOptions(this,e);this._setLatLngs(t)},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){this._setLatLngs(t);return this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(t){var e=Infinity,n=null,i=u.LineUtil._sqClosestPointOnSegment,r,o;for(var s=0,a=this._parts.length;s<a;s++){var l=this._parts[s];for(var c=1,h=l.length;c<h;c++){r=l[c-1];o=l[c];var f=i(t,r,o,true);if(f<e){e=f;n=i(t,r,o)}}}if(n){n.distance=Math.sqrt(e)}return n},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var t,e,n,i,r,o,s,a=this._rings[0],u=a.length;if(!u){return null}for(t=0,e=0;t<u-1;t++){e+=a[t].distanceTo(a[t+1])/2}if(e===0){return this._map.layerPointToLatLng(a[0])}for(t=0,i=0;t<u-1;t++){r=a[t];o=a[t+1];n=r.distanceTo(o);i+=n;if(i>e){s=(i-e)/n;return this._map.layerPointToLatLng([o.x-s*(o.x-r.x),o.y-s*(o.y-r.y)])}}},getBounds:function(){return this._bounds},addLatLng:function(t,e){e=e||this._defaultShape();t=u.latLng(t);e.push(t);this._bounds.extend(t);return this.redraw()},_setLatLngs:function(t){this._bounds=new u.LatLngBounds;this._latlngs=this._convertLatLngs(t)},_defaultShape:function(){return u.Polyline._flat(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(t){var e=[],n=u.Polyline._flat(t);for(var i=0,r=t.length;i<r;i++){if(n){e[i]=u.latLng(t[i]);this._bounds.extend(e[i])}else{e[i]=this._convertLatLngs(t[i])}}return e},_project:function(){var t=new u.Bounds;this._rings=[];this._projectLatlngs(this._latlngs,this._rings,t);var e=this._clickTolerance(),n=new u.Point(e,e);if(this._bounds.isValid()&&t.isValid()){t.min._subtract(n);t.max._add(n);this._pxBounds=t}},_projectLatlngs:function(t,e,n){var i=t[0]instanceof u.LatLng,r=t.length,o,s;if(i){s=[];for(o=0;o<r;o++){s[o]=this._map.latLngToLayerPoint(t[o]);n.extend(s[o])}e.push(s)}else{for(o=0;o<r;o++){this._projectLatlngs(t[o],e,n)}}},_clipPoints:function(){var t=this._renderer._bounds;this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(t)){return}if(this.options.noClip){this._parts=this._rings;return}var e=this._parts,n,i,r,o,s,a,l;for(n=0,r=0,o=this._rings.length;n<o;n++){l=this._rings[n];for(i=0,s=l.length;i<s-1;i++){a=u.LineUtil.clipSegment(l[i],l[i+1],t,i,true);if(!a){continue}e[r]=e[r]||[];e[r].push(a[0]);if(a[1]!==l[i+1]||i===s-2){e[r].push(a[1]);r++}}}},_simplifyPoints:function(){var t=this._parts,e=this.options.smoothFactor;for(var n=0,i=t.length;n<i;n++){t[n]=u.LineUtil.simplify(t[n],e)}},_update:function(){if(!this._map){return}this._clipPoints();this._simplifyPoints();this._updatePath()},_updatePath:function(){this._renderer._updatePoly(this)}});u.polyline=function(t,e){return new u.Polyline(t,e)};u.Polyline._flat=function(t){return!u.Util.isArray(t[0])||typeof t[0][0]!=="object"&&typeof t[0][0]!=="undefined"};u.PolyUtil={};u.PolyUtil.clipPolygon=function(t,e,n){var i,r=[1,4,2,8],o,s,a,l,c,h,f,p,d=u.LineUtil;for(o=0,h=t.length;o<h;o++){t[o]._code=d._getBitCode(t[o],e)}for(a=0;a<4;a++){f=r[a];i=[];for(o=0,h=t.length,s=h-1;o<h;s=o++){l=t[o];c=t[s];if(!(l._code&f)){if(c._code&f){p=d._getEdgeIntersection(c,l,f,e,n);p._code=d._getBitCode(p,e);i.push(p)}i.push(l)}else if(!(c._code&f)){p=d._getEdgeIntersection(c,l,f,e,n);p._code=d._getBitCode(p,e);i.push(p)}}t=i}return t};u.Polygon=u.Polyline.extend({options:{fill:true},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map){throw new Error("Must add layer to map before using getCenter()")}var t,e,n,i,r,o,s,a,u,l=this._rings[0],c=l.length;if(!c){return null}o=s=a=0;for(t=0,e=c-1;t<c;e=t++){n=l[t];i=l[e];r=n.y*i.x-i.y*n.x;s+=(n.x+i.x)*r;a+=(n.y+i.y)*r;o+=r*3}if(o===0){u=l[0]}else{u=[s/o,a/o]}return this._map.layerPointToLatLng(u)},_convertLatLngs:function(t){var e=u.Polyline.prototype._convertLatLngs.call(this,t),n=e.length;if(n>=2&&e[0]instanceof u.LatLng&&e[0].equals(e[n-1])){e.pop()}return e},_setLatLngs:function(t){u.Polyline.prototype._setLatLngs.call(this,t);if(u.Polyline._flat(this._latlngs)){this._latlngs=[this._latlngs]}},_defaultShape:function(){return u.Polyline._flat(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var t=this._renderer._bounds,e=this.options.weight,n=new u.Point(e,e);t=new u.Bounds(t.min.subtract(n),t.max.add(n));this._parts=[];if(!this._pxBounds||!this._pxBounds.intersects(t)){return}if(this.options.noClip){this._parts=this._rings;return}for(var i=0,r=this._rings.length,o;i<r;i++){o=u.PolyUtil.clipPolygon(this._rings[i],t,true);if(o.length){this._parts.push(o)}}},_updatePath:function(){this._renderer._updatePoly(this,true)}});u.polygon=function(t,e){return new u.Polygon(t,e)};u.Rectangle=u.Polygon.extend({initialize:function(t,e){u.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){return this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){t=u.latLngBounds(t);return[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast()]}});u.rectangle=function(t,e){return new u.Rectangle(t,e)};u.CircleMarker=u.Path.extend({options:{fill:true,radius:10},initialize:function(t,e){u.setOptions(this,e);this._latlng=u.latLng(t);this._radius=this.options.radius},setLatLng:function(t){this._latlng=u.latLng(t);this.redraw();return this.fire("move",{latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(t){this.options.radius=this._radius=t;return this.redraw()},getRadius:function(){return this._radius},setStyle:function(t){var e=t&&t.radius||this._radius;u.Path.prototype.setStyle.call(this,t);this.setRadius(e);return this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng);this._updateBounds()},_updateBounds:function(){var t=this._radius,e=this._radiusY||t,n=this._clickTolerance(),i=[t+n,e+n];this._pxBounds=new u.Bounds(this._point.subtract(i),this._point.add(i))},_update:function(){if(this._map){this._updatePath()}},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)}});u.circleMarker=function(t,e){return new u.CircleMarker(t,e)};u.Circle=u.CircleMarker.extend({initialize:function(t,e,n){if(typeof e==="number"){e=u.extend({},n,{radius:e})}u.setOptions(this,e);this._latlng=u.latLng(t);if(isNaN(this.options.radius)){throw new Error("Circle radius cannot be NaN")}this._mRadius=this.options.radius},setRadius:function(t){this._mRadius=t;return this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var t=[this._radius,this._radiusY||this._radius];return new u.LatLngBounds(this._map.layerPointToLatLng(this._point.subtract(t)),this._map.layerPointToLatLng(this._point.add(t)))},setStyle:u.Path.prototype.setStyle,_project:function(){var t=this._latlng.lng,e=this._latlng.lat,n=this._map,i=n.options.crs;if(i.distance===u.CRS.Earth.distance){var r=Math.PI/180,o=this._mRadius/u.CRS.Earth.R/r,s=n.project([e+o,t]),a=n.project([e-o,t]),l=s.add(a).divideBy(2),c=n.unproject(l).lat,h=Math.acos((Math.cos(o*r)-Math.sin(e*r)*Math.sin(c*r))/(Math.cos(e*r)*Math.cos(c*r)))/r;if(isNaN(h)||h===0){h=o/Math.cos(Math.PI/180*e)}this._point=l.subtract(n.getPixelOrigin());this._radius=isNaN(h)?0:Math.max(Math.round(l.x-n.project([c,t-h]).x),1);this._radiusY=Math.max(Math.round(l.y-s.y),1)}else{var f=i.unproject(i.project(this._latlng).subtract([this._mRadius,0]));this._point=n.latLngToLayerPoint(this._latlng);this._radius=this._point.x-n.latLngToLayerPoint(f).x}this._updateBounds()}});u.circle=function(t,e,n){return new u.Circle(t,e,n)};u.SVG=u.Renderer.extend({getEvents:function(){var t=u.Renderer.prototype.getEvents.call(this);t.zoomstart=this._onZoomStart;return t},_initContainer:function(){this._container=u.SVG.create("svg");this._container.setAttribute("pointer-events","none");this._rootGroup=u.SVG.create("g");this._container.appendChild(this._rootGroup)},_onZoomStart:function(){this._update()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}u.Renderer.prototype._update.call(this);var t=this._bounds,e=t.getSize(),n=this._container;if(!this._svgSize||!this._svgSize.equals(e)){this._svgSize=e;n.setAttribute("width",e.x);n.setAttribute("height",e.y)}u.DomUtil.setPosition(n,t.min);n.setAttribute("viewBox",[t.min.x,t.min.y,e.x,e.y].join(" "));this.fire("update")},_initPath:function(t){var e=t._path=u.SVG.create("path");if(t.options.className){u.DomUtil.addClass(e,t.options.className)}if(t.options.interactive){u.DomUtil.addClass(e,"leaflet-interactive")}this._updateStyle(t);this._layers[u.stamp(t)]=t},_addPath:function(t){this._rootGroup.appendChild(t._path);t.addInteractiveTarget(t._path)},_removePath:function(t){u.DomUtil.remove(t._path);t.removeInteractiveTarget(t._path);delete this._layers[u.stamp(t)]},_updatePath:function(t){t._project();t._update()},_updateStyle:function(t){var e=t._path,n=t.options;if(!e){return}if(n.stroke){e.setAttribute("stroke",n.color);e.setAttribute("stroke-opacity",n.opacity);e.setAttribute("stroke-width",n.weight);e.setAttribute("stroke-linecap",n.lineCap);e.setAttribute("stroke-linejoin",n.lineJoin);if(n.dashArray){e.setAttribute("stroke-dasharray",n.dashArray)}else{e.removeAttribute("stroke-dasharray")}if(n.dashOffset){e.setAttribute("stroke-dashoffset",n.dashOffset)}else{e.removeAttribute("stroke-dashoffset")}}else{e.setAttribute("stroke","none")}if(n.fill){e.setAttribute("fill",n.fillColor||n.color);e.setAttribute("fill-opacity",n.fillOpacity);e.setAttribute("fill-rule",n.fillRule||"evenodd")}else{e.setAttribute("fill","none")}},_updatePoly:function(t,e){this._setPath(t,u.SVG.pointsToPath(t._parts,e))},_updateCircle:function(t){var e=t._point,n=t._radius,i=t._radiusY||n,r="a"+n+","+i+" 0 1,0 ";var o=t._empty()?"M0 0":"M"+(e.x-n)+","+e.y+r+n*2+",0 "+r+-n*2+",0 ";this._setPath(t,o)},_setPath:function(t,e){t._path.setAttribute("d",e)},_bringToFront:function(t){u.DomUtil.toFront(t._path)},_bringToBack:function(t){u.DomUtil.toBack(t._path)}});u.extend(u.SVG,{create:function(t){return s.createElementNS("http://www.w3.org/2000/svg",t)},pointsToPath:function(t,e){var n="",i,r,o,s,a,l;for(i=0,o=t.length;i<o;i++){a=t[i];for(r=0,s=a.length;r<s;r++){l=a[r];n+=(r?"L":"M")+l.x+" "+l.y}n+=e?u.Browser.svg?"z":"x":""}return n||"M0 0"}});u.Browser.svg=!!(s.createElementNS&&u.SVG.create("svg").createSVGRect);u.svg=function(t){return u.Browser.svg||u.Browser.vml?new u.SVG(t):null};u.Browser.vml=!u.Browser.svg&&function(){try{var t=s.createElement("div");t.innerHTML='<v:shape adj="1"/>';var e=t.firstChild;e.style.behavior="url(#default#VML)";return e&&typeof e.adj==="object"}catch(t){return false}}();u.SVG.include(!u.Browser.vml?{}:{_initContainer:function(){this._container=u.DomUtil.create("div","leaflet-vml-container")},_update:function(){if(this._map._animatingZoom){return}u.Renderer.prototype._update.call(this);this.fire("update")},_initPath:function(t){var e=t._container=u.SVG.create("shape");u.DomUtil.addClass(e,"leaflet-vml-shape "+(this.options.className||""));e.coordsize="1 1";t._path=u.SVG.create("path");e.appendChild(t._path);this._updateStyle(t);this._layers[u.stamp(t)]=t},_addPath:function(t){var e=t._container;this._container.appendChild(e);if(t.options.interactive){t.addInteractiveTarget(e)}},_removePath:function(t){var e=t._container;u.DomUtil.remove(e);t.removeInteractiveTarget(e);delete this._layers[u.stamp(t)]},_updateStyle:function(t){var e=t._stroke,n=t._fill,i=t.options,r=t._container;r.stroked=!!i.stroke;r.filled=!!i.fill;if(i.stroke){if(!e){e=t._stroke=u.SVG.create("stroke")}r.appendChild(e);e.weight=i.weight+"px";e.color=i.color;e.opacity=i.opacity;if(i.dashArray){e.dashStyle=u.Util.isArray(i.dashArray)?i.dashArray.join(" "):i.dashArray.replace(/( *, *)/g," ")}else{e.dashStyle=""}e.endcap=i.lineCap.replace("butt","flat");e.joinstyle=i.lineJoin}else if(e){r.removeChild(e);t._stroke=null}if(i.fill){if(!n){n=t._fill=u.SVG.create("fill")}r.appendChild(n);n.color=i.fillColor||i.color;n.opacity=i.fillOpacity}else if(n){r.removeChild(n);t._fill=null}},_updateCircle:function(t){var e=t._point.round(),n=Math.round(t._radius),i=Math.round(t._radiusY||n);this._setPath(t,t._empty()?"M0 0":"AL "+e.x+","+e.y+" "+n+","+i+" 0,"+65535*360)},_setPath:function(t,e){t._path.v=e},_bringToFront:function(t){u.DomUtil.toFront(t._container)},_bringToBack:function(t){u.DomUtil.toBack(t._container)}});if(u.Browser.vml){u.SVG.create=function(){try{s.namespaces.add("lvml","urn:schemas-microsoft-com:vml");return function(t){return s.createElement("<lvml:"+t+' class="lvml">')}}catch(t){return function(t){return s.createElement("<"+t+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}}()}u.Canvas=u.Renderer.extend({getEvents:function(){var t=u.Renderer.prototype.getEvents.call(this);t.viewprereset=this._onViewPreReset;return t},_onViewPreReset:function(){this._postponeUpdatePaths=true},onAdd:function(){u.Renderer.prototype.onAdd.call(this);this._draw()},_initContainer:function(){var t=this._container=s.createElement("canvas");u.DomEvent.on(t,"mousemove",u.Util.throttle(this._onMouseMove,32,this),this).on(t,"click dblclick mousedown mouseup contextmenu",this._onClick,this).on(t,"mouseout",this._handleMouseOut,this);this._ctx=t.getContext("2d")},_updatePaths:function(){if(this._postponeUpdatePaths){return}var t;this._redrawBounds=null;for(var e in this._layers){t=this._layers[e];t._update()}this._redraw()},_update:function(){if(this._map._animatingZoom&&this._bounds){return}this._drawnLayers={};u.Renderer.prototype._update.call(this);var t=this._bounds,e=this._container,n=t.getSize(),i=u.Browser.retina?2:1;u.DomUtil.setPosition(e,t.min);e.width=i*n.x;e.height=i*n.y;e.style.width=n.x+"px";e.style.height=n.y+"px";if(u.Browser.retina){this._ctx.scale(2,2)}this._ctx.translate(-t.min.x,-t.min.y);this.fire("update")},_reset:function(){u.Renderer.prototype._reset.call(this);if(this._postponeUpdatePaths){this._postponeUpdatePaths=false;this._updatePaths()}},_initPath:function(t){this._updateDashArray(t);this._layers[u.stamp(t)]=t;var e=t._order={layer:t,prev:this._drawLast,next:null};if(this._drawLast){this._drawLast.next=e}this._drawLast=e;this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(t){this._requestRedraw(t)},_removePath:function(t){var e=t._order;var n=e.next;var i=e.prev;if(n){n.prev=i}else{this._drawLast=i}if(i){i.next=n}else{this._drawFirst=n}delete t._order;delete this._layers[u.stamp(t)];this._requestRedraw(t)},_updatePath:function(t){this._extendRedrawBounds(t);t._project();t._update();this._requestRedraw(t)},_updateStyle:function(t){this._updateDashArray(t);this._requestRedraw(t)},_updateDashArray:function(t){if(t.options.dashArray){var e=t.options.dashArray.split(","),n=[],i;for(i=0;i<e.length;i++){n.push(Number(e[i]))}t.options._dashArray=n}},_requestRedraw:function(t){if(!this._map){return}this._extendRedrawBounds(t);this._redrawRequest=this._redrawRequest||u.Util.requestAnimFrame(this._redraw,this)},_extendRedrawBounds:function(t){var e=(t.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new u.Bounds;this._redrawBounds.extend(t._pxBounds.min.subtract([e,e]));this._redrawBounds.extend(t._pxBounds.max.add([e,e]))},_redraw:function(){this._redrawRequest=null;if(this._redrawBounds){this._redrawBounds.min._floor();this._redrawBounds.max._ceil()}this._clear();this._draw();this._redrawBounds=null},_clear:function(){var t=this._redrawBounds;if(t){var e=t.getSize();this._ctx.clearRect(t.min.x,t.min.y,e.x,e.y)}else{this._ctx.clearRect(0,0,this._container.width,this._container.height)}},_draw:function(){var t,e=this._redrawBounds;this._ctx.save();if(e){var n=e.getSize();this._ctx.beginPath();this._ctx.rect(e.min.x,e.min.y,n.x,n.y);this._ctx.clip()}this._drawing=true;for(var i=this._drawFirst;i;i=i.next){t=i.layer;if(!e||t._pxBounds&&t._pxBounds.intersects(e)){t._updatePath()}}this._drawing=false;this._ctx.restore()},_updatePoly:function(t,e){if(!this._drawing){return}var n,i,r,o,s=t._parts,a=s.length,u=this._ctx;if(!a){return}this._drawnLayers[t._leaflet_id]=t;u.beginPath();if(u.setLineDash){u.setLineDash(t.options&&t.options._dashArray||[])}for(n=0;n<a;n++){for(i=0,r=s[n].length;i<r;i++){o=s[n][i];u[i?"lineTo":"moveTo"](o.x,o.y)}if(e){u.closePath()}}this._fillStroke(u,t)},_updateCircle:function(t){if(!this._drawing||t._empty()){return}var e=t._point,n=this._ctx,i=t._radius,r=(t._radiusY||i)/i;this._drawnLayers[t._leaflet_id]=t;if(r!==1){n.save();n.scale(1,r)}n.beginPath();n.arc(e.x,e.y/r,i,0,Math.PI*2,false);if(r!==1){n.restore()}this._fillStroke(n,t)},_fillStroke:function(t,e){var n=e.options;if(n.fill){t.globalAlpha=n.fillOpacity;t.fillStyle=n.fillColor||n.color;t.fill(n.fillRule||"evenodd")}if(n.stroke&&n.weight!==0){t.globalAlpha=n.opacity;t.lineWidth=n.weight;t.strokeStyle=n.color;t.lineCap=n.lineCap;t.lineJoin=n.lineJoin;t.stroke()}},_onClick:function(t){var e=this._map.mouseEventToLayerPoint(t),n,i;for(var r=this._drawFirst;r;r=r.next){n=r.layer;if(n.options.interactive&&n._containsPoint(e)&&!this._map._draggableMoved(n)){i=n}}if(i){u.DomEvent._fakeStop(t);this._fireEvent([i],t)}},_onMouseMove:function(t){if(!this._map||this._map.dragging.moving()||this._map._animatingZoom){return}var e=this._map.mouseEventToLayerPoint(t);this._handleMouseHover(t,e)},_handleMouseOut:function(t){var e=this._hoveredLayer;if(e){u.DomUtil.removeClass(this._container,"leaflet-interactive");this._fireEvent([e],t,"mouseout");this._hoveredLayer=null}},_handleMouseHover:function(t,e){var n,i;for(var r=this._drawFirst;r;r=r.next){n=r.layer;if(n.options.interactive&&n._containsPoint(e)){i=n}}if(i!==this._hoveredLayer){this._handleMouseOut(t);if(i){u.DomUtil.addClass(this._container,"leaflet-interactive");this._fireEvent([i],t,"mouseover");this._hoveredLayer=i}}if(this._hoveredLayer){this._fireEvent([this._hoveredLayer],t)}},_fireEvent:function(t,e,n){this._map._fireDOMEvent(e,n||e.type,t)},_bringToFront:function(t){var e=t._order;var n=e.next;var i=e.prev;if(n){n.prev=i}else{return}if(i){i.next=n}else if(n){this._drawFirst=n}e.prev=this._drawLast;this._drawLast.next=e;e.next=null;this._drawLast=e;this._requestRedraw(t)},_bringToBack:function(t){var e=t._order;var n=e.next;var i=e.prev;if(i){i.next=n}else{return}if(n){n.prev=i}else if(i){this._drawLast=i}e.prev=null;e.next=this._drawFirst;this._drawFirst.prev=e;this._drawFirst=e;this._requestRedraw(t)}});u.Browser.canvas=function(){return!!s.createElement("canvas").getContext}();u.canvas=function(t){return u.Browser.canvas?new u.Canvas(t):null};u.Polyline.prototype._containsPoint=function(t,e){var n,i,r,o,s,a,l=this._clickTolerance();if(!this._pxBounds.contains(t)){return false}for(n=0,o=this._parts.length;n<o;n++){a=this._parts[n];for(i=0,s=a.length,r=s-1;i<s;r=i++){if(!e&&i===0){continue}if(u.LineUtil.pointToSegmentDistance(t,a[r],a[i])<=l){return true}}}return false};u.Polygon.prototype._containsPoint=function(t){var e=false,n,i,r,o,s,a,l,c;if(!this._pxBounds.contains(t)){return false}for(o=0,l=this._parts.length;o<l;o++){n=this._parts[o];for(s=0,c=n.length,a=c-1;s<c;a=s++){i=n[s];r=n[a];if(i.y>t.y!==r.y>t.y&&t.x<(r.x-i.x)*(t.y-i.y)/(r.y-i.y)+i.x){e=!e}}}return e||u.Polyline.prototype._containsPoint.call(this,t,true)};u.CircleMarker.prototype._containsPoint=function(t){return t.distanceTo(this._point)<=this._radius+this._clickTolerance()};u.GeoJSON=u.FeatureGroup.extend({initialize:function(t,e){u.setOptions(this,e);this._layers={};if(t){this.addData(t)}},addData:function(t){var e=u.Util.isArray(t)?t:t.features,n,i,r;if(e){for(n=0,i=e.length;n<i;n++){r=e[n];if(r.geometries||r.geometry||r.features||r.coordinates){this.addData(r)}}return this}var o=this.options;if(o.filter&&!o.filter(t)){return this}var s=u.GeoJSON.geometryToLayer(t,o);if(!s){return this}s.feature=u.GeoJSON.asFeature(t);s.defaultOptions=s.options;this.resetStyle(s);if(o.onEachFeature){o.onEachFeature(t,s)}return this.addLayer(s)},resetStyle:function(t){t.options=u.Util.extend({},t.defaultOptions);this._setLayerStyle(t,this.options.style);return this},setStyle:function(t){return this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){if(typeof e==="function"){e=e(t.feature)}if(t.setStyle){t.setStyle(e)}}});u.extend(u.GeoJSON,{geometryToLayer:function(t,e){var n=t.type==="Feature"?t.geometry:t,i=n?n.coordinates:null,r=[],o=e&&e.pointToLayer,s=e&&e.coordsToLatLng||this.coordsToLatLng,a,l,c,h;if(!i&&!n){return null}switch(n.type){case"Point":a=s(i);return o?o(t,a):new u.Marker(a);case"MultiPoint":for(c=0,h=i.length;c<h;c++){a=s(i[c]);r.push(o?o(t,a):new u.Marker(a))}return new u.FeatureGroup(r);case"LineString":case"MultiLineString":l=this.coordsToLatLngs(i,n.type==="LineString"?0:1,s);return new u.Polyline(l,e);case"Polygon":case"MultiPolygon":l=this.coordsToLatLngs(i,n.type==="Polygon"?1:2,s);return new u.Polygon(l,e);case"GeometryCollection":for(c=0,h=n.geometries.length;c<h;c++){var f=this.geometryToLayer({geometry:n.geometries[c],type:"Feature",properties:t.properties},e);if(f){r.push(f)}}return new u.FeatureGroup(r);default:throw new Error("Invalid GeoJSON object.")}},coordsToLatLng:function(t){return new u.LatLng(t[1],t[0],t[2])},coordsToLatLngs:function(t,e,n){var i=[];for(var r=0,o=t.length,s;r<o;r++){s=e?this.coordsToLatLngs(t[r],e-1,n):(n||this.coordsToLatLng)(t[r]);i.push(s)}return i},latLngToCoords:function(t){return t.alt!==a?[t.lng,t.lat,t.alt]:[t.lng,t.lat]},latLngsToCoords:function(t,e,n){var i=[];for(var r=0,o=t.length;r<o;r++){i.push(e?u.GeoJSON.latLngsToCoords(t[r],e-1,n):u.GeoJSON.latLngToCoords(t[r]))}if(!e&&n){i.push(i[0])}return i},getFeature:function(t,e){return t.feature?u.extend({},t.feature,{geometry:e}):u.GeoJSON.asFeature(e)},asFeature:function(t){if(t.type==="Feature"||t.type==="FeatureCollection"){return t}return{type:"Feature",properties:{},geometry:t}}});var f={toGeoJSON:function(){return u.GeoJSON.getFeature(this,{type:"Point",coordinates:u.GeoJSON.latLngToCoords(this.getLatLng())})}};u.Marker.include(f);u.Circle.include(f);u.CircleMarker.include(f);u.Polyline.prototype.toGeoJSON=function(){var t=!u.Polyline._flat(this._latlngs);var e=u.GeoJSON.latLngsToCoords(this._latlngs,t?1:0);return u.GeoJSON.getFeature(this,{type:(t?"Multi":"")+"LineString",coordinates:e})};u.Polygon.prototype.toGeoJSON=function(){var t=!u.Polyline._flat(this._latlngs),e=t&&!u.Polyline._flat(this._latlngs[0]);var n=u.GeoJSON.latLngsToCoords(this._latlngs,e?2:t?1:0,true);if(!t){n=[n]}return u.GeoJSON.getFeature(this,{type:(e?"Multi":"")+"Polygon",coordinates:n})};u.LayerGroup.include({toMultiPoint:function(){var t=[];this.eachLayer(function(e){t.push(e.toGeoJSON().geometry.coordinates)});return u.GeoJSON.getFeature(this,{type:"MultiPoint",coordinates:t})},toGeoJSON:function(){var t=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(t==="MultiPoint"){return this.toMultiPoint()}var e=t==="GeometryCollection",n=[];this.eachLayer(function(t){if(t.toGeoJSON){var i=t.toGeoJSON();n.push(e?i.geometry:u.GeoJSON.asFeature(i))}});if(e){return u.GeoJSON.getFeature(this,{geometries:n,type:"GeometryCollection"})}return{type:"FeatureCollection",features:n}}});u.geoJSON=function(t,e){return new u.GeoJSON(t,e)};u.geoJson=u.geoJSON;u.Draggable=u.Evented.extend({options:{clickTolerance:3},statics:{START:u.Browser.touch?["touchstart","mousedown"]:["mousedown"],END:{mousedown:"mouseup",touchstart:"touchend",pointerdown:"touchend",MSPointerDown:"touchend"},MOVE:{mousedown:"mousemove",touchstart:"touchmove",pointerdown:"touchmove",MSPointerDown:"touchmove"}},initialize:function(t,e,n){this._element=t;this._dragStartTarget=e||t;this._preventOutline=n},enable:function(){if(this._enabled){return}u.DomEvent.on(this._dragStartTarget,u.Draggable.START.join(" "),this._onDown,this);this._enabled=true},disable:function(){if(!this._enabled){return}if(u.Draggable._dragging===this){this.finishDrag()}u.DomEvent.off(this._dragStartTarget,u.Draggable.START.join(" "),this._onDown,this);this._enabled=false;this._moved=false},_onDown:function(t){if(t._simulated||!this._enabled){return}this._moved=false;if(u.DomUtil.hasClass(this._element,"leaflet-zoom-anim")){return}if(u.Draggable._dragging||t.shiftKey||t.which!==1&&t.button!==1&&!t.touches){return}u.Draggable._dragging=this;if(this._preventOutline){u.DomUtil.preventOutline(this._element)}u.DomUtil.disableImageDrag();u.DomUtil.disableTextSelection();if(this._moving){return}this.fire("down");var e=t.touches?t.touches[0]:t;this._startPoint=new u.Point(e.clientX,e.clientY);u.DomEvent.on(s,u.Draggable.MOVE[t.type],this._onMove,this).on(s,u.Draggable.END[t.type],this._onUp,this)},_onMove:function(t){if(t._simulated||!this._enabled){return}if(t.touches&&t.touches.length>1){this._moved=true;return}var e=t.touches&&t.touches.length===1?t.touches[0]:t,n=new u.Point(e.clientX,e.clientY),i=n.subtract(this._startPoint);if(!i.x&&!i.y){return}if(Math.abs(i.x)+Math.abs(i.y)<this.options.clickTolerance){return}u.DomEvent.preventDefault(t);if(!this._moved){this.fire("dragstart");this._moved=true;this._startPos=u.DomUtil.getPosition(this._element).subtract(i);u.DomUtil.addClass(s.body,"leaflet-dragging");this._lastTarget=t.target||t.srcElement;if(o.SVGElementInstance&&this._lastTarget instanceof SVGElementInstance){this._lastTarget=this._lastTarget.correspondingUseElement}u.DomUtil.addClass(this._lastTarget,"leaflet-drag-target")}this._newPos=this._startPos.add(i);this._moving=true;u.Util.cancelAnimFrame(this._animRequest);this._lastEvent=t;this._animRequest=u.Util.requestAnimFrame(this._updatePosition,this,true)},_updatePosition:function(){var t={originalEvent:this._lastEvent};this.fire("predrag",t);u.DomUtil.setPosition(this._element,this._newPos);this.fire("drag",t)},_onUp:function(t){if(t._simulated||!this._enabled){return}this.finishDrag()},finishDrag:function(){u.DomUtil.removeClass(s.body,"leaflet-dragging");if(this._lastTarget){u.DomUtil.removeClass(this._lastTarget,"leaflet-drag-target");this._lastTarget=null}for(var t in u.Draggable.MOVE){u.DomEvent.off(s,u.Draggable.MOVE[t],this._onMove,this).off(s,u.Draggable.END[t],this._onUp,this)}u.DomUtil.enableImageDrag();u.DomUtil.enableTextSelection();if(this._moved&&this._moving){u.Util.cancelAnimFrame(this._animRequest);this.fire("dragend",{distance:this._newPos.distanceTo(this._startPos)})}this._moving=false;u.Draggable._dragging=false}});u.Handler=u.Class.extend({initialize:function(t){this._map=t},enable:function(){if(this._enabled){return this}this._enabled=true;this.addHooks();return this},disable:function(){if(!this._enabled){return this}this._enabled=false;this.removeHooks();return this},enabled:function(){return!!this._enabled}});u.Map.mergeOptions({dragging:true,inertia:!u.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:Infinity,easeLinearity:.2,worldCopyJump:false,maxBoundsViscosity:0});u.Map.Drag=u.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new u.Draggable(t._mapPane,t._container);this._draggable.on({down:this._onDown,dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this);this._draggable.on("predrag",this._onPreDragLimit,this);if(t.options.worldCopyJump){this._draggable.on("predrag",this._onPreDragWrap,this);t.on("zoomend",this._onZoomEnd,this);t.whenReady(this._onZoomEnd,this)}}u.DomUtil.addClass(this._map._container,"leaflet-grab leaflet-touch-drag");this._draggable.enable();this._positions=[];this._times=[]},removeHooks:function(){u.DomUtil.removeClass(this._map._container,"leaflet-grab");u.DomUtil.removeClass(this._map._container,"leaflet-touch-drag");this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDown:function(){this._map._stop()},_onDragStart:function(){var t=this._map;if(this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var e=u.latLngBounds(this._map.options.maxBounds);this._offsetLimit=u.bounds(this._map.latLngToContainerPoint(e.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(e.getSouthEast()).multiplyBy(-1).add(this._map.getSize()));this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else{this._offsetLimit=null}t.fire("movestart").fire("dragstart");if(t.options.inertia){this._positions=[];this._times=[]}},_onDrag:function(t){if(this._map.options.inertia){var e=this._lastTime=+new Date,n=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(n);this._times.push(e);if(e-this._times[0]>50){this._positions.shift();this._times.shift()}}this._map.fire("move",t).fire("drag",t)},_onZoomEnd:function(){var t=this._map.getSize().divideBy(2),e=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=e.subtract(t).x;this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(t,e){return t-(t-e)*this._viscosity},_onPreDragLimit:function(){if(!this._viscosity||!this._offsetLimit){return}var t=this._draggable._newPos.subtract(this._draggable._startPos);var e=this._offsetLimit;if(t.x<e.min.x){t.x=this._viscousLimit(t.x,e.min.x)}if(t.y<e.min.y){t.y=this._viscousLimit(t.y,e.min.y)}if(t.x>e.max.x){t.x=this._viscousLimit(t.x,e.max.x)}if(t.y>e.max.y){t.y=this._viscousLimit(t.y,e.max.y)}this._draggable._newPos=this._draggable._startPos.add(t)},_onPreDragWrap:function(){var t=this._worldWidth,e=Math.round(t/2),n=this._initialWorldOffset,i=this._draggable._newPos.x,r=(i-e+n)%t+e-n,o=(i+e+n)%t-e-n,s=Math.abs(r+n)<Math.abs(o+n)?r:o;this._draggable._absPos=this._draggable._newPos.clone();this._draggable._newPos.x=s},_onDragEnd:function(t){var e=this._map,n=e.options,i=!n.inertia||this._times.length<2;e.fire("dragend",t);if(i){e.fire("moveend")}else{var r=this._lastPos.subtract(this._positions[0]),o=(this._lastTime-this._times[0])/1e3,s=n.easeLinearity,a=r.multiplyBy(s/o),l=a.distanceTo([0,0]),c=Math.min(n.inertiaMaxSpeed,l),h=a.multiplyBy(c/l),f=c/(n.inertiaDeceleration*s),p=h.multiplyBy(-f/2).round();if(!p.x&&!p.y){e.fire("moveend")}else{p=e._limitOffset(p,e.options.maxBounds);u.Util.requestAnimFrame(function(){e.panBy(p,{duration:f,easeLinearity:s,noMoveStart:true,animate:true})})}}}});u.Map.addInitHook("addHandler","dragging",u.Map.Drag);u.Map.mergeOptions({doubleClickZoom:true});u.Map.DoubleClickZoom=u.Handler.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(t){var e=this._map,n=e.getZoom(),i=e.options.zoomDelta,r=t.originalEvent.shiftKey?n-i:n+i;if(e.options.doubleClickZoom==="center"){e.setZoom(r)}else{e.setZoomAround(t.containerPoint,r)}}});u.Map.addInitHook("addHandler","doubleClickZoom",u.Map.DoubleClickZoom);u.Map.mergeOptions({scrollWheelZoom:true,wheelDebounceTime:40,wheelPxPerZoomLevel:60});u.Map.ScrollWheelZoom=u.Handler.extend({addHooks:function(){u.DomEvent.on(this._map._container,"mousewheel",this._onWheelScroll,this);this._delta=0},removeHooks:function(){u.DomEvent.off(this._map._container,"mousewheel",this._onWheelScroll,this)},_onWheelScroll:function(t){var e=u.DomEvent.getWheelDelta(t);var n=this._map.options.wheelDebounceTime;this._delta+=e;this._lastMousePos=this._map.mouseEventToContainerPoint(t);if(!this._startTime){this._startTime=+new Date}var i=Math.max(n-(+new Date-this._startTime),0);clearTimeout(this._timer);this._timer=setTimeout(u.bind(this._performZoom,this),i);u.DomEvent.stop(t)},_performZoom:function(){var t=this._map,e=t.getZoom(),n=this._map.options.zoomSnap||0;t._stop();var i=this._delta/(this._map.options.wheelPxPerZoomLevel*4),r=4*Math.log(2/(1+Math.exp(-Math.abs(i))))/Math.LN2,o=n?Math.ceil(r/n)*n:r,s=t._limitZoom(e+(this._delta>0?o:-o))-e;this._delta=0;this._startTime=null;if(!s){return}if(t.options.scrollWheelZoom==="center"){t.setZoom(e+s)}else{t.setZoomAround(this._lastMousePos,e+s)}}});u.Map.addInitHook("addHandler","scrollWheelZoom",u.Map.ScrollWheelZoom);u.extend(u.DomEvent,{_touchstart:u.Browser.msPointer?"MSPointerDown":u.Browser.pointer?"pointerdown":"touchstart",_touchend:u.Browser.msPointer?"MSPointerUp":u.Browser.pointer?"pointerup":"touchend",addDoubleTapListener:function(t,e,n){var i,r,o=false,s=250;function a(t){var e;if(u.Browser.pointer){if(!u.Browser.edge||t.pointerType==="mouse"){return}e=u.DomEvent._pointersCount}else{e=t.touches.length}if(e>1){return}var n=Date.now(),a=n-(i||n);r=t.touches?t.touches[0]:t;o=a>0&&a<=s;i=n}function l(t){if(o&&!r.cancelBubble){if(u.Browser.pointer){if(!u.Browser.edge||t.pointerType==="mouse"){return}var n={},s,a;for(a in r){s=r[a];n[a]=s&&s.bind?s.bind(r):s}r=n}r.type="dblclick";e(r);i=null}}var c="_leaflet_",h=this._touchstart,f=this._touchend;t[c+h+n]=a;t[c+f+n]=l;t[c+"dblclick"+n]=e;t.addEventListener(h,a,false);t.addEventListener(f,l,false);t.addEventListener("dblclick",e,false);return this},removeDoubleTapListener:function(t,e){var n="_leaflet_",i=t[n+this._touchstart+e],r=t[n+this._touchend+e],o=t[n+"dblclick"+e];t.removeEventListener(this._touchstart,i,false);t.removeEventListener(this._touchend,r,false);if(!u.Browser.edge){t.removeEventListener("dblclick",o,false)}return this}});u.extend(u.DomEvent,{POINTER_DOWN:u.Browser.msPointer?"MSPointerDown":"pointerdown",POINTER_MOVE:u.Browser.msPointer?"MSPointerMove":"pointermove",POINTER_UP:u.Browser.msPointer?"MSPointerUp":"pointerup",POINTER_CANCEL:u.Browser.msPointer?"MSPointerCancel":"pointercancel",TAG_WHITE_LIST:["INPUT","SELECT","OPTION"],_pointers:{},_pointersCount:0,addPointerListener:function(t,e,n,i){if(e==="touchstart"){this._addPointerStart(t,n,i)}else if(e==="touchmove"){this._addPointerMove(t,n,i)}else if(e==="touchend"){this._addPointerEnd(t,n,i)}return this},removePointerListener:function(t,e,n){var i=t["_leaflet_"+e+n];if(e==="touchstart"){t.removeEventListener(this.POINTER_DOWN,i,false)}else if(e==="touchmove"){t.removeEventListener(this.POINTER_MOVE,i,false)}else if(e==="touchend"){t.removeEventListener(this.POINTER_UP,i,false);t.removeEventListener(this.POINTER_CANCEL,i,false)}return this},_addPointerStart:function(t,e,n){var i=u.bind(function(t){if(t.pointerType!=="mouse"&&t.MSPOINTER_TYPE_MOUSE&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){if(this.TAG_WHITE_LIST.indexOf(t.target.tagName)<0){u.DomEvent.preventDefault(t)}else{return}}this._handlePointer(t,e)},this);t["_leaflet_touchstart"+n]=i;t.addEventListener(this.POINTER_DOWN,i,false);if(!this._pointerDocListener){var r=u.bind(this._globalPointerUp,this);s.documentElement.addEventListener(this.POINTER_DOWN,u.bind(this._globalPointerDown,this),true);s.documentElement.addEventListener(this.POINTER_MOVE,u.bind(this._globalPointerMove,this),true);s.documentElement.addEventListener(this.POINTER_UP,r,true);s.documentElement.addEventListener(this.POINTER_CANCEL,r,true);this._pointerDocListener=true}},_globalPointerDown:function(t){this._pointers[t.pointerId]=t;this._pointersCount++},_globalPointerMove:function(t){if(this._pointers[t.pointerId]){this._pointers[t.pointerId]=t}},_globalPointerUp:function(t){delete this._pointers[t.pointerId];this._pointersCount--},_handlePointer:function(t,e){t.touches=[];for(var n in this._pointers){t.touches.push(this._pointers[n])}t.changedTouches=[t];e(t)},_addPointerMove:function(t,e,n){var i=u.bind(function(t){if((t.pointerType===t.MSPOINTER_TYPE_MOUSE||t.pointerType==="mouse")&&t.buttons===0){return}this._handlePointer(t,e)},this);t["_leaflet_touchmove"+n]=i;t.addEventListener(this.POINTER_MOVE,i,false)},_addPointerEnd:function(t,e,n){var i=u.bind(function(t){this._handlePointer(t,e)},this);t["_leaflet_touchend"+n]=i;t.addEventListener(this.POINTER_UP,i,false);t.addEventListener(this.POINTER_CANCEL,i,false)}});u.Map.mergeOptions({touchZoom:u.Browser.touch&&!u.Browser.android23,bounceAtZoomLimits:true});u.Map.TouchZoom=u.Handler.extend({addHooks:function(){u.DomUtil.addClass(this._map._container,"leaflet-touch-zoom");u.DomEvent.on(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){u.DomUtil.removeClass(this._map._container,"leaflet-touch-zoom");u.DomEvent.off(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(!t.touches||t.touches.length!==2||e._animatingZoom||this._zooming){return}var n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]);this._centerPoint=e.getSize()._divideBy(2);this._startLatLng=e.containerPointToLatLng(this._centerPoint);if(e.options.touchZoom!=="center"){this._pinchStartLatLng=e.containerPointToLatLng(n.add(i)._divideBy(2))}this._startDist=n.distanceTo(i);this._startZoom=e.getZoom();this._moved=false;this._zooming=true;e._stop();u.DomEvent.on(s,"touchmove",this._onTouchMove,this).on(s,"touchend",this._onTouchEnd,this);u.DomEvent.preventDefault(t)},_onTouchMove:function(t){if(!t.touches||t.touches.length!==2||!this._zooming){return}var e=this._map,n=e.mouseEventToContainerPoint(t.touches[0]),i=e.mouseEventToContainerPoint(t.touches[1]),r=n.distanceTo(i)/this._startDist;this._zoom=e.getScaleZoom(r,this._startZoom);if(!e.options.bounceAtZoomLimits&&(this._zoom<e.getMinZoom()&&r<1||this._zoom>e.getMaxZoom()&&r>1)){this._zoom=e._limitZoom(this._zoom)}if(e.options.touchZoom==="center"){this._center=this._startLatLng;if(r===1){return}}else{var o=n._add(i)._divideBy(2)._subtract(this._centerPoint);if(r===1&&o.x===0&&o.y===0){return}this._center=e.unproject(e.project(this._pinchStartLatLng,this._zoom).subtract(o),this._zoom)}if(!this._moved){e._moveStart(true);this._moved=true}u.Util.cancelAnimFrame(this._animRequest);var s=u.bind(e._move,e,this._center,this._zoom,{pinch:true,round:false});this._animRequest=u.Util.requestAnimFrame(s,this,true);u.DomEvent.preventDefault(t)},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=false;return}this._zooming=false;u.Util.cancelAnimFrame(this._animRequest);u.DomEvent.off(s,"touchmove",this._onTouchMove).off(s,"touchend",this._onTouchEnd);if(this._map.options.zoomAnimation){this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),true,this._map.options.zoomSnap)}else{this._map._resetView(this._center,this._map._limitZoom(this._zoom))}}});u.Map.addInitHook("addHandler","touchZoom",u.Map.TouchZoom);u.Map.mergeOptions({tap:true,tapTolerance:15});u.Map.Tap=u.Handler.extend({addHooks:function(){u.DomEvent.on(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){u.DomEvent.off(this._map._container,"touchstart",this._onDown,this)},_onDown:function(t){if(!t.touches){return}u.DomEvent.preventDefault(t);this._fireClick=true;if(t.touches.length>1){this._fireClick=false;clearTimeout(this._holdTimeout);return}var e=t.touches[0],n=e.target;this._startPos=this._newPos=new u.Point(e.clientX,e.clientY);if(n.tagName&&n.tagName.toLowerCase()==="a"){u.DomUtil.addClass(n,"leaflet-active")}this._holdTimeout=setTimeout(u.bind(function(){if(this._isTapValid()){this._fireClick=false;this._onUp();this._simulateEvent("contextmenu",e)}},this),1e3);this._simulateEvent("mousedown",e);u.DomEvent.on(s,{touchmove:this._onMove,touchend:this._onUp},this)},_onUp:function(t){clearTimeout(this._holdTimeout);u.DomEvent.off(s,{touchmove:this._onMove,touchend:this._onUp},this);if(this._fireClick&&t&&t.changedTouches){var e=t.changedTouches[0],n=e.target;if(n&&n.tagName&&n.tagName.toLowerCase()==="a"){u.DomUtil.removeClass(n,"leaflet-active")}this._simulateEvent("mouseup",e);if(this._isTapValid()){this._simulateEvent("click",e)}}},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_onMove:function(t){var e=t.touches[0];this._newPos=new u.Point(e.clientX,e.clientY);this._simulateEvent("mousemove",e)},_simulateEvent:function(t,e){var n=s.createEvent("MouseEvents");n._simulated=true;e.target._simulatedClick=true;n.initMouseEvent(t,true,true,o,1,e.screenX,e.screenY,e.clientX,e.clientY,false,false,false,false,0,null);e.target.dispatchEvent(n)}});if(u.Browser.touch&&!u.Browser.pointer){u.Map.addInitHook("addHandler","tap",u.Map.Tap)}u.Map.mergeOptions({boxZoom:true});u.Map.BoxZoom=u.Handler.extend({initialize:function(t){this._map=t;this._container=t._container;this._pane=t._panes.overlayPane},addHooks:function(){u.DomEvent.on(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){u.DomEvent.off(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_resetState:function(){this._moved=false},_onMouseDown:function(t){if(!t.shiftKey||t.which!==1&&t.button!==1){return false}this._resetState();u.DomUtil.disableTextSelection();u.DomUtil.disableImageDrag();this._startPoint=this._map.mouseEventToContainerPoint(t);u.DomEvent.on(s,{contextmenu:u.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(t){if(!this._moved){this._moved=true;this._box=u.DomUtil.create("div","leaflet-zoom-box",this._container);u.DomUtil.addClass(this._container,"leaflet-crosshair");this._map.fire("boxzoomstart")}this._point=this._map.mouseEventToContainerPoint(t);var e=new u.Bounds(this._point,this._startPoint),n=e.getSize();u.DomUtil.setPosition(this._box,e.min);this._box.style.width=n.x+"px";this._box.style.height=n.y+"px"},_finish:function(){if(this._moved){u.DomUtil.remove(this._box);u.DomUtil.removeClass(this._container,"leaflet-crosshair")}u.DomUtil.enableTextSelection();u.DomUtil.enableImageDrag();u.DomEvent.off(s,{contextmenu:u.DomEvent.stop,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(t){if(t.which!==1&&t.button!==1){return}this._finish();if(!this._moved){return}setTimeout(u.bind(this._resetState,this),0);var e=new u.LatLngBounds(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(e).fire("boxzoomend",{boxZoomBounds:e})},_onKeyDown:function(t){if(t.keyCode===27){this._finish()}}});u.Map.addInitHook("addHandler","boxZoom",u.Map.BoxZoom);u.Map.mergeOptions({keyboard:true,keyboardPanDelta:80});u.Map.Keyboard=u.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(t){this._map=t;this._setPanDelta(t.options.keyboardPanDelta);this._setZoomDelta(t.options.zoomDelta)},addHooks:function(){var t=this._map._container;if(t.tabIndex<=0){t.tabIndex="0"}u.DomEvent.on(t,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks();u.DomEvent.off(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this);this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(this._focused){return}var t=s.body,e=s.documentElement,n=t.scrollTop||e.scrollTop,i=t.scrollLeft||e.scrollLeft;this._map._container.focus();o.scrollTo(i,n)},_onFocus:function(){this._focused=true;this._map.fire("focus")},_onBlur:function(){this._focused=false;this._map.fire("blur")},_setPanDelta:function(t){var e=this._panKeys={},n=this.keyCodes,i,r;for(i=0,r=n.left.length;i<r;i++){e[n.left[i]]=[-1*t,0]}for(i=0,r=n.right.length;i<r;i++){e[n.right[i]]=[t,0]}for(i=0,r=n.down.length;i<r;i++){e[n.down[i]]=[0,t]}for(i=0,r=n.up.length;i<r;i++){e[n.up[i]]=[0,-1*t]}},_setZoomDelta:function(t){var e=this._zoomKeys={},n=this.keyCodes,i,r;for(i=0,r=n.zoomIn.length;i<r;i++){e[n.zoomIn[i]]=t}for(i=0,r=n.zoomOut.length;i<r;i++){e[n.zoomOut[i]]=-t}},_addHooks:function(){u.DomEvent.on(s,"keydown",this._onKeyDown,this)},_removeHooks:function(){u.DomEvent.off(s,"keydown",this._onKeyDown,this)},_onKeyDown:function(t){if(t.altKey||t.ctrlKey||t.metaKey){return}var e=t.keyCode,n=this._map,i;if(e in this._panKeys){if(n._panAnim&&n._panAnim._inProgress){return}i=this._panKeys[e];if(t.shiftKey){i=u.point(i).multiplyBy(3)}n.panBy(i);if(n.options.maxBounds){n.panInsideBounds(n.options.maxBounds)}}else if(e in this._zoomKeys){n.setZoom(n.getZoom()+(t.shiftKey?3:1)*this._zoomKeys[e])}else if(e===27){n.closePopup()}else{return}u.DomEvent.stop(t)}});u.Map.addInitHook("addHandler","keyboard",u.Map.Keyboard);u.Handler.MarkerDrag=u.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;if(!this._draggable){this._draggable=new u.Draggable(t,t,true)}this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).enable();u.DomUtil.addClass(t,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this).disable();if(this._marker._icon){u.DomUtil.removeClass(this._marker._icon,"leaflet-marker-draggable")}},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng();this._marker.closePopup().fire("movestart").fire("dragstart")},_onDrag:function(t){var e=this._marker,n=e._shadow,i=u.DomUtil.getPosition(e._icon),r=e._map.layerPointToLatLng(i);if(n){u.DomUtil.setPosition(n,i)}e._latlng=r;t.latlng=r;t.oldLatLng=this._oldLatLng;e.fire("move",t).fire("drag",t)},_onDragEnd:function(t){delete this._oldLatLng;this._marker.fire("moveend").fire("dragend",t)}});u.Control=u.Class.extend({options:{position:"topright"},initialize:function(t){u.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;if(e){e.removeControl(this)}this.options.position=t;if(e){e.addControl(this)}return this},getContainer:function(){return this._container},addTo:function(t){this.remove();this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),i=t._controlCorners[n];u.DomUtil.addClass(e,"leaflet-control");if(n.indexOf("bottom")!==-1){i.insertBefore(e,i.firstChild)}else{i.appendChild(e)}return this},remove:function(){if(!this._map){return this}u.DomUtil.remove(this._container);if(this.onRemove){this.onRemove(this._map)}this._map=null;return this},_refocusOnMap:function(t){if(this._map&&t&&t.screenX>0&&t.screenY>0){this._map.getContainer().focus()}}});u.control=function(t){return new u.Control(t)};u.Map.include({addControl:function(t){t.addTo(this);return this},removeControl:function(t){t.remove();return this},_initControlPos:function(){var t=this._controlCorners={},e="leaflet-",n=this._controlContainer=u.DomUtil.create("div",e+"control-container",this._container);function i(i,r){var o=e+i+" "+e+r;t[i+r]=u.DomUtil.create("div",o,n)}i("top","left");i("top","right");i("bottom","left");i("bottom","right")},_clearControlPos:function(){u.DomUtil.remove(this._controlContainer)}});u.Control.Zoom=u.Control.extend({options:{position:"topleft",zoomInText:"+",zoomInTitle:"Zoom in",zoomOutText:"-",zoomOutTitle:"Zoom out"},onAdd:function(t){var e="leaflet-control-zoom",n=u.DomUtil.create("div",e+" leaflet-bar"),i=this.options;this._zoomInButton=this._createButton(i.zoomInText,i.zoomInTitle,e+"-in",n,this._zoomIn);this._zoomOutButton=this._createButton(i.zoomOutText,i.zoomOutTitle,e+"-out",n,this._zoomOut);this._updateDisabled();t.on("zoomend zoomlevelschange",this._updateDisabled,this);return n},onRemove:function(t){t.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){this._disabled=true;this._updateDisabled();return this},enable:function(){this._disabled=false;this._updateDisabled();return this},_zoomIn:function(t){if(!this._disabled&&this._map._zoom<this._map.getMaxZoom()){this._map.zoomIn(this._map.options.zoomDelta*(t.shiftKey?3:1))}},_zoomOut:function(t){if(!this._disabled&&this._map._zoom>this._map.getMinZoom()){this._map.zoomOut(this._map.options.zoomDelta*(t.shiftKey?3:1))}},_createButton:function(t,e,n,i,r){var o=u.DomUtil.create("a",n,i);o.innerHTML=t;o.href="#";o.title=e;o.setAttribute("role","button");o.setAttribute("aria-label",e);u.DomEvent.on(o,"mousedown dblclick",u.DomEvent.stopPropagation).on(o,"click",u.DomEvent.stop).on(o,"click",r,this).on(o,"click",this._refocusOnMap,this);return o},_updateDisabled:function(){var t=this._map,e="leaflet-disabled";u.DomUtil.removeClass(this._zoomInButton,e);u.DomUtil.removeClass(this._zoomOutButton,e);if(this._disabled||t._zoom===t.getMinZoom()){u.DomUtil.addClass(this._zoomOutButton,e)}if(this._disabled||t._zoom===t.getMaxZoom()){u.DomUtil.addClass(this._zoomInButton,e)}}});u.Map.mergeOptions({zoomControl:true});u.Map.addInitHook(function(){if(this.options.zoomControl){this.zoomControl=new u.Control.Zoom;this.addControl(this.zoomControl)}});u.control.zoom=function(t){return new u.Control.Zoom(t)};u.Control.Attribution=u.Control.extend({options:{position:"bottomright",prefix:'<a href="http://leafletjs.com" title="A JS library for interactive maps">Leaflet</a>'},initialize:function(t){u.setOptions(this,t);this._attributions={}},onAdd:function(t){t.attributionControl=this;this._container=u.DomUtil.create("div","leaflet-control-attribution");if(u.DomEvent){u.DomEvent.disableClickPropagation(this._container)}for(var e in t._layers){if(t._layers[e].getAttribution){this.addAttribution(t._layers[e].getAttribution())}}this._update();return this._container},setPrefix:function(t){this.options.prefix=t;this._update();return this},addAttribution:function(t){if(!t){return this}if(!this._attributions[t]){this._attributions[t]=0}this._attributions[t]++;this._update();return this},removeAttribution:function(t){if(!t){return this}if(this._attributions[t]){this._attributions[t]--;this._update()}return this},_update:function(){if(!this._map){return}var t=[];for(var e in this._attributions){if(this._attributions[e]){t.push(e)}}var n=[];if(this.options.prefix){n.push(this.options.prefix)}if(t.length){n.push(t.join(", "))}this._container.innerHTML=n.join(" | ")}});u.Map.mergeOptions({attributionControl:true});u.Map.addInitHook(function(){if(this.options.attributionControl){(new u.Control.Attribution).addTo(this)}});u.control.attribution=function(t){return new u.Control.Attribution(t)};u.Control.Scale=u.Control.extend({options:{position:"bottomleft",maxWidth:100,metric:true,imperial:true},onAdd:function(t){var e="leaflet-control-scale",n=u.DomUtil.create("div",e),i=this.options;this._addScales(i,e+"-line",n);t.on(i.updateWhenIdle?"moveend":"move",this._update,this);t.whenReady(this._update,this);return n},onRemove:function(t){t.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(t,e,n){if(t.metric){this._mScale=u.DomUtil.create("div",e,n)}if(t.imperial){this._iScale=u.DomUtil.create("div",e,n)}},_update:function(){var t=this._map,e=t.getSize().y/2;var n=t.distance(t.containerPointToLatLng([0,e]),t.containerPointToLatLng([this.options.maxWidth,e]));this._updateScales(n)},_updateScales:function(t){if(this.options.metric&&t){this._updateMetric(t)}if(this.options.imperial&&t){this._updateImperial(t)}},_updateMetric:function(t){var e=this._getRoundNum(t),n=e<1e3?e+" m":e/1e3+" km";this._updateScale(this._mScale,n,e/t)},_updateImperial:function(t){var e=t*3.2808399,n,i,r;if(e>5280){n=e/5280;i=this._getRoundNum(n);this._updateScale(this._iScale,i+" mi",i/n)}else{r=this._getRoundNum(e);this._updateScale(this._iScale,r+" ft",r/e)}},_updateScale:function(t,e,n){t.style.width=Math.round(this.options.maxWidth*n)+"px";t.innerHTML=e},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+"").length-1),n=t/e;n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1;return e*n}});u.control.scale=function(t){return new u.Control.Scale(t)};u.Control.Layers=u.Control.extend({options:{collapsed:true,position:"topright",autoZIndex:true,hideSingleBase:false,sortLayers:false,sortFunction:function(t,e,n,i){return n<i?-1:i<n?1:0}},initialize:function(t,e,n){u.setOptions(this,n);this._layers=[];this._lastZIndex=0;this._handlingClick=false;for(var i in t){this._addLayer(t[i],i)}for(i in e){this._addLayer(e[i],i,true)}},onAdd:function(t){this._initLayout();this._update();this._map=t;t.on("zoomend",this._checkDisabledLayers,this);return this._container},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var t=0;t<this._layers.length;t++){this._layers[t].layer.off("add remove",this._onLayerChange,this)}},addBaseLayer:function(t,e){this._addLayer(t,e);return this._map?this._update():this},addOverlay:function(t,e){this._addLayer(t,e,true);return this._map?this._update():this},removeLayer:function(t){t.off("add remove",this._onLayerChange,this);var e=this._getLayer(u.stamp(t));if(e){this._layers.splice(this._layers.indexOf(e),1)}return this._map?this._update():this},expand:function(){u.DomUtil.addClass(this._container,"leaflet-control-layers-expanded");this._form.style.height=null;var t=this._map.getSize().y-(this._container.offsetTop+50);if(t<this._form.clientHeight){u.DomUtil.addClass(this._form,"leaflet-control-layers-scrollbar");this._form.style.height=t+"px"}else{u.DomUtil.removeClass(this._form,"leaflet-control-layers-scrollbar")}this._checkDisabledLayers();return this},collapse:function(){u.DomUtil.removeClass(this._container,"leaflet-control-layers-expanded");return this},_initLayout:function(){var t="leaflet-control-layers",e=this._container=u.DomUtil.create("div",t),n=this.options.collapsed;e.setAttribute("aria-haspopup",true);u.DomEvent.disableClickPropagation(e);if(!u.Browser.touch){u.DomEvent.disableScrollPropagation(e)}var i=this._form=u.DomUtil.create("form",t+"-list");if(n){this._map.on("click",this.collapse,this);if(!u.Browser.android){u.DomEvent.on(e,{mouseenter:this.expand,mouseleave:this.collapse},this)}}var r=this._layersLink=u.DomUtil.create("a",t+"-toggle",e);r.href="#";r.title="Layers";if(u.Browser.touch){u.DomEvent.on(r,"click",u.DomEvent.stop).on(r,"click",this.expand,this)}else{u.DomEvent.on(r,"focus",this.expand,this)}u.DomEvent.on(i,"click",function(){setTimeout(u.bind(this._onInputClick,this),0)},this);if(!n){this.expand()}this._baseLayersList=u.DomUtil.create("div",t+"-base",i);this._separator=u.DomUtil.create("div",t+"-separator",i);this._overlaysList=u.DomUtil.create("div",t+"-overlays",i);e.appendChild(i)},_getLayer:function(t){for(var e=0;e<this._layers.length;e++){if(this._layers[e]&&u.stamp(this._layers[e].layer)===t){return this._layers[e]}}},_addLayer:function(t,e,n){t.on("add remove",this._onLayerChange,this);this._layers.push({layer:t,name:e,overlay:n});if(this.options.sortLayers){this._layers.sort(u.bind(function(t,e){return this.options.sortFunction(t.layer,e.layer,t.name,e.name)},this))}if(this.options.autoZIndex&&t.setZIndex){this._lastZIndex++;t.setZIndex(this._lastZIndex)}},_update:function(){if(!this._container){return this}u.DomUtil.empty(this._baseLayersList);u.DomUtil.empty(this._overlaysList);var t,e,n,i,r=0;for(n=0;n<this._layers.length;n++){i=this._layers[n];this._addItem(i);e=e||i.overlay;t=t||!i.overlay;r+=!i.overlay?1:0}if(this.options.hideSingleBase){t=t&&r>1;this._baseLayersList.style.display=t?"":"none"}this._separator.style.display=e&&t?"":"none";return this},_onLayerChange:function(t){if(!this._handlingClick){this._update()}var e=this._getLayer(u.stamp(t.target));var n=e.overlay?t.type==="add"?"overlayadd":"overlayremove":t.type==="add"?"baselayerchange":null;if(n){this._map.fire(n,e)}},_createRadioElement:function(t,e){var n='<input type="radio" class="leaflet-control-layers-selector" name="'+t+'"'+(e?' checked="checked"':"")+"/>";var i=s.createElement("div");i.innerHTML=n;return i.firstChild},_addItem:function(t){var e=s.createElement("label"),n=this._map.hasLayer(t.layer),i;if(t.overlay){i=s.createElement("input");i.type="checkbox";i.className="leaflet-control-layers-selector";i.defaultChecked=n}else{i=this._createRadioElement("leaflet-base-layers",n)}i.layerId=u.stamp(t.layer);u.DomEvent.on(i,"click",this._onInputClick,this);var r=s.createElement("span");r.innerHTML=" "+t.name;var o=s.createElement("div");e.appendChild(o);o.appendChild(i);o.appendChild(r);var a=t.overlay?this._overlaysList:this._baseLayersList;a.appendChild(e);this._checkDisabledLayers();return e},_onInputClick:function(){var t=this._form.getElementsByTagName("input"),e,n,i;var r=[],o=[];this._handlingClick=true;for(var s=t.length-1;s>=0;s--){e=t[s];n=this._getLayer(e.layerId).layer;i=this._map.hasLayer(n);if(e.checked&&!i){r.push(n)}else if(!e.checked&&i){o.push(n)}}for(s=0;s<o.length;s++){this._map.removeLayer(o[s])}for(s=0;s<r.length;s++){this._map.addLayer(r[s])}this._handlingClick=false;this._refocusOnMap()},_checkDisabledLayers:function(){var t=this._form.getElementsByTagName("input"),e,n,i=this._map.getZoom();for(var r=t.length-1;r>=0;r--){e=t[r];n=this._getLayer(e.layerId).layer;e.disabled=n.options.minZoom!==a&&i<n.options.minZoom||n.options.maxZoom!==a&&i>n.options.maxZoom}},_expand:function(){return this.expand()},_collapse:function(){return this.collapse()}});u.control.layers=function(t,e,n){return new u.Control.Layers(t,e,n)}})(window,document)},function(t,e,n){(function(e){var n;var n;(function(n){if(true){t.exports=n()}else if(typeof define==="function"&&define.amd){define([],n)}else{var i;if(typeof window!=="undefined"){i=window}else if(typeof e!=="undefined"){i=e}else if(typeof self!=="undefined"){i=self}else{i=this}i.mapboxgl=n()}})(function(){var t,i,r;return function t(e,i,r){function o(a,u){if(!i[a]){if(!e[a]){var l=typeof n=="function"&&n;if(!u&&l)return n(a,!0);if(s)return n(a,!0);var c=new Error("Cannot find module '"+a+"'");throw c.code="MODULE_NOT_FOUND",c}var h=i[a]={exports:{}};e[a][0].call(h.exports,function(t){var n=e[a][1][t];return o(n?n:t)},h,h.exports,t,e,i,r)}return i[a].exports}var s=typeof n=="function"&&n;for(var a=0;a<r.length;a++)o(r[a]);return o}({1:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof t&&t.amd?t(r):e.glMatrix=r()}(this,function(){"use strict";function t(){var t=new Float32Array(3);return t[0]=0,t[1]=0,t[2]=0,t}function e(t,e,n){var i=e[0],r=e[1],o=e[2];return t[0]=i*n[0]+r*n[3]+o*n[6],t[1]=i*n[1]+r*n[4]+o*n[7],t[2]=i*n[2]+r*n[5]+o*n[8],t}function n(){var t=new Float32Array(4);return t[0]=0,t[1]=0,t[2]=0,t[3]=0,t}function i(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3];return t[0]=n[0]*i+n[4]*r+n[8]*o+n[12]*s,t[1]=n[1]*i+n[5]*r+n[9]*o+n[13]*s,t[2]=n[2]*i+n[6]*r+n[10]*o+n[14]*s,t[3]=n[3]*i+n[7]*r+n[11]*o+n[15]*s,t}function r(){var t=new Float32Array(4);return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t}function o(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=Math.sin(n),u=Math.cos(n);return t[0]=i*u+o*a,t[1]=r*u+s*a,t[2]=i*-a+o*u,t[3]=r*-a+s*u,t}function s(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=n[0],u=n[1];return t[0]=i*a,t[1]=r*a,t[2]=o*u,t[3]=s*u,t}function a(){var t=new Float32Array(9);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=1,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function u(t,e){var n=Math.sin(e),i=Math.cos(e);return t[0]=i,t[1]=n,t[2]=0,t[3]=-n,t[4]=i,t[5]=0,t[6]=0,t[7]=0,t[8]=1,t}function l(){var t=new Float32Array(16);return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function c(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=1,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=1,t[11]=0,t[12]=0,t[13]=0,t[14]=0,t[15]=1,t}function h(t,e){var n=e[0],i=e[1],r=e[2],o=e[3],s=e[4],a=e[5],u=e[6],l=e[7],c=e[8],h=e[9],f=e[10],p=e[11],d=e[12],g=e[13],m=e[14],v=e[15],y=n*a-i*s,b=n*u-r*s,x=n*l-o*s,_=i*u-r*a,E=i*l-o*a,w=r*l-o*u,T=c*g-h*d,S=c*m-f*d,A=c*v-p*d,I=h*m-f*g,C=h*v-p*g,L=f*v-p*m,M=y*L-b*C+x*I+_*A-E*S+w*T;return M?(M=1/M,t[0]=(a*L-u*C+l*I)*M,t[1]=(r*C-i*L-o*I)*M,t[2]=(g*w-m*E+v*_)*M,t[3]=(f*E-h*w-p*_)*M,t[4]=(u*A-s*L-l*S)*M,t[5]=(n*L-r*A+o*S)*M,t[6]=(m*x-d*w-v*b)*M,t[7]=(c*w-f*x+p*b)*M,t[8]=(s*C-a*A+l*T)*M,t[9]=(i*A-n*C-o*T)*M,t[10]=(d*E-g*x+v*y)*M,t[11]=(h*x-c*E-p*y)*M,t[12]=(a*S-s*I-u*T)*M,t[13]=(n*I-i*S+r*T)*M,t[14]=(g*b-d*_-m*y)*M,t[15]=(c*_-h*b+f*y)*M,t):null}function f(t,e,n){var i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],g=e[12],m=e[13],v=e[14],y=e[15],b=n[0],x=n[1],_=n[2],E=n[3];return t[0]=b*i+x*a+_*h+E*g,t[1]=b*r+x*u+_*f+E*m,t[2]=b*o+x*l+_*p+E*v,t[3]=b*s+x*c+_*d+E*y,b=n[4],x=n[5],_=n[6],E=n[7],t[4]=b*i+x*a+_*h+E*g,t[5]=b*r+x*u+_*f+E*m,t[6]=b*o+x*l+_*p+E*v,t[7]=b*s+x*c+_*d+E*y,b=n[8],x=n[9],_=n[10],E=n[11],t[8]=b*i+x*a+_*h+E*g,t[9]=b*r+x*u+_*f+E*m,t[10]=b*o+x*l+_*p+E*v,t[11]=b*s+x*c+_*d+E*y,b=n[12],x=n[13],_=n[14],E=n[15],t[12]=b*i+x*a+_*h+E*g,t[13]=b*r+x*u+_*f+E*m,t[14]=b*o+x*l+_*p+E*v,t[15]=b*s+x*c+_*d+E*y,t}function p(t,e,n){var i,r,o,s,a,u,l,c,h,f,p,d,g=n[0],m=n[1],v=n[2];return e===t?(t[12]=e[0]*g+e[4]*m+e[8]*v+e[12],t[13]=e[1]*g+e[5]*m+e[9]*v+e[13],t[14]=e[2]*g+e[6]*m+e[10]*v+e[14],t[15]=e[3]*g+e[7]*m+e[11]*v+e[15]):(i=e[0],r=e[1],o=e[2],s=e[3],a=e[4],u=e[5],l=e[6],c=e[7],h=e[8],f=e[9],p=e[10],d=e[11],t[0]=i,t[1]=r,t[2]=o,t[3]=s,t[4]=a,t[5]=u,t[6]=l,t[7]=c,t[8]=h,t[9]=f,t[10]=p,t[11]=d,t[12]=i*g+a*m+h*v+e[12],t[13]=r*g+u*m+f*v+e[13],t[14]=o*g+l*m+p*v+e[14],t[15]=s*g+c*m+d*v+e[15]),t}function d(t,e,n){var i=n[0],r=n[1],o=n[2];return t[0]=e[0]*i,t[1]=e[1]*i,t[2]=e[2]*i,t[3]=e[3]*i,t[4]=e[4]*r,t[5]=e[5]*r,t[6]=e[6]*r,t[7]=e[7]*r,t[8]=e[8]*o,t[9]=e[9]*o,t[10]=e[10]*o,t[11]=e[11]*o,t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15],t}function g(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[4],s=e[5],a=e[6],u=e[7],l=e[8],c=e[9],h=e[10],f=e[11];return e!==t&&(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[4]=o*r+l*i,t[5]=s*r+c*i,t[6]=a*r+h*i,t[7]=u*r+f*i,t[8]=l*r-o*i,t[9]=c*r-s*i,t[10]=h*r-a*i,t[11]=f*r-u*i,t}function m(t,e,n){var i=Math.sin(n),r=Math.cos(n),o=e[0],s=e[1],a=e[2],u=e[3],l=e[4],c=e[5],h=e[6],f=e[7];return e!==t&&(t[8]=e[8],t[9]=e[9],t[10]=e[10],t[11]=e[11],t[12]=e[12],t[13]=e[13],t[14]=e[14],t[15]=e[15]),t[0]=o*r+l*i,t[1]=s*r+c*i,t[2]=a*r+h*i,t[3]=u*r+f*i,t[4]=l*r-o*i,t[5]=c*r-s*i,t[6]=h*r-a*i,t[7]=f*r-u*i,t}function v(t,e,n,i,r){var o=1/Math.tan(e/2),s=1/(i-r);return t[0]=o/n,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=o,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=(r+i)*s,t[11]=-1,t[12]=0,t[13]=0,t[14]=2*r*i*s,t[15]=0,t}function y(t,e,n,i,r,o,s){var a=1/(e-n),u=1/(i-r),l=1/(o-s);return t[0]=-2*a,t[1]=0,t[2]=0,t[3]=0,t[4]=0,t[5]=-2*u,t[6]=0,t[7]=0,t[8]=0,t[9]=0,t[10]=2*l,t[11]=0,t[12]=(e+n)*a,t[13]=(r+i)*u,t[14]=(s+o)*l,t[15]=1,t}var b=(t(),n(),{vec3:{transformMat3:e},vec4:{transformMat4:i},mat2:{create:r,rotate:o,scale:s},mat3:{create:a,fromRotation:u},mat4:{create:l,identity:c,translate:p,scale:d,multiply:f,perspective:v,rotateX:g,rotateZ:m,invert:h,ortho:y}});return b})},{}],2:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?n.exports=r():"function"==typeof t&&t.amd?t(r):e.ShelfPack=r()}(this,function(){function t(t,e,n){n=n||{},this.w=t||64,this.h=e||64,this.autoResize=!!n.autoResize,this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0}function e(t,e,n){this.x=0,this.y=t,this.w=this.free=e,this.h=n}function n(t,e,n,i,r,o,s){this.id=t,this.x=e,this.y=n,this.w=i,this.h=r,this.maxw=o||i,this.maxh=s||r,this.refcount=0}return t.prototype.pack=function(t,e){t=[].concat(t),e=e||{};for(var n,i,r,o,s=[],a=0;a<t.length;a++)if(n=t[a].w||t[a].width,i=t[a].h||t[a].height,r=t[a].id,n&&i){if(o=this.packOne(n,i,r),!o)continue;e.inPlace&&(t[a].x=o.x,t[a].y=o.y,t[a].id=o.id),s.push(o)}if(this.shelves.length>0){for(var u=0,l=0,c=0;c<this.shelves.length;c++){var h=this.shelves[c];l+=h.h,u=Math.max(h.w-h.free,u)}this.resize(u,l)}return s},t.prototype.packOne=function(t,n,i){var r,o,s,a,u={freebin:-1,shelf:-1,waste:1/0},l=0;if("string"==typeof i||"number"==typeof i){if(r=this.getBin(i))return this.ref(r),r;"number"==typeof i&&(this.maxId=Math.max(i,this.maxId))}else i=++this.maxId;for(a=0;a<this.freebins.length;a++){if(r=this.freebins[a],n===r.maxh&&t===r.maxw)return this.allocFreebin(a,t,n,i);n>r.maxh||t>r.maxw||n<=r.maxh&&t<=r.maxw&&(s=r.maxw*r.maxh-t*n,s<u.waste&&(u.waste=s,u.freebin=a))}for(a=0;a<this.shelves.length;a++)if(o=this.shelves[a],l+=o.h,!(t>o.free)){if(n===o.h)return this.allocShelf(a,t,n,i);n>o.h||n<o.h&&(s=(o.h-n)*t,s<u.waste&&(u.freebin=-1,u.waste=s,u.shelf=a))}if(u.freebin!==-1)return this.allocFreebin(u.freebin,t,n,i);if(u.shelf!==-1)return this.allocShelf(u.shelf,t,n,i);if(n<=this.h-l&&t<=this.w)return o=new e(l,this.w,n),this.allocShelf(this.shelves.push(o)-1,t,n,i);if(this.autoResize){var c,h,f,p;return c=h=this.h,f=p=this.w,(f<=c||t>f)&&(p=2*Math.max(t,f)),(c<f||n>c)&&(h=2*Math.max(n,c)),this.resize(p,h),this.packOne(t,n,i)}return null},t.prototype.allocFreebin=function(t,e,n,i){var r=this.freebins.splice(t,1)[0];return r.id=i,r.w=e,r.h=n,r.refcount=0,this.bins[i]=r,this.ref(r),r},t.prototype.allocShelf=function(t,e,n,i){var r=this.shelves[t],o=r.alloc(e,n,i);return this.bins[i]=o,this.ref(o),o},t.prototype.getBin=function(t){return this.bins[t]},t.prototype.ref=function(t){if(1===++t.refcount){var e=t.h;this.stats[e]=(0|this.stats[e])+1}return t.refcount},t.prototype.unref=function(t){return 0===t.refcount?0:(0===--t.refcount&&(this.stats[t.h]--,delete this.bins[t.id],this.freebins.push(t)),t.refcount)},t.prototype.clear=function(){this.shelves=[],this.freebins=[],this.stats={},this.bins={},this.maxId=0},t.prototype.resize=function(t,e){this.w=t,this.h=e;for(var n=0;n<this.shelves.length;n++)this.shelves[n].resize(t);return!0},e.prototype.alloc=function(t,e,i){if(t>this.free||e>this.h)return null;var r=this.x;return this.x+=t,this.free-=t,new n(i,r,this.y,t,e,t,this.h)},e.prototype.resize=function(t){return this.free+=t-this.w,this.w=t,!0},t})},{}],3:[function(t,e,n){function i(t,e,n,i){this.cx=3*t,this.bx=3*(n-t)-this.cx,this.ax=1-this.cx-this.bx,this.cy=3*e,this.by=3*(i-e)-this.cy,this.ay=1-this.cy-this.by,this.p1x=t,this.p1y=i,this.p2x=n,this.p2y=i}e.exports=i,i.prototype.sampleCurveX=function(t){return((this.ax*t+this.bx)*t+this.cx)*t},i.prototype.sampleCurveY=function(t){return((this.ay*t+this.by)*t+this.cy)*t},i.prototype.sampleCurveDerivativeX=function(t){return(3*this.ax*t+2*this.bx)*t+this.cx},i.prototype.solveCurveX=function(t,e){"undefined"==typeof e&&(e=1e-6);var n,i,r,o,s;for(r=t,s=0;s<8;s++){if(o=this.sampleCurveX(r)-t,Math.abs(o)<e)return r;var a=this.sampleCurveDerivativeX(r);if(Math.abs(a)<1e-6)break;r-=o/a}if(n=0,i=1,r=t,r<n)return n;if(r>i)return i;for(;n<i;){if(o=this.sampleCurveX(r),Math.abs(o-t)<e)return r;t>o?n=r:i=r,r=.5*(i-n)+n}return r},i.prototype.solve=function(t,e){return this.sampleCurveY(this.solveCurveX(t,e))}},{}],4:[function(e,n,i){!function(e,r){"object"==typeof i&&"undefined"!=typeof n?r(i):"function"==typeof t&&t.amd?t(["exports"],r):r(e.WhooTS=e.WhooTS||{})}(this,function(t){function e(t,e,i,r,o,s){s=s||{};var a=t+"?"+["bbox="+n(i,r,o),"format="+(s.format||"image/png"),"service="+(s.service||"WMS"),"version="+(s.version||"1.1.1"),"request="+(s.request||"GetMap"),"srs="+(s.srs||"EPSG:3857"),"width="+(s.width||256),"height="+(s.height||256),"layers="+e].join("&");return a}function n(t,e,n){e=Math.pow(2,n)-e-1;var r=i(256*t,256*e,n),o=i(256*(t+1),256*(e+1),n);return r[0]+","+r[1]+","+o[0]+","+o[1]}function i(t,e,n){var i=2*Math.PI*6378137/256/Math.pow(2,n),r=t*i-2*Math.PI*6378137/2,o=e*i-2*Math.PI*6378137/2;return[r,o]}t.getURL=e,t.getTileBBox=n,t.getMercCoords=i,Object.defineProperty(t,"__esModule",{value:!0})})},{}],5:[function(t,e,n){"use strict";function i(t,e,n){n=n||2;var i=e&&e.length,o=i?e[0]*n:t.length,a=r(t,0,o,n,!0),u=[];if(!a)return u;var l,c,f,p,d,g,m;if(i&&(a=h(t,e,a,n)),t.length>80*n){l=f=t[0],c=p=t[1];for(var v=n;v<o;v+=n)d=t[v],g=t[v+1],d<l&&(l=d),g<c&&(c=g),d>f&&(f=d),g>p&&(p=g);m=Math.max(f-l,p-c)}return s(a,u,n,l,c,m),u}function r(t,e,n,i,r){var o,s;if(r===N(t,e,n,i)>0)for(o=e;o<n;o+=i)s=C(o,t[o],t[o+1],s);else for(o=n-i;o>=e;o-=i)s=C(o,t[o],t[o+1],s);return s&&E(s,s.next)&&(L(s),s=s.next),s}function o(t,e){if(!t)return t;e||(e=t);var n,i=t;do{if(n=!1,i.steiner||!E(i,i.next)&&0!==_(i.prev,i,i.next))i=i.next;else{if(L(i),i=e=i.prev,i===i.next)return null;n=!0}}while(n||i!==e);return e}function s(t,e,n,i,r,h,f){if(t){!f&&h&&g(t,i,r,h);for(var p,d,m=t;t.prev!==t.next;)if(p=t.prev,d=t.next,h?u(t,i,r,h):a(t))e.push(p.i/n),e.push(t.i/n),e.push(d.i/n),L(t),t=d.next,m=d.next;else if(t=d,t===m){f?1===f?(t=l(t,e,n),s(t,e,n,i,r,h,2)):2===f&&c(t,e,n,i,r,h):s(o(t),e,n,i,r,h,1);break}}}function a(t){var e=t.prev,n=t,i=t.next;if(_(e,n,i)>=0)return!1;for(var r=t.next.next;r!==t.prev;){if(b(e.x,e.y,n.x,n.y,i.x,i.y,r.x,r.y)&&_(r.prev,r,r.next)>=0)return!1;r=r.next}return!0}function u(t,e,n,i){var r=t.prev,o=t,s=t.next;if(_(r,o,s)>=0)return!1;for(var a=r.x<o.x?r.x<s.x?r.x:s.x:o.x<s.x?o.x:s.x,u=r.y<o.y?r.y<s.y?r.y:s.y:o.y<s.y?o.y:s.y,l=r.x>o.x?r.x>s.x?r.x:s.x:o.x>s.x?o.x:s.x,c=r.y>o.y?r.y>s.y?r.y:s.y:o.y>s.y?o.y:s.y,h=v(a,u,e,n,i),f=v(l,c,e,n,i),p=t.nextZ;p&&p.z<=f;){if(p!==t.prev&&p!==t.next&&b(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return!1;p=p.nextZ}for(p=t.prevZ;p&&p.z>=h;){if(p!==t.prev&&p!==t.next&&b(r.x,r.y,o.x,o.y,s.x,s.y,p.x,p.y)&&_(p.prev,p,p.next)>=0)return!1;p=p.prevZ}return!0}function l(t,e,n){var i=t;do{var r=i.prev,o=i.next.next;!E(r,o)&&w(r,i,i.next,o)&&S(r,o)&&S(o,r)&&(e.push(r.i/n),e.push(i.i/n),e.push(o.i/n),L(i),L(i.next),i=t=o),i=i.next}while(i!==t);return i}function c(t,e,n,i,r,a){var u=t;do{for(var l=u.next.next;l!==u.prev;){if(u.i!==l.i&&x(u,l)){var c=I(u,l);return u=o(u,u.next),c=o(c,c.next),s(u,e,n,i,r,a),void s(c,e,n,i,r,a)}l=l.next}u=u.next}while(u!==t)}function h(t,e,n,i){var s,a,u,l,c,h=[];for(s=0,a=e.length;s<a;s++)u=e[s]*i,l=s<a-1?e[s+1]*i:t.length,c=r(t,u,l,i,!1),c===c.next&&(c.steiner=!0),h.push(y(c));for(h.sort(f),s=0;s<h.length;s++)p(h[s],n),n=o(n,n.next);return n}function f(t,e){return t.x-e.x}function p(t,e){if(e=d(t,e)){var n=I(e,t);o(n,n.next)}}function d(t,e){var n,i=e,r=t.x,o=t.y,s=-(1/0);do{if(o<=i.y&&o>=i.next.y){var a=i.x+(o-i.y)*(i.next.x-i.x)/(i.next.y-i.y);if(a<=r&&a>s){if(s=a,a===r){if(o===i.y)return i;if(o===i.next.y)return i.next}n=i.x<i.next.x?i:i.next}}i=i.next}while(i!==e);if(!n)return null;if(r===s)return n.prev;var u,l=n,c=n.x,h=n.y,f=1/0;for(i=n.next;i!==l;)r>=i.x&&i.x>=c&&b(o<h?r:s,o,c,h,o<h?s:r,o,i.x,i.y)&&(u=Math.abs(o-i.y)/(r-i.x),(u<f||u===f&&i.x>n.x)&&S(i,t)&&(n=i,f=u)),i=i.next;return n}function g(t,e,n,i){var r=t;do{null===r.z&&(r.z=v(r.x,r.y,e,n,i)),r.prevZ=r.prev,r.nextZ=r.next,r=r.next}while(r!==t);r.prevZ.nextZ=null,r.prevZ=null,m(r)}function m(t){var e,n,i,r,o,s,a,u,l=1;do{for(n=t,t=null,o=null,s=0;n;){for(s++,i=n,a=0,e=0;e<l&&(a++,i=i.nextZ,i);e++);for(u=l;a>0||u>0&&i;)0===a?(r=i,i=i.nextZ,u--):0!==u&&i?n.z<=i.z?(r=n,n=n.nextZ,a--):(r=i,i=i.nextZ,u--):(r=n,n=n.nextZ,a--),o?o.nextZ=r:t=r,r.prevZ=o,o=r;n=i}o.nextZ=null,l*=2}while(s>1);return t}function v(t,e,n,i,r){return t=32767*(t-n)/r,e=32767*(e-i)/r,t=16711935&(t|t<<8),t=252645135&(t|t<<4),t=858993459&(t|t<<2),t=1431655765&(t|t<<1),e=16711935&(e|e<<8),e=252645135&(e|e<<4),e=858993459&(e|e<<2),e=1431655765&(e|e<<1),t|e<<1}function y(t){var e=t,n=t;do{e.x<n.x&&(n=e),e=e.next}while(e!==t);return n}function b(t,e,n,i,r,o,s,a){return(r-s)*(e-a)-(t-s)*(o-a)>=0&&(t-s)*(i-a)-(n-s)*(e-a)>=0&&(n-s)*(o-a)-(r-s)*(i-a)>=0}function x(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!T(t,e)&&S(t,e)&&S(e,t)&&A(t,e)}function _(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function E(t,e){return t.x===e.x&&t.y===e.y}function w(t,e,n,i){return!!(E(t,e)&&E(n,i)||E(t,i)&&E(n,e))||_(t,e,n)>0!=_(t,e,i)>0&&_(n,i,t)>0!=_(n,i,e)>0}function T(t,e){var n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&w(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function S(t,e){return _(t.prev,t,t.next)<0?_(t,e,t.next)>=0&&_(t,t.prev,e)>=0:_(t,e,t.prev)<0||_(t,t.next,e)<0}function A(t,e){var n=t,i=!1,r=(t.x+e.x)/2,o=(t.y+e.y)/2;do{n.y>o!=n.next.y>o&&r<(n.next.x-n.x)*(o-n.y)/(n.next.y-n.y)+n.x&&(i=!i),n=n.next}while(n!==t);return i}function I(t,e){var n=new M(t.i,t.x,t.y),i=new M(e.i,e.x,e.y),r=t.next,o=e.prev;return t.next=e,e.prev=t,n.next=r,r.prev=n,i.next=n,n.prev=i,o.next=i,i.prev=o,i}function C(t,e,n,i){var r=new M(t,e,n);return i?(r.next=i.next,r.prev=i,i.next.prev=r,i.next=r):(r.prev=r,r.next=r),r}function L(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function M(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=null,this.prevZ=null,this.nextZ=null,this.steiner=!1}function N(t,e,n,i){for(var r=0,o=e,s=n-i;o<n;o+=i)r+=(t[s]-t[o])*(t[o+1]+t[s+1]),s=o;return r}e.exports=i,i.deviation=function(t,e,n,i){var r=e&&e.length,o=r?e[0]*n:t.length,s=Math.abs(N(t,0,o,n));if(r)for(var a=0,u=e.length;a<u;a++){var l=e[a]*n,c=a<u-1?e[a+1]*n:t.length;s-=Math.abs(N(t,l,c,n))}var h=0;for(a=0;a<i.length;a+=3){var f=i[a]*n,p=i[a+1]*n,d=i[a+2]*n;h+=Math.abs((t[f]-t[d])*(t[p+1]-t[f+1])-(t[f]-t[p])*(t[d+1]-t[f+1]))}return 0===s&&0===h?0:Math.abs((h-s)/s)},i.flatten=function(t){for(var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0,r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++)for(var s=0;s<e;s++)n.vertices.push(t[r][o][s]);r>0&&(i+=t[r-1].length,n.holes.push(i))}return n}},{}],6:[function(t,e,n){function i(t){if("Polygon"===t.type)return r(t.coordinates);if("MultiPolygon"===t.type){for(var e=0,n=0;n<t.coordinates.length;n++)e+=r(t.coordinates[n]);return e}return null}function r(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var n=1;n<t.length;n++)e-=Math.abs(o(t[n]))}return e}function o(t){var e=0;if(t.length>2){for(var n,i,r=0;r<t.length-1;r++)n=t[r],i=t[r+1],e+=s(i[0]-n[0])*(2+Math.sin(s(n[1]))+Math.sin(s(i[1])));e=e*a.RADIUS*a.RADIUS/2}return e}function s(t){return t*Math.PI/180}var a=t("wgs84");e.exports.geometry=i,e.exports.ring=o},{wgs84:42}],7:[function(t,e,n){function i(t,e){switch(t&&t.type||null){case"FeatureCollection":return t.features=t.features.map(r(i,e)),t;case"Feature":return t.geometry=i(t.geometry,e),t;case"Polygon":case"MultiPolygon":return o(t,e);default:return t}}function r(t,e){return function(n){return t(n,e)}}function o(t,e){return"Polygon"===t.type?t.coordinates=s(t.coordinates,e):"MultiPolygon"===t.type&&(t.coordinates=t.coordinates.map(r(s,e))),t}function s(t,e){e=!!e,t[0]=a(t[0],!e);for(var n=1;n<t.length;n++)t[n]=a(t[n],e);return t}function a(t,e){return u(t)===e?t:t.reverse()}function u(t){return l.ring(t)>=0}var l=t("geojson-area");e.exports=i},{"geojson-area":6}],8:[function(t,e,n){"use strict";function i(t,e,n,i,s,u,l,c){if(n/=e,i/=e,l>=n&&c<=i)return t;if(l>i||c<n)return null;for(var h=[],f=0;f<t.length;f++){var p,d,g=t[f],m=g.geometry,v=g.type;if(p=g.min[s],d=g.max[s],p>=n&&d<=i)h.push(g);else if(!(p>i||d<n)){var y=1===v?r(m,n,i,s):o(m,n,i,s,u,3===v);y.length&&h.push(a(g.tags,v,y,g.id))}}return h.length?h:null}function r(t,e,n,i){for(var r=[],o=0;o<t.length;o++){var s=t[o],a=s[i];a>=e&&a<=n&&r.push(s)}return r}function o(t,e,n,i,r,o){for(var a=[],u=0;u<t.length;u++){var l,c,h,f=0,p=0,d=null,g=t[u],m=g.area,v=g.dist,y=g.outer,b=g.length,x=[];for(c=0;c<b-1;c++)l=d||g[c],d=g[c+1],f=p||l[i],p=d[i],f<e?p>n?(x.push(r(l,d,e),r(l,d,n)),o||(x=s(a,x,m,v,y))):p>=e&&x.push(r(l,d,e)):f>n?p<e?(x.push(r(l,d,n),r(l,d,e)),o||(x=s(a,x,m,v,y))):p<=n&&x.push(r(l,d,n)):(x.push(l),p<e?(x.push(r(l,d,e)),o||(x=s(a,x,m,v,y))):p>n&&(x.push(r(l,d,n)),o||(x=s(a,x,m,v,y))));l=g[b-1],f=l[i],f>=e&&f<=n&&x.push(l),h=x[x.length-1],o&&h&&(x[0][0]!==h[0]||x[0][1]!==h[1])&&x.push(x[0]),s(a,x,m,v,y)}return a}function s(t,e,n,i,r){return e.length&&(e.area=n,e.dist=i,void 0!==r&&(e.outer=r),t.push(e)),[]}e.exports=i;var a=t("./feature")},{"./feature":10}],9:[function(t,e,n){"use strict";function i(t,e){var n=[];if("FeatureCollection"===t.type)for(var i=0;i<t.features.length;i++)r(n,t.features[i],e);else"Feature"===t.type?r(n,t,e):r(n,{geometry:t},e);return n}function r(t,e,n){if(null!==e.geometry){var i,a,u,c,h=e.geometry,f=h.type,p=h.coordinates,d=e.properties,g=e.id;if("Point"===f)t.push(l(d,1,[s(p)],g));else if("MultiPoint"===f)t.push(l(d,1,o(p),g));else if("LineString"===f)t.push(l(d,2,[o(p,n)],g));else if("MultiLineString"===f||"Polygon"===f){for(u=[],i=0;i<p.length;i++)c=o(p[i],n),"Polygon"===f&&(c.outer=0===i),u.push(c);t.push(l(d,"Polygon"===f?3:2,u,g))}else if("MultiPolygon"===f){for(u=[],i=0;i<p.length;i++)for(a=0;a<p[i].length;a++)c=o(p[i][a],n),c.outer=0===a,u.push(c);t.push(l(d,3,u,g))}else{if("GeometryCollection"!==f)throw new Error("Input data is not a valid GeoJSON object.");for(i=0;i<h.geometries.length;i++)r(t,{geometry:h.geometries[i],properties:d},n)}}}function o(t,e){for(var n=[],i=0;i<t.length;i++)n.push(s(t[i]));return e&&(u(n,e),a(n)),n}function s(t){var e=Math.sin(t[1]*Math.PI/180),n=t[0]/360+.5,i=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return i=i<0?0:i>1?1:i,[n,i,0]}function a(t){for(var e,n,i=0,r=0,o=0;o<t.length-1;o++)e=n||t[o],n=t[o+1],i+=e[0]*n[1]-n[0]*e[1],r+=Math.abs(n[0]-e[0])+Math.abs(n[1]-e[1]);t.area=Math.abs(i/2),t.dist=r}e.exports=i;var u=t("./simplify"),l=t("./feature")},{"./feature":10,"./simplify":12}],10:[function(t,e,n){"use strict";function i(t,e,n,i){var o={id:i||null,type:e,geometry:n,tags:t||null,min:[1/0,1/0],max:[-(1/0),-(1/0)]};return r(o),o}function r(t){var e=t.geometry,n=t.min,i=t.max;if(1===t.type)o(n,i,e);else for(var r=0;r<e.length;r++)o(n,i,e[r]);return t}function o(t,e,n){for(var i,r=0;r<n.length;r++)i=n[r],t[0]=Math.min(i[0],t[0]),e[0]=Math.max(i[0],e[0]),t[1]=Math.min(i[1],t[1]),e[1]=Math.max(i[1],e[1])}e.exports=i},{}],11:[function(t,e,n){"use strict";function i(t,e){return new r(t,e)}function r(t,e){e=this.options=u(Object.create(this.options),e);var n=e.debug;n&&console.time("preprocess data");var i=1<<e.maxZoom,r=c(t,e.tolerance/(i*e.extent));this.tiles={},this.tileCoords=[],n&&(console.timeEnd("preprocess data"),console.log("index: maxZoom: %d, maxPoints: %d",e.indexMaxZoom,e.indexMaxPoints),console.time("generate tiles"),this.stats={},this.total=0),r=p(r,e.buffer/e.extent,s),r.length&&this.splitTile(r,0,0,0),n&&(r.length&&console.log("features: %d, points: %d",this.tiles[0].numFeatures,this.tiles[0].numPoints),console.timeEnd("generate tiles"),console.log("tiles generated:",this.total,JSON.stringify(this.stats)))}function o(t,e,n){return 32*((1<<t)*n+e)+t}function s(t,e,n){return[n,(n-t[0])*(e[1]-t[1])/(e[0]-t[0])+t[1],1]}function a(t,e,n){return[(n-t[1])*(e[0]-t[0])/(e[1]-t[1])+t[0],n,1]}function u(t,e){for(var n in e)t[n]=e[n];return t}function l(t,e,n){var i=t.source;if(1!==i.length)return!1;var r=i[0];if(3!==r.type||r.geometry.length>1)return!1;var o=r.geometry[0].length;if(5!==o)return!1;for(var s=0;s<o;s++){var a=h.point(r.geometry[0][s],e,t.z2,t.x,t.y);if(a[0]!==-n&&a[0]!==e+n||a[1]!==-n&&a[1]!==e+n)return!1}return!0}e.exports=i;var c=t("./convert"),h=t("./transform"),f=t("./clip"),p=t("./wrap"),d=t("./tile");r.prototype.options={maxZoom:14,indexMaxZoom:5,indexMaxPoints:1e5,solidChildren:!1,tolerance:3,extent:4096,buffer:64,debug:0},r.prototype.splitTile=function(t,e,n,i,r,u,c){for(var h=[t,e,n,i],p=this.options,g=p.debug,m=null;h.length;){i=h.pop(),n=h.pop(),e=h.pop(),t=h.pop();var v=1<<e,y=o(e,n,i),b=this.tiles[y],x=e===p.maxZoom?0:p.tolerance/(v*p.extent);if(!b&&(g>1&&console.time("creation"),b=this.tiles[y]=d(t,v,n,i,x,e===p.maxZoom),this.tileCoords.push({z:e,x:n,y:i}),g)){g>1&&(console.log("tile z%d-%d-%d (features: %d, points: %d, simplified: %d)",e,n,i,b.numFeatures,b.numPoints,b.numSimplified),console.timeEnd("creation"));var _="z"+e;this.stats[_]=(this.stats[_]||0)+1,this.total++}if(b.source=t,r){if(e===p.maxZoom||e===r)continue;var E=1<<r-e;if(n!==Math.floor(u/E)||i!==Math.floor(c/E))continue}else if(e===p.indexMaxZoom||b.numPoints<=p.indexMaxPoints)continue;if(p.solidChildren||!l(b,p.extent,p.buffer)){b.source=null,g>1&&console.time("clipping");var w,T,S,A,I,C,L=.5*p.buffer/p.extent,M=.5-L,N=.5+L,R=1+L;w=T=S=A=null,I=f(t,v,n-L,n+N,0,s,b.min[0],b.max[0]),C=f(t,v,n+M,n+R,0,s,b.min[0],b.max[0]),I&&(w=f(I,v,i-L,i+N,1,a,b.min[1],b.max[1]),T=f(I,v,i+M,i+R,1,a,b.min[1],b.max[1])),C&&(S=f(C,v,i-L,i+N,1,a,b.min[1],b.max[1]),A=f(C,v,i+M,i+R,1,a,b.min[1],b.max[1])),g>1&&console.timeEnd("clipping"),t.length&&(h.push(w||[],e+1,2*n,2*i),h.push(T||[],e+1,2*n,2*i+1),h.push(S||[],e+1,2*n+1,2*i),h.push(A||[],e+1,2*n+1,2*i+1))}else r&&(m=e)}return m},r.prototype.getTile=function(t,e,n){var i=this.options,r=i.extent,s=i.debug,a=1<<t;e=(e%a+a)%a;var u=o(t,e,n);if(this.tiles[u])return h.tile(this.tiles[u],r);s>1&&console.log("drilling down to z%d-%d-%d",t,e,n);for(var c,f=t,p=e,d=n;!c&&f>0;)f--,p=Math.floor(p/2),d=Math.floor(d/2),c=this.tiles[o(f,p,d)];if(!c||!c.source)return null;if(s>1&&console.log("found parent tile z%d-%d-%d",f,p,d),l(c,r,i.buffer))return h.tile(c,r);s>1&&console.time("drilling down");var g=this.splitTile(c.source,f,p,d,t,e,n);if(s>1&&console.timeEnd("drilling down"),null!==g){var m=1<<t-g;u=o(g,Math.floor(e/m),Math.floor(n/m))}return this.tiles[u]?h.tile(this.tiles[u],r):null}},{"./clip":8,"./convert":9,"./tile":13,"./transform":14,"./wrap":15}],12:[function(t,e,n){"use strict";function i(t,e){var n,i,o,s,a=e*e,u=t.length,l=0,c=u-1,h=[];for(t[l][2]=1,t[c][2]=1;c;){for(i=0,n=l+1;n<c;n++)o=r(t[n],t[l],t[c]),o>i&&(s=n,i=o);i>a?(t[s][2]=i,h.push(l),h.push(s),l=s):(c=h.pop(),l=h.pop())}}function r(t,e,n){var i=e[0],r=e[1],o=n[0],s=n[1],a=t[0],u=t[1],l=o-i,c=s-r;if(0!==l||0!==c){var h=((a-i)*l+(u-r)*c)/(l*l+c*c);h>1?(i=o,r=s):h>0&&(i+=l*h,r+=c*h)}return l=a-i,c=u-r,l*l+c*c}e.exports=i},{}],13:[function(t,e,n){"use strict";function i(t,e,n,i,o,s){for(var a={features:[],numPoints:0,numSimplified:0,numFeatures:0,source:null,x:n,y:i,z2:e,transformed:!1,min:[2,1],max:[-1,0]},u=0;u<t.length;u++){a.numFeatures++,r(a,t[u],o,s);var l=t[u].min,c=t[u].max;l[0]<a.min[0]&&(a.min[0]=l[0]),l[1]<a.min[1]&&(a.min[1]=l[1]),c[0]>a.max[0]&&(a.max[0]=c[0]),c[1]>a.max[1]&&(a.max[1]=c[1])}return a}function r(t,e,n,i){var r,s,a,u,l=e.geometry,c=e.type,h=[],f=n*n;if(1===c)for(r=0;r<l.length;r++)h.push(l[r]),t.numPoints++,t.numSimplified++;else for(r=0;r<l.length;r++)if(a=l[r],i||!(2===c&&a.dist<n||3===c&&a.area<f)){var p=[];for(s=0;s<a.length;s++)u=a[s],(i||u[2]>f)&&(p.push(u),t.numSimplified++),t.numPoints++;3===c&&o(p,a.outer),h.push(p)}else t.numPoints+=a.length;if(h.length){var d={geometry:h,type:c,tags:e.tags||null};null!==e.id&&(d.id=e.id),t.features.push(d)}}function o(t,e){var n=s(t);n<0===e&&t.reverse()}function s(t){for(var e,n,i=0,r=0,o=t.length,s=o-1;r<o;s=r++)e=t[r],n=t[s],i+=(n[0]-e[0])*(e[1]+n[1]);return i}e.exports=i},{}],14:[function(t,e,n){"use strict";function i(t,e){if(t.transformed)return t;var n,i,o,s=t.z2,a=t.x,u=t.y;for(n=0;n<t.features.length;n++){var l=t.features[n],c=l.geometry,h=l.type;if(1===h)for(i=0;i<c.length;i++)c[i]=r(c[i],e,s,a,u);else for(i=0;i<c.length;i++){var f=c[i];for(o=0;o<f.length;o++)f[o]=r(f[o],e,s,a,u)}}return t.transformed=!0,t}function r(t,e,n,i,r){var o=Math.round(e*(t[0]*n-i)),s=Math.round(e*(t[1]*n-r));return[o,s]}n.tile=i,n.point=r},{}],15:[function(t,e,n){"use strict";function i(t,e,n){var i=t,o=s(t,1,-1-e,e,0,n,-1,2),a=s(t,1,1-e,2+e,0,n,-1,2);return(o||a)&&(i=s(t,1,-e,1+e,0,n,-1,2)||[],o&&(i=r(o,1).concat(i)),a&&(i=i.concat(r(a,-1)))),i}function r(t,e){for(var n=[],i=0;i<t.length;i++){var r,s=t[i],u=s.type;if(1===u)r=o(s.geometry,e);else{r=[];for(var l=0;l<s.geometry.length;l++)r.push(o(s.geometry[l],e))}n.push(a(s.tags,u,r,s.id))}return n}function o(t,e){var n=[];n.area=t.area,n.dist=t.dist;for(var i=0;i<t.length;i++)n.push([t[i][0]+e,t[i][1],t[i][2]]);return n}var s=t("./clip"),a=t("./feature");e.exports=i},{"./clip":8,"./feature":10}],16:[function(t,e,n){"use strict";function i(t,e,n){var i=this.cells=[];if(t instanceof ArrayBuffer){this.arrayBuffer=t;var o=new Int32Array(this.arrayBuffer);t=o[0],e=o[1],n=o[2],this.d=e+2*n;for(var s=0;s<this.d*this.d;s++){var a=o[r+s],u=o[r+s+1];i.push(a===u?null:o.subarray(a,u))}var l=o[r+i.length],c=o[r+i.length+1];this.keys=o.subarray(l,c),this.bboxes=o.subarray(c),this.insert=this._insertReadonly}else{this.d=e+2*n;for(var h=0;h<this.d*this.d;h++)i.push([]);this.keys=[],this.bboxes=[]}this.n=e,this.extent=t,this.padding=n,this.scale=e/t,this.uid=0;var f=n/e*t;this.min=-f,this.max=t+f}e.exports=i;var r=3;i.prototype.insert=function(t,e,n,i,r){this._forEachCell(e,n,i,r,this._insertCell,this.uid++),this.keys.push(t),this.bboxes.push(e),this.bboxes.push(n),this.bboxes.push(i),this.bboxes.push(r)},i.prototype._insertReadonly=function(){throw"Cannot insert into a GridIndex created from an ArrayBuffer."},i.prototype._insertCell=function(t,e,n,i,r,o){this.cells[r].push(o)},i.prototype.query=function(t,e,n,i){var r=this.min,o=this.max;if(t<=r&&e<=r&&o<=n&&o<=i)return Array.prototype.slice.call(this.keys);var s=[],a={};return this._forEachCell(t,e,n,i,this._queryCell,s,a),s},i.prototype._queryCell=function(t,e,n,i,r,o,s){var a=this.cells[r];if(null!==a)for(var u=this.keys,l=this.bboxes,c=0;c<a.length;c++){var h=a[c];if(void 0===s[h]){var f=4*h;t<=l[f+2]&&e<=l[f+3]&&n>=l[f+0]&&i>=l[f+1]?(s[h]=!0,o.push(u[h])):s[h]=!1}}},i.prototype._forEachCell=function(t,e,n,i,r,o,s){for(var a=this._convertToCellCoord(t),u=this._convertToCellCoord(e),l=this._convertToCellCoord(n),c=this._convertToCellCoord(i),h=a;h<=l;h++)for(var f=u;f<=c;f++){var p=this.d*f+h;if(r.call(this,t,e,n,i,p,o,s))return}},i.prototype._convertToCellCoord=function(t){return Math.max(0,Math.min(this.d-1,Math.floor(t*this.scale)+this.padding))},i.prototype.toArrayBuffer=function(){if(this.arrayBuffer)return this.arrayBuffer;for(var t=this.cells,e=r+this.cells.length+1+1,n=0,i=0;i<this.cells.length;i++)n+=this.cells[i].length;var o=new Int32Array(e+n+this.keys.length+this.bboxes.length);o[0]=this.extent,o[1]=this.n,o[2]=this.padding;for(var s=e,a=0;a<t.length;a++){var u=t[a];o[r+a]=s,o.set(u,s),s+=u.length}return o[r+t.length]=s,o.set(this.keys,s),s+=this.keys.length,o[r+t.length+1]=s,o.set(this.bboxes,s),s+=this.bboxes.length,o.buffer}},{}],17:[function(t,e,n){n.read=function(t,e,n,i,r){var o,s,a=8*r-i-1,u=(1<<a)-1,l=u>>1,c=-7,h=n?r-1:0,f=n?-1:1,p=t[e+h];for(h+=f,o=p&(1<<-c)-1,p>>=-c,c+=a;c>0;o=256*o+t[e+h],h+=f,c-=8);for(s=o&(1<<-c)-1,o>>=-c,c+=i;c>0;s=256*s+t[e+h],h+=f,c-=8);if(0===o)o=1-l;else{if(o===u)return s?NaN:(p?-1:1)*(1/0);s+=Math.pow(2,i),o-=l}return(p?-1:1)*s*Math.pow(2,o-i)},n.write=function(t,e,n,i,r,o){var s,a,u,l=8*o-r-1,c=(1<<l)-1,h=c>>1,f=23===r?Math.pow(2,-24)-Math.pow(2,-77):0,p=i?0:o-1,d=i?1:-1,g=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(a=isNaN(e)?1:0,s=c):(s=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-s))<1&&(s--,u*=2),e+=s+h>=1?f/u:f*Math.pow(2,1-h),e*u>=2&&(s++,u/=2),s+h>=c?(a=0,s=c):s+h>=1?(a=(e*u-1)*Math.pow(2,r),s+=h):(a=e*Math.pow(2,h-1)*Math.pow(2,r),s=0));r>=8;t[n+p]=255&a,p+=d,a/=256,r-=8);for(s=s<<r|a,l+=r;l>0;t[n+p]=255&s,p+=d,s/=256,l-=8);t[n+p-d]|=128*g}},{}],18:[function(t,e,n){"use strict";function i(t,e,n,i,o){return new r(t,e,n,i,o)}function r(t,e,n,i,r){e=e||o,n=n||s,r=r||Array,this.nodeSize=i||64,this.points=t,this.ids=new r(t.length),this.coords=new r(2*t.length);for(var u=0;u<t.length;u++)this.ids[u]=u,this.coords[2*u]=e(t[u]),this.coords[2*u+1]=n(t[u]);a(this.ids,this.coords,this.nodeSize,0,this.ids.length-1,0)}function o(t){return t[0]}function s(t){return t[1]}var a=t("./sort"),u=t("./range"),l=t("./within");e.exports=i,r.prototype={range:function(t,e,n,i){return u(this.ids,this.coords,t,e,n,i,this.nodeSize)},within:function(t,e,n){return l(this.ids,this.coords,t,e,n,this.nodeSize)}}},{"./range":19,"./sort":20,"./within":21}],19:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s){for(var a,u,l=[0,t.length-1,0],c=[];l.length;){var h=l.pop(),f=l.pop(),p=l.pop();if(f-p<=s)for(var d=p;d<=f;d++)a=e[2*d],u=e[2*d+1],a>=n&&a<=r&&u>=i&&u<=o&&c.push(t[d]);else{var g=Math.floor((p+f)/2);a=e[2*g],u=e[2*g+1],a>=n&&a<=r&&u>=i&&u<=o&&c.push(t[g]);var m=(h+1)%2;(0===h?n<=a:i<=u)&&(l.push(p),l.push(g-1),l.push(m)),(0===h?r>=a:o>=u)&&(l.push(g+1),l.push(f),l.push(m))}}return c}e.exports=i},{}],20:[function(t,e,n){"use strict";function i(t,e,n,o,s,a){if(!(s-o<=n)){var u=Math.floor((o+s)/2);r(t,e,u,o,s,a%2),i(t,e,n,o,u-1,a+1),i(t,e,n,u+1,s,a+1)}}function r(t,e,n,i,s,a){for(;s>i;){if(s-i>600){var u=s-i+1,l=n-i+1,c=Math.log(u),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1),p=Math.max(i,Math.floor(n-l*h/u+f)),d=Math.min(s,Math.floor(n+(u-l)*h/u+f));r(t,e,n,p,d,a)}var g=e[2*n+a],m=i,v=s;for(o(t,e,i,n),e[2*s+a]>g&&o(t,e,i,s);m<v;){for(o(t,e,m,v),m++,v--;e[2*m+a]<g;)m++;for(;e[2*v+a]>g;)v--}e[2*i+a]===g?o(t,e,i,v):(v++,o(t,e,v,s)),v<=n&&(i=v+1),n<=v&&(s=v-1)}}function o(t,e,n,i){s(t,n,i),s(e,2*n,2*i),s(e,2*n+1,2*i+1)}function s(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}e.exports=i},{}],21:[function(t,e,n){"use strict";function i(t,e,n,i,o,s){for(var a=[0,t.length-1,0],u=[],l=o*o;a.length;){var c=a.pop(),h=a.pop(),f=a.pop();if(h-f<=s)for(var p=f;p<=h;p++)r(e[2*p],e[2*p+1],n,i)<=l&&u.push(t[p]);else{var d=Math.floor((f+h)/2),g=e[2*d],m=e[2*d+1];r(g,m,n,i)<=l&&u.push(t[d]);var v=(c+1)%2;(0===c?n-o<=g:i-o<=m)&&(a.push(f),a.push(d-1),a.push(v)),(0===c?n+o>=g:i+o>=m)&&(a.push(d+1),a.push(h),a.push(v))}}return u}function r(t,e,n,i){var r=t-n,o=e-i;return r*r+o*o}e.exports=i},{}],22:[function(t,e,n){"use strict";function i(t){return!!(r()&&o()&&s()&&a()&&u()&&l()&&c()&&h(t&&t.failIfMajorPerformanceCaveat))}function r(){return"undefined"!=typeof window&&"undefined"!=typeof document}function o(){return Array.prototype&&Array.prototype.every&&Array.prototype.filter&&Array.prototype.forEach&&Array.prototype.indexOf&&Array.prototype.lastIndexOf&&Array.prototype.map&&Array.prototype.some&&Array.prototype.reduce&&Array.prototype.reduceRight&&Array.isArray}function s(){return Function.prototype&&Function.prototype.bind}function a(){return Object.keys&&Object.create&&Object.getPrototypeOf&&Object.getOwnPropertyNames&&Object.isSealed&&Object.isFrozen&&Object.isExtensible&&Object.getOwnPropertyDescriptor&&Object.defineProperty&&Object.defineProperties&&Object.seal&&Object.freeze&&Object.preventExtensions}function u(){return"JSON"in window&&"parse"in JSON&&"stringify"in JSON}function l(){return"Worker"in window}function c(){return"Uint8ClampedArray"in window}function h(t){return void 0===p[t]&&(p[t]=f(t)),p[t]}function f(t){var e=document.createElement("canvas"),n=Object.create(i.webGLContextAttributes);return n.failIfMajorPerformanceCaveat=t,e.probablySupportsContext?e.probablySupportsContext("webgl",n)||e.probablySupportsContext("experimental-webgl",n):e.supportsContext?e.supportsContext("webgl",n)||e.supportsContext("experimental-webgl",n):e.getContext("webgl",n)||e.getContext("experimental-webgl",n)}"undefined"!=typeof e&&e.exports?e.exports=i:window&&(window.mapboxgl=window.mapboxgl||{},window.mapboxgl.supported=i);var p={};i.webGLContextAttributes={antialias:!1,alpha:!0,stencil:!0,depth:!0}},{}],23:[function(t,e,n){(function(t){function e(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}function i(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}var r=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,o=function(t){return r.exec(t).slice(1)};n.resolve=function(){for(var n="",r=!1,o=arguments.length-1;o>=-1&&!r;o--){var s=o>=0?arguments[o]:t.cwd();if("string"!=typeof s)throw new TypeError("Arguments to path.resolve must be strings");s&&(n=s+"/"+n,r="/"===s.charAt(0))}return n=e(i(n.split("/"),function(t){return!!t}),!r).join("/"),(r?"/":"")+n||"."},n.normalize=function(t){var r=n.isAbsolute(t),o="/"===s(t,-1);return t=e(i(t.split("/"),function(t){return!!t}),!r).join("/"),t||r||(t="."),t&&o&&(t+="/"),(r?"/":"")+t},n.isAbsolute=function(t){return"/"===t.charAt(0)},n.join=function(){var t=Array.prototype.slice.call(arguments,0);return n.normalize(i(t,function(t,e){if("string"!=typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},n.relative=function(t,e){function i(t){for(var e=0;e<t.length&&""===t[e];e++);for(var n=t.length-1;n>=0&&""===t[n];n--);return e>n?[]:t.slice(e,n-e+1)}t=n.resolve(t).substr(1),e=n.resolve(e).substr(1);for(var r=i(t.split("/")),o=i(e.split("/")),s=Math.min(r.length,o.length),a=s,u=0;u<s;u++)if(r[u]!==o[u]){a=u;break}for(var l=[],u=a;u<r.length;u++)l.push("..");return l=l.concat(o.slice(a)),l.join("/")},n.sep="/",n.delimiter=":",n.dirname=function(t){var e=o(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},n.basename=function(t,e){var n=o(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},n.extname=function(t){return o(t)[3]};var s="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,t("_process"))},{_process:27}],24:[function(t,e,n){"use strict";function i(t){var e;t&&t.length&&(e=t,t=e.length);var n=new Uint8Array(t||0);return e&&n.set(e),n.readUInt32LE=s.readUInt32LE,n.writeUInt32LE=s.writeUInt32LE,n.readInt32LE=s.readInt32LE,n.writeInt32LE=s.writeInt32LE,n.readFloatLE=s.readFloatLE,n.writeFloatLE=s.writeFloatLE,n.readDoubleLE=s.readDoubleLE,n.writeDoubleLE=s.writeDoubleLE,n.toString=s.toString,n.write=s.write,n.slice=s.slice,n.copy=s.copy,n._isBuffer=!0,n}function r(t){for(var e,n,i=t.length,r=[],o=0;o<i;o++){if(e=t.charCodeAt(o),e>55295&&e<57344){if(!n){e>56319||o+1===i?r.push(239,191,189):n=e;continue}if(e<56320){r.push(239,191,189),n=e;continue}e=n-55296<<10|e-56320|65536,n=null}else n&&(r.push(239,191,189),n=null);e<128?r.push(e):e<2048?r.push(e>>6|192,63&e|128):e<65536?r.push(e>>12|224,e>>6&63|128,63&e|128):r.push(e>>18|240,e>>12&63|128,e>>6&63|128,63&e|128)}return r}e.exports=i;var o=t("ieee754"),s,a,u;s={readUInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},writeUInt32LE:function(t,e){this[e]=t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24},readInt32LE:function(t){return(this[t]|this[t+1]<<8|this[t+2]<<16)+(this[t+3]<<24)},readFloatLE:function(t){return o.read(this,t,!0,23,4)},readDoubleLE:function(t){return o.read(this,t,!0,52,8)},writeFloatLE:function(t,e){return o.write(this,t,e,!0,23,4)},writeDoubleLE:function(t,e){return o.write(this,t,e,!0,52,8)},toString:function(t,e,n){var i="",r="";e=e||0,n=Math.min(this.length,n||this.length);for(var o=e;o<n;o++){var s=this[o];s<=127?(i+=decodeURIComponent(r)+String.fromCharCode(s),r=""):r+="%"+s.toString(16)}return i+=decodeURIComponent(r)},write:function(t,e){for(var n=t===a?u:r(t),i=0;i<n.length;i++)this[e+i]=n[i]},slice:function(t,e){return this.subarray(t,e)},copy:function(t,e){e=e||0;for(var n=0;n<this.length;n++)t[e+n]=this[n]}},s.writeInt32LE=s.writeUInt32LE,i.byteLength=function(t){return a=t,u=r(t),u.length},i.isBuffer=function(t){return!(!t||!t._isBuffer)}},{ieee754:17}],25:[function(t,n,i){(function(e){"use strict";function i(t){this.buf=m.isBuffer(t)?t:new m(t||0),this.pos=0,this.length=this.buf.length}function r(t,e){var n,i=e.buf;if(n=i[e.pos++],t+=268435456*(127&n),n<128)return t;if(n=i[e.pos++],t+=34359738368*(127&n),n<128)return t;if(n=i[e.pos++],t+=4398046511104*(127&n),n<128)return t;if(n=i[e.pos++],t+=562949953421312*(127&n),n<128)return t;if(n=i[e.pos++],t+=72057594037927940*(127&n),n<128)return t;if(n=i[e.pos++],t+=0x8000000000000000*(127&n),n<128)return t;throw new Error("Expected varint not more than 10 bytes")}function o(t,e){e.realloc(10);for(var n=e.pos+10;t>=1;){if(e.pos>=n)throw new Error("Given varint doesn't fit into 10 bytes");var i=255&t;e.buf[e.pos++]=i|(t>=128?128:0),t/=128}}function s(t,e,n){var i=e<=16383?1:e<=2097151?2:e<=268435455?3:Math.ceil(Math.log(e)/(7*Math.LN2));n.realloc(i);for(var r=n.pos-1;r>=t;r--)n.buf[r+i]=n.buf[r]}function a(t,e){for(var n=0;n<t.length;n++)e.writeVarint(t[n])}function u(t,e){for(var n=0;n<t.length;n++)e.writeSVarint(t[n])}function l(t,e){for(var n=0;n<t.length;n++)e.writeFloat(t[n])}function c(t,e){for(var n=0;n<t.length;n++)e.writeDouble(t[n])}function h(t,e){for(var n=0;n<t.length;n++)e.writeBoolean(t[n])}function f(t,e){for(var n=0;n<t.length;n++)e.writeFixed32(t[n])}function p(t,e){for(var n=0;n<t.length;n++)e.writeSFixed32(t[n])}function d(t,e){for(var n=0;n<t.length;n++)e.writeFixed64(t[n])}function g(t,e){for(var n=0;n<t.length;n++)e.writeSFixed64(t[n])}n.exports=i;var m=e.Buffer||t("./buffer");i.Varint=0,i.Fixed64=1,i.Bytes=2,i.Fixed32=5;var v=4294967296,y=1/v,b=Math.pow(2,63);i.prototype={destroy:function(){this.buf=null},readFields:function(t,e,n){for(n=n||this.length;this.pos<n;){var i=this.readVarint(),r=i>>3,o=this.pos;t(r,e,this),this.pos===o&&this.skip(i)}return e},readMessage:function(t,e){return this.readFields(t,e,this.readVarint()+this.pos)},readFixed32:function(){var t=this.buf.readUInt32LE(this.pos);return this.pos+=4,t},readSFixed32:function(){var t=this.buf.readInt32LE(this.pos);return this.pos+=4,t},readFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readUInt32LE(this.pos+4)*v;return this.pos+=8,t},readSFixed64:function(){var t=this.buf.readUInt32LE(this.pos)+this.buf.readInt32LE(this.pos+4)*v;return this.pos+=8,t},readFloat:function(){var t=this.buf.readFloatLE(this.pos);return this.pos+=4,t},readDouble:function(){var t=this.buf.readDoubleLE(this.pos);return this.pos+=8,t},readVarint:function(){var t,e,n=this.buf;return e=n[this.pos++],t=127&e,e<128?t:(e=n[this.pos++],t|=(127&e)<<7,e<128?t:(e=n[this.pos++],t|=(127&e)<<14,e<128?t:(e=n[this.pos++],t|=(127&e)<<21,e<128?t:r(t,this))))},readVarint64:function(){var t=this.pos,e=this.readVarint();if(e<b)return e;for(var n=this.pos-2;255===this.buf[n];)n--;n<t&&(n=t),e=0;for(var i=0;i<n-t+1;i++){var r=127&~this.buf[t+i];e+=i<4?r<<7*i:r*Math.pow(2,7*i)}return-e-1},readSVarint:function(){var t=this.readVarint();return t%2===1?(t+1)/-2:t/2},readBoolean:function(){return Boolean(this.readVarint())},readString:function(){var t=this.readVarint()+this.pos,e=this.buf.toString("utf8",this.pos,t);return this.pos=t,e},readBytes:function(){var t=this.readVarint()+this.pos,e=this.buf.slice(this.pos,t);return this.pos=t,e},readPackedVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readVarint());return e},readPackedSVarint:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSVarint());return e},readPackedBoolean:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readBoolean());return e},readPackedFloat:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFloat());return e},readPackedDouble:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readDouble());return e},readPackedFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed32());return e},readPackedSFixed32:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed32());return e},readPackedFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readFixed64());return e},readPackedSFixed64:function(){for(var t=this.readVarint()+this.pos,e=[];this.pos<t;)e.push(this.readSFixed64());return e},skip:function(t){var e=7&t;if(e===i.Varint)for(;this.buf[this.pos++]>127;);else if(e===i.Bytes)this.pos=this.readVarint()+this.pos;else if(e===i.Fixed32)this.pos+=4;else{if(e!==i.Fixed64)throw new Error("Unimplemented type: "+e);this.pos+=8}},writeTag:function(t,e){this.writeVarint(t<<3|e)},realloc:function(t){for(var e=this.length||16;e<this.pos+t;)e*=2;if(e!==this.length){var n=new m(e);this.buf.copy(n),this.buf=n,this.length=e}},finish:function(){return this.length=this.pos,this.pos=0,this.buf.slice(0,this.length)},writeFixed32:function(t){this.realloc(4),this.buf.writeUInt32LE(t,this.pos),this.pos+=4},writeSFixed32:function(t){this.realloc(4),this.buf.writeInt32LE(t,this.pos),this.pos+=4},writeFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeUInt32LE(Math.floor(t*y),this.pos+4),this.pos+=8},writeSFixed64:function(t){this.realloc(8),this.buf.writeInt32LE(t&-1,this.pos),this.buf.writeInt32LE(Math.floor(t*y),this.pos+4),this.pos+=8},writeVarint:function(t){return t=+t,t>268435455?void o(t,this):(this.realloc(4),this.buf[this.pos++]=127&t|(t>127?128:0),void(t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=127&(t>>>=7)|(t>127?128:0),t<=127||(this.buf[this.pos++]=t>>>7&127)))))},writeSVarint:function(t){this.writeVarint(t<0?2*-t-1:2*t)},writeBoolean:function(t){this.writeVarint(Boolean(t))},writeString:function(t){t=String(t);var e=m.byteLength(t);this.writeVarint(e),this.realloc(e),this.buf.write(t,this.pos),this.pos+=e},writeFloat:function(t){this.realloc(4),this.buf.writeFloatLE(t,this.pos),this.pos+=4},writeDouble:function(t){this.realloc(8),this.buf.writeDoubleLE(t,this.pos),this.pos+=8},writeBytes:function(t){var e=t.length;this.writeVarint(e),this.realloc(e);for(var n=0;n<e;n++)this.buf[this.pos++]=t[n]},writeRawMessage:function(t,e){this.pos++;var n=this.pos;t(e,this);var i=this.pos-n;i>=128&&s(n,i,this),this.pos=n-1,this.writeVarint(i),this.pos+=i},writeMessage:function(t,e,n){this.writeTag(t,i.Bytes),this.writeRawMessage(e,n)},writePackedVarint:function(t,e){this.writeMessage(t,a,e)},writePackedSVarint:function(t,e){this.writeMessage(t,u,e)},writePackedBoolean:function(t,e){this.writeMessage(t,h,e)},writePackedFloat:function(t,e){this.writeMessage(t,l,e)},writePackedDouble:function(t,e){this.writeMessage(t,c,e)},writePackedFixed32:function(t,e){this.writeMessage(t,f,e)},writePackedSFixed32:function(t,e){this.writeMessage(t,p,e)},writePackedFixed64:function(t,e){this.writeMessage(t,d,e)},writePackedSFixed64:function(t,e){this.writeMessage(t,g,e)},writeBytesField:function(t,e){this.writeTag(t,i.Bytes),this.writeBytes(e)},writeFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeFixed32(e)},writeSFixed32Field:function(t,e){this.writeTag(t,i.Fixed32),this.writeSFixed32(e)},writeFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeFixed64(e)},writeSFixed64Field:function(t,e){this.writeTag(t,i.Fixed64),this.writeSFixed64(e)},writeVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeVarint(e)},writeSVarintField:function(t,e){this.writeTag(t,i.Varint),this.writeSVarint(e)},writeStringField:function(t,e){this.writeTag(t,i.Bytes),this.writeString(e)},writeFloatField:function(t,e){this.writeTag(t,i.Fixed32),this.writeFloat(e)},writeDoubleField:function(t,e){this.writeTag(t,i.Fixed64),this.writeDouble(e)},writeBooleanField:function(t,e){this.writeVarintField(t,Boolean(e))}}}).call(this,typeof e!=="undefined"?e:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./buffer":24}],26:[function(t,e,n){"use strict";function i(t,e){this.x=t,this.y=e}e.exports=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone()._add(t)},sub:function(t){return this.clone()._sub(t)},mult:function(t){return this.clone()._mult(t)},div:function(t){return this.clone()._div(t)},rotate:function(t){return this.clone()._rotate(t)},matMult:function(t){return this.clone()._matMult(t)},unit:function(){return this.clone()._unit()},perp:function(){return this.clone()._perp()},round:function(){return this.clone()._round()},mag:function(){return Math.sqrt(this.x*this.x+this.y*this.y)},equals:function(t){return this.x===t.x&&this.y===t.y},dist:function(t){return Math.sqrt(this.distSqr(t))},distSqr:function(t){var e=t.x-this.x,n=t.y-this.y;return e*e+n*n},angle:function(){return Math.atan2(this.y,this.x)},angleTo:function(t){return Math.atan2(this.y-t.y,this.x-t.x)},angleWith:function(t){return this.angleWithSep(t.x,t.y)},angleWithSep:function(t,e){return Math.atan2(this.x*e-this.y*t,this.x*t+this.y*e)},_matMult:function(t){var e=t[0]*this.x+t[1]*this.y,n=t[2]*this.x+t[3]*this.y;return this.x=e,this.y=n,this},_add:function(t){return this.x+=t.x,this.y+=t.y,this},_sub:function(t){return this.x-=t.x,this.y-=t.y,this},_mult:function(t){return this.x*=t,this.y*=t,this},_div:function(t){return this.x/=t,this.y/=t,this},_unit:function(){return this._div(this.mag()),this},_perp:function(){var t=this.y;return this.y=this.x,this.x=-t,this},_rotate:function(t){var e=Math.cos(t),n=Math.sin(t),i=e*this.x-n*this.y,r=n*this.x+e*this.y;return this.x=i,this.y=r,this},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.convert=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{}],27:[function(t,e,n){function i(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function o(t){if(f===setTimeout)return setTimeout(t,0);if((f===i||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function s(t){if(p===clearTimeout)return clearTimeout(t);if((p===r||!p)&&clearTimeout)return p=clearTimeout,clearTimeout(t);try{return p(t)}catch(e){try{return p.call(null,t)}catch(e){return p.call(this,t)}}}function a(){g&&m&&(g=!1,m.length?d=m.concat(d):v=-1,d.length&&u())}function u(){if(!g){var t=o(a);g=!0;for(var e=d.length;e;){for(m=d,d=[];++v<e;)m&&m[v].run();v=-1,e=d.length}m=null,g=!1,s(t)}}function l(t,e){this.fun=t,this.array=e}function c(){}var h=e.exports={},f,p;!function(){try{f="function"==typeof setTimeout?setTimeout:i}catch(t){f=i}try{p="function"==typeof clearTimeout?clearTimeout:r}catch(t){p=r}}();var d=[],g=!1,m,v=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];d.push(new l(t,e)),1!==d.length||g||o(u)},l.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},{}],28:[function(t,e,n){"use strict";function i(t,e,n,s,a){for(n=n||0,s=s||t.length-1,a=a||o;s>n;){if(s-n>600){var u=s-n+1,l=e-n+1,c=Math.log(u),h=.5*Math.exp(2*c/3),f=.5*Math.sqrt(c*h*(u-h)/u)*(l-u/2<0?-1:1),p=Math.max(n,Math.floor(e-l*h/u+f)),d=Math.min(s,Math.floor(e+(u-l)*h/u+f));i(t,e,p,d,a)}var g=t[e],m=n,v=s;for(r(t,n,e),a(t[s],g)>0&&r(t,n,s);m<v;){for(r(t,m,v),m++,v--;a(t[m],g)<0;)m++;for(;a(t[v],g)>0;)v--}0===a(t[n],g)?r(t,n,v):(v++,r(t,v,s)),v<=e&&(n=v+1),e<=v&&(s=v-1)}}function r(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}function o(t,e){return t<e?-1:t>e?1:0}e.exports=i},{}],29:[function(t,e,n){"use strict";function i(t){return new r(t)}function r(t){this.options=p(Object.create(this.options),t),this.trees=new Array(this.options.maxZoom+1)}function o(t,e,n,i){return{x:t,y:e,zoom:1/0,id:i,numPoints:n}}function s(t,e){var n=t.geometry.coordinates;return o(l(n[0]),c(n[1]),1,e)}function a(t){return{type:"Feature",properties:u(t),geometry:{type:"Point",coordinates:[h(t.x),f(t.y)]}}}function u(t){var e=t.numPoints,n=e>=1e4?Math.round(e/1e3)+"k":e>=1e3?Math.round(e/100)/10+"k":e;return{cluster:!0,point_count:e,point_count_abbreviated:n}}function l(t){return t/360+.5}function c(t){var e=Math.sin(t*Math.PI/180),n=.5-.25*Math.log((1+e)/(1-e))/Math.PI;return n<0?0:n>1?1:n}function h(t){return 360*(t-.5)}function f(t){var e=(180-360*t)*Math.PI/180;return 360*Math.atan(Math.exp(e))/Math.PI-90}function p(t,e){for(var n in e)t[n]=e[n];return t}function d(t){return t.x}function g(t){return t.y}var m=t("kdbush");e.exports=i,r.prototype={options:{minZoom:0,maxZoom:16,radius:40,extent:512,nodeSize:64,log:!1},load:function(t){var e=this.options.log;e&&console.time("total time");var n="prepare "+t.length+" points";e&&console.time(n),this.points=t;var i=t.map(s);e&&console.timeEnd(n);for(var r=this.options.maxZoom;r>=this.options.minZoom;r--){var o=+Date.now();this.trees[r+1]=m(i,d,g,this.options.nodeSize,Float32Array),i=this._cluster(i,r),e&&console.log("z%d: %d clusters in %dms",r,i.length,+Date.now()-o)}return this.trees[this.options.minZoom]=m(i,d,g,this.options.nodeSize,Float32Array),e&&console.timeEnd("total time"),this},getClusters:function(t,e){for(var n=this.trees[this._limitZoom(e)],i=n.range(l(t[0]),c(t[3]),l(t[2]),c(t[1])),r=[],o=0;o<i.length;o++){var s=n.points[i[o]];r.push(s.id!==-1?this.points[s.id]:a(s))}return r},getTile:function(t,e,n){var i=this.trees[this._limitZoom(t)],r=Math.pow(2,t),o=this.options.extent,s=this.options.radius,a=s/o,u=(n-a)/r,l=(n+1+a)/r,c={features:[]};return this._addTileFeatures(i.range((e-a)/r,u,(e+1+a)/r,l),i.points,e,n,r,c),0===e&&this._addTileFeatures(i.range(1-a/r,u,1,l),i.points,r,n,r,c),e===r-1&&this._addTileFeatures(i.range(0,u,a/r,l),i.points,-1,n,r,c),c.features.length?c:null},_addTileFeatures:function(t,e,n,i,r,o){for(var s=0;s<t.length;s++){var a=e[t[s]];o.features.push({type:1,geometry:[[Math.round(this.options.extent*(a.x*r-n)),Math.round(this.options.extent*(a.y*r-i))]],tags:a.id!==-1?this.points[a.id].properties:u(a)})}},_limitZoom:function(t){return Math.max(this.options.minZoom,Math.min(t,this.options.maxZoom+1))},_cluster:function(t,e){for(var n=[],i=this.options.radius/(this.options.extent*Math.pow(2,e)),r=0;r<t.length;r++){var s=t[r];if(!(s.zoom<=e)){s.zoom=e;for(var a=this.trees[e+1],u=a.within(s.x,s.y,i),l=!1,c=s.numPoints,h=s.x*c,f=s.y*c,p=0;p<u.length;p++){var d=a.points[u[p]];e<d.zoom&&(l=!0,d.zoom=e,h+=d.x*d.numPoints,f+=d.y*d.numPoints,c+=d.numPoints)}n.push(l?o(h/c,f/c,c,-1):s)}}return n}}},{kdbush:18}],30:[function(t,e,n){"use strict";function i(t,e){if(!(this instanceof i))return new i(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||r,t)for(var n=Math.floor(this.length/2);n>=0;n--)this._down(n)}function r(t,e){return t<e?-1:t>e?1:0}function o(t,e,n){var i=t[e];t[e]=t[n],t[n]=i}e.exports=i,i.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){var t=this.data[0];return this.data[0]=this.data[this.length-1],this.length--,this.data.pop(),this._down(0),t},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,n=this.compare;t>0;){var i=Math.floor((t-1)/2);if(!(n(e[t],e[i])<0))break;o(e,i,t),t=i}},_down:function(t){for(var e=this.data,n=this.compare,i=this.length;;){var r=2*t+1,s=r+1,a=t;if(r<i&&n(e[r],e[a])<0&&(a=r),s<i&&n(e[s],e[a])<0&&(a=s),a===t)return;o(e,a,t),t=a}}}},{}],31:[function(t,e,n){"function"==typeof Object.create?e.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:e.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},{}],32:[function(t,e,n){e.exports=function(t){return t&&"object"==typeof t&&"function"==typeof t.copy&&"function"==typeof t.fill&&"function"==typeof t.readUInt8}},{}],33:[function(t,n,i){(function(e,n){function r(t,e){var n={seen:[],stylize:s};return arguments.length>=3&&(n.depth=arguments[2]),arguments.length>=4&&(n.colors=arguments[3]),g(e)?n.showHidden=e:e&&i._extend(n,e),_(n.showHidden)&&(n.showHidden=!1),_(n.depth)&&(n.depth=2),_(n.colors)&&(n.colors=!1),_(n.customInspect)&&(n.customInspect=!0),n.colors&&(n.stylize=o),u(n,t,n.depth)}function o(t,e){var n=r.styles[e];return n?"["+r.colors[n][0]+"m"+t+"["+r.colors[n][1]+"m":t}function s(t,e){return t}function a(t){var e={};return t.forEach(function(t,n){e[t]=!0}),e}function u(t,e,n){if(t.customInspect&&e&&A(e.inspect)&&e.inspect!==i.inspect&&(!e.constructor||e.constructor.prototype!==e)){var r=e.inspect(n,t);return b(r)||(r=u(t,r,n)),r}var o=l(t,e);if(o)return o;var s=Object.keys(e),g=a(s);if(t.showHidden&&(s=Object.getOwnPropertyNames(e)),S(e)&&(s.indexOf("message")>=0||s.indexOf("description")>=0))return c(e);if(0===s.length){if(A(e)){var m=e.name?": "+e.name:"";return t.stylize("[Function"+m+"]","special")}if(E(e))return t.stylize(RegExp.prototype.toString.call(e),"regexp");if(T(e))return t.stylize(Date.prototype.toString.call(e),"date");if(S(e))return c(e)}var v="",y=!1,x=["{","}"];if(d(e)&&(y=!0,x=["[","]"]),A(e)){var _=e.name?": "+e.name:"";v=" [Function"+_+"]"}if(E(e)&&(v=" "+RegExp.prototype.toString.call(e)),T(e)&&(v=" "+Date.prototype.toUTCString.call(e)),S(e)&&(v=" "+c(e)),0===s.length&&(!y||0==e.length))return x[0]+v+x[1];if(n<0)return E(e)?t.stylize(RegExp.prototype.toString.call(e),"regexp"):t.stylize("[Object]","special");t.seen.push(e);var w;return w=y?h(t,e,n,g,s):s.map(function(i){return f(t,e,n,g,i,y)}),t.seen.pop(),p(w,v,x)}function l(t,e){if(_(e))return t.stylize("undefined","undefined");if(b(e)){var n="'"+JSON.stringify(e).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return t.stylize(n,"string")}return y(e)?t.stylize(""+e,"number"):g(e)?t.stylize(""+e,"boolean"):m(e)?t.stylize("null","null"):void 0}function c(t){return"["+Error.prototype.toString.call(t)+"]"}function h(t,e,n,i,r){for(var o=[],s=0,a=e.length;s<a;++s)N(e,String(s))?o.push(f(t,e,n,i,String(s),!0)):o.push("");return r.forEach(function(r){r.match(/^\d+$/)||o.push(f(t,e,n,i,r,!0))}),o}function f(t,e,n,i,r,o){var s,a,l;if(l=Object.getOwnPropertyDescriptor(e,r)||{value:e[r]},l.get?a=l.set?t.stylize("[Getter/Setter]","special"):t.stylize("[Getter]","special"):l.set&&(a=t.stylize("[Setter]","special")),N(i,r)||(s="["+r+"]"),a||(t.seen.indexOf(l.value)<0?(a=m(n)?u(t,l.value,null):u(t,l.value,n-1),a.indexOf("\n")>-1&&(a=o?a.split("\n").map(function(t){return"  "+t}).join("\n").substr(2):"\n"+a.split("\n").map(function(t){return"   "+t}).join("\n"))):a=t.stylize("[Circular]","special")),_(s)){if(o&&r.match(/^\d+$/))return a;s=JSON.stringify(""+r),s.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(s=s.substr(1,s.length-2),s=t.stylize(s,"name")):(s=s.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),s=t.stylize(s,"string"))}return s+": "+a}function p(t,e,n){var i=0,r=t.reduce(function(t,e){return i++,e.indexOf("\n")>=0&&i++,t+e.replace(/\u001b\[\d\d?m/g,"").length+1},0);return r>60?n[0]+(""===e?"":e+"\n ")+" "+t.join(",\n  ")+" "+n[1]:n[0]+e+" "+t.join(", ")+" "+n[1]}function d(t){return Array.isArray(t)}function g(t){return"boolean"==typeof t}function m(t){return null===t}function v(t){return null==t}function y(t){return"number"==typeof t}function b(t){return"string"==typeof t}function x(t){return"symbol"==typeof t}function _(t){return void 0===t}function E(t){return w(t)&&"[object RegExp]"===C(t)}function w(t){return"object"==typeof t&&null!==t}function T(t){return w(t)&&"[object Date]"===C(t)}function S(t){return w(t)&&("[object Error]"===C(t)||t instanceof Error)}function A(t){return"function"==typeof t}function I(t){return null===t||"boolean"==typeof t||"number"==typeof t||"string"==typeof t||"symbol"==typeof t||"undefined"==typeof t}function C(t){return Object.prototype.toString.call(t)}function L(t){return t<10?"0"+t.toString(10):t.toString(10)}function M(){var t=new Date,e=[L(t.getHours()),L(t.getMinutes()),L(t.getSeconds())].join(":");return[t.getDate(),P[t.getMonth()],e].join(" ")}function N(t,e){return Object.prototype.hasOwnProperty.call(t,e)}var R=/%[sdj%]/g;i.format=function(t){if(!b(t)){for(var e=[],n=0;n<arguments.length;n++)e.push(r(arguments[n]));return e.join(" ")}for(var n=1,i=arguments,o=i.length,s=String(t).replace(R,function(t){if("%%"===t)return"%";if(n>=o)return t;switch(t){case"%s":return String(i[n++]);case"%d":return Number(i[n++]);case"%j":try{return JSON.stringify(i[n++])}catch(t){return"[Circular]"}default:return t}}),a=i[n];n<o;a=i[++n])s+=m(a)||!w(a)?" "+a:" "+r(a);return s},i.deprecate=function(t,r){function o(){if(!s){if(e.throwDeprecation)throw new Error(r);e.traceDeprecation?console.trace(r):console.error(r),s=!0}return t.apply(this,arguments)}if(_(n.process))return function(){return i.deprecate(t,r).apply(this,arguments)};if(e.noDeprecation===!0)return t;var s=!1;return o};var O={},D;i.debuglog=function(t){if(_(D)&&(D=e.env.NODE_DEBUG||""),t=t.toUpperCase(),!O[t])if(new RegExp("\\b"+t+"\\b","i").test(D)){var n=e.pid;O[t]=function(){var e=i.format.apply(i,arguments);console.error("%s %d: %s",t,n,e)}}else O[t]=function(){};return O[t]},i.inspect=r,r.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},r.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},i.isArray=d,i.isBoolean=g,i.isNull=m,i.isNullOrUndefined=v,i.isNumber=y,i.isString=b,i.isSymbol=x,i.isUndefined=_,i.isRegExp=E,i.isObject=w,i.isDate=T,i.isError=S,i.isFunction=A,i.isPrimitive=I,i.isBuffer=t("./support/isBuffer");var P=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];i.log=function(){console.log("%s - %s",M(),i.format.apply(i,arguments))},i.inherits=t("inherits"),i._extend=function(t,e){if(!e||!w(e))return t;for(var n=Object.keys(e),i=n.length;i--;)t[n[i]]=e[n[i]];return t}}).call(this,t("_process"),typeof e!=="undefined"?e:typeof self!=="undefined"?self:typeof window!=="undefined"?window:{})},{"./support/isBuffer":32,_process:27,inherits:31}],34:[function(t,e,n){e.exports.VectorTile=t("./lib/vectortile.js"),e.exports.VectorTileFeature=t("./lib/vectortilefeature.js"),e.exports.VectorTileLayer=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":35,"./lib/vectortilefeature.js":36,"./lib/vectortilelayer.js":37}],35:[function(t,e,n){"use strict";function i(t,e){this.layers=t.readFields(r,{},e)}function r(t,e,n){if(3===t){var i=new o(n,n.readVarint()+n.pos);i.length&&(e[i.name]=i)}}var o=t("./vectortilelayer");e.exports=i},{"./vectortilelayer":37}],36:[function(t,e,n){"use strict";function i(t,e,n,i,o){this.properties={},this.extent=n,this.type=0,this._pbf=t,this._geometry=-1,this._keys=i,this._values=o,t.readFields(r,this,e)}function r(t,e,n){1==t?e.id=n.readVarint():2==t?o(n,e):3==t?e.type=n.readVarint():4==t&&(e._geometry=n.pos)}function o(t,e){for(var n=t.readVarint()+t.pos;t.pos<n;){var i=e._keys[t.readVarint()],r=e._values[t.readVarint()];e.properties[i]=r}}function s(t){var e=t.length;if(e<=1)return[t];for(var n,i,r=[],o=0;o<e;o++){var s=a(t[o]);0!==s&&(void 0===i&&(i=s<0),i===s<0?(n&&r.push(n),n=[t[o]]):n.push(t[o]))}return n&&r.push(n),r}function a(t){for(var e,n,i=0,r=0,o=t.length,s=o-1;r<o;s=r++)e=t[r],n=t[s],i+=(n.x-e.x)*(e.y+n.y);return i}var u=t("point-geometry");e.exports=i,i.types=["Unknown","Point","LineString","Polygon"],i.prototype.loadGeometry=function(){var t=this._pbf;t.pos=this._geometry;for(var e,n=t.readVarint()+t.pos,i=1,r=0,o=0,s=0,a=[];t.pos<n;){if(!r){var l=t.readVarint();i=7&l,r=l>>3}if(r--,1===i||2===i)o+=t.readSVarint(),s+=t.readSVarint(),1===i&&(e&&a.push(e),e=[]),e.push(new u(o,s));else{if(7!==i)throw new Error("unknown command "+i);e&&e.push(e[0].clone())}}return e&&a.push(e),a},i.prototype.bbox=function(){var t=this._pbf;t.pos=this._geometry;for(var e=t.readVarint()+t.pos,n=1,i=0,r=0,o=0,s=1/0,a=-(1/0),u=1/0,l=-(1/0);t.pos<e;){if(!i){var c=t.readVarint();n=7&c,i=c>>3}if(i--,1===n||2===n)r+=t.readSVarint(),o+=t.readSVarint(),r<s&&(s=r),r>a&&(a=r),o<u&&(u=o),o>l&&(l=o);else if(7!==n)throw new Error("unknown command "+n)}return[s,u,a,l]},i.prototype.toGeoJSON=function(t,e,n){function r(t){for(var e=0;e<t.length;e++){var n=t[e],i=180-360*(n.y+c)/u;t[e]=[360*(n.x+l)/u-180,360/Math.PI*Math.atan(Math.exp(i*Math.PI/180))-90]}}var o,a,u=this.extent*Math.pow(2,n),l=this.extent*t,c=this.extent*e,h=this.loadGeometry(),f=i.types[this.type];switch(this.type){case 1:var p=[];for(o=0;o<h.length;o++)p[o]=h[o][0];h=p,r(h);break;case 2:for(o=0;o<h.length;o++)r(h[o]);break;case 3:for(h=s(h),o=0;o<h.length;o++)for(a=0;a<h[o].length;a++)r(h[o][a])}1===h.length?h=h[0]:f="Multi"+f;var d={type:"Feature",geometry:{type:f,coordinates:h},properties:this.properties};return"id"in this&&(d.id=this.id),d}},{"point-geometry":26}],37:[function(t,e,n){"use strict";function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this._pbf=t,this._keys=[],this._values=[],this._features=[],t.readFields(r,this,e),this.length=this._features.length}function r(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():5===t?e.extent=n.readVarint():2===t?e._features.push(n.pos):3===t?e._keys.push(n.readString()):4===t&&e._values.push(o(n))}function o(t){for(var e=null,n=t.readVarint()+t.pos;t.pos<n;){var i=t.readVarint()>>3;e=1===i?t.readString():2===i?t.readFloat():3===i?t.readDouble():4===i?t.readVarint64():5===i?t.readVarint():6===i?t.readSVarint():7===i?t.readBoolean():null}return e}var s=t("./vectortilefeature.js");e.exports=i,i.prototype.feature=function(t){if(t<0||t>=this._features.length)throw new Error("feature index out of bounds");this._pbf.pos=this._features[t];var e=this._pbf.readVarint()+this._pbf.pos;return new s(this._pbf,e,this.extent,this._keys,this._values)}},{"./vectortilefeature.js":36}],38:[function(t,e,n){function i(t){var e=[];for(var n in t.layers)e.push(o(t.layers[n]));var i=new c;return h.tile.write({layers:e},i),i.finish()}function r(t){var e={};for(var n in t)e[n]=new f(t[n].features),e[n].name=n;return i({layers:e})}function o(t){for(var e={name:t.name||"",version:t.version||1,extent:t.extent||4096,keys:[],values:[],features:[]},n={},i={},r=0;r<t.length;r++){var o=t.feature(r);o.geometry=u(o.loadGeometry());var s=[];for(var a in o.properties){var c=n[a];"undefined"==typeof c&&(e.keys.push(a),c=e.keys.length-1,n[a]=c);var h=l(o.properties[a]),f=i[h.key];"undefined"==typeof f&&(e.values.push(h),f=e.values.length-1,i[h.key]=f),s.push(c),s.push(f)}o.tags=s,e.features.push(o)}return e}function s(t,e){return(e<<3)+(7&t)}function a(t){return t<<1^t>>31}function u(t){for(var e=[],n=0,i=0,r=t.length,o=0;o<r;o++){var u=t[o];e.push(s(1,1));for(var l=0;l<u.length;l++){1===l&&e.push(s(2,u.length-1));var c=u[l].x-n,h=u[l].y-i;e.push(a(c),a(h)),n+=c,i+=h}}return e}function l(t){var e,n=typeof t;return"string"===n?e={string_value:t}:"boolean"===n?e={bool_value:t}:"number"===n?e=t%1!==0?{double_value:t}:t<0?{sint_value:t}:{uint_value:t}:(t=JSON.stringify(t),e={string_value:t}),e.key=n+":"+t,e}var c=t("pbf"),h=t("./vector-tile-pb"),f=t("./lib/geojson_wrapper");e.exports=i,e.exports.fromVectorTileJs=i,e.exports.fromGeojsonVt=r,e.exports.GeoJSONWrapper=f},{"./lib/geojson_wrapper":39,"./vector-tile-pb":40,pbf:25}],39:[function(t,e,n){"use strict";function i(t){this.features=t,this.length=t.length}function r(t){this.id="number"==typeof t.id?t.id:void 0,this.type=t.type,this.rawGeometry=1===t.type?[t.geometry]:t.geometry,this.properties=t.tags,this.extent=4096}var o=t("point-geometry"),s=t("vector-tile").VectorTileFeature;e.exports=i,i.prototype.feature=function(t){return new r(this.features[t])},r.prototype.loadGeometry=function(){var t=this.rawGeometry;this.geometry=[];for(var e=0;e<t.length;e++){for(var n=t[e],i=[],r=0;r<n.length;r++)i.push(new o(n[r][0],n[r][1]));this.geometry.push(i)}return this.geometry},r.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),i=1/0,r=-(1/0),o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.length;a++){var u=s[a];e=Math.min(e,u.x),n=Math.max(n,u.x),i=Math.min(i,u.y),r=Math.max(r,u.y)}return[e,i,n,r]},r.prototype.toGeoJSON=s.prototype.toGeoJSON},{"point-geometry":26,"vector-tile":34}],40:[function(t,e,n){"use strict";function i(t,e){return t.readFields(r,{layers:[]},e)}function r(t,e,n){3===t&&e.layers.push(f(n,n.readVarint()+n.pos))}function o(t,e){var n;if(void 0!==t.layers)for(n=0;n<t.layers.length;n++)e.writeMessage(3,d,t.layers[n])}function s(t,e){return t.readFields(a,{},e)}function a(t,e,n){1===t?e.string_value=n.readString():2===t?e.float_value=n.readFloat():3===t?e.double_value=n.readDouble():4===t?e.int_value=n.readVarint():5===t?e.uint_value=n.readVarint():6===t?e.sint_value=n.readSVarint():7===t&&(e.bool_value=n.readBoolean())}function u(t,e){void 0!==t.string_value&&e.writeStringField(1,t.string_value),void 0!==t.float_value&&e.writeFloatField(2,t.float_value),void 0!==t.double_value&&e.writeDoubleField(3,t.double_value),void 0!==t.int_value&&e.writeVarintField(4,t.int_value),void 0!==t.uint_value&&e.writeVarintField(5,t.uint_value),void 0!==t.sint_value&&e.writeSVarintField(6,t.sint_value),void 0!==t.bool_value&&e.writeBooleanField(7,t.bool_value)}function l(t,e){var n=t.readFields(c,{},e);return void 0===n.type&&(n.type="Unknown"),n}function c(t,e,n){1===t?e.id=n.readVarint():2===t?e.tags=n.readPackedVarint():3===t?e.type=n.readVarint():4===t&&(e.geometry=n.readPackedVarint())}function h(t,e){void 0!==t.id&&e.writeVarintField(1,t.id),void 0!==t.tags&&e.writePackedVarint(2,t.tags),void 0!==t.type&&e.writeVarintField(3,t.type),void 0!==t.geometry&&e.writePackedVarint(4,t.geometry)}function f(t,e){return t.readFields(p,{features:[],keys:[],values:[]},e)}function p(t,e,n){15===t?e.version=n.readVarint():1===t?e.name=n.readString():2===t?e.features.push(l(n,n.readVarint()+n.pos)):3===t?e.keys.push(n.readString()):4===t?e.values.push(s(n,n.readVarint()+n.pos)):5===t&&(e.extent=n.readVarint())}function d(t,e){void 0!==t.version&&e.writeVarintField(15,t.version),void 0!==t.name&&e.writeStringField(1,t.name);var n;if(void 0!==t.features)for(n=0;n<t.features.length;n++)e.writeMessage(2,h,t.features[n]);if(void 0!==t.keys)for(n=0;n<t.keys.length;n++)e.writeStringField(3,t.keys[n]);if(void 0!==t.values)for(n=0;n<t.values.length;n++)e.writeMessage(4,u,t.values[n]);void 0!==t.extent&&e.writeVarintField(5,t.extent)}var g=n.tile={read:i,write:o};g.GeomType={Unknown:0,Point:1,LineString:2,Polygon:3},g.value={read:s,write:u},g.feature={read:l,write:h},g.layer={read:f,write:d}},{}],41:[function(t,e,n){var i=arguments[3],r=arguments[4],o=arguments[5],s=JSON.stringify;e.exports=function(t,e){function n(t){m[t]=!0;for(var e in r[t][1]){var i=r[t][1][e];m[i]||n(i)}}for(var a,u=Object.keys(o),l=0,c=u.length;l<c;l++){var h=u[l],f=o[h].exports;if(f===t||f&&f.default===t){a=h;break}}if(!a){a=Math.floor(Math.pow(16,8)*Math.random()).toString(16);for(var p={},l=0,c=u.length;l<c;l++){var h=u[l];p[h]=h}r[a]=[Function(["require","module","exports"],"("+t+")(self)"),p]}var d=Math.floor(Math.pow(16,8)*Math.random()).toString(16),g={};g[a]=a,r[d]=[Function(["require"],"var f = require("+s(a)+");(f.default ? f.default : f)(self);"),g];var m={};n(d);var v="("+i+")({"+Object.keys(m).map(function(t){return s(t)+":["+r[t][0]+","+s(r[t][1])+"]"}).join(",")+"},{},["+s(d)+"])",y=window.URL||window.webkitURL||window.mozURL||window.msURL,b=new Blob([v],{type:"text/javascript"});if(e&&e.bare)return b;var x=y.createObjectURL(b),_=new Worker(x);return _.objectURL=x,_}},{}],42:[function(t,e,n){e.exports.RADIUS=6378137,e.exports.FLATTENING=1/298.257223563,e.exports.POLAR_RADIUS=6356752.3142},{}],43:[function(t,e,n){e.exports={version:"0.36.0"}},{}],44:[function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t){var r=t[i].paintVertexArray;if(0!==r.length){var o=r.serialize(e),s=r.constructor.serialize();n[i]={array:o,type:s}}}return n}var r=t("./program_configuration"),o=t("./vertex_array_type"),s=function(t,e){this.vertexOffset=t,this.primitiveOffset=e,this.vertexLength=0,this.primitiveLength=0},a=function(t,e,n){var i=this;this.globalProperties={zoom:n};var s=o(t.layoutAttributes);this.layoutVertexArray=new s;var a=t.elementArrayType;a&&(this.elementArray=new a);var u=t.elementArrayType2;u&&(this.elementArray2=new u),this.layerData={};for(var l=0,c=e;l<c.length;l+=1){var h=c[l],f=r.createDynamic(t.paintAttributes||[],h,n);i.layerData[h.id]={layer:h,programConfiguration:f,paintVertexArray:new f.PaintVertexArray,paintPropertyStatistics:f.createPaintPropertyStatistics()}}this.segments=[],this.segments2=[]};a.prototype.prepareSegment=function(t){var e=this.segments[this.segments.length-1];return(!e||e.vertexLength+t>a.MAX_VERTEX_ARRAY_LENGTH)&&(e=new s(this.layoutVertexArray.length,this.elementArray.length),this.segments.push(e)),e},a.prototype.prepareSegment2=function(t){var e=this.segments2[this.segments2.length-1];return(!e||e.vertexLength+t>a.MAX_VERTEX_ARRAY_LENGTH)&&(e=new s(this.layoutVertexArray.length,this.elementArray2.length),this.segments2.push(e)),e},a.prototype.populatePaintArrays=function(t){var e=this;for(var n in e.layerData){var i=e.layerData[n];0!==i.paintVertexArray.bytesPerElement&&i.programConfiguration.populatePaintArray(i.layer,i.paintVertexArray,i.paintPropertyStatistics,e.layoutVertexArray.length,e.globalProperties,t)}},a.prototype.isEmpty=function(){return 0===this.layoutVertexArray.length},a.prototype.serialize=function(t){return{layoutVertexArray:this.layoutVertexArray.serialize(t),elementArray:this.elementArray&&this.elementArray.serialize(t),elementArray2:this.elementArray2&&this.elementArray2.serialize(t),paintVertexArrays:i(this.layerData,t),segments:this.segments,segments2:this.segments2}},a.MAX_VERTEX_ARRAY_LENGTH=Math.pow(2,16)-1,e.exports=a},{"./program_configuration":58,"./vertex_array_type":60}],45:[function(t,e,n){"use strict";var i=t("./array_group"),r=t("./buffer_group"),o=t("../util/util"),s=function(t,e){this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,t.arrays?this.buffers=new r(e,t.layers,t.zoom,t.arrays):this.arrays=new i(e,t.layers,t.zoom)};s.prototype.populate=function(t,e){for(var n=this,i=0,r=t;i<r.length;i+=1){var o=r[i];n.layers[0].filter(o)&&(n.addFeature(o),e.featureIndex.insert(o,n.index))}},s.prototype.getPaintPropertyStatistics=function(){return o.mapObject(this.arrays.layerData,function(t){return t.paintPropertyStatistics})},s.prototype.isEmpty=function(){return this.arrays.isEmpty()},s.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),arrays:this.arrays.serialize(t)}},s.prototype.destroy=function(){this.buffers&&(this.buffers.destroy(),this.buffers=null)},e.exports=s,s.deserialize=function(t,e){if(e){for(var n={},i=0,r=t;i<r.length;i+=1){var s=r[i],a=s.layerIds.map(function(t){return e.getLayer(t)}).filter(Boolean);if(0!==a.length)for(var u=a[0].createBucket(o.extend({layers:a},s)),l=0,c=a;l<c.length;l+=1){var h=c[l];n[h.id]=u}}return n}}},{"../util/util":214,"./array_group":44,"./buffer_group":52}],46:[function(t,e,n){"use strict";function i(t,e,n,i,r){t.emplaceBack(2*e+(i+1)/2,2*n+(r+1)/2)}var r=t("../bucket"),o=t("../element_array_type"),s=t("../load_geometry"),a=t("../extent"),u={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],elementArrayType:o(),paintAttributes:[{property:"circle-color",type:"Uint8"},{property:"circle-radius",type:"Uint16",multiplier:10},{property:"circle-blur",type:"Uint16",multiplier:10},{property:"circle-opacity",type:"Uint8",multiplier:255},{property:"circle-stroke-color",type:"Uint8"},{property:"circle-stroke-width",type:"Uint16",multiplier:10},{property:"circle-stroke-opacity",type:"Uint8",multiplier:255}]},l=function(t){function e(e){t.call(this,e,u)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,n=0,r=s(t);n<r.length;n+=1)for(var o=r[n],u=0,l=o;u<l.length;u+=1){var c=l[u],h=c.x,f=c.y;if(!(h<0||h>=a||f<0||f>=a)){var p=e.prepareSegment(4),d=p.vertexLength;i(e.layoutVertexArray,h,f,-1,-1),i(e.layoutVertexArray,h,f,1,-1),i(e.layoutVertexArray,h,f,1,1),i(e.layoutVertexArray,h,f,-1,1),e.elementArray.emplaceBack(d,d+1,d+2),e.elementArray.emplaceBack(d,d+3,d+2),p.vertexLength+=4,p.primitiveLength+=2}}e.populatePaintArrays(t.properties)},e}(r);l.programInterface=u,e.exports=l},{"../bucket":45,"../element_array_type":53,"../extent":54,"../load_geometry":56}],47:[function(t,e,n){"use strict";var i=t("../bucket"),r=t("../element_array_type"),o=t("../load_geometry"),s=t("earcut"),a=t("../../util/classify_rings"),u=500,l={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"}],elementArrayType:r(3),elementArrayType2:r(2),paintAttributes:[{property:"fill-color",type:"Uint8"},{property:"fill-outline-color",type:"Uint8"},{property:"fill-opacity",type:"Uint8",multiplier:255}]},c=function(t){function e(e){t.call(this,e,l)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,n=0,i=a(o(t),u);n<i.length;n+=1){for(var r=i[n],l=0,c=0,h=r;c<h.length;c+=1){var f=h[c];l+=f.length}for(var p=e.prepareSegment(l),d=p.vertexLength,g=[],m=[],v=0,y=r;v<y.length;v+=1){var b=y[v];if(0!==b.length){b!==r[0]&&m.push(g.length/2);var x=e.prepareSegment2(b.length),_=x.vertexLength;e.layoutVertexArray.emplaceBack(b[0].x,b[0].y),e.elementArray2.emplaceBack(_+b.length-1,_),g.push(b[0].x),g.push(b[0].y);for(var E=1;E<b.length;E++)e.layoutVertexArray.emplaceBack(b[E].x,b[E].y),e.elementArray2.emplaceBack(_+E-1,_+E),g.push(b[E].x),g.push(b[E].y);x.vertexLength+=b.length,x.primitiveLength+=b.length}}for(var w=s(g,m),T=0;T<w.length;T+=3)e.elementArray.emplaceBack(d+w[T],d+w[T+1],d+w[T+2]);p.vertexLength+=l,p.primitiveLength+=w.length/3}e.populatePaintArrays(t.properties)},e}(i);c.programInterface=l,e.exports=c},{"../../util/classify_rings":198,"../bucket":45,"../element_array_type":53,"../load_geometry":56,earcut:5}],48:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,a){t.emplaceBack(e,n,2*Math.floor(i*p)+s,r*p*2,o*p*2,Math.round(a))}function r(t,e){return t.x===e.x&&(t.x<0||t.x>u)||t.y===e.y&&(t.y<0||t.y>u)}var o=t("../bucket"),s=t("../element_array_type"),a=t("../load_geometry"),u=t("../extent"),l=t("earcut"),c=t("../../util/classify_rings"),h=500,f={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_normal",components:3,type:"Int16"},{name:"a_edgedistance",components:1,type:"Int16"}],elementArrayType:s(3),paintAttributes:[{property:"fill-extrusion-base",type:"Uint16"},{property:"fill-extrusion-height",type:"Uint16"},{property:"fill-extrusion-color",type:"Uint8"}]},p=Math.pow(2,13),d=function(t){function e(e){t.call(this,e,f)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this.arrays,n=0,o=c(a(t),h);n<o.length;n+=1){for(var s=o[n],u=0,f=0,p=s;f<p.length;f+=1){var d=p[f];u+=d.length}for(var g=e.prepareSegment(5*u),m=[],v=[],y=[],b=0,x=s;b<x.length;b+=1){var _=x[b];if(0!==_.length){_!==s[0]&&v.push(m.length/2);for(var E=0,w=0;w<_.length;w++){var T=_[w];if(i(e.layoutVertexArray,T.x,T.y,0,0,1,1,0),y.push(g.vertexLength++),w>=1){var S=_[w-1];if(!r(T,S)){var A=T.sub(S)._perp()._unit();i(e.layoutVertexArray,T.x,T.y,A.x,A.y,0,0,E),i(e.layoutVertexArray,T.x,T.y,A.x,A.y,0,1,E),E+=S.dist(T),i(e.layoutVertexArray,S.x,S.y,A.x,A.y,0,0,E),i(e.layoutVertexArray,S.x,S.y,A.x,A.y,0,1,E);var I=g.vertexLength;e.elementArray.emplaceBack(I,I+1,I+2),e.elementArray.emplaceBack(I+1,I+2,I+3),g.vertexLength+=4,g.primitiveLength+=2}}m.push(T.x),m.push(T.y)}}}for(var C=l(m,v),L=0;L<C.length;L+=3)e.elementArray.emplaceBack(y[C[L]],y[C[L+1]],y[C[L+2]]);g.primitiveLength+=C.length/3}e.populatePaintArrays(t.properties)},e}(o);d.programInterface=f,e.exports=d},{"../../util/classify_rings":198,"../bucket":45,"../element_array_type":53,"../extent":54,"../load_geometry":56,earcut:5}],49:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s){t.emplaceBack(e.x<<1|i,e.y<<1|r,Math.round(l*n.x)+128,Math.round(l*n.y)+128,(0===o?0:o<0?-1:1)+1|(s*p&63)<<2,s*p>>6)}var r=t("../bucket"),o=t("../element_array_type"),s=t("../load_geometry"),a=t("../extent"),u=t("vector-tile").VectorTileFeature,l=63,c=Math.cos(37.5*(Math.PI/180)),h=15,f=15,p=.5,d=Math.pow(2,f-1)/p,g={layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_data",components:4,type:"Uint8"}],paintAttributes:[{property:"line-color",type:"Uint8"},{property:"line-blur",multiplier:10,type:"Uint8"},{property:"line-opacity",multiplier:10,type:"Uint8"},{property:"line-gap-width",multiplier:10,type:"Uint8",name:"a_gapwidth"},{property:"line-offset",multiplier:1,type:"Int8"}],elementArrayType:o()},m=function(t){function e(e){t.call(this,e,g)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addFeature=function(t){for(var e=this,n=this.layers[0].layout,i=n["line-join"],r=n["line-cap"],o=n["line-miter-limit"],a=n["line-round-limit"],u=0,l=s(t,f);u<l.length;u+=1){var c=l[u];e.addLine(c,t,i,r,o,a)}},e.prototype.addLine=function(t,e,n,i,r,o){for(var s=this,l=e.properties,f="Polygon"===u.types[e.type],p=t.length;p>=2&&t[p-1].equals(t[p-2]);)p--;if(!(p<(f?3:2))){"bevel"===n&&(r=1.05);var d=h*(a/(512*this.overscaling)),g=t[0],m=this.arrays,v=m.prepareSegment(10*p);this.distance=0;var y,b,x,_,E,w,T,S=i,A=f?"butt":i,I=!0;this.e1=this.e2=this.e3=-1,f&&(y=t[p-2],E=g.sub(y)._unit()._perp());for(var C=0;C<p;C++)if(x=f&&C===p-1?t[1]:t[C+1],!x||!t[C].equals(x)){E&&(_=E),y&&(b=y),y=t[C],E=x?x.sub(y)._unit()._perp():_,_=_||E;var L=_.add(E);0===L.x&&0===L.y||L._unit();var M=L.x*E.x+L.y*E.y,N=0!==M?1/M:1/0,R=M<c&&b&&x;if(R&&C>0){var O=y.dist(b);if(O>2*d){var D=y.sub(y.sub(b)._mult(d/O)._round());s.distance+=D.dist(b),s.addCurrentVertex(D,s.distance,_.mult(1),0,0,!1,v),b=D}}var P=b&&x,k=P?n:x?S:A;if(P&&"round"===k&&(N<o?k="miter":N<=2&&(k="fakeround")),"miter"===k&&N>r&&(k="bevel"),"bevel"===k&&(N>2&&(k="flipbevel"),N<r&&(k="miter")),b&&(s.distance+=y.dist(b)),"miter"===k)L._mult(N),s.addCurrentVertex(y,s.distance,L,0,0,!1,v);else if("flipbevel"===k){if(N>100)L=E.clone().mult(-1);else{var z=_.x*E.y-_.y*E.x>0?-1:1,F=N*_.add(E).mag()/_.sub(E).mag();L._perp()._mult(F*z)}s.addCurrentVertex(y,s.distance,L,0,0,!1,v),s.addCurrentVertex(y,s.distance,L.mult(-1),0,0,!1,v)}else if("bevel"===k||"fakeround"===k){var j=_.x*E.y-_.y*E.x>0,B=-Math.sqrt(N*N-1);if(j?(T=0,w=B):(w=0,T=B),I||s.addCurrentVertex(y,s.distance,_,w,T,!1,v),"fakeround"===k){for(var U=Math.floor(8*(.5-(M-.5))),G=void 0,V=0;V<U;V++)G=E.mult((V+1)/(U+1))._add(_)._unit(),s.addPieSliceVertex(y,s.distance,G,j,v);s.addPieSliceVertex(y,s.distance,L,j,v);for(var q=U-1;q>=0;q--)G=_.mult((q+1)/(U+1))._add(E)._unit(),s.addPieSliceVertex(y,s.distance,G,j,v)}x&&s.addCurrentVertex(y,s.distance,E,-w,-T,!1,v)}else"butt"===k?(I||s.addCurrentVertex(y,s.distance,_,0,0,!1,v),x&&s.addCurrentVertex(y,s.distance,E,0,0,!1,v)):"square"===k?(I||(s.addCurrentVertex(y,s.distance,_,1,1,!1,v),s.e1=s.e2=-1),x&&s.addCurrentVertex(y,s.distance,E,-1,-1,!1,v)):"round"===k&&(I||(s.addCurrentVertex(y,s.distance,_,0,0,!1,v),s.addCurrentVertex(y,s.distance,_,1,1,!0,v),s.e1=s.e2=-1),x&&(s.addCurrentVertex(y,s.distance,E,-1,-1,!0,v),s.addCurrentVertex(y,s.distance,E,0,0,!1,v)));if(R&&C<p-1){var Y=y.dist(x);if(Y>2*d){var X=y.add(x.sub(y)._mult(d/Y)._round());s.distance+=X.dist(y),s.addCurrentVertex(X,s.distance,E.mult(1),0,0,!1,v),y=X}}I=!1}m.populatePaintArrays(l)}},e.prototype.addCurrentVertex=function(t,e,n,r,o,s,a){var u,l=s?1:0,c=this.arrays,h=c.layoutVertexArray,f=c.elementArray;u=n.clone(),r&&u._sub(n.perp()._mult(r)),i(h,t,u,l,0,r,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(f.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,u=n.mult(-1),o&&u._sub(n.perp()._mult(o)),i(h,t,u,l,1,-o,e),this.e3=a.vertexLength++,this.e1>=0&&this.e2>=0&&(f.emplaceBack(this.e1,this.e2,this.e3),a.primitiveLength++),this.e1=this.e2,this.e2=this.e3,e>d/2&&(this.distance=0,this.addCurrentVertex(t,this.distance,n,r,o,s,a))},e.prototype.addPieSliceVertex=function(t,e,n,r,o){var s=r?1:0;n=n.mult(r?-1:1);var a=this.arrays,u=a.layoutVertexArray,l=a.elementArray;i(u,t,n,0,s,0,e),this.e3=o.vertexLength++,this.e1>=0&&this.e2>=0&&(l.emplaceBack(this.e1,this.e2,this.e3),o.primitiveLength++),r?this.e2=this.e3:this.e1=this.e3},e}(r);m.programInterface=g,e.exports=m},{"../bucket":45,"../element_array_type":53,"../extent":54,"../load_geometry":56,"vector-tile":34}],50:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,a,u,l,c,h){t.emplaceBack(e,n,Math.round(64*i),Math.round(64*r),o/4,s/4,p(10*(c||0),h%256),p(10*(u||0),10*Math.min(l||25,25)),a?a[0]:void 0,a?a[1]:void 0,a?a[2]:void 0)}function r(t,e,n,i,r){return t.emplaceBack(e.x,e.y,Math.round(n.x),Math.round(n.y),10*i,10*r)}function o(t,e,n){var i={isFeatureConstant:e.isLayoutValueFeatureConstant(n),isZoomConstant:e.isLayoutValueZoomConstant(n)};if(i.isFeatureConstant&&(i.layoutSize=e.getLayoutValue(n,{zoom:t+1})),!i.isZoomConstant){for(var r=e.getLayoutValueStopZoomLevels(n),o=0;o<r.length&&r[o]<=t;)o++;o=Math.max(0,o-1);for(var s=o;s<r.length&&r[s]<t+1;)s++;s=Math.min(r.length-1,s),i.coveringZoomRange=[r[o],r[s]],e.isLayoutValueFeatureConstant(n)&&(i.coveringStopValues=[e.getLayoutValue(n,{zoom:r[o]}),e.getLayoutValue(n,{zoom:r[s]})]),i.functionBase=e.getLayoutProperty(n).base,"undefined"==typeof i.functionBase&&(i.functionBase=1),i.functionType=e.getLayoutProperty(n).type||"exponential"}return i}function s(t,e){return t.isLayoutValueZoomConstant(e)&&!t.isLayoutValueFeatureConstant(e)?[{name:"a_size",components:1,type:"Uint16"}]:t.isLayoutValueZoomConstant(e)||t.isLayoutValueFeatureConstant(e)?[]:[{name:"a_size",components:3,type:"Uint16"}]}function a(t,e,n,i,r){return t.isLayoutValueZoomConstant(i)&&!t.isLayoutValueFeatureConstant(i)?[10*t.getLayoutValue(i,{},r)]:t.isLayoutValueZoomConstant(i)||t.isLayoutValueFeatureConstant(i)?null:[10*t.getLayoutValue(i,{zoom:n[0]},r),10*t.getLayoutValue(i,{zoom:n[1]},r),10*t.getLayoutValue(i,{zoom:1+e},r)]}var u=t("point-geometry"),l=t("../array_group"),c=t("../buffer_group"),h=t("../element_array_type"),f=t("../extent"),p=t("../../shaders/encode_attribute").packUint8ToFloat,d=t("../../symbol/anchor"),g=t("../../symbol/get_anchors"),m=t("../../util/token"),v=t("../../symbol/quads"),y=t("../../symbol/shaping"),b=t("../../symbol/transform_text"),x=t("../../symbol/mergelines"),_=t("../../symbol/clip_line"),E=t("../../util/util"),w=t("../../util/script_detection"),T=t("../load_geometry"),S=t("../../symbol/collision_feature"),A=t("../../util/find_pole_of_inaccessibility"),I=t("../../util/classify_rings"),C=t("vector-tile").VectorTileFeature,L=y.shapeText,M=y.shapeIcon,N=y.WritingMode,R=v.getGlyphQuads,O=v.getIconQuads,D=h(),P=[{name:"a_pos_offset",components:4,type:"Int16"},{name:"a_data",components:4,type:"Uint16"}],k={glyph:{layoutAttributes:P,elementArrayType:D,paintAttributes:[{name:"a_fill_color",property:"text-color",type:"Uint8"},{name:"a_halo_color",property:"text-halo-color",type:"Uint8"},{name:"a_halo_width",property:"text-halo-width",type:"Uint16",multiplier:10},{name:"a_halo_blur",property:"text-halo-blur",type:"Uint16",multiplier:10},{name:"a_opacity",property:"text-opacity",type:"Uint8",multiplier:255}]},icon:{layoutAttributes:P,elementArrayType:D,paintAttributes:[{name:"a_fill_color",property:"icon-color",type:"Uint8"},{name:"a_halo_color",property:"icon-halo-color",type:"Uint8"},{name:"a_halo_width",property:"icon-halo-width",type:"Uint16",multiplier:10},{name:"a_halo_blur",property:"icon-halo-blur",type:"Uint16",multiplier:10},{name:"a_opacity",property:"icon-opacity",type:"Uint8",multiplier:255}]},collisionBox:{layoutAttributes:[{name:"a_pos",components:2,type:"Int16"},{name:"a_extrude",components:2,type:"Int16"},{name:"a_data",components:2,type:"Uint8"}],elementArrayType:h(2)}},z=function(t){var e=this;this.collisionBoxArray=t.collisionBoxArray,this.zoom=t.zoom,this.overscaling=t.overscaling,this.layers=t.layers,this.index=t.index,this.sdfIcons=t.sdfIcons,this.iconsNeedLinear=t.iconsNeedLinear,this.fontstack=t.fontstack;var n=this.layers[0];if(this.symbolInterfaces={glyph:E.extend({},k.glyph,{layoutAttributes:[].concat(k.glyph.layoutAttributes,s(n,"text-size"))}),icon:E.extend({},k.icon,{layoutAttributes:[].concat(k.icon.layoutAttributes,s(n,"icon-size"))}),collisionBox:E.extend({},k.collisionBox,{layoutAttributes:[].concat(k.collisionBox.layoutAttributes)})},t.arrays){this.buffers={};for(var i in t.arrays)t.arrays[i]&&(e.buffers[i]=new c(e.symbolInterfaces[i],t.layers,t.zoom,t.arrays[i]));this.textSizeData=t.textSizeData,this.iconSizeData=t.iconSizeData}else this.textSizeData=o(this.zoom,n,"text-size"),this.iconSizeData=o(this.zoom,n,"icon-size")};z.prototype.populate=function(t,e){var n=this,i=this.layers[0],r=i.layout,o=r["text-font"],s=(!i.isLayoutValueFeatureConstant("text-field")||r["text-field"])&&o,a=!i.isLayoutValueFeatureConstant("icon-image")||r["icon-image"];if(this.features=[],s||a){for(var u=e.iconDependencies,l=e.glyphDependencies,c=l[o]=l[o]||{},h={zoom:this.zoom},f=0;f<t.length;f++){var p=t[f];if(i.filter(p)){var d=void 0;s&&(d=i.getLayoutValue("text-field",h,p.properties),i.isLayoutValueFeatureConstant("text-field")&&(d=m(p.properties,d)),d=b(d,i,h,p.properties));var g=void 0;if(a&&(g=i.getLayoutValue("icon-image",h,p.properties),i.isLayoutValueFeatureConstant("icon-image")&&(g=m(p.properties,g))),(d||g)&&(n.features.push({text:d,icon:g,index:f,sourceLayerIndex:p.sourceLayerIndex,geometry:T(p),properties:p.properties,type:C.types[p.type]}),g&&(u[g]=!0),d))for(var v=0;v<d.length;v++)c[d.charCodeAt(v)]=!0}}"line"===r["symbol-placement"]&&(this.features=x(this.features))}},z.prototype.isEmpty=function(){return this.arrays.icon.isEmpty()&&this.arrays.glyph.isEmpty()&&this.arrays.collisionBox.isEmpty()},z.prototype.getPaintPropertyStatistics=function(){for(var t=this,e={},n=0,i=t.layers;n<i.length;n+=1){var r=i[n];e[r.id]=E.extend({},t.arrays.icon.layerData[r.id].paintPropertyStatistics,t.arrays.glyph.layerData[r.id].paintPropertyStatistics)}return e},z.prototype.serialize=function(t){return{zoom:this.zoom,layerIds:this.layers.map(function(t){return t.id}),sdfIcons:this.sdfIcons,iconsNeedLinear:this.iconsNeedLinear,textSizeData:this.textSizeData,iconSizeData:this.iconSizeData,fontstack:this.fontstack,arrays:E.mapObject(this.arrays,function(e){return e.isEmpty()?null:e.serialize(t)})}},z.prototype.destroy=function(){this.buffers&&(this.buffers.icon&&this.buffers.icon.destroy(),this.buffers.glyph&&this.buffers.glyph.destroy(),this.buffers.collisionBox&&this.buffers.collisionBox.destroy(),this.buffers=null)},z.prototype.createArrays=function(){var t=this;this.arrays=E.mapObject(this.symbolInterfaces,function(e){return new l(e,t.layers,t.zoom)})},z.prototype.prepare=function(t,e){var n=this;this.symbolInstances=[];var i=512*this.overscaling;this.tilePixelRatio=f/i,this.compareText={},this.iconsNeedLinear=!1;var r=this.layers[0].layout,o=.5,s=.5;switch(r["text-anchor"]){case"right":case"top-right":case"bottom-right":o=1;break;case"left":case"top-left":case"bottom-left":o=0}switch(r["text-anchor"]){case"bottom":case"bottom-right":case"bottom-left":s=1;break;case"top":case"top-right":case"top-left":s=0}for(var a="right"===r["text-justify"]?1:"left"===r["text-justify"]?0:.5,u=24,l=r["text-line-height"]*u,c="line"!==r["symbol-placement"]?r["text-max-width"]*u:0,h=r["text-letter-spacing"]*u,p=this.fontstack=r["text-font"].join(","),d="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],g=0,m=n.features;g<m.length;g+=1){var v=m[g],y=void 0;if(v.text){var b=w.allowsVerticalWritingMode(v.text),x=n.layers[0].getLayoutValue("text-offset",{zoom:n.zoom},v.properties).map(function(t){return t*u});y={},y[N.horizontal]=L(v.text,t[p],c,l,o,s,a,h,x,u,N.horizontal),y[N.vertical]=b&&d&&L(v.text,t[p],c,l,o,s,a,h,x,u,N.vertical)}else y={};var _=void 0;if(v.icon){var T=e[v.icon],S=n.layers[0].getLayoutValue("icon-offset",{zoom:n.zoom},v.properties);_=M(T,S),T&&(void 0===n.sdfIcons?n.sdfIcons=T.sdf:n.sdfIcons!==T.sdf&&E.warnOnce("Style sheet warning: Cannot mix SDF and non-SDF icons in one buffer"),1!==T.pixelRatio?n.iconsNeedLinear=!0:0===r["icon-rotate"]&&n.layers[0].isLayoutValueFeatureConstant("icon-rotate")||(n.iconsNeedLinear=!0))}(y[N.horizontal]||_)&&n.addFeature(v,y,_)}},z.prototype.addFeature=function(t,e,n){var i=this,r=this.layers[0].getLayoutValue("text-size",{zoom:this.zoom+1},t.properties),o=this.layers[0].getLayoutValue("icon-size",{zoom:this.zoom+1},t.properties),s=this.layers[0].getLayoutValue("text-size",{zoom:18},t.properties);void 0===s&&(s=r);var a=this.layers[0].layout,u=24,l=r/u,c=this.tilePixelRatio*l,h=this.tilePixelRatio*s/u,p=this.tilePixelRatio*o,m=this.tilePixelRatio*a["symbol-spacing"],v=a["symbol-avoid-edges"],y=a["text-padding"]*this.tilePixelRatio,b=a["icon-padding"]*this.tilePixelRatio,x=a["text-max-angle"]/180*Math.PI,E="map"===a["text-rotation-alignment"]&&"line"===a["symbol-placement"],w="map"===a["icon-rotation-alignment"]&&"line"===a["symbol-placement"],T=a["text-allow-overlap"]||a["icon-allow-overlap"]||a["text-ignore-placement"]||a["icon-ignore-placement"],S=a["symbol-placement"],C=m/2,L=function(r,o){var s=!(o.x<0||o.x>f||o.y<0||o.y>f);if(!v||s){var a=s||T;i.addSymbolInstance(o,r,e,n,i.layers[0],a,i.collisionBoxArray,t.index,t.sourceLayerIndex,i.index,c,y,E,p,b,w,{zoom:i.zoom},t.properties)}};if("line"===S)for(var M=0,R=_(t.geometry,0,0,f,f);M<R.length;M+=1)for(var O=R[M],D=g(O,m,x,e[N.vertical]||e[N.horizontal],n,u,h,i.overscaling,f),P=0,k=D;P<k.length;P+=1){var z=k[P],F=e[N.horizontal];F&&i.anchorIsTooClose(F.text,C,z)||L(O,z)}else if("Polygon"===t.type)for(var j=0,B=I(t.geometry,0);j<B.length;j+=1){var U=B[j],G=A(U,16);L(U[0],new d(G.x,G.y,0))}else if("LineString"===t.type)for(var V=0,q=t.geometry;V<q.length;V+=1){var Y=q[V];L(Y,new d(Y[0].x,Y[0].y,0))}else if("Point"===t.type)for(var X=0,W=t.geometry;X<W.length;X+=1)for(var Z=W[X],H=0,$=Z;H<$.length;H+=1){var J=$[H];L([J],new d(J.x,J.y,0))}},z.prototype.anchorIsTooClose=function(t,e,n){var i=this.compareText;if(t in i){for(var r=i[t],o=r.length-1;o>=0;o--)if(n.dist(r[o])<e)return!0}else i[t]=[];return i[t].push(n),!1},z.prototype.place=function(t,e){var n=this;this.createArrays();var i=this.layers[0],r=i.layout,o=t.maxScale,s="map"===r["text-rotation-alignment"]&&"line"===r["symbol-placement"],u="map"===r["icon-rotation-alignment"]&&"line"===r["symbol-placement"],l=r["text-allow-overlap"]||r["icon-allow-overlap"]||r["text-ignore-placement"]||r["icon-ignore-placement"];if(l){var c=t.angle,h=Math.sin(c),f=Math.cos(c);this.symbolInstances.sort(function(t,e){var n=h*t.anchor.x+f*t.anchor.y|0,i=h*e.anchor.x+f*e.anchor.y|0;return n-i||e.featureIndex-t.featureIndex})}for(var p=0,d=n.symbolInstances;p<d.length;p+=1){var g=d[p],m={boxStartIndex:g.textBoxStartIndex,boxEndIndex:g.textBoxEndIndex},v={boxStartIndex:g.iconBoxStartIndex,boxEndIndex:g.iconBoxEndIndex},y=!(g.textBoxStartIndex===g.textBoxEndIndex),b=!(g.iconBoxStartIndex===g.iconBoxEndIndex),x=r["text-optional"]||!y,_=r["icon-optional"]||!b,E=y?t.placeCollisionFeature(m,r["text-allow-overlap"],r["symbol-avoid-edges"]):t.minScale,w=b?t.placeCollisionFeature(v,r["icon-allow-overlap"],r["symbol-avoid-edges"]):t.minScale;if(x||_?!_&&E?E=Math.max(w,E):!x&&w&&(w=Math.max(w,E)):w=E=Math.max(w,E),y&&(t.insertCollisionFeature(m,E,r["text-ignore-placement"]),E<=o)){var T=a(i,n.zoom,n.textSizeData.coveringZoomRange,"text-size",g.featureProperties);n.addSymbols(n.arrays.glyph,g.glyphQuads,E,T,r["text-keep-upright"],s,t.angle,g.featureProperties,g.writingModes)}if(b&&(t.insertCollisionFeature(v,w,r["icon-ignore-placement"]),w<=o)){var S=a(i,n.zoom,n.iconSizeData.coveringZoomRange,"icon-size",g.featureProperties);n.addSymbols(n.arrays.icon,g.iconQuads,w,S,r["icon-keep-upright"],u,t.angle,g.featureProperties)}}e&&this.addToDebugBuffers(t)},z.prototype.addSymbols=function(t,e,n,r,o,s,a,u,l){for(var c=t.elementArray,h=t.layoutVertexArray,f=this.zoom,p=Math.max(Math.log(n)/Math.LN2+f,0),d=0,g=e;d<g.length;d+=1){var m=g[d],v=(m.anchorAngle+a+Math.PI)%(2*Math.PI);if(l&N.vertical){if(s&&m.writingMode===N.vertical){if(o&&s&&v<=5*Math.PI/4||v>7*Math.PI/4)continue}else if(o&&s&&v<=3*Math.PI/4||v>5*Math.PI/4)continue}else if(o&&s&&(v<=Math.PI/2||v>3*Math.PI/2))continue;var y=m.tl,b=m.tr,x=m.bl,_=m.br,E=m.tex,w=m.anchorPoint,T=Math.max(f+Math.log(m.minScale)/Math.LN2,p),S=Math.min(f+Math.log(m.maxScale)/Math.LN2,25);if(!(S<=T)){T===p&&(T=0);var A=Math.round(m.glyphAngle/(2*Math.PI)*256),I=t.prepareSegment(4),C=I.vertexLength;i(h,w.x,w.y,y.x,y.y,E.x,E.y,r,T,S,p,A),i(h,w.x,w.y,b.x,b.y,E.x+E.w,E.y,r,T,S,p,A),i(h,w.x,w.y,x.x,x.y,E.x,E.y+E.h,r,T,S,p,A),i(h,w.x,w.y,_.x,_.y,E.x+E.w,E.y+E.h,r,T,S,p,A),c.emplaceBack(C,C+1,C+2),c.emplaceBack(C+1,C+2,C+3),I.vertexLength+=4,I.primitiveLength+=2}}t.populatePaintArrays(u)},z.prototype.addToDebugBuffers=function(t){for(var e=this,n=this.arrays.collisionBox,i=n.layoutVertexArray,o=n.elementArray,s=-t.angle,a=t.yStretch,l=0,c=e.symbolInstances;l<c.length;l+=1){var h=c[l];h.textCollisionFeature={boxStartIndex:h.textBoxStartIndex,boxEndIndex:h.textBoxEndIndex},h.iconCollisionFeature={boxStartIndex:h.iconBoxStartIndex,boxEndIndex:h.iconBoxEndIndex};for(var f=0;f<2;f++){var p=h[0===f?"textCollisionFeature":"iconCollisionFeature"];if(p)for(var d=p.boxStartIndex;d<p.boxEndIndex;d++){var g=e.collisionBoxArray.get(d),m=g.anchorPoint,v=new u(g.x1,g.y1*a)._rotate(s),y=new u(g.x2,g.y1*a)._rotate(s),b=new u(g.x1,g.y2*a)._rotate(s),x=new u(g.x2,g.y2*a)._rotate(s),_=Math.max(0,Math.min(25,e.zoom+Math.log(g.maxScale)/Math.LN2)),E=Math.max(0,Math.min(25,e.zoom+Math.log(g.placementScale)/Math.LN2)),w=n.prepareSegment(4),T=w.vertexLength;r(i,m,v,_,E),r(i,m,y,_,E),r(i,m,x,_,E),r(i,m,b,_,E),o.emplaceBack(T,T+1),o.emplaceBack(T+1,T+2),o.emplaceBack(T+2,T+3),o.emplaceBack(T+3,T),w.vertexLength+=4,w.primitiveLength+=4}}}},z.prototype.addSymbolInstance=function(t,e,n,i,r,o,s,a,u,l,c,h,f,p,d,g,m,v){var y,b,x=[],_=[];for(var w in n){var T=parseInt(w,10);n[T]&&(_=_.concat(o?R(t,n[T],c,e,r,f,m,v):[]),y=new S(s,e,t,a,u,l,n[T],c,h,f,!1))}var A=y?y.boxStartIndex:this.collisionBoxArray.length,I=y?y.boxEndIndex:this.collisionBoxArray.length;i&&(x=o?O(t,i,p,e,r,g,n[N.horizontal],m,v):[],b=new S(s,e,t,a,u,l,i,p,d,g,!0));var C=b?b.boxStartIndex:this.collisionBoxArray.length,L=b?b.boxEndIndex:this.collisionBoxArray.length;I>z.MAX_INSTANCES&&E.warnOnce("Too many symbols being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907"),L>z.MAX_INSTANCES&&E.warnOnce("Too many glyphs being rendered in a tile. See https://github.com/mapbox/mapbox-gl-js/issues/2907");var M=(n[N.vertical]?N.vertical:0)|(n[N.horizontal]?N.horizontal:0);this.symbolInstances.push({textBoxStartIndex:A,textBoxEndIndex:I,iconBoxStartIndex:C,iconBoxEndIndex:L,glyphQuads:_,iconQuads:x,anchor:t,featureIndex:a,featureProperties:v,writingModes:M})},z.programInterfaces=k,z.MAX_INSTANCES=65535,e.exports=z},{"../../shaders/encode_attribute":81,"../../symbol/anchor":160,"../../symbol/clip_line":162,"../../symbol/collision_feature":164,"../../symbol/get_anchors":166,"../../symbol/mergelines":169,"../../symbol/quads":170,"../../symbol/shaping":171,"../../symbol/transform_text":173,"../../util/classify_rings":198,"../../util/find_pole_of_inaccessibility":204,"../../util/script_detection":211,"../../util/token":213,"../../util/util":214,"../array_group":44,"../buffer_group":52,"../element_array_type":53,"../extent":54,"../load_geometry":56,"point-geometry":26,"vector-tile":34}],51:[function(t,e,n){"use strict";var i={Int8:"BYTE",Uint8:"UNSIGNED_BYTE",Int16:"SHORT",Uint16:"UNSIGNED_SHORT"},r=function(t,e,n){this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.attributes=e.members,this.itemSize=e.bytesPerElement,this.type=n,this.arrayType=e};r.fromStructArray=function(t,e){return new r(t.serialize(),t.constructor.serialize(),e)},r.prototype.bind=function(t){var e=t[this.type];this.buffer?t.bindBuffer(e,this.buffer):(this.gl=t,this.buffer=t.createBuffer(),t.bindBuffer(e,this.buffer),t.bufferData(e,this.arrayBuffer,t.STATIC_DRAW),this.arrayBuffer=null)},r.prototype.enableAttributes=function(t,e){for(var n=this,i=0;i<this.attributes.length;i++){var r=n.attributes[i],o=e[r.name];void 0!==o&&t.enableVertexAttribArray(o)}},r.prototype.setVertexAttribPointers=function(t,e,n){for(var r=this,o=0;o<this.attributes.length;o++){var s=r.attributes[o],a=e[s.name];void 0!==a&&t.vertexAttribPointer(a,s.components,t[i[s.type]],!1,r.arrayType.bytesPerElement,s.offset+(r.arrayType.bytesPerElement*n||0))}},r.prototype.destroy=function(){this.buffer&&this.gl.deleteBuffer(this.buffer)},r.BufferType={VERTEX:"ARRAY_BUFFER",ELEMENT:"ELEMENT_ARRAY_BUFFER"},e.exports=r},{}],52:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("./buffer"),o=t("./program_configuration"),s=t("./vertex_array_type"),a=t("../render/vertex_array_object"),u=function(t,e,n,u){var l=this,c=s(t.layoutAttributes);this.layoutVertexBuffer=new r(u.layoutVertexArray,c.serialize(),r.BufferType.VERTEX),u.elementArray&&(this.elementBuffer=new r(u.elementArray,t.elementArrayType.serialize(),r.BufferType.ELEMENT)),u.elementArray2&&(this.elementBuffer2=new r(u.elementArray2,t.elementArrayType2.serialize(),r.BufferType.ELEMENT)),this.layerData={};for(var h=0,f=e;h<f.length;h+=1){var p=f[h],d=u.paintVertexArrays&&u.paintVertexArrays[p.id],g=o.createDynamic(t.paintAttributes||[],p,n),m=d?new r(d.array,d.type,r.BufferType.VERTEX):null;l.layerData[p.id]={programConfiguration:g,paintVertexBuffer:m}}this.segments=u.segments,this.segments2=u.segments2;for(var v=0,y=[l.segments,l.segments2];v<y.length;v+=1)for(var b=y[v],x=0,_=b||[];x<_.length;x+=1){var E=_[x];E.vaos=i.mapObject(l.layerData,function(){return new a})}};u.prototype.destroy=function(){var t=this;this.layoutVertexBuffer.destroy(),this.elementBuffer&&this.elementBuffer.destroy(),this.elementBuffer2&&this.elementBuffer2.destroy();for(var e in t.layerData){var n=t.layerData[e].paintVertexBuffer;n&&n.destroy()}for(var i=0,r=[t.segments,t.segments2];i<r.length;i+=1)for(var o=r[i],s=0,a=o||[];s<a.length;s+=1){var u=a[s];for(var l in u.vaos)u.vaos[l].destroy()}},e.exports=u},{"../render/vertex_array_object":80,"../util/util":214,"./buffer":51,"./program_configuration":58,"./vertex_array_type":60}],53:[function(t,e,n){"use strict";function i(t){return r({members:[{type:"Uint16",name:"vertices",components:t||3}]})}var r=t("../util/struct_array");e.exports=i},{"../util/struct_array":212}],54:[function(t,e,n){"use strict";e.exports=8192},{}],55:[function(t,e,n){"use strict";function i(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}function r(t,e){return e-t}function o(t,e){return e>0?e+2*t:t}function s(t,e,n,i,r){if(!e[0]&&!e[1])return t;e=u.convert(e),"viewport"===n&&e._rotate(-i);for(var o=[],s=0;s<t.length;s++){for(var a=t[s],l=[],c=0;c<a.length;c++)l.push(a[c].sub(e._mult(r)));o.push(l)}return o}function a(t,e){for(var n=[],i=new u(0,0),r=0;r<t.length;r++){for(var o=t[r],s=[],a=0;a<o.length;a++){var l=o[a-1],c=o[a],h=o[a+1],f=0===a?i:c.sub(l)._unit()._perp(),p=a===o.length-1?i:h.sub(c)._unit()._perp(),d=f._add(p)._unit(),g=d.x*p.x+d.y*p.y;d._mult(1/g),s.push(d._mult(e)._add(c))}n.push(s)}return n}var u=t("point-geometry"),l=t("./load_geometry"),c=t("./extent"),h=t("../style-spec/feature_filter"),f=t("../util/struct_array"),p=t("grid-index"),d=t("../util/dictionary_coder"),g=t("vector-tile"),m=t("pbf"),v=t("../util/vectortile_to_geojson"),y=t("../util/util").arraysIntersect,b=t("../util/intersection_tests"),x=b.multiPolygonIntersectsBufferedMultiPoint,_=b.multiPolygonIntersectsMultiPolygon,E=b.multiPolygonIntersectsBufferedMultiLine,w=f({members:[{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"}]}),T=function(t,e,n){if(t.grid){var i=t,r=e;t=i.coord,e=i.overscaling,this.grid=new p(i.grid),this.featureIndexArray=new w(i.featureIndexArray),this.rawTileData=r,this.bucketLayerIDs=i.bucketLayerIDs,this.paintPropertyStatistics=i.paintPropertyStatistics}else this.grid=new p(c,16,0),this.featureIndexArray=new w;this.coord=t,this.overscaling=e,this.x=t.x,this.y=t.y,this.z=t.z-Math.log(e)/Math.LN2,this.setCollisionTile(n)};T.prototype.insert=function(t,e){var n=this,i=this.featureIndexArray.length;this.featureIndexArray.emplaceBack(t.index,t.sourceLayerIndex,e);for(var r=l(t),o=0;o<r.length;o++){for(var s=r[o],a=[1/0,1/0,-(1/0),-(1/0)],u=0;u<s.length;u++){var c=s[u];a[0]=Math.min(a[0],c.x),a[1]=Math.min(a[1],c.y),a[2]=Math.max(a[2],c.x),a[3]=Math.max(a[3],c.y)}n.grid.insert(i,a[0],a[1],a[2],a[3])}},T.prototype.setCollisionTile=function(t){this.collisionTile=t},T.prototype.serialize=function(t){var e=this.grid.toArrayBuffer();return t&&t.push(e),{coord:this.coord,overscaling:this.overscaling,grid:e,featureIndexArray:this.featureIndexArray.serialize(t),bucketLayerIDs:this.bucketLayerIDs,paintPropertyStatistics:this.paintPropertyStatistics}},T.prototype.query=function(t,e){var n=this;this.vtLayers||(this.vtLayers=new g.VectorTile(new m(this.rawTileData)).layers,this.sourceLayerCoder=new d(this.vtLayers?Object.keys(this.vtLayers).sort():["_geojsonTileLayer"]));var s={},a=t.params||{},l=c/t.tileSize/t.scale,f=h(a.filter),p=0;for(var v in e)if(n.hasLayer(v)){var y=e[v],b=0;if("line"===y.type){var x=o(n.getPaintValue("line-width",y),n.getPaintValue("line-gap-width",y)),_=n.getPaintValue("line-offset",y),E=n.getPaintValue("line-translate",y);b=x/2+Math.abs(_)+i(E)}else"fill"===y.type?b=i(n.getPaintValue("fill-translate",y)):"fill-extrusion"===y.type?b=i(n.getPaintValue("fill-extrusion-translate",y)):"circle"===y.type&&(b=n.getPaintValue("circle-radius",y)+i(n.getPaintValue("circle-translate",y)));p=Math.max(p,b*l)}for(var w=t.queryGeometry.map(function(t){return t.map(function(t){return new u(t.x,t.y)})}),T=1/0,S=1/0,A=-(1/0),I=-(1/0),C=0;C<w.length;C++)for(var L=w[C],M=0;M<L.length;M++){var N=L[M];T=Math.min(T,N.x),S=Math.min(S,N.y),A=Math.max(A,N.x),I=Math.max(I,N.y)}var R=this.grid.query(T-p,S-p,A+p,I+p);R.sort(r),this.filterMatching(s,R,this.featureIndexArray,w,f,a.layers,e,t.bearing,l);var O=this.collisionTile.queryRenderedSymbols(w,t.scale);return O.sort(),this.filterMatching(s,O,this.collisionTile.collisionBoxArray,w,f,a.layers,e,t.bearing,l),s},T.prototype.filterMatching=function(t,e,n,i,r,u,c,h,f){for(var p,d=this,g=0;g<e.length;g++){var m=e[g];if(m!==p){p=m;var b=n.get(m),w=d.bucketLayerIDs[b.bucketIndex];if(!u||y(u,w)){var T=d.sourceLayerCoder.decode(b.sourceLayerIndex),S=d.vtLayers[T],A=S.feature(b.featureIndex);if(r(A))for(var I=null,C=0;C<w.length;C++){var L=w[C];if(!(u&&u.indexOf(L)<0)){var M=c[L];if(M){var N=void 0;if("symbol"!==M.type)if(I||(I=l(A)),"line"===M.type){N=s(i,d.getPaintValue("line-translate",M,A),d.getPaintValue("line-translate-anchor",M,A),h,f);var R=f/2*o(d.getPaintValue("line-width",M,A),d.getPaintValue("line-gap-width",M,A)),O=d.getPaintValue("line-offset",M,A);if(O&&(I=a(I,O*f)),!E(N,I,R))continue}else if("fill"===M.type||"fill-extrusion"===M.type){var D=M.type;if(N=s(i,d.getPaintValue(D+"-translate",M,A),d.getPaintValue(D+"-translate-anchor",M,A),h,f),!_(N,I))continue}else if("circle"===M.type){N=s(i,d.getPaintValue("circle-translate",M,A),d.getPaintValue("circle-translate-anchor",M,A),h,f);var P=d.getPaintValue("circle-radius",M,A)*f;if(!x(N,I,P))continue}var k=new v(A,d.z,d.x,d.y);k.layer=M.serialize();var z=t[L];void 0===z&&(z=t[L]=[]),z.push(k)}}}}}}},T.prototype.hasLayer=function(t){var e=this;for(var n in e.bucketLayerIDs)for(var i=0,r=e.bucketLayerIDs[n];i<r.length;i+=1){var o=r[i];if(t===o)return!0}return!1},T.prototype.getPaintValue=function(t,e,n){var i=e.isPaintValueFeatureConstant(t);if(i||n){var r=n?n.properties:{};return e.getPaintValue(t,{zoom:this.z},r)}return this.paintPropertyStatistics[e.id][t].max},e.exports=T},{"../style-spec/feature_filter":105,"../util/dictionary_coder":200,"../util/intersection_tests":207,"../util/struct_array":212,"../util/util":214,"../util/vectortile_to_geojson":215,"./extent":54,"./load_geometry":56,"grid-index":16,pbf:25,"point-geometry":26,"vector-tile":34}],56:[function(t,e,n){"use strict";function i(t){return{min:-1*Math.pow(2,t-1),max:Math.pow(2,t-1)-1}}var r=t("../util/util"),o=t("./extent"),s={15:i(15),16:i(16)};e.exports=function(t,e){for(var n=s[e||16],i=o/t.extent,a=t.loadGeometry(),u=0;u<a.length;u++)for(var l=a[u],c=0;c<l.length;c++){var h=l[c];h.x=Math.round(h.x*i),h.y=Math.round(h.y*i),(h.x<n.min||h.x>n.max||h.y<n.min||h.y>n.max)&&r.warnOnce("Geometry exceeds allowed extent, reduce your vector tile buffer size")}return a}},{"../util/util":214,"./extent":54}],57:[function(t,e,n){"use strict";var i=t("../util/struct_array"),r=i({members:[{name:"a_pos",type:"Int16",components:2}]});e.exports=r},{"../util/struct_array":212}],58:[function(t,e,n){"use strict";function i(t,e,n,i){if(!t.zoomStops)return e.getPaintValue(t.property,n,i);var r=t.zoomStops.map(function(r){return e.getPaintValue(t.property,s.extend({},n,{zoom:r}),i)});return 1===r.length?r[0]:r}function r(t,e){var n=t.name;n||(n=t.property.replace(e.type+"-","").replace(/-/g,"_"));var i="color"===e._paintSpecifications[t.property].type;return s.extend({name:"a_"+n,components:i?4:1,multiplier:i?255:1,dimensions:i?4:1},t)}var o=t("./vertex_array_type"),s=t("../util/util"),a=function(){this.attributes=[],this.uniforms=[],this.interpolationUniforms=[],this.pragmas={vertex:{},fragment:{}},this.cacheKey=""};a.createDynamic=function(t,e,n){for(var i=new a,s=0,u=t;s<u.length;s+=1){var l=u[s],c=r(l,e),h=c.name.slice(2);e.isPaintValueFeatureConstant(c.property)?i.addZoomAttribute(h,c):e.isPaintValueZoomConstant(c.property)?i.addPropertyAttribute(h,c):i.addZoomAndPropertyAttribute(h,c,e,n)}return i.PaintVertexArray=o(i.attributes),i},a.createStatic=function(t){for(var e=new a,n=0,i=t;n<i.length;n+=1){var r=i[n];e.addUniform(r,"u_"+r)}return e},a.prototype.addUniform=function(t,e){var n=this.getPragmas(t);n.define.push("uniform {precision} {type} "+e+";"),n.initialize.push("{precision} {type} "+t+" = "+e+";"),this.cacheKey+="/u_"+t},a.prototype.addZoomAttribute=function(t,e){this.uniforms.push(e),this.addUniform(t,e.name)},a.prototype.addPropertyAttribute=function(t,e){var n=this.getPragmas(t);this.attributes.push(e),n.define.push("varying {precision} {type} "+t+";"),n.vertex.define.push("attribute {precision} {type} "+e.name+";"),n.vertex.initialize.push(t+" = "+e.name+" / "+e.multiplier+".0;"),this.cacheKey+="/a_"+t},a.prototype.addZoomAndPropertyAttribute=function(t,e,n,i){var r=this,o=this.getPragmas(t);o.define.push("varying {precision} {type} "+t+";");var a=n.getPaintValueStopZoomLevels(e.property),u=0;if(a.length>4)for(;u<a.length-2&&a[u]<i;)u++;var l="u_"+t+"_t";o.vertex.define.push("uniform lowp float "+l+";"),this.interpolationUniforms.push({name:l,property:e.property,stopOffset:u});for(var c=[],h=0;h<4;h++)c.push(a[Math.min(u+h,a.length-1)]);var f=[];if(1===e.components)this.attributes.push(s.extend({},e,{components:4,zoomStops:c})),o.vertex.define.push("attribute {precision} vec4 "+e.name+";"),f.push(e.name);else for(var p=0;p<4;p++){var d=e.name+p;f.push(d),r.attributes.push(s.extend({},e,{name:d,zoomStops:[c[p]]})),o.vertex.define.push("attribute {precision} {type} "+d+";")}o.vertex.initialize.push(t+" = evaluate_zoom_function_"+e.components+"(            "+f.join(", ")+", "+l+") / "+e.multiplier+".0;"),this.cacheKey+="/z_"+t},a.prototype.getPragmas=function(t){return this.pragmas[t]||(this.pragmas[t]={define:[],initialize:[]},this.pragmas[t].fragment={define:[],initialize:[]},this.pragmas[t].vertex={define:[],initialize:[]}),this.pragmas[t]},a.prototype.applyPragmas=function(t,e){var n=this;return t.replace(/#pragma mapbox: ([\w]+) ([\w]+) ([\w]+) ([\w]+)/g,function(t,i,r,o,s){return n.pragmas[s][i].concat(n.pragmas[s][e][i]).join("\n").replace(/{type}/g,o).replace(/{precision}/g,r)})},a.prototype.createPaintPropertyStatistics=function(){for(var t=this,e={},n=0,i=t.attributes;n<i.length;n+=1){var r=i[n];1===r.dimensions&&(e[r.property]={max:-(1/0)})}return e},a.prototype.populatePaintArray=function(t,e,n,r,o,s){var a=this,u=e.length;e.resize(r);for(var l=0,c=a.attributes;l<c.length;l+=1)for(var h=c[l],f=i(h,t,o,s),p=u;p<r;p++){var d=e.get(p);if(4===h.components)for(var g=0;g<4;g++)d[h.name+g]=f[g]*h.multiplier;else d[h.name]=f*h.multiplier;if(1===h.dimensions){var m=n[h.property];m.max=Math.max(m.max,1===h.components?f:Math.max.apply(Math,f))}}},a.prototype.setUniforms=function(t,e,n,i){for(var r=this,o=0,s=r.uniforms;o<s.length;o+=1){var a=s[o],u=n.getPaintValue(a.property,i);4===a.components?t.uniform4fv(e[a.name],u):t.uniform1f(e[a.name],u)}for(var l=0,c=r.interpolationUniforms;l<c.length;l+=1){var h=c[l],f=n.getPaintInterpolationT(h.property,i);t.uniform1f(e[h.name],Math.max(0,Math.min(3,f-h.stopOffset)))}},e.exports=a},{"../util/util":214,"./vertex_array_type":60}],59:[function(t,e,n){"use strict";var i=t("../util/struct_array"),r=i({members:[{name:"a_pos",type:"Int16",components:2},{name:"a_texture_pos",type:"Int16",components:2}]});e.exports=r},{"../util/struct_array":212}],60:[function(t,e,n){"use strict";function i(t){return r({members:t,alignment:4})}var r=t("../util/struct_array");e.exports=i},{"../util/struct_array":212}],61:[function(t,e,n){"use strict";var i=function(t,e,n){this.column=t,this.row=e,this.zoom=n};i.prototype.clone=function(){return new i(this.column,this.row,this.zoom)},i.prototype.zoomTo=function(t){return this.clone()._zoomTo(t)},i.prototype.sub=function(t){return this.clone()._sub(t)},i.prototype._zoomTo=function(t){var e=Math.pow(2,t-this.zoom);return this.column*=e,this.row*=e,this.zoom=t,this},i.prototype._sub=function(t){return t=t.zoomTo(this.zoom),this.column-=t.column,this.row-=t.row,this},e.exports=i},{}],62:[function(t,e,n){"use strict";var i=t("../util/util").wrap,r=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid LngLat object: ("+t+", "+e+")");if(this.lng=+t,this.lat=+e,this.lat>90||this.lat<-90)throw new Error("Invalid LngLat latitude value: must be between -90 and 90")};r.prototype.wrap=function(){return new r(i(this.lng,-180,180),this.lat)},r.prototype.wrapToBestWorld=function(t){var e=new r(this.lng,this.lat);return Math.abs(this.lng-t.lng)>180&&(t.lng<0?e.lng-=360:e.lng+=360),e},r.prototype.toArray=function(){return[this.lng,this.lat]},r.prototype.toString=function(){return"LngLat("+this.lng+", "+this.lat+")"},r.convert=function(t){if(t instanceof r)return t;if(t&&t.hasOwnProperty("lng")&&t.hasOwnProperty("lat"))return new r(t.lng,t.lat);if(Array.isArray(t)&&2===t.length)return new r(t[0],t[1]);throw new Error("`LngLatLike` argument must be specified as a LngLat instance, an object {lng: <lng>, lat: <lat>}, or an array of [<lng>, <lat>]")},e.exports=r},{"../util/util":214}],63:[function(t,e,n){"use strict";var i=t("./lng_lat"),r=function(t,e){t&&(e?this.setSouthWest(t).setNorthEast(e):4===t.length?this.setSouthWest([t[0],t[1]]).setNorthEast([t[2],t[3]]):this.setSouthWest(t[0]).setNorthEast(t[1]))};r.prototype.setNorthEast=function(t){return this._ne=i.convert(t),this},r.prototype.setSouthWest=function(t){return this._sw=i.convert(t),this},r.prototype.extend=function(t){var e,n,o=this._sw,s=this._ne;if(t instanceof i)e=t,n=t;else{if(!(t instanceof r))return Array.isArray(t)?t.every(Array.isArray)?this.extend(r.convert(t)):this.extend(i.convert(t)):this;if(e=t._sw,n=t._ne,!e||!n)return this}return o||s?(o.lng=Math.min(e.lng,o.lng),o.lat=Math.min(e.lat,o.lat),s.lng=Math.max(n.lng,s.lng),s.lat=Math.max(n.lat,s.lat)):(this._sw=new i(e.lng,e.lat),this._ne=new i(n.lng,n.lat)),this},r.prototype.getCenter=function(){return new i((this._sw.lng+this._ne.lng)/2,(this._sw.lat+this._ne.lat)/2)},r.prototype.getSouthWest=function(){return this._sw},r.prototype.getNorthEast=function(){return this._ne},r.prototype.getNorthWest=function(){return new i(this.getWest(),this.getNorth())},r.prototype.getSouthEast=function(){return new i(this.getEast(),this.getSouth())},r.prototype.getWest=function(){return this._sw.lng},r.prototype.getSouth=function(){return this._sw.lat},r.prototype.getEast=function(){return this._ne.lng},r.prototype.getNorth=function(){return this._ne.lat},r.prototype.toArray=function(){return[this._sw.toArray(),this._ne.toArray()]},r.prototype.toString=function(){return"LngLatBounds("+this._sw.toString()+", "+this._ne.toString()+")"},r.convert=function(t){return!t||t instanceof r?t:new r(t)},e.exports=r},{"./lng_lat":62}],64:[function(t,e,n){"use strict";var i=t("./lng_lat"),r=t("point-geometry"),o=t("./coordinate"),s=t("../util/util"),a=t("../style-spec/util/interpolate"),u=t("../source/tile_coord"),l=t("../data/extent"),c=t("@mapbox/gl-matrix"),h=c.vec4,f=c.mat4,p=c.mat2,d=function(t,e,n){this.tileSize=512,this._renderWorldCopies=void 0===n||n,this._minZoom=t||0,this._maxZoom=e||22,this.latRange=[-85.05113,85.05113],this.width=0,this.height=0,this._center=new i(0,0),this.zoom=0,this.angle=0,this._fov=.6435011087932844,this._pitch=0,this._unmodified=!0},g={minZoom:{},maxZoom:{},renderWorldCopies:{},worldSize:{},centerPoint:{},size:{},bearing:{},pitch:{},fov:{},zoom:{},center:{},unmodified:{},x:{},y:{},point:{}};g.minZoom.get=function(){return this._minZoom},g.minZoom.set=function(t){this._minZoom!==t&&(this._minZoom=t,this.zoom=Math.max(this.zoom,t))},g.maxZoom.get=function(){return this._maxZoom},g.maxZoom.set=function(t){this._maxZoom!==t&&(this._maxZoom=t,this.zoom=Math.min(this.zoom,t))},g.renderWorldCopies.get=function(){return this._renderWorldCopies},g.worldSize.get=function(){return this.tileSize*this.scale},g.centerPoint.get=function(){return this.size._div(2)},g.size.get=function(){return new r(this.width,this.height)},g.bearing.get=function(){return-this.angle/Math.PI*180},g.bearing.set=function(t){var e=-s.wrap(t,-180,180)*Math.PI/180;this.angle!==e&&(this._unmodified=!1,this.angle=e,this._calcMatrices(),this.rotationMatrix=p.create(),p.rotate(this.rotationMatrix,this.rotationMatrix,this.angle))},g.pitch.get=function(){return this._pitch/Math.PI*180},g.pitch.set=function(t){var e=s.clamp(t,0,60)/180*Math.PI;this._pitch!==e&&(this._unmodified=!1,this._pitch=e,this._calcMatrices())},g.fov.get=function(){return this._fov/Math.PI*180},g.fov.set=function(t){t=Math.max(.01,Math.min(60,t)),this._fov!==t&&(this._unmodified=!1,this._fov=t/180*Math.PI,this._calcMatrices())},g.zoom.get=function(){return this._zoom},g.zoom.set=function(t){var e=Math.min(Math.max(t,this.minZoom),this.maxZoom);this._zoom!==e&&(this._unmodified=!1,this._zoom=e,this.scale=this.zoomScale(e),this.tileZoom=Math.floor(e),this.zoomFraction=e-this.tileZoom,this._constrain(),this._calcMatrices())},g.center.get=function(){return this._center},g.center.set=function(t){t.lat===this._center.lat&&t.lng===this._center.lng||(this._unmodified=!1,this._center=t,this._constrain(),this._calcMatrices())},d.prototype.coveringZoomLevel=function(t){return(t.roundZoom?Math.round:Math.floor)(this.zoom+this.scaleZoom(this.tileSize/t.tileSize))},d.prototype.getVisibleWrappedCoordinates=function(t){for(var e=this.pointCoordinate(new r(0,0),0),n=this.pointCoordinate(new r(this.width,0),0),i=Math.floor(e.column),o=Math.floor(n.column),s=[t],a=i;a<=o;a++)0!==a&&s.push(new u(t.z,t.x,t.y,a));return s},d.prototype.coveringTiles=function(t){var e=this.coveringZoomLevel(t),n=e;if(e<t.minzoom)return[];e>t.maxzoom&&(e=t.maxzoom);var i=this.pointCoordinate(this.centerPoint,e),o=new r(i.column-.5,i.row-.5),s=[this.pointCoordinate(new r(0,0),e),this.pointCoordinate(new r(this.width,0),e),this.pointCoordinate(new r(this.width,this.height),e),this.pointCoordinate(new r(0,this.height),e)];return u.cover(e,s,t.reparseOverscaled?n:e,this._renderWorldCopies).sort(function(t,e){return o.dist(t)-o.dist(e)})},d.prototype.resize=function(t,e){this.width=t,this.height=e,this.pixelsToGLUnits=[2/t,-2/e],this._constrain(),this._calcMatrices()},g.unmodified.get=function(){return this._unmodified},d.prototype.zoomScale=function(t){return Math.pow(2,t)},d.prototype.scaleZoom=function(t){return Math.log(t)/Math.LN2},d.prototype.project=function(t){return new r(this.lngX(t.lng),this.latY(t.lat))},d.prototype.unproject=function(t){return new i(this.xLng(t.x),this.yLat(t.y))},g.x.get=function(){return this.lngX(this.center.lng)},g.y.get=function(){return this.latY(this.center.lat)},g.point.get=function(){return new r(this.x,this.y)},d.prototype.lngX=function(t){return(180+t)*this.worldSize/360},d.prototype.latY=function(t){var e=180/Math.PI*Math.log(Math.tan(Math.PI/4+t*Math.PI/360));return(180-e)*this.worldSize/360},d.prototype.xLng=function(t){return 360*t/this.worldSize-180},d.prototype.yLat=function(t){var e=180-360*t/this.worldSize;return 360/Math.PI*Math.atan(Math.exp(e*Math.PI/180))-90},d.prototype.setLocationAtPoint=function(t,e){var n=this.pointCoordinate(e)._sub(this.pointCoordinate(this.centerPoint));this.center=this.coordinateLocation(this.locationCoordinate(t)._sub(n)),this._renderWorldCopies&&(this.center=this.center.wrap())},d.prototype.locationPoint=function(t){return this.coordinatePoint(this.locationCoordinate(t))},d.prototype.pointLocation=function(t){return this.coordinateLocation(this.pointCoordinate(t))},d.prototype.locationCoordinate=function(t){return new o(this.lngX(t.lng)/this.tileSize,this.latY(t.lat)/this.tileSize,this.zoom).zoomTo(this.tileZoom)},d.prototype.coordinateLocation=function(t){var e=t.zoomTo(this.zoom);return new i(this.xLng(e.column*this.tileSize),this.yLat(e.row*this.tileSize))},d.prototype.pointCoordinate=function(t,e){void 0===e&&(e=this.tileZoom);var n=0,i=[t.x,t.y,0,1],r=[t.x,t.y,1,1];h.transformMat4(i,i,this.pixelMatrixInverse),h.transformMat4(r,r,this.pixelMatrixInverse);var s=i[3],u=r[3],l=i[0]/s,c=r[0]/u,f=i[1]/s,p=r[1]/u,d=i[2]/s,g=r[2]/u,m=d===g?0:(n-d)/(g-d);return new o(a(l,c,m)/this.tileSize,a(f,p,m)/this.tileSize,this.zoom)._zoomTo(e)},d.prototype.coordinatePoint=function(t){var e=t.zoomTo(this.zoom),n=[e.column*this.tileSize,e.row*this.tileSize,0,1];return h.transformMat4(n,n,this.pixelMatrix),new r(n[0]/n[3],n[1]/n[3])},d.prototype.calculatePosMatrix=function(t,e){var n=t.toCoordinate(e),i=this.worldSize/this.zoomScale(n.zoom),r=f.identity(new Float64Array(16));return f.translate(r,r,[n.column*i,n.row*i,0]),f.scale(r,r,[i/l,i/l,1]),f.multiply(r,this.projMatrix,r),new Float32Array(r)},d.prototype._constrain=function(){if(this.center&&this.width&&this.height&&!this._constraining){this._constraining=!0;var t,e,n,i,o,s,a,u,l=this.size,c=this._unmodified;this.latRange&&(t=this.latY(this.latRange[1]),e=this.latY(this.latRange[0]),o=e-t<l.y?l.y/(e-t):0),this.lngRange&&(n=this.lngX(this.lngRange[0]),i=this.lngX(this.lngRange[1]),s=i-n<l.x?l.x/(i-n):0);var h=Math.max(s||0,o||0);if(h)return this.center=this.unproject(new r(s?(i+n)/2:this.x,o?(e+t)/2:this.y)),this.zoom+=this.scaleZoom(h),this._unmodified=c,void(this._constraining=!1);if(this.latRange){var f=this.y,p=l.y/2;f-p<t&&(u=t+p),f+p>e&&(u=e-p)}if(this.lngRange){var d=this.x,g=l.x/2;d-g<n&&(a=n+g),d+g>i&&(a=i-g)}void 0===a&&void 0===u||(this.center=this.unproject(new r(void 0!==a?a:this.x,void 0!==u?u:this.y))),this._unmodified=c,this._constraining=!1}},d.prototype._calcMatrices=function(){if(this.height){this.cameraToCenterDistance=.5/Math.tan(this._fov/2)*this.height;var t=this._fov/2,e=Math.PI/2+this._pitch,n=Math.sin(t)*this.cameraToCenterDistance/Math.sin(Math.PI-e-t),i=Math.cos(Math.PI/2-this._pitch)*n+this.cameraToCenterDistance,r=1.01*i,o=new Float64Array(16);f.perspective(o,this._fov,this.width/this.height,1,r),f.scale(o,o,[1,-1,1]),f.translate(o,o,[0,0,-this.cameraToCenterDistance]),f.rotateX(o,o,this._pitch),f.rotateZ(o,o,this.angle),f.translate(o,o,[-this.x,-this.y,0]);var s=this.worldSize/(2*Math.PI*6378137*Math.abs(Math.cos(this.center.lat*(Math.PI/180))));if(f.scale(o,o,[1,1,s,1]),this.projMatrix=o,o=f.create(),f.scale(o,o,[this.width/2,-this.height/2,1]),f.translate(o,o,[1,-1,0]),this.pixelMatrix=f.multiply(new Float64Array(16),o,this.projMatrix),o=f.invert(new Float64Array(16),this.pixelMatrix),!o)throw new Error("failed to invert matrix");this.pixelMatrixInverse=o}},Object.defineProperties(d.prototype,g),e.exports=d},{"../data/extent":54,"../source/tile_coord":96,"../style-spec/util/interpolate":123,"../util/util":214,"./coordinate":61,"./lng_lat":62,"@mapbox/gl-matrix":1,"point-geometry":26}],65:[function(t,e,n){"use strict";var i=t("./util/browser"),r=e.exports={};r.version=t("../package.json").version,r.workerCount=Math.max(Math.floor(i.hardwareConcurrency/2),1),r.Map=t("./ui/map"),r.NavigationControl=t("./ui/control/navigation_control"),r.GeolocateControl=t("./ui/control/geolocate_control"),r.AttributionControl=t("./ui/control/attribution_control"),r.ScaleControl=t("./ui/control/scale_control"),r.FullscreenControl=t("./ui/control/fullscreen_control"),r.Popup=t("./ui/popup"),r.Marker=t("./ui/marker"),r.Style=t("./style/style"),r.LngLat=t("./geo/lng_lat"),r.LngLatBounds=t("./geo/lng_lat_bounds"),r.Point=t("point-geometry"),r.Evented=t("./util/evented"),r.supported=t("./util/browser").supported;var o=t("./util/config");r.config=o;var s=t("./source/rtl_text_plugin");r.setRTLTextPlugin=s.setRTLTextPlugin,Object.defineProperty(r,"accessToken",{get:function(){return o.ACCESS_TOKEN},set:function(t){o.ACCESS_TOKEN=t}})},{"../package.json":43,"./geo/lng_lat":62,"./geo/lng_lat_bounds":63,"./source/rtl_text_plugin":91,"./style/style":149,"./ui/control/attribution_control":176,"./ui/control/fullscreen_control":177,"./ui/control/geolocate_control":178,"./ui/control/navigation_control":180,"./ui/control/scale_control":181,"./ui/map":190,"./ui/marker":191,"./ui/popup":192,"./util/browser":195,"./util/config":199,"./util/evented":203,"point-geometry":26}],66:[function(t,e,n){"use strict";function i(t,e,n){var i=t.gl,o=t.transform,s=o.tileSize,a=n.paint["background-color"],u=n.paint["background-pattern"],l=n.paint["background-opacity"],c=!u&&1===a[3]&&1===l;if(t.isOpaquePass===c){i.disable(i.STENCIL_TEST),t.setDepthSublayer(0);var h;u?(h=t.useProgram("fillPattern",t.basicFillProgramConfiguration),r.prepare(u,t,h),t.tileExtentPatternVAO.bind(i,h,t.tileExtentBuffer)):(h=t.useProgram("fill",t.basicFillProgramConfiguration),i.uniform4fv(h.u_color,a),t.tileExtentVAO.bind(i,h,t.tileExtentBuffer)),i.uniform1f(h.u_opacity,l);for(var f=o.coveringTiles({tileSize:s}),p=0,d=f;p<d.length;p+=1){var g=d[p];u&&r.setTile({coord:g,tileSize:s},t,h),i.uniformMatrix4fv(h.u_matrix,!1,t.transform.calculatePosMatrix(g)),i.drawArrays(i.TRIANGLE_STRIP,0,t.tileExtentBuffer.length)}}}var r=t("./pattern");e.exports=i},{"./pattern":78}],67:[function(t,e,n){"use strict";function i(t,e,n,i){if(!t.isOpaquePass){var o=t.gl;t.setDepthSublayer(0),t.depthMask(!1),o.disable(o.STENCIL_TEST);for(var s=0;s<i.length;s++){var a=i[s],u=e.getTile(a),l=u.getBucket(n);if(l){var c=l.buffers,h=c.layerData[n.id],f=h.programConfiguration,p=t.useProgram("circle",f);f.setUniforms(o,p,n,{zoom:t.transform.zoom}),"map"===n.paint["circle-pitch-scale"]?(o.uniform1i(p.u_scale_with_map,!0),o.uniform2f(p.u_extrude_scale,t.transform.pixelsToGLUnits[0]*t.transform.cameraToCenterDistance,t.transform.pixelsToGLUnits[1]*t.transform.cameraToCenterDistance)):(o.uniform1i(p.u_scale_with_map,!1),o.uniform2fv(p.u_extrude_scale,t.transform.pixelsToGLUnits)),o.uniform1f(p.u_devicepixelratio,r.devicePixelRatio),o.uniformMatrix4fv(p.u_matrix,!1,t.translatePosMatrix(a.posMatrix,u,n.paint["circle-translate"],n.paint["circle-translate-anchor"]));for(var d=0,g=c.segments;d<g.length;d+=1){var m=g[d];m.vaos[n.id].bind(o,p,c.layoutVertexBuffer,c.elementBuffer,h.paintVertexBuffer,m.vertexOffset),o.drawElements(o.TRIANGLES,3*m.primitiveLength,o.UNSIGNED_SHORT,3*m.primitiveOffset*2)}}}}}var r=t("../util/browser");e.exports=i},{"../util/browser":195}],68:[function(t,e,n){"use strict";function i(t,e,n,i){var r=t.gl;r.enable(r.STENCIL_TEST);for(var o=t.useProgram("collisionBox"),s=0;s<i.length;s++){var a=i[s],u=e.getTile(a),l=u.getBucket(n);if(l){var c=l.buffers.collisionBox;if(c){r.uniformMatrix4fv(o.u_matrix,!1,a.posMatrix),t.enableTileClippingMask(a),t.lineWidth(1),r.uniform1f(o.u_scale,Math.pow(2,t.transform.zoom-u.coord.z)),r.uniform1f(o.u_zoom,10*t.transform.zoom),r.uniform1f(o.u_maxzoom,10*(u.coord.z+1));for(var h=0,f=c.segments;h<f.length;h+=1){var p=f[h];p.vaos[n.id].bind(r,o,c.layoutVertexBuffer,c.elementBuffer,null,p.vertexOffset),r.drawElements(r.LINES,2*p.primitiveLength,r.UNSIGNED_SHORT,2*p.primitiveOffset*2)}}}}}e.exports=i},{}],69:[function(t,e,n){"use strict";function i(t,e,n){for(var i=0;i<n.length;i++)r(t,e,n[i])}function r(t,e,n){var i=t.gl;i.disable(i.STENCIL_TEST),t.lineWidth(1*s.devicePixelRatio);var r=n.posMatrix,f=t.useProgram("debug");i.uniformMatrix4fv(f.u_matrix,!1,r),i.uniform4f(f.u_color,1,0,0,1),t.debugVAO.bind(i,f,t.debugBuffer),i.drawArrays(i.LINE_STRIP,0,t.debugBuffer.length);for(var p=o(n.toString(),50,200,5),d=new h,g=0;g<p.length;g+=2)d.emplaceBack(p[g],p[g+1]);var m=l.fromStructArray(d,l.BufferType.VERTEX),v=new c;v.bind(i,f,m),i.uniform4f(f.u_color,1,1,1,1);for(var y=e.getTile(n).tileSize,b=u/(Math.pow(2,t.transform.zoom-n.z)*y),x=[[-1,-1],[-1,1],[1,-1],[1,1]],_=0;_<x.length;_++){var E=x[_];i.uniformMatrix4fv(f.u_matrix,!1,a.translate([],r,[b*E[0],b*E[1],0])),i.drawArrays(i.LINES,0,m.length)}i.uniform4f(f.u_color,0,0,0,1),i.uniformMatrix4fv(f.u_matrix,!1,r),i.drawArrays(i.LINES,0,m.length)}function o(t,e,n,i){i=i||1;var r,o,s,a,u,l,c,h,p=[];for(r=0,o=t.length;r<o;r++)if(u=f[t[r]]){for(h=null,s=0,a=u[1].length;s<a;s+=2)u[1][s]===-1&&u[1][s+1]===-1?h=null:(l=e+u[1][s]*i,c=n-u[1][s+1]*i,h&&p.push(h.x,h.y,l,c),h={x:l,y:c});e+=u[0]*i}return p}var s=t("../util/browser"),a=t("@mapbox/gl-matrix").mat4,u=t("../data/extent"),l=t("../data/buffer"),c=t("./vertex_array_object"),h=t("../data/pos_array");e.exports=i;var f={" ":[16,[]],"!":[10,[5,21,5,7,-1,-1,5,2,4,1,5,0,6,1,5,2]],'"':[16,[4,21,4,14,-1,-1,12,21,12,14]],"#":[21,[11,25,4,-7,-1,-1,17,25,10,-7,-1,-1,4,12,18,12,-1,-1,3,6,17,6]],$:[20,[8,25,8,-4,-1,-1,12,25,12,-4,-1,-1,17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],"%":[24,[21,21,3,0,-1,-1,8,21,10,19,10,17,9,15,7,14,5,14,3,16,3,18,4,20,6,21,8,21,10,20,13,19,16,19,19,20,21,21,-1,-1,17,7,15,6,14,4,14,2,16,0,18,0,20,1,21,3,21,5,19,7,17,7]],"&":[26,[23,12,23,13,22,14,21,14,20,13,19,11,17,6,15,3,13,1,11,0,7,0,5,1,4,2,3,4,3,6,4,8,5,9,12,13,13,14,14,16,14,18,13,20,11,21,9,20,8,18,8,16,9,13,11,10,16,3,18,1,20,0,22,0,23,1,23,2]],"'":[10,[5,19,4,20,5,21,6,20,6,18,5,16,4,15]],"(":[14,[11,25,9,23,7,20,5,16,4,11,4,7,5,2,7,-2,9,-5,11,-7]],")":[14,[3,25,5,23,7,20,9,16,10,11,10,7,9,2,7,-2,5,-5,3,-7]],"*":[16,[8,21,8,9,-1,-1,3,18,13,12,-1,-1,13,18,3,12]],"+":[26,[13,18,13,0,-1,-1,4,9,22,9]],",":[10,[6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"-":[26,[4,9,22,9]],".":[10,[5,2,4,1,5,0,6,1,5,2]],"/":[22,[20,25,2,-7]],0:[20,[9,21,6,20,4,17,3,12,3,9,4,4,6,1,9,0,11,0,14,1,16,4,17,9,17,12,16,17,14,20,11,21,9,21]],1:[20,[6,17,8,18,11,21,11,0]],2:[20,[4,16,4,17,5,19,6,20,8,21,12,21,14,20,15,19,16,17,16,15,15,13,13,10,3,0,17,0]],3:[20,[5,21,16,21,10,13,13,13,15,12,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],4:[20,[13,21,3,7,18,7,-1,-1,13,21,13,0]],5:[20,[15,21,5,21,4,12,5,13,8,14,11,14,14,13,16,11,17,8,17,6,16,3,14,1,11,0,8,0,5,1,4,2,3,4]],6:[20,[16,18,15,20,12,21,10,21,7,20,5,17,4,12,4,7,5,3,7,1,10,0,11,0,14,1,16,3,17,6,17,7,16,10,14,12,11,13,10,13,7,12,5,10,4,7]],7:[20,[17,21,7,0,-1,-1,3,21,17,21]],8:[20,[8,21,5,20,4,18,4,16,5,14,7,13,11,12,14,11,16,9,17,7,17,4,16,2,15,1,12,0,8,0,5,1,4,2,3,4,3,7,4,9,6,11,9,12,13,13,15,14,16,16,16,18,15,20,12,21,8,21]],9:[20,[16,14,15,11,13,9,10,8,9,8,6,9,4,11,3,14,3,15,4,18,6,20,9,21,10,21,13,20,15,18,16,14,16,9,15,4,13,1,10,0,8,0,5,1,4,3]],":":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,5,2,4,1,5,0,6,1,5,2]],";":[10,[5,14,4,13,5,12,6,13,5,14,-1,-1,6,1,5,0,4,1,5,2,6,1,6,-1,5,-3,4,-4]],"<":[24,[20,18,4,9,20,0]],"=":[26,[4,12,22,12,-1,-1,4,6,22,6]],">":[24,[4,18,20,9,4,0]],"?":[18,[3,16,3,17,4,19,5,20,7,21,11,21,13,20,14,19,15,17,15,15,14,13,13,12,9,10,9,7,-1,-1,9,2,8,1,9,0,10,1,9,2]],"@":[27,[18,13,17,15,15,16,12,16,10,15,9,14,8,11,8,8,9,6,11,5,14,5,16,6,17,8,-1,-1,12,16,10,14,9,11,9,8,10,6,11,5,-1,-1,18,16,17,8,17,6,19,5,21,5,23,7,24,10,24,12,23,15,22,17,20,19,18,20,15,21,12,21,9,20,7,19,5,17,4,15,3,12,3,9,4,6,5,4,7,2,9,1,12,0,15,0,18,1,20,2,21,3,-1,-1,19,16,18,8,18,6,19,5]],A:[18,[9,21,1,0,-1,-1,9,21,17,0,-1,-1,4,7,14,7]],B:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,-1,-1,4,11,13,11,16,10,17,9,18,7,18,4,17,2,16,1,13,0,4,0]],C:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5]],D:[21,[4,21,4,0,-1,-1,4,21,11,21,14,20,16,18,17,16,18,13,18,8,17,5,16,3,14,1,11,0,4,0]],E:[19,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11,-1,-1,4,0,17,0]],F:[18,[4,21,4,0,-1,-1,4,21,17,21,-1,-1,4,11,12,11]],G:[21,[18,16,17,18,15,20,13,21,9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,18,8,-1,-1,13,8,18,8]],H:[22,[4,21,4,0,-1,-1,18,21,18,0,-1,-1,4,11,18,11]],I:[8,[4,21,4,0]],J:[16,[12,21,12,5,11,2,10,1,8,0,6,0,4,1,3,2,2,5,2,7]],K:[21,[4,21,4,0,-1,-1,18,21,4,7,-1,-1,9,12,18,0]],L:[17,[4,21,4,0,-1,-1,4,0,16,0]],M:[24,[4,21,4,0,-1,-1,4,21,12,0,-1,-1,20,21,12,0,-1,-1,20,21,20,0]],N:[22,[4,21,4,0,-1,-1,4,21,18,0,-1,-1,18,21,18,0]],O:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21]],P:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,14,17,12,16,11,13,10,4,10]],Q:[22,[9,21,7,20,5,18,4,16,3,13,3,8,4,5,5,3,7,1,9,0,13,0,15,1,17,3,18,5,19,8,19,13,18,16,17,18,15,20,13,21,9,21,-1,-1,12,4,18,-2]],R:[21,[4,21,4,0,-1,-1,4,21,13,21,16,20,17,19,18,17,18,15,17,13,16,12,13,11,4,11,-1,-1,11,11,18,0]],S:[20,[17,18,15,20,12,21,8,21,5,20,3,18,3,16,4,14,5,13,7,12,13,10,15,9,16,8,17,6,17,3,15,1,12,0,8,0,5,1,3,3]],T:[16,[8,21,8,0,-1,-1,1,21,15,21]],U:[22,[4,21,4,6,5,3,7,1,10,0,12,0,15,1,17,3,18,6,18,21]],V:[18,[1,21,9,0,-1,-1,17,21,9,0]],W:[24,[2,21,7,0,-1,-1,12,21,7,0,-1,-1,12,21,17,0,-1,-1,22,21,17,0]],X:[20,[3,21,17,0,-1,-1,17,21,3,0]],Y:[18,[1,21,9,11,9,0,-1,-1,17,21,9,11]],Z:[20,[17,21,3,0,-1,-1,3,21,17,21,-1,-1,3,0,17,0]],"[":[14,[4,25,4,-7,-1,-1,5,25,5,-7,-1,-1,4,25,11,25,-1,-1,4,-7,11,-7]],"\\":[14,[0,21,14,-3]],"]":[14,[9,25,9,-7,-1,-1,10,25,10,-7,-1,-1,3,25,10,25,-1,-1,3,-7,10,-7]],"^":[16,[6,15,8,18,10,15,-1,-1,3,12,8,17,13,12,-1,-1,8,17,8,0]],_:[16,[0,-2,16,-2]],"`":[10,[6,21,5,20,4,18,4,16,5,15,6,16,5,17]],a:[19,[15,14,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],b:[19,[4,21,4,0,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],c:[18,[15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],d:[19,[15,21,15,0,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],e:[18,[3,8,15,8,15,10,14,12,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],f:[12,[10,21,8,21,6,20,5,17,5,0,-1,-1,2,14,9,14]],g:[19,[15,14,15,-2,14,-5,13,-6,11,-7,8,-7,6,-6,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],h:[19,[4,21,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],i:[8,[3,21,4,20,5,21,4,22,3,21,-1,-1,4,14,4,0]],j:[10,[5,21,6,20,7,21,6,22,5,21,-1,-1,6,14,6,-3,5,-6,3,-7,1,-7]],k:[17,[4,21,4,0,-1,-1,14,14,4,4,-1,-1,8,8,15,0]],l:[8,[4,21,4,0]],m:[30,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0,-1,-1,15,10,18,13,20,14,23,14,25,13,26,10,26,0]],n:[19,[4,14,4,0,-1,-1,4,10,7,13,9,14,12,14,14,13,15,10,15,0]],o:[19,[8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3,16,6,16,8,15,11,13,13,11,14,8,14]],p:[19,[4,14,4,-7,-1,-1,4,11,6,13,8,14,11,14,13,13,15,11,16,8,16,6,15,3,13,1,11,0,8,0,6,1,4,3]],q:[19,[15,14,15,-7,-1,-1,15,11,13,13,11,14,8,14,6,13,4,11,3,8,3,6,4,3,6,1,8,0,11,0,13,1,15,3]],r:[13,[4,14,4,0,-1,-1,4,8,5,11,7,13,9,14,12,14]],s:[17,[14,11,13,13,10,14,7,14,4,13,3,11,4,9,6,8,11,7,13,6,14,4,14,3,13,1,10,0,7,0,4,1,3,3]],t:[12,[5,21,5,4,6,1,8,0,10,0,-1,-1,2,14,9,14]],u:[19,[4,14,4,4,5,1,7,0,10,0,12,1,15,4,-1,-1,15,14,15,0]],v:[16,[2,14,8,0,-1,-1,14,14,8,0]],w:[22,[3,14,7,0,-1,-1,11,14,7,0,-1,-1,11,14,15,0,-1,-1,19,14,15,0]],x:[17,[3,14,14,0,-1,-1,14,14,3,0]],y:[16,[2,14,8,0,-1,-1,14,14,8,0,6,-4,4,-6,2,-7,1,-7]],z:[17,[14,14,3,0,-1,-1,3,14,14,14,-1,-1,3,0,14,0]],"{":[14,[9,25,7,24,6,23,5,21,5,19,6,17,7,16,8,14,8,12,6,10,-1,-1,7,24,6,22,6,20,7,18,8,17,9,15,9,13,8,11,4,9,8,7,9,5,9,3,8,1,7,0,6,-2,6,-4,7,-6,-1,-1,6,8,8,6,8,4,7,2,6,1,5,-1,5,-3,6,-5,7,-6,9,-7]],"|":[8,[4,25,4,-7]],"}":[14,[5,25,7,24,8,23,9,21,9,19,8,17,7,16,6,14,6,12,8,10,-1,-1,7,24,8,22,8,20,7,18,6,17,5,15,5,13,6,11,10,9,6,7,5,5,5,3,6,1,7,0,8,-2,8,-4,7,-6,-1,-1,8,8,6,6,6,4,7,2,8,1,9,-1,9,-3,8,-5,7,-6,5,-7]],"~":[24,[3,6,3,8,4,11,6,12,8,12,10,11,14,8,16,7,18,7,20,8,21,10,-1,-1,3,8,4,10,6,11,8,11,10,10,14,7,16,6,18,6,20,7,21,10,21,12]]}},{"../data/buffer":51,"../data/extent":54,"../data/pos_array":57,"../util/browser":195,"./vertex_array_object":80,"@mapbox/gl-matrix":1}],70:[function(t,e,n){"use strict";function i(t,e,n,i){var a=t.gl;a.enable(a.STENCIL_TEST);var u=!n.paint["fill-pattern"]&&n.isPaintValueFeatureConstant("fill-color")&&n.isPaintValueFeatureConstant("fill-opacity")&&1===n.paint["fill-color"][3]&&1===n.paint["fill-opacity"];t.isOpaquePass===u&&(t.setDepthSublayer(1),r(t,e,n,i,o)),!t.isOpaquePass&&n.paint["fill-antialias"]&&(t.lineWidth(2),t.depthMask(!1),t.setDepthSublayer(n.getPaintProperty("fill-outline-color")?2:0),r(t,e,n,i,s))}function r(t,e,n,i,r){for(var o=!0,s=0,a=i;s<a.length;s+=1){var u=a[s],l=e.getTile(u),c=l.getBucket(n);c&&(t.enableTileClippingMask(u),r(t,e,n,l,u,c.buffers,o),o=!1)}}function o(t,e,n,i,r,o,s){for(var u=t.gl,l=o.layerData[n.id],c=a("fill",n.paint["fill-pattern"],t,l,n,i,r,s),h=0,f=o.segments;h<f.length;h+=1){var p=f[h];p.vaos[n.id].bind(u,c,o.layoutVertexBuffer,o.elementBuffer,l.paintVertexBuffer,p.vertexOffset),u.drawElements(u.TRIANGLES,3*p.primitiveLength,u.UNSIGNED_SHORT,3*p.primitiveOffset*2)}}function s(t,e,n,i,r,o,s){var u=t.gl,l=o.layerData[n.id],c=n.paint["fill-pattern"]&&!n.getPaintProperty("fill-outline-color"),h=a("fillOutline",c,t,l,n,i,r,s);u.uniform2f(h.u_world,u.drawingBufferWidth,u.drawingBufferHeight);for(var f=0,p=o.segments2;f<p.length;f+=1){var d=p[f];d.vaos[n.id].bind(u,h,o.layoutVertexBuffer,o.elementBuffer2,l.paintVertexBuffer,d.vertexOffset),u.drawElements(u.LINES,2*d.primitiveLength,u.UNSIGNED_SHORT,2*d.primitiveOffset*2)}}function a(t,e,n,i,r,o,s,a){var l,c=n.currentProgram;return e?(l=n.useProgram(t+"Pattern",i.programConfiguration),(a||l!==c)&&(i.programConfiguration.setUniforms(n.gl,l,r,{zoom:n.transform.zoom}),u.prepare(r.paint["fill-pattern"],n,l)),u.setTile(o,n,l)):(l=n.useProgram(t,i.programConfiguration),(a||l!==c)&&i.programConfiguration.setUniforms(n.gl,l,r,{zoom:n.transform.zoom})),n.gl.uniformMatrix4fv(l.u_matrix,!1,n.translatePosMatrix(s.posMatrix,o,r.paint["fill-translate"],r.paint["fill-translate-anchor"])),l}var u=t("./pattern");e.exports=i},{"./pattern":78}],71:[function(t,e,n){"use strict";function i(t,e,n,i){if(0!==n.paint["fill-extrusion-opacity"]){var s=t.gl;s.disable(s.STENCIL_TEST),s.enable(s.DEPTH_TEST),t.depthMask(!0);var a=new r(s,t,n);a.bindFramebuffer(),s.clearColor(0,0,0,0),s.clear(s.COLOR_BUFFER_BIT|s.DEPTH_BUFFER_BIT);for(var u=0;u<i.length;u++)o(t,e,n,i[u]);a.unbindFramebuffer(),a.renderToMap()}}function r(t,e,n){this.gl=t,this.width=e.width,this.height=e.height,this.painter=e,this.layer=n,this.texture=null,this.fbo=null,this.fbos=this.painter.preFbos[this.width]&&this.painter.preFbos[this.width][this.height]}function o(t,e,n,i){if(!t.isOpaquePass){var r=e.getTile(i),o=r.getBucket(n);if(o){var a=o.buffers,u=t.gl,l=n.paint["fill-extrusion-pattern"],c=a.layerData[n.id],f=c.programConfiguration,p=t.useProgram(l?"fillExtrusionPattern":"fillExtrusion",f);f.setUniforms(u,p,n,{zoom:t.transform.zoom}),l&&(h.prepare(l,t,p),h.setTile(r,t,p),u.uniform1f(p.u_height_factor,-Math.pow(2,i.z)/r.tileSize/8)),t.gl.uniformMatrix4fv(p.u_matrix,!1,t.translatePosMatrix(i.posMatrix,r,n.paint["fill-extrusion-translate"],n.paint["fill-extrusion-translate-anchor"])),s(p,t);for(var d=0,g=a.segments;d<g.length;d+=1){var m=g[d];m.vaos[n.id].bind(u,p,a.layoutVertexBuffer,a.elementBuffer,c.paintVertexBuffer,m.vertexOffset),u.drawElements(u.TRIANGLES,3*m.primitiveLength,u.UNSIGNED_SHORT,3*m.primitiveOffset*2)}}}}function s(t,e){var n=e.gl,i=e.style.light,r=i.calculated.position,o=[r.x,r.y,r.z],s=f.create();"viewport"===i.calculated.anchor&&f.fromRotation(s,-e.transform.angle),d.transformMat3(o,o,s),n.uniform3fv(t.u_lightpos,o),n.uniform1f(t.u_lightintensity,i.calculated.intensity),n.uniform3fv(t.u_lightcolor,i.calculated.color.slice(0,3))}var a=t("@mapbox/gl-matrix"),u=t("../data/buffer"),l=t("./vertex_array_object"),c=t("../data/pos_array"),h=t("./pattern"),f=a.mat3,p=a.mat4,d=a.vec3;e.exports=i,r.prototype.bindFramebuffer=function(){var t=this.gl;if(this.texture=this.painter.getViewportTexture(this.width,this.height),t.activeTexture(t.TEXTURE1),this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,null),this.texture.width=this.width,this.texture.height=this.height),this.fbos)this.fbo=this.fbos.pop(),t.bindFramebuffer(t.FRAMEBUFFER,this.fbo),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0);else{this.fbo=t.createFramebuffer(),t.bindFramebuffer(t.FRAMEBUFFER,this.fbo);var e=t.createRenderbuffer(),n=t.createRenderbuffer();t.bindRenderbuffer(t.RENDERBUFFER,e),t.bindRenderbuffer(t.RENDERBUFFER,n),t.renderbufferStorage(t.RENDERBUFFER,t.RGBA4,this.width,this.height),t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_COMPONENT16,this.width,this.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,e),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,n),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this.texture,0)}},r.prototype.unbindFramebuffer=function(){this.painter.bindDefaultFramebuffer(),this.fbos?this.fbos.push(this.fbo):(this.painter.preFbos[this.width]||(this.painter.preFbos[this.width]={}),this.painter.preFbos[this.width][this.height]=[this.fbo]),this.painter.saveViewportTexture(this.texture)},r.prototype.renderToMap=function(){var t=this.gl,e=this.painter,n=e.useProgram("extrusionTexture");t.activeTexture(t.TEXTURE0),t.bindTexture(t.TEXTURE_2D,this.texture),t.uniform1f(n.u_opacity,this.layer.paint["fill-extrusion-opacity"]),t.uniform1i(n.u_image,1),t.uniformMatrix4fv(n.u_matrix,!1,p.ortho(p.create(),0,e.width,e.height,0,0,1)),t.disable(t.DEPTH_TEST),t.uniform2f(n.u_world,t.drawingBufferWidth,t.drawingBufferHeight);var i=new c;i.emplaceBack(0,0),i.emplaceBack(1,0),i.emplaceBack(0,1),i.emplaceBack(1,1);var r=u.fromStructArray(i,u.BufferType.VERTEX),o=new l;o.bind(t,n,r),t.drawArrays(t.TRIANGLE_STRIP,0,4),t.enable(t.DEPTH_TEST)}},{"../data/buffer":51,"../data/pos_array":57,"./pattern":78,"./vertex_array_object":80,"@mapbox/gl-matrix":1}],72:[function(t,e,n){"use strict";function i(t,e,n,i,s,a,u,l,c){var h,f,p,d,g=e.gl,m=s.paint["line-dasharray"],v=s.paint["line-pattern"];if(l||c){var y=1/o(n,1,e.transform.tileZoom);if(m){h=e.lineAtlas.getDash(m.from,"round"===s.layout["line-cap"]),f=e.lineAtlas.getDash(m.to,"round"===s.layout["line-cap"]);var b=h.width*m.fromScale,x=f.width*m.toScale;g.uniform2f(t.u_patternscale_a,y/b,-h.height/2),g.uniform2f(t.u_patternscale_b,y/x,-f.height/2),g.uniform1f(t.u_sdfgamma,e.lineAtlas.width/(256*Math.min(b,x)*r.devicePixelRatio)/2)}else if(v){if(p=e.spriteAtlas.getPosition(v.from,!0),d=e.spriteAtlas.getPosition(v.to,!0),!p||!d)return;g.uniform2f(t.u_pattern_size_a,p.size[0]*v.fromScale/y,d.size[1]),g.uniform2f(t.u_pattern_size_b,d.size[0]*v.toScale/y,d.size[1])}g.uniform2f(t.u_gl_units_to_pixels,1/e.transform.pixelsToGLUnits[0],1/e.transform.pixelsToGLUnits[1])}l&&(m?(g.uniform1i(t.u_image,0),g.activeTexture(g.TEXTURE0),e.lineAtlas.bind(g),g.uniform1f(t.u_tex_y_a,h.y),g.uniform1f(t.u_tex_y_b,f.y),g.uniform1f(t.u_mix,m.t)):v&&(g.uniform1i(t.u_image,0),g.activeTexture(g.TEXTURE0),e.spriteAtlas.bind(g,!0),g.uniform2fv(t.u_pattern_tl_a,p.tl),g.uniform2fv(t.u_pattern_br_a,p.br),g.uniform2fv(t.u_pattern_tl_b,d.tl),g.uniform2fv(t.u_pattern_br_b,d.br),g.uniform1f(t.u_fade,v.t)),g.uniform1f(t.u_width,s.paint["line-width"])),e.enableTileClippingMask(a);var _=e.translatePosMatrix(a.posMatrix,n,s.paint["line-translate"],s.paint["line-translate-anchor"]);g.uniformMatrix4fv(t.u_matrix,!1,_),g.uniform1f(t.u_ratio,1/o(n,1,e.transform.zoom));for(var E=0,w=i.segments;E<w.length;E+=1){var T=w[E];T.vaos[s.id].bind(g,t,i.layoutVertexBuffer,i.elementBuffer,u.paintVertexBuffer,T.vertexOffset),g.drawElements(g.TRIANGLES,3*T.primitiveLength,g.UNSIGNED_SHORT,3*T.primitiveOffset*2)}}var r=t("../util/browser"),o=t("../source/pixels_to_tile_units");e.exports=function(t,e,n,r){if(!t.isOpaquePass){t.setDepthSublayer(0),t.depthMask(!1);var o=t.gl;if(o.enable(o.STENCIL_TEST),!(n.paint["line-width"]<=0))for(var s,a=n.paint["line-dasharray"]?"lineSDF":n.paint["line-pattern"]?"linePattern":"line",u=!0,l=0,c=r;l<c.length;l+=1){var h=c[l],f=e.getTile(h),p=f.getBucket(n);if(p){var d=p.buffers.layerData[n.id],g=t.currentProgram,m=t.useProgram(a,d.programConfiguration),v=u||m!==g,y=s!==f.coord.z;v&&d.programConfiguration.setUniforms(t.gl,m,n,{zoom:t.transform.zoom}),i(m,t,f,p.buffers,n,h,d,v,y),s=f.coord.z,u=!1}}}}},{"../source/pixels_to_tile_units":88,"../util/browser":195}],73:[function(t,e,n){"use strict";function i(t,e,n,i){if(!t.isOpaquePass){var o=t.gl;o.enable(o.DEPTH_TEST),t.depthMask(!0),o.depthFunc(o.LESS);for(var s=i.length&&i[0].z,a=0;a<i.length;a++){var u=i[a];t.setDepthSublayer(u.z-s),r(t,e,n,u)}o.depthFunc(o.LEQUAL)}}function r(t,e,n,i){var r=t.gl;r.disable(r.STENCIL_TEST);var l=e.getTile(i),c=t.transform.calculatePosMatrix(i,e.getSource().maxzoom);l.registerFadeDuration(t.style.animationLoop,n.paint["raster-fade-duration"]);var h=t.useProgram("raster");r.uniformMatrix4fv(h.u_matrix,!1,c),r.uniform1f(h.u_brightness_low,n.paint["raster-brightness-min"]),r.uniform1f(h.u_brightness_high,n.paint["raster-brightness-max"]),r.uniform1f(h.u_saturation_factor,a(n.paint["raster-saturation"])),r.uniform1f(h.u_contrast_factor,s(n.paint["raster-contrast"])),r.uniform3fv(h.u_spin_weights,o(n.paint["raster-hue-rotate"]));var f,p,d=l.sourceCache&&l.sourceCache.findLoadedParent(i,0,{}),g=u(l,d,n,t.transform);r.activeTexture(r.TEXTURE0),r.bindTexture(r.TEXTURE_2D,l.texture),r.activeTexture(r.TEXTURE1),d?(r.bindTexture(r.TEXTURE_2D,d.texture),f=Math.pow(2,d.coord.z-l.coord.z),p=[l.coord.x*f%1,l.coord.y*f%1]):r.bindTexture(r.TEXTURE_2D,l.texture),r.uniform2fv(h.u_tl_parent,p||[0,0]),r.uniform1f(h.u_scale_parent,f||1),r.uniform1f(h.u_buffer_scale,1),r.uniform1f(h.u_fade_t,g.mix),r.uniform1f(h.u_opacity,g.opacity*n.paint["raster-opacity"]),r.uniform1i(h.u_image0,0),r.uniform1i(h.u_image1,1);var m=l.boundsBuffer||t.rasterBoundsBuffer,v=l.boundsVAO||t.rasterBoundsVAO;v.bind(r,h,m),r.drawArrays(r.TRIANGLE_STRIP,0,m.length)}function o(t){t*=Math.PI/180;var e=Math.sin(t),n=Math.cos(t);return[(2*n+1)/3,(-Math.sqrt(3)*e-n+1)/3,(Math.sqrt(3)*e-n+1)/3]}function s(t){return t>0?1/(1-t):1+t}function a(t){return t>0?1-1/(1.001-t):-t}function u(t,e,n,i){var r=n.paint["raster-fade-duration"];if(t.sourceCache&&r>0){var o=Date.now(),s=(o-t.timeAdded)/r,a=e?(o-e.timeAdded)/r:-1,u=t.sourceCache.getSource(),c=i.coveringZoomLevel({tileSize:u.tileSize,roundZoom:u.roundZoom}),h=!e||Math.abs(e.coord.z-c)>Math.abs(t.coord.z-c),f=h&&t.refreshedUponExpiration?1:l.clamp(h?s:1-a,0,1);return t.refreshedUponExpiration&&s>=1&&(t.refreshedUponExpiration=!1),e?{opacity:1,mix:1-f}:{opacity:f,mix:0}}return{opacity:1,mix:0}}var l=t("../util/util");e.exports=i},{"../util/util":214}],74:[function(t,e,n){"use strict";function i(t,e,n,i){if(!t.isOpaquePass){var o=!(n.layout["text-allow-overlap"]||n.layout["icon-allow-overlap"]||n.layout["text-ignore-placement"]||n.layout["icon-ignore-placement"]),s=t.gl;o?s.disable(s.STENCIL_TEST):s.enable(s.STENCIL_TEST),t.setDepthSublayer(0),t.depthMask(!1),r(t,e,n,i,!1,n.paint["icon-translate"],n.paint["icon-translate-anchor"],n.layout["icon-rotation-alignment"],n.layout["icon-rotation-alignment"]),r(t,e,n,i,!0,n.paint["text-translate"],n.paint["text-translate-anchor"],n.layout["text-rotation-alignment"],n.layout["text-pitch-alignment"]),e.map.showCollisionBoxes&&c(t,e,n,i)}}function r(t,e,n,i,r,a,u,l,c){if(r||!t.style.sprite||t.style.sprite.loaded()){var h=t.gl,f="map"===l,p="map"===c,d=p;d?h.enable(h.DEPTH_TEST):h.disable(h.DEPTH_TEST);for(var g,m,v=0,y=i;v<y.length;v+=1){var b=y[v],x=e.getTile(b),_=x.getBucket(n);if(_){var E=r?_.buffers.glyph:_.buffers.icon;if(E&&E.segments.length){var w=E.layerData[n.id],T=w.programConfiguration,S=r||_.sdfIcons,A=r?_.textSizeData:_.iconSizeData;g&&_.fontstack===m||(g=t.useProgram(S?"symbolSDF":"symbolIcon",T),T.setUniforms(h,g,n,{zoom:t.transform.zoom}),o(g,t,n,b.z,r,S,f,p,_.fontstack,_.iconsNeedLinear,A)),t.enableTileClippingMask(b),h.uniformMatrix4fv(g.u_matrix,!1,t.translatePosMatrix(b.posMatrix,x,a,u)),s(g,T,t,n,x,E,r,S,p),m=_.fontstack}}}d||h.enable(h.DEPTH_TEST)}}function o(t,e,n,i,r,o,s,a,c,h,p){var d=e.gl,g=e.transform;if(d.uniform1i(t.u_rotate_with_map,s),d.uniform1i(t.u_pitch_with_map,a),d.activeTexture(d.TEXTURE0),d.uniform1i(t.u_texture,0),d.uniform1f(t.u_is_text,r?1:0),r){var m=c&&e.glyphSource.getGlyphAtlas(c);if(!m)return;m.updateTexture(d),d.uniform2f(t.u_texsize,m.width/4,m.height/4)}else{var v=e.options.rotating||e.options.zooming,y=!n.isLayoutValueFeatureConstant("icon-size")||!n.isLayoutValueZoomConstant("icon-size")||1!==n.getLayoutValue("icon-size",{zoom:g.zoom}),b=y||l.devicePixelRatio!==e.spriteAtlas.pixelRatio||h,x=a||g.pitch;e.spriteAtlas.bind(d,o||v||b||x),d.uniform2f(t.u_texsize,e.spriteAtlas.width/4,e.spriteAtlas.height/4)}if(d.activeTexture(d.TEXTURE1),e.frameHistory.bind(d),d.uniform1i(t.u_fadetexture,1),d.uniform1f(t.u_zoom,g.zoom),d.uniform1f(t.u_pitch,g.pitch/360*2*Math.PI),d.uniform1f(t.u_bearing,g.bearing/360*2*Math.PI),d.uniform1f(t.u_aspect_ratio,g.width/g.height),d.uniform1i(t.u_is_size_zoom_constant,p.isZoomConstant?1:0),d.uniform1i(t.u_is_size_feature_constant,p.isFeatureConstant?1:0),p.isZoomConstant||p.isFeatureConstant)if(p.isFeatureConstant&&!p.isZoomConstant){var _;if("interval"===p.functionType)_=n.getLayoutValue(r?"text-size":"icon-size",{zoom:g.zoom});else{var E="interval"===p.functionType?0:f(g.zoom,p.functionBase,p.coveringZoomRange[0],p.coveringZoomRange[1]),w=p.coveringStopValues[0],T=p.coveringStopValues[1];_=w+(T-w)*u.clamp(E,0,1)}d.uniform1f(t.u_size,_),d.uniform1f(t.u_layout_size,p.layoutSize)}else p.isFeatureConstant&&p.isZoomConstant&&d.uniform1f(t.u_size,p.layoutSize);else{var S=f(g.zoom,p.functionBase,p.coveringZoomRange[0],p.coveringZoomRange[1]);d.uniform1f(t.u_size_t,u.clamp(S,0,1))}}function s(t,e,n,i,r,o,s,u,l){var c=n.gl,f=n.transform;if(l){var p=h(r,1,f.zoom);c.uniform2f(t.u_extrude_scale,p,p)}else{var d=f.cameraToCenterDistance;c.uniform2f(t.u_extrude_scale,f.pixelsToGLUnits[0]*d,f.pixelsToGLUnits[1]*d)}if(u){var g=(s?"text":"icon")+"-halo-width",m=!i.isPaintValueFeatureConstant(g)||i.paint[g],v=(l?Math.cos(f._pitch):1)*f.cameraToCenterDistance;c.uniform1f(t.u_gamma_scale,v),m&&(c.uniform1f(t.u_is_halo,1),a(o,i,c,t)),c.uniform1f(t.u_is_halo,0)}a(o,i,c,t)}function a(t,e,n,i){for(var r=t.layerData[e.id],o=r&&r.paintVertexBuffer,s=0,a=t.segments;s<a.length;s+=1){var u=a[s];u.vaos[e.id].bind(n,i,t.layoutVertexBuffer,t.elementBuffer,o,u.vertexOffset),n.drawElements(n.TRIANGLES,3*u.primitiveLength,n.UNSIGNED_SHORT,3*u.primitiveOffset*2)}}var u=t("../util/util"),l=t("../util/browser"),c=t("./draw_collision_debug"),h=t("../source/pixels_to_tile_units"),f=t("../style-spec/function").interpolationFactor;e.exports=i},{"../source/pixels_to_tile_units":88,"../style-spec/function":107,"../util/browser":195,"../util/util":214,"./draw_collision_debug":68}],75:[function(t,e,n){"use strict";var i=function(){this.changeTimes=new Float64Array(256),this.changeOpacities=new Uint8Array(256),this.opacities=new Uint8ClampedArray(256),this.array=new Uint8Array(this.opacities.buffer),this.previousZoom=0,this.firstFrame=!0};i.prototype.record=function(t,e,n){var i=this;this.firstFrame&&(t=0,this.firstFrame=!1),e=Math.floor(10*e);var r;if(e<this.previousZoom)for(r=e+1;r<=this.previousZoom;r++)i.changeTimes[r]=t,i.changeOpacities[r]=i.opacities[r];else for(r=e;r>this.previousZoom;r--)i.changeTimes[r]=t,i.changeOpacities[r]=i.opacities[r];for(r=0;r<256;r++){var o=t-i.changeTimes[r],s=255*(n?o/n:1);r<=e?i.opacities[r]=i.changeOpacities[r]+s:i.opacities[r]=i.changeOpacities[r]-s}this.changed=!0,this.previousZoom=e},i.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.changed&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,256,1,t.ALPHA,t.UNSIGNED_BYTE,this.array),this.changed=!1)):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,256,1,0,t.ALPHA,t.UNSIGNED_BYTE,this.array))},e.exports=i},{}],76:[function(t,e,n){"use strict";var i=t("../util/util"),r=function(t,e){this.width=t,this.height=e,this.nextRow=0,this.bytes=4,this.data=new Uint8Array(this.width*this.height*this.bytes),this.positions={}};r.prototype.setSprite=function(t){this.sprite=t},r.prototype.getDash=function(t,e){var n=t.join(",")+e;return this.positions[n]||(this.positions[n]=this.addDash(t,e)),this.positions[n]},r.prototype.addDash=function(t,e){var n=this,r=e?7:0,o=2*r+1,s=128;if(this.nextRow+o>this.height)return i.warnOnce("LineAtlas out of space"),null;for(var a=0,u=0;u<t.length;u++)a+=t[u];for(var l=this.width/a,c=l/2,h=t.length%2===1,f=-r;f<=r;f++)for(var p=n.nextRow+r+f,d=n.width*p,g=h?-t[t.length-1]:0,m=t[0],v=1,y=0;y<this.width;y++){for(;m<y/l;)g=m,m+=t[v],h&&v===t.length-1&&(m+=t[0]),v++;var b=Math.abs(y-g*l),x=Math.abs(y-m*l),_=Math.min(b,x),E=v%2===1,w=void 0;if(e){var T=r?f/r*(c+1):0;if(E){var S=c-Math.abs(T);w=Math.sqrt(_*_+S*S)}else w=c-Math.sqrt(_*_+T*T)}else w=(E?1:-1)*_;n.data[3+4*(d+y)]=Math.max(0,Math.min(255,w+s))}var A={y:(this.nextRow+r+.5)/this.height,height:2*r/this.height,width:a};return this.nextRow+=o,this.dirty=!0,A},r.prototype.bind=function(t){this.texture?(t.bindTexture(t.TEXTURE_2D,this.texture),this.dirty&&(this.dirty=!1,t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.RGBA,t.UNSIGNED_BYTE,this.data))):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.REPEAT),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width,this.height,0,t.RGBA,t.UNSIGNED_BYTE,this.data))},e.exports=r},{"../util/util":214}],77:[function(t,e,n){"use strict";var i=t("../util/browser"),r=t("@mapbox/gl-matrix").mat4,o=t("./frame_history"),s=t("../source/source_cache"),a=t("../data/extent"),u=t("../source/pixels_to_tile_units"),l=t("../util/util"),c=t("../data/buffer"),h=t("./vertex_array_object"),f=t("../data/raster_bounds_array"),p=t("../data/pos_array"),d=t("../data/program_configuration"),g=t("./shaders"),m={symbol:t("./draw_symbol"),circle:t("./draw_circle"),line:t("./draw_line"),fill:t("./draw_fill"),"fill-extrusion":t("./draw_fill_extrusion"),raster:t("./draw_raster"),background:t("./draw_background"),debug:t("./draw_debug")},v=function(t,e){this.gl=t,this.transform=e,this.reusableTextures={tiles:{},viewport:null},this.preFbos={},this.frameHistory=new o,this.setup(),this.numSublayers=s.maxUnderzooming+s.maxOverzooming+1,this.depthEpsilon=1/Math.pow(2,16),this.lineWidthRange=t.getParameter(t.ALIASED_LINE_WIDTH_RANGE),this.basicFillProgramConfiguration=d.createStatic(["color","opacity"]),this.emptyProgramConfiguration=new d};v.prototype.resize=function(t,e){var n=this.gl;this.width=t*i.devicePixelRatio,this.height=e*i.devicePixelRatio,n.viewport(0,0,this.width,this.height)},v.prototype.setup=function(){var t=this.gl;t.verbose=!0,t.enable(t.BLEND),t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA),t.enable(t.STENCIL_TEST),t.enable(t.DEPTH_TEST),t.depthFunc(t.LEQUAL),this._depthMask=!1,t.depthMask(!1);var e=new p;e.emplaceBack(0,0),e.emplaceBack(a,0),e.emplaceBack(0,a),e.emplaceBack(a,a),this.tileExtentBuffer=c.fromStructArray(e,c.BufferType.VERTEX),this.tileExtentVAO=new h,this.tileExtentPatternVAO=new h;var n=new p;n.emplaceBack(0,0),n.emplaceBack(a,0),n.emplaceBack(a,a),n.emplaceBack(0,a),n.emplaceBack(0,0),this.debugBuffer=c.fromStructArray(n,c.BufferType.VERTEX),this.debugVAO=new h;var i=new f;i.emplaceBack(0,0,0,0),i.emplaceBack(a,0,32767,0),i.emplaceBack(0,a,0,32767),i.emplaceBack(a,a,32767,32767),this.rasterBoundsBuffer=c.fromStructArray(i,c.BufferType.VERTEX),this.rasterBoundsVAO=new h,this.extTextureFilterAnisotropic=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic"),this.extTextureFilterAnisotropic&&(this.extTextureFilterAnisotropicMax=t.getParameter(this.extTextureFilterAnisotropic.MAX_TEXTURE_MAX_ANISOTROPY_EXT))},v.prototype.clearColor=function(){var t=this.gl;t.clearColor(0,0,0,0),t.clear(t.COLOR_BUFFER_BIT)},v.prototype.clearStencil=function(){var t=this.gl;t.clearStencil(0),t.stencilMask(255),t.clear(t.STENCIL_BUFFER_BIT)},v.prototype.clearDepth=function(){var t=this.gl;t.clearDepth(1),this.depthMask(!0),t.clear(t.DEPTH_BUFFER_BIT)},v.prototype._renderTileClippingMasks=function(t){var e=this,n=this.gl;n.colorMask(!1,!1,!1,!1),this.depthMask(!1),n.disable(n.DEPTH_TEST),n.enable(n.STENCIL_TEST),n.stencilMask(248),n.stencilOp(n.KEEP,n.KEEP,n.REPLACE);var i=1;this._tileClippingMaskIDs={};for(var r=0,o=t;r<o.length;r+=1){var s=o[r],a=e._tileClippingMaskIDs[s.id]=i++<<3;n.stencilFunc(n.ALWAYS,a,248);var u=e.useProgram("fill",e.basicFillProgramConfiguration);n.uniformMatrix4fv(u.u_matrix,!1,s.posMatrix),e.tileExtentVAO.bind(n,u,e.tileExtentBuffer),n.drawArrays(n.TRIANGLE_STRIP,0,e.tileExtentBuffer.length)}n.stencilMask(0),n.colorMask(!0,!0,!0,!0),this.depthMask(!0),n.enable(n.DEPTH_TEST)},v.prototype.enableTileClippingMask=function(t){var e=this.gl;e.stencilFunc(e.EQUAL,this._tileClippingMaskIDs[t.id],248)},v.prototype.prepareBuffers=function(){},v.prototype.bindDefaultFramebuffer=function(){var t=this.gl;t.bindFramebuffer(t.FRAMEBUFFER,null)},v.prototype.render=function(t,e){if(this.style=t,this.options=e,this.lineAtlas=t.lineAtlas,this.spriteAtlas=t.spriteAtlas,this.spriteAtlas.setSprite(t.sprite),this.glyphSource=t.glyphSource,this.frameHistory.record(Date.now(),this.transform.zoom,t.getTransition().duration),this.prepareBuffers(),this.clearColor(),this.clearDepth(),this.showOverdrawInspector(e.showOverdrawInspector),this.depthRange=(t._order.length+2)*this.numSublayers*this.depthEpsilon,this.isOpaquePass=!0,this.renderPass(),this.isOpaquePass=!1,this.renderPass(),this.options.showTileBoundaries){var n=this.style.sourceCaches[Object.keys(this.style.sourceCaches)[0]];n&&m.debug(this,n,n.getVisibleCoordinates())}},v.prototype.renderPass=function(){var t,e,n=this,i=this.style._order;this.currentLayer=this.isOpaquePass?i.length-1:0,this.isOpaquePass?this._showOverdrawInspector||this.gl.disable(this.gl.BLEND):this.gl.enable(this.gl.BLEND);for(var r=0;r<i.length;r++){var o=n.style._layers[i[n.currentLayer]];o.source!==(t&&t.id)&&(t=n.style.sourceCaches[o.source],e=[],t&&(t.prepare&&t.prepare(),n.clearStencil(),e=t.getVisibleCoordinates(),t.getSource().isTileClipped&&n._renderTileClippingMasks(e)),n.isOpaquePass||e.reverse()),n.renderLayer(n,t,o,e),n.currentLayer+=n.isOpaquePass?-1:1}},v.prototype.depthMask=function(t){t!==this._depthMask&&(this._depthMask=t,this.gl.depthMask(t))},v.prototype.renderLayer=function(t,e,n,i){n.isHidden(this.transform.zoom)||("background"===n.type||i.length)&&(this.id=n.id,m[n.type](t,e,n,i))},v.prototype.setDepthSublayer=function(t){var e=1-((1+this.currentLayer)*this.numSublayers+t)*this.depthEpsilon,n=e-1+this.depthRange;this.gl.depthRange(n,e)},v.prototype.translatePosMatrix=function(t,e,n,i){if(!n[0]&&!n[1])return t;if("viewport"===i){var o=Math.sin(-this.transform.angle),s=Math.cos(-this.transform.angle);n=[n[0]*s-n[1]*o,n[0]*o+n[1]*s]}var a=[u(e,n[0],this.transform.zoom),u(e,n[1],this.transform.zoom),0],l=new Float32Array(16);return r.translate(l,t,a),l},v.prototype.saveTileTexture=function(t){var e=this.reusableTextures.tiles[t.size];e?e.push(t):this.reusableTextures.tiles[t.size]=[t]},v.prototype.saveViewportTexture=function(t){this.reusableTextures.viewport=t},v.prototype.getTileTexture=function(t){var e=this.reusableTextures.tiles[t];return e&&e.length>0?e.pop():null},v.prototype.getViewportTexture=function(t,e){var n=this.reusableTextures.viewport;if(n)return n.width===t&&n.height===e?n:(this.gl.deleteTexture(n),void(this.reusableTextures.viewport=null))},v.prototype.lineWidth=function(t){this.gl.lineWidth(l.clamp(t,this.lineWidthRange[0],this.lineWidthRange[1]))},v.prototype.showOverdrawInspector=function(t){if(t||this._showOverdrawInspector){this._showOverdrawInspector=t;var e=this.gl;if(t){e.blendFunc(e.CONSTANT_COLOR,e.ONE);var n=8,i=1/n;e.blendColor(i,i,i,0),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT)}else e.blendFunc(e.ONE,e.ONE_MINUS_SRC_ALPHA)}},v.prototype.createProgram=function(t,e){var n=this.gl,r=n.createProgram(),o=g[t],s="#define MAPBOX_GL_JS\n#define DEVICE_PIXEL_RATIO "+i.devicePixelRatio.toFixed(1)+"\n";this._showOverdrawInspector&&(s+="#define OVERDRAW_INSPECTOR;\n");var a=e.applyPragmas(s+g.prelude.fragmentSource+o.fragmentSource,"fragment"),u=e.applyPragmas(s+g.prelude.vertexSource+o.vertexSource,"vertex"),l=n.createShader(n.FRAGMENT_SHADER);n.shaderSource(l,a),n.compileShader(l),n.attachShader(r,l);var c=n.createShader(n.VERTEX_SHADER);n.shaderSource(c,u),n.compileShader(c),n.attachShader(r,c),n.linkProgram(r);for(var h=n.getProgramParameter(r,n.ACTIVE_ATTRIBUTES),f={program:r,numAttributes:h},p=0;p<h;p++){var d=n.getActiveAttrib(r,p);f[d.name]=n.getAttribLocation(r,d.name)}for(var m=n.getProgramParameter(r,n.ACTIVE_UNIFORMS),v=0;v<m;v++){var y=n.getActiveUniform(r,v);f[y.name]=n.getUniformLocation(r,y.name)}return f},v.prototype._createProgramCached=function(t,e){this.cache=this.cache||{};var n=""+t+(e.cacheKey||"")+(this._showOverdrawInspector?"/overdraw":"");return this.cache[n]||(this.cache[n]=this.createProgram(t,e)),this.cache[n]},v.prototype.useProgram=function(t,e){var n=this.gl,i=this._createProgramCached(t,e||this.emptyProgramConfiguration);return this.currentProgram!==i&&(n.useProgram(i.program),this.currentProgram=i),i},e.exports=v},{"../data/buffer":51,"../data/extent":54,"../data/pos_array":57,"../data/program_configuration":58,"../data/raster_bounds_array":59,"../source/pixels_to_tile_units":88,"../source/source_cache":93,"../util/browser":195,"../util/util":214,"./draw_background":66,"./draw_circle":67,"./draw_debug":69,"./draw_fill":70,"./draw_fill_extrusion":71,"./draw_line":72,"./draw_raster":73,"./draw_symbol":74,"./frame_history":75,"./shaders":79,"./vertex_array_object":80,"@mapbox/gl-matrix":1}],78:[function(t,e,n){"use strict";var i=t("../source/pixels_to_tile_units");n.prepare=function(t,e,n){var i=e.gl,r=e.spriteAtlas.getPosition(t.from,!0),o=e.spriteAtlas.getPosition(t.to,!0);r&&o&&(i.uniform1i(n.u_image,0),i.uniform2fv(n.u_pattern_tl_a,r.tl),i.uniform2fv(n.u_pattern_br_a,r.br),i.uniform2fv(n.u_pattern_tl_b,o.tl),i.uniform2fv(n.u_pattern_br_b,o.br),i.uniform1f(n.u_mix,t.t),i.uniform2fv(n.u_pattern_size_a,r.size),i.uniform2fv(n.u_pattern_size_b,o.size),i.uniform1f(n.u_scale_a,t.fromScale),i.uniform1f(n.u_scale_b,t.toScale),i.activeTexture(i.TEXTURE0),e.spriteAtlas.bind(i,!0))},n.setTile=function(t,e,n){var r=e.gl;r.uniform1f(n.u_tile_units_to_pixels,1/i(t,1,e.transform.tileZoom));var o=Math.pow(2,t.coord.z),s=t.tileSize*Math.pow(2,e.transform.tileZoom)/o,a=s*(t.coord.x+t.coord.w*o),u=s*t.coord.y;r.uniform2f(n.u_pixel_coord_upper,a>>16,u>>16),r.uniform2f(n.u_pixel_coord_lower,65535&a,65535&u)}},{"../source/pixels_to_tile_units":88}],79:[function(t,e,n){"use strict";var i=t("path");e.exports={prelude:{fragmentSource:"#ifdef GL_ES\nprecision mediump float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n",vertexSource:"#ifdef GL_ES\nprecision highp float;\n#else\n\n#if !defined(lowp)\n#define lowp\n#endif\n\n#if !defined(mediump)\n#define mediump\n#endif\n\n#if !defined(highp)\n#define highp\n#endif\n\n#endif\n\nfloat evaluate_zoom_function_1(const vec4 values, const float t) {\n    if (t < 1.0) {\n        return mix(values[0], values[1], t);\n    } else if (t < 2.0) {\n        return mix(values[1], values[2], t - 1.0);\n    } else {\n        return mix(values[2], values[3], t - 2.0);\n    }\n}\nvec4 evaluate_zoom_function_4(const vec4 value0, const vec4 value1, const vec4 value2, const vec4 value3, const float t) {\n    if (t < 1.0) {\n        return mix(value0, value1, t);\n    } else if (t < 2.0) {\n        return mix(value1, value2, t - 1.0);\n    } else {\n        return mix(value2, value3, t - 2.0);\n    }\n}\n\n// Unpack a pair of values that have been packed into a single float.\n// The packed values are assumed to be 8-bit unsigned integers, and are\n// packed like so:\n// packedValue = floor(input[0]) * 256 + input[1],\nvec2 unpack_float(const float packedValue) {\n    int packedIntValue = int(packedValue);\n    int v0 = packedIntValue / 256;\n    return vec2(v0, packedIntValue - v0 * 256);\n}\n\n\n// To minimize the number of attributes needed in the mapbox-gl-native shaders,\n// we encode a 4-component color into a pair of floats (i.e. a vec2) as follows:\n// [ floor(color.r * 255) * 256 + color.g * 255,\n//   floor(color.b * 255) * 256 + color.g * 255 ]\nvec4 decode_color(const vec2 encodedColor) {\n    return vec4(\n        unpack_float(encodedColor[0]) / 255.0,\n        unpack_float(encodedColor[1]) / 255.0\n    );\n}\n\n// Unpack a pair of paint values and interpolate between them.\nfloat unpack_mix_vec2(const vec2 packedValue, const float t) {\n    return mix(packedValue[0], packedValue[1], t);\n}\n\n// Unpack a pair of paint values and interpolate between them.\nvec4 unpack_mix_vec4(const vec4 packedColors, const float t) {\n    vec4 minColor = decode_color(vec2(packedColors[0], packedColors[1]));\n    vec4 maxColor = decode_color(vec2(packedColors[2], packedColors[3]));\n    return mix(minColor, maxColor, t);\n}\n\n// The offset depends on how many pixels are between the world origin and the edge of the tile:\n// vec2 offset = mod(pixel_coord, size)\n//\n// At high zoom levels there are a ton of pixels between the world origin and the edge of the tile.\n// The glsl spec only guarantees 16 bits of precision for highp floats. We need more than that.\n//\n// The pixel_coord is passed in as two 16 bit values:\n// pixel_coord_upper = floor(pixel_coord / 2^16)\n// pixel_coord_lower = mod(pixel_coord, 2^16)\n//\n// The offset is calculated in a series of steps that should preserve this precision:\nvec2 get_pattern_pos(const vec2 pixel_coord_upper, const vec2 pixel_coord_lower,\n    const vec2 pattern_size, const float tile_units_to_pixels, const vec2 pos) {\n\n    vec2 offset = mod(mod(mod(pixel_coord_upper, pattern_size) * 256.0, pattern_size) * 256.0 + pixel_coord_lower, pattern_size);\n    return (tile_units_to_pixels * pos + offset) / pattern_size;\n}\n"},circle:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    float extrude_length = length(v_extrude);\n    float antialiased_blur = -max(blur, v_antialiasblur);\n\n    float opacity_t = smoothstep(0.0, antialiased_blur, extrude_length - 1.0);\n\n    float color_t = stroke_width < 0.01 ? 0.0 : smoothstep(\n        antialiased_blur,\n        0.0,\n        extrude_length - radius / (radius + stroke_width)\n    );\n\n    gl_FragColor = opacity_t * mix(color * opacity, stroke_color * stroke_opacity, color_t);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform bool u_scale_with_map;\nuniform vec2 u_extrude_scale;\n\nattribute vec2 a_pos;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define mediump float radius\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define highp vec4 stroke_color\n#pragma mapbox: define mediump float stroke_width\n#pragma mapbox: define lowp float stroke_opacity\n\nvarying vec2 v_extrude;\nvarying lowp float v_antialiasblur;\n\nvoid main(void) {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize mediump float radius\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize highp vec4 stroke_color\n    #pragma mapbox: initialize mediump float stroke_width\n    #pragma mapbox: initialize lowp float stroke_opacity\n\n    // unencode the extrusion vector that we snuck into the a_pos vector\n    v_extrude = vec2(mod(a_pos, 2.0) * 2.0 - 1.0);\n\n    vec2 extrude = v_extrude * (radius + stroke_width) * u_extrude_scale;\n    // multiply a_pos by 0.5, since we had it * 2 in order to sneak\n    // in extrusion data\n    gl_Position = u_matrix * vec4(floor(a_pos * 0.5), 0, 1);\n\n    if (u_scale_with_map) {\n        gl_Position.xy += extrude;\n    } else {\n        gl_Position.xy += extrude * gl_Position.w;\n    }\n\n    // This is a minimum blur distance that serves as a faux-antialiasing for\n    // the circle. since blur is a ratio of the circle's size and the intent is\n    // to keep the blur at roughly 1px, the two are inversely related.\n    v_antialiasblur = 1.0 / DEVICE_PIXEL_RATIO / (radius + stroke_width);\n}\n"},collisionBox:{fragmentSource:"uniform float u_zoom;\nuniform float u_maxzoom;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n\n    float alpha = 0.5;\n\n    gl_FragColor = vec4(0.0, 1.0, 0.0, 1.0) * alpha;\n\n    if (v_placement_zoom > u_zoom) {\n        gl_FragColor = vec4(1.0, 0.0, 0.0, 1.0) * alpha;\n    }\n\n    if (u_zoom >= v_max_zoom) {\n        gl_FragColor = vec4(0.0, 0.0, 0.0, 1.0) * alpha * 0.25;\n    }\n\n    if (v_placement_zoom >= u_maxzoom) {\n        gl_FragColor = vec4(0.0, 0.0, 1.0, 1.0) * alpha * 0.2;\n    }\n}\n",vertexSource:"attribute vec2 a_pos;\nattribute vec2 a_extrude;\nattribute vec2 a_data;\n\nuniform mat4 u_matrix;\nuniform float u_scale;\n\nvarying float v_max_zoom;\nvarying float v_placement_zoom;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos + a_extrude / u_scale, 0.0, 1.0);\n\n    v_max_zoom = a_data.x;\n    v_placement_zoom = a_data.y;\n}\n"},debug:{fragmentSource:"uniform highp vec4 u_color;\n\nvoid main() {\n    gl_FragColor = u_color;\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, step(32767.0, a_pos.x), 1);\n}\n"},fill:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_FragColor = color * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n}\n"},fillOutline:{fragmentSource:"#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_pos;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n    gl_FragColor = outline_color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"attribute vec2 a_pos;\n\nuniform mat4 u_matrix;\nuniform vec2 u_world;\n\nvarying vec2 v_pos;\n\n#pragma mapbox: define highp vec4 outline_color\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 outline_color\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillOutlinePattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    // find distance to outline for alpha interpolation\n\n    float dist = length(v_pos - gl_FragCoord.xy);\n    float alpha = 1.0 - smoothstep(0.0, 1.0, dist);\n\n\n    gl_FragColor = mix(color1, color2, u_mix) * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec2 v_pos;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n\n    v_pos = (gl_Position.xy / gl_Position.w + 1.0) / 2.0 * u_world;\n}\n"},fillPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    gl_FragColor = mix(color1, color2, u_mix) * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\n\nattribute vec2 a_pos;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\n\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, a_pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, a_pos);\n}\n"},fillExtrusion:{fragmentSource:"varying vec4 v_color;\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    gl_FragColor = v_color;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec4 v_color;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\n#pragma mapbox: define highp vec4 color\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n    #pragma mapbox: initialize highp vec4 color\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float ed = a_edgedistance; // use each attrib in order to not trip a VAO assert\n    float t = mod(a_normal.x, 2.0);\n\n    gl_Position = u_matrix * vec4(a_pos, t > 0.0 ? height : base, 1);\n\n    // Relative luminance (how dark/bright is the surface color?)\n    float colorvalue = color.r * 0.2126 + color.g * 0.7152 + color.b * 0.0722;\n\n    v_color = vec4(0.0, 0.0, 0.0, 1.0);\n\n    // Add slight ambient lighting so no extrusions are totally black\n    vec4 ambientlight = vec4(0.03, 0.03, 0.03, 1.0);\n    color += ambientlight;\n\n    // Calculate cos(theta), where theta is the angle between surface normal and diffuse light ray\n    float directional = clamp(dot(a_normal / 16384.0, u_lightpos), 0.0, 1.0);\n\n    // Adjust directional so that\n    // the range of values for highlight/shading is narrower\n    // with lower light intensity\n    // and with lighter/brighter surface colors\n    directional = mix((1.0 - u_lightintensity), max((1.0 - colorvalue + u_lightintensity), 1.0), directional);\n\n    // Add gradient along z axis of side surfaces\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    // Assign final color based on surface + ambient light color, diffuse light directional, and light color\n    // with lower bounds adjusted to hue of light\n    // so that shading is tinted with the complementary (opposite) color to the light color\n    v_color.r += clamp(color.r * directional * u_lightcolor.r, mix(0.0, 0.3, 1.0 - u_lightcolor.r), 1.0);\n    v_color.g += clamp(color.g * directional * u_lightcolor.g, mix(0.0, 0.3, 1.0 - u_lightcolor.g), 1.0);\n    v_color.b += clamp(color.b * directional * u_lightcolor.b, mix(0.0, 0.3, 1.0 - u_lightcolor.b), 1.0);\n}\n"},fillExtrusionPattern:{fragmentSource:"uniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_mix;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    vec2 imagecoord = mod(v_pos_a, 1.0);\n    vec2 pos = mix(u_pattern_tl_a, u_pattern_br_a, imagecoord);\n    vec4 color1 = texture2D(u_image, pos);\n\n    vec2 imagecoord_b = mod(v_pos_b, 1.0);\n    vec2 pos2 = mix(u_pattern_tl_b, u_pattern_br_b, imagecoord_b);\n    vec4 color2 = texture2D(u_image, pos2);\n\n    vec4 mixedColor = mix(color1, color2, u_mix);\n\n    gl_FragColor = mixedColor * v_lighting;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pixel_coord_upper;\nuniform vec2 u_pixel_coord_lower;\nuniform float u_scale_a;\nuniform float u_scale_b;\nuniform float u_tile_units_to_pixels;\nuniform float u_height_factor;\n\nuniform vec3 u_lightcolor;\nuniform lowp vec3 u_lightpos;\nuniform lowp float u_lightintensity;\n\nattribute vec2 a_pos;\nattribute vec3 a_normal;\nattribute float a_edgedistance;\n\nvarying vec2 v_pos_a;\nvarying vec2 v_pos_b;\nvarying vec4 v_lighting;\nvarying float v_directional;\n\n#pragma mapbox: define lowp float base\n#pragma mapbox: define lowp float height\n\nvoid main() {\n    #pragma mapbox: initialize lowp float base\n    #pragma mapbox: initialize lowp float height\n\n    base = max(0.0, base);\n    height = max(0.0, height);\n\n    float t = mod(a_normal.x, 2.0);\n    float z = t > 0.0 ? height : base;\n\n    gl_Position = u_matrix * vec4(a_pos, z, 1);\n\n    vec2 pos = a_normal.x == 1.0 && a_normal.y == 0.0 && a_normal.z == 16384.0\n        ? a_pos // extrusion top\n        : vec2(a_edgedistance, z * u_height_factor); // extrusion side\n\n    v_pos_a = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_a * u_pattern_size_a, u_tile_units_to_pixels, pos);\n    v_pos_b = get_pattern_pos(u_pixel_coord_upper, u_pixel_coord_lower, u_scale_b * u_pattern_size_b, u_tile_units_to_pixels, pos);\n\n    v_lighting = vec4(0.0, 0.0, 0.0, 1.0);\n    float directional = clamp(dot(a_normal / 16383.0, u_lightpos), 0.0, 1.0);\n    directional = mix((1.0 - u_lightintensity), max((0.5 + u_lightintensity), 1.0), directional);\n\n    if (a_normal.y != 0.0) {\n        directional *= clamp((t + base) * pow(height / 150.0, 0.5), mix(0.7, 0.98, 1.0 - u_lightintensity), 1.0);\n    }\n\n    v_lighting.rgb += clamp(directional * u_lightcolor, mix(vec3(0.0), vec3(0.3), 1.0 - u_lightcolor), vec3(1.0));\n}\n"},extrusionTexture:{fragmentSource:"uniform sampler2D u_image;\nuniform float u_opacity;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_FragColor = texture2D(u_image, v_pos) * u_opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(0.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_world;\nattribute vec2 a_pos;\nvarying vec2 v_pos;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos * u_world, 0, 1);\n\n    v_pos.x = a_pos.x;\n    v_pos.y = 1.0 - a_pos.y;\n}\n"},line:{fragmentSource:"#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_width2;\nvarying vec2 v_normal;\nvarying float v_gamma_scale;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\n// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_width;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_width2 = vec2(outset, inset);\n}\n"},linePattern:{fragmentSource:"uniform vec2 u_pattern_size_a;\nuniform vec2 u_pattern_size_b;\nuniform vec2 u_pattern_tl_a;\nuniform vec2 u_pattern_br_a;\nuniform vec2 u_pattern_tl_b;\nuniform vec2 u_pattern_br_b;\nuniform float u_fade;\n\nuniform sampler2D u_image;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float x_a = mod(v_linesofar / u_pattern_size_a.x, 1.0);\n    float x_b = mod(v_linesofar / u_pattern_size_b.x, 1.0);\n    float y_a = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_a.y);\n    float y_b = 0.5 + (v_normal.y * v_width2.s / u_pattern_size_b.y);\n    vec2 pos_a = mix(u_pattern_tl_a, u_pattern_br_a, vec2(x_a, y_a));\n    vec2 pos_b = mix(u_pattern_tl_b, u_pattern_br_b, vec2(x_b, y_b));\n\n    vec4 color = mix(texture2D(u_image, pos_a), texture2D(u_image, pos_b), u_fade);\n\n    gl_FragColor = color * alpha * opacity;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform mediump float u_width;\nuniform vec2 u_gl_units_to_pixels;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying float v_linesofar;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float offset\n#pragma mapbox: define mediump float gapwidth\n\nvoid main() {\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float offset\n    #pragma mapbox: initialize mediump float gapwidth\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset; \n\n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist = outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_linesofar = a_linesofar;\n    v_width2 = vec2(outset, inset);\n}\n"},lineSDF:{fragmentSource:"\nuniform sampler2D u_image;\nuniform float u_sdfgamma;\nuniform float u_mix;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n\n    // Calculate the distance of the pixel from the line in pixels.\n    float dist = length(v_normal) * v_width2.s;\n\n    // Calculate the antialiasing fade factor. This is either when fading in\n    // the line in case of an offset line (v_width2.t) or when fading out\n    // (v_width2.s)\n    float blur2 = (blur + 1.0 / DEVICE_PIXEL_RATIO) * v_gamma_scale;\n    float alpha = clamp(min(dist - (v_width2.t - blur2), v_width2.s - dist) / blur2, 0.0, 1.0);\n\n    float sdfdist_a = texture2D(u_image, v_tex_a).a;\n    float sdfdist_b = texture2D(u_image, v_tex_b).a;\n    float sdfdist = mix(sdfdist_a, sdfdist_b, u_mix);\n    alpha *= smoothstep(0.5 - u_sdfgamma, 0.5 + u_sdfgamma, sdfdist);\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"// floor(127 / 2) == 63.0\n// the maximum allowed miter limit is 2.0 at the moment. the extrude normal is\n// stored in a byte (-128..127). we scale regular normals up to length 63, but\n// there are also \"special\" normals that have a bigger length (of up to 126 in\n// this case).\n// #define scale 63.0\n#define scale 0.015873016\n\n// We scale the distance before adding it to the buffers so that we can store\n// long distances for long segments. Use this value to unscale the distance.\n#define LINE_DISTANCE_SCALE 2.0\n\n// the distance over which the line edge fades out.\n// Retina devices need a smaller distance to avoid aliasing.\n#define ANTIALIASING 1.0 / DEVICE_PIXEL_RATIO / 2.0\n\nattribute vec2 a_pos;\nattribute vec4 a_data;\n\nuniform mat4 u_matrix;\nuniform mediump float u_ratio;\nuniform vec2 u_patternscale_a;\nuniform float u_tex_y_a;\nuniform vec2 u_patternscale_b;\nuniform float u_tex_y_b;\nuniform vec2 u_gl_units_to_pixels;\nuniform mediump float u_width;\n\nvarying vec2 v_normal;\nvarying vec2 v_width2;\nvarying vec2 v_tex_a;\nvarying vec2 v_tex_b;\nvarying float v_gamma_scale;\n\n#pragma mapbox: define highp vec4 color\n#pragma mapbox: define lowp float blur\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define mediump float gapwidth\n#pragma mapbox: define lowp float offset\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 color\n    #pragma mapbox: initialize lowp float blur\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize mediump float gapwidth\n    #pragma mapbox: initialize lowp float offset\n\n    vec2 a_extrude = a_data.xy - 128.0;\n    float a_direction = mod(a_data.z, 4.0) - 1.0;\n    float a_linesofar = (floor(a_data.z / 4.0) + a_data.w * 64.0) * LINE_DISTANCE_SCALE;\n\n    // We store the texture normals in the most insignificant bit\n    // transform y so that 0 => -1 and 1 => 1\n    // In the texture normal, x is 0 if the normal points straight up/down and 1 if it's a round cap\n    // y is 1 if the normal points up, and -1 if it points down\n    mediump vec2 normal = mod(a_pos, 2.0);\n    normal.y = sign(normal.y - 0.5);\n    v_normal = normal;\n\n    // these transformations used to be applied in the JS and native code bases. \n    // moved them into the shader for clarity and simplicity. \n    gapwidth = gapwidth / 2.0;\n    float width = u_width / 2.0;\n    offset = -1.0 * offset;\n \n    float inset = gapwidth + (gapwidth > 0.0 ? ANTIALIASING : 0.0);\n    float outset = gapwidth + width * (gapwidth > 0.0 ? 2.0 : 1.0) + ANTIALIASING;\n\n    // Scale the extrusion vector down to a normal and then up by the line width\n    // of this vertex.\n    mediump vec2 dist =outset * a_extrude * scale;\n\n    // Calculate the offset when drawing a line that is to the side of the actual line.\n    // We do this by creating a vector that points towards the extrude, but rotate\n    // it when we're drawing round end points (a_direction = -1 or 1) since their\n    // extrude vector points in another direction.\n    mediump float u = 0.5 * a_direction;\n    mediump float t = 1.0 - abs(u);\n    mediump vec2 offset2 = offset * a_extrude * scale * normal.y * mat2(t, -u, u, t);\n\n    // Remove the texture normal bit to get the position\n    vec2 pos = floor(a_pos * 0.5);\n\n    vec4 projected_extrude = u_matrix * vec4(dist / u_ratio, 0.0, 0.0);\n    gl_Position = u_matrix * vec4(pos + offset2 / u_ratio, 0.0, 1.0) + projected_extrude;\n\n    // calculate how much the perspective view squishes or stretches the extrude\n    float extrude_length_without_perspective = length(dist);\n    float extrude_length_with_perspective = length(projected_extrude.xy / gl_Position.w * u_gl_units_to_pixels);\n    v_gamma_scale = extrude_length_without_perspective / extrude_length_with_perspective;\n\n    v_tex_a = vec2(a_linesofar * u_patternscale_a.x, normal.y * u_patternscale_a.y + u_tex_y_a);\n    v_tex_b = vec2(a_linesofar * u_patternscale_b.x, normal.y * u_patternscale_b.y + u_tex_y_b);\n\n    v_width2 = vec2(outset, inset);\n}\n"},raster:{fragmentSource:"uniform float u_fade_t;\nuniform float u_opacity;\nuniform sampler2D u_image0;\nuniform sampler2D u_image1;\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nuniform float u_brightness_low;\nuniform float u_brightness_high;\n\nuniform float u_saturation_factor;\nuniform float u_contrast_factor;\nuniform vec3 u_spin_weights;\n\nvoid main() {\n\n    // read and cross-fade colors from the main and parent tiles\n    vec4 color0 = texture2D(u_image0, v_pos0);\n    vec4 color1 = texture2D(u_image1, v_pos1);\n    vec4 color = mix(color0, color1, u_fade_t);\n    color.a *= u_opacity;\n    vec3 rgb = color.rgb;\n\n    // spin\n    rgb = vec3(\n        dot(rgb, u_spin_weights.xyz),\n        dot(rgb, u_spin_weights.zxy),\n        dot(rgb, u_spin_weights.yzx));\n\n    // saturation\n    float average = (color.r + color.g + color.b) / 3.0;\n    rgb += (average - rgb) * u_saturation_factor;\n\n    // contrast\n    rgb = (rgb - 0.5) * u_contrast_factor + 0.5;\n\n    // brightness\n    vec3 u_high_vec = vec3(u_brightness_low, u_brightness_low, u_brightness_low);\n    vec3 u_low_vec = vec3(u_brightness_high, u_brightness_high, u_brightness_high);\n\n    gl_FragColor = vec4(mix(u_high_vec, u_low_vec, rgb) * color.a, color.a);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"uniform mat4 u_matrix;\nuniform vec2 u_tl_parent;\nuniform float u_scale_parent;\nuniform float u_buffer_scale;\n\nattribute vec2 a_pos;\nattribute vec2 a_texture_pos;\n\nvarying vec2 v_pos0;\nvarying vec2 v_pos1;\n\nvoid main() {\n    gl_Position = u_matrix * vec4(a_pos, 0, 1);\n    v_pos0 = (((a_texture_pos / 32767.0) - 0.5) / u_buffer_scale ) + 0.5;\n    v_pos1 = (v_pos0 * u_scale_parent) + u_tl_parent;\n}\n"},symbolIcon:{fragmentSource:"uniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\n\n#pragma mapbox: define lowp float opacity\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    lowp float alpha = texture2D(u_fadetexture, v_fade_tex).a * opacity;\n    gl_FragColor = texture2D(u_texture, v_tex) * alpha;\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:'\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\n\n// icon-size data (see symbol_sdf.vertex.glsl for more)\nattribute vec3 a_size;\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform mediump float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform mediump float u_size; // used when size is both zoom and feature constant\nuniform mediump float u_layout_size; // used when size is feature constant\n\n#pragma mapbox: define lowp float opacity\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform bool u_is_text;\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\n\nvoid main() {\n    #pragma mapbox: initialize lowp float opacity\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n    mediump vec2 label_data = unpack_float(a_data[2]);\n    mediump float a_labelminzoom = label_data[0];\n    mediump vec2 a_zoom = unpack_float(a_data[3]);\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    float size;\n    // In order to accommodate placing labels around corners in\n    // symbol-placement: line, each glyph in a label could have multiple\n    // "quad"s only one of which should be shown at a given zoom level.\n    // The min/max zoom assigned to each quad is based on the font size at\n    // the vector tile\'s zoom level, which might be different than at the\n    // currently rendered zoom level if text-size is zoom-dependent.\n    // Thus, we compensate for this difference by calculating an adjustment\n    // based on the scale of rendered text size relative to layout text size.\n    mediump float layoutSize;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n        layoutSize = a_size[2] / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        size = a_size[0] / 10.0;\n        layoutSize = size;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        size = u_size;\n        layoutSize = u_layout_size;\n    } else {\n        size = u_size;\n        layoutSize = u_size;\n    }\n\n    float fontScale = u_is_text ? size / 24.0 : size;\n\n    mediump float zoomAdjust = log2(size / layoutSize);\n    mediump float adjustedZoom = (u_zoom - zoomAdjust) * 10.0;\n    // result: z = 0 if a_minzoom <= adjustedZoom < a_maxzoom, and 1 otherwise\n    mediump float z = 2.0 - step(a_minzoom, adjustedZoom) - (1.0 - step(a_maxzoom, adjustedZoom));\n\n    vec2 extrude = fontScale * u_extrude_scale * (a_offset / 64.0);\n    if (u_rotate_with_map) {\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    } else {\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n'},symbolSDF:{fragmentSource:"#define SDF_PX 8.0\n#define EDGE_GAMMA 0.105/DEVICE_PIXEL_RATIO\n\nuniform bool u_is_halo;\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\nuniform sampler2D u_texture;\nuniform sampler2D u_fadetexture;\nuniform highp float u_gamma_scale;\nuniform bool u_is_text;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\nvarying float v_size;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    float fontScale = u_is_text ? v_size / 24.0 : v_size;\n\n    lowp vec4 color = fill_color;\n    highp float gamma = EDGE_GAMMA / (fontScale * u_gamma_scale);\n    lowp float buff = (256.0 - 64.0) / 256.0;\n    if (u_is_halo) {\n        color = halo_color;\n        gamma = (halo_blur * 1.19 / SDF_PX + EDGE_GAMMA) / (fontScale * u_gamma_scale);\n        buff = (6.0 - halo_width / fontScale) / SDF_PX;\n    }\n\n    lowp float dist = texture2D(u_texture, v_tex).a;\n    lowp float fade_alpha = texture2D(u_fadetexture, v_fade_tex).a;\n    highp float gamma_scaled = gamma * v_gamma_scale;\n    highp float alpha = smoothstep(buff - gamma_scaled, buff + gamma_scaled, dist) * fade_alpha;\n\n    gl_FragColor = color * (alpha * opacity);\n\n#ifdef OVERDRAW_INSPECTOR\n    gl_FragColor = vec4(1.0);\n#endif\n}\n",vertexSource:"const float PI = 3.141592653589793;\n\nattribute vec4 a_pos_offset;\nattribute vec4 a_data;\n\n// contents of a_size vary based on the type of property value\n// used for {text,icon}-size.\n// For constants, a_size is disabled.\n// For source functions, we bind only one value per vertex: the value of {text,icon}-size evaluated for the current feature.\n// For composite functions:\n// [ text-size(lowerZoomStop, feature),\n//   text-size(upperZoomStop, feature),\n//   layoutSize == text-size(layoutZoomLevel, feature) ]\nattribute vec3 a_size;\nuniform bool u_is_size_zoom_constant;\nuniform bool u_is_size_feature_constant;\nuniform mediump float u_size_t; // used to interpolate between zoom stops when size is a composite function\nuniform mediump float u_size; // used when size is both zoom and feature constant\nuniform mediump float u_layout_size; // used when size is feature constant\n\n#pragma mapbox: define highp vec4 fill_color\n#pragma mapbox: define highp vec4 halo_color\n#pragma mapbox: define lowp float opacity\n#pragma mapbox: define lowp float halo_width\n#pragma mapbox: define lowp float halo_blur\n\n// matrix is for the vertex position.\nuniform mat4 u_matrix;\n\nuniform bool u_is_text;\nuniform mediump float u_zoom;\nuniform bool u_rotate_with_map;\nuniform bool u_pitch_with_map;\nuniform mediump float u_pitch;\nuniform mediump float u_bearing;\nuniform mediump float u_aspect_ratio;\nuniform vec2 u_extrude_scale;\n\nuniform vec2 u_texsize;\n\nvarying vec2 v_tex;\nvarying vec2 v_fade_tex;\nvarying float v_gamma_scale;\nvarying float v_size;\n\nvoid main() {\n    #pragma mapbox: initialize highp vec4 fill_color\n    #pragma mapbox: initialize highp vec4 halo_color\n    #pragma mapbox: initialize lowp float opacity\n    #pragma mapbox: initialize lowp float halo_width\n    #pragma mapbox: initialize lowp float halo_blur\n\n    vec2 a_pos = a_pos_offset.xy;\n    vec2 a_offset = a_pos_offset.zw;\n\n    vec2 a_tex = a_data.xy;\n\n    mediump vec2 label_data = unpack_float(a_data[2]);\n    mediump float a_labelminzoom = label_data[0];\n    mediump float a_labelangle = label_data[1];\n\n    mediump vec2 a_zoom = unpack_float(a_data[3]);\n    mediump float a_minzoom = a_zoom[0];\n    mediump float a_maxzoom = a_zoom[1];\n\n    // In order to accommodate placing labels around corners in\n    // symbol-placement: line, each glyph in a label could have multiple\n    // \"quad\"s only one of which should be shown at a given zoom level.\n    // The min/max zoom assigned to each quad is based on the font size at\n    // the vector tile's zoom level, which might be different than at the\n    // currently rendered zoom level if text-size is zoom-dependent.\n    // Thus, we compensate for this difference by calculating an adjustment\n    // based on the scale of rendered text size relative to layout text size.\n    mediump float layoutSize;\n    if (!u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        v_size = mix(a_size[0], a_size[1], u_size_t) / 10.0;\n        layoutSize = a_size[2] / 10.0;\n    } else if (u_is_size_zoom_constant && !u_is_size_feature_constant) {\n        v_size = a_size[0] / 10.0;\n        layoutSize = v_size;\n    } else if (!u_is_size_zoom_constant && u_is_size_feature_constant) {\n        v_size = u_size;\n        layoutSize = u_layout_size;\n    } else {\n        v_size = u_size;\n        layoutSize = u_size;\n    }\n\n    float fontScale = u_is_text ? v_size / 24.0 : v_size;\n\n    mediump float zoomAdjust = log2(v_size / layoutSize);\n    mediump float adjustedZoom = (u_zoom - zoomAdjust) * 10.0;\n    // result: z = 0 if a_minzoom <= adjustedZoom < a_maxzoom, and 1 otherwise\n    // Used below to move the vertex out of the clip space for when the current\n    // zoom is out of the glyph's zoom range.\n    mediump float z = 2.0 - step(a_minzoom, adjustedZoom) - (1.0 - step(a_maxzoom, adjustedZoom));\n\n    // pitch-alignment: map\n    // rotation-alignment: map | viewport\n    if (u_pitch_with_map) {\n        lowp float angle = u_rotate_with_map ? (a_labelangle / 256.0 * 2.0 * PI) : u_bearing;\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, asin, -1.0 * asin, acos);\n        vec2 offset = RotationMatrix * a_offset;\n        vec2 extrude = fontScale * u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos + extrude, 0, 1);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: map\n    } else if (u_rotate_with_map) {\n        // foreshortening factor to apply on pitched maps\n        // as a label goes from horizontal <=> vertical in angle\n        // it goes from 0% foreshortening to up to around 70% foreshortening\n        lowp float pitchfactor = 1.0 - cos(u_pitch * sin(u_pitch * 0.75));\n\n        lowp float lineangle = a_labelangle / 256.0 * 2.0 * PI;\n\n        // use the lineangle to position points a,b along the line\n        // project the points and calculate the label angle in projected space\n        // this calculation allows labels to be rendered unskewed on pitched maps\n        vec4 a = u_matrix * vec4(a_pos, 0, 1);\n        vec4 b = u_matrix * vec4(a_pos + vec2(cos(lineangle),sin(lineangle)), 0, 1);\n        lowp float angle = atan((b[1]/b[3] - a[1]/a[3])/u_aspect_ratio, b[0]/b[3] - a[0]/a[3]);\n        lowp float asin = sin(angle);\n        lowp float acos = cos(angle);\n        mat2 RotationMatrix = mat2(acos, -1.0 * asin, asin, acos);\n\n        vec2 offset = RotationMatrix * (vec2((1.0-pitchfactor)+(pitchfactor*cos(angle*2.0)), 1.0) * a_offset);\n        vec2 extrude = fontScale * u_extrude_scale * (offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n        gl_Position.z += z * gl_Position.w;\n    // pitch-alignment: viewport\n    // rotation-alignment: viewport\n    } else {\n        vec2 extrude = fontScale * u_extrude_scale * (a_offset / 64.0);\n        gl_Position = u_matrix * vec4(a_pos, 0, 1) + vec4(extrude, 0, 0);\n    }\n\n    v_gamma_scale = gl_Position.w;\n\n    v_tex = a_tex / u_texsize;\n    v_fade_tex = vec2(a_labelminzoom / 255.0, 0.0);\n}\n"}}},{path:23}],80:[function(t,e,n){"use strict";var i=function(){this.boundProgram=null,this.boundVertexBuffer=null,this.boundVertexBuffer2=null,this.boundElementBuffer=null,this.boundVertexOffset=null,this.vao=null};i.prototype.bind=function(t,e,n,i,r,o){void 0===t.extVertexArrayObject&&(t.extVertexArrayObject=t.getExtension("OES_vertex_array_object"));var s=!this.vao||this.boundProgram!==e||this.boundVertexBuffer!==n||this.boundVertexBuffer2!==r||this.boundElementBuffer!==i||this.boundVertexOffset!==o;!t.extVertexArrayObject||s?(this.freshBind(t,e,n,i,r,o),this.gl=t):t.extVertexArrayObject.bindVertexArrayOES(this.vao)},i.prototype.freshBind=function(t,e,n,i,r,o){var s,a=e.numAttributes;if(t.extVertexArrayObject)this.vao&&this.destroy(),this.vao=t.extVertexArrayObject.createVertexArrayOES(),t.extVertexArrayObject.bindVertexArrayOES(this.vao),s=0,this.boundProgram=e,this.boundVertexBuffer=n,this.boundVertexBuffer2=r,this.boundElementBuffer=i,this.boundVertexOffset=o;else{s=t.currentNumAttributes||0;for(var u=a;u<s;u++)t.disableVertexAttribArray(u)}n.enableAttributes(t,e),r&&r.enableAttributes(t,e),n.bind(t),n.setVertexAttribPointers(t,e,o),r&&(r.bind(t),r.setVertexAttribPointers(t,e,o)),i&&i.bind(t),t.currentNumAttributes=a},i.prototype.destroy=function(){this.vao&&(this.gl.extVertexArrayObject.deleteVertexArrayOES(this.vao),this.vao=null)},e.exports=i},{}],81:[function(t,e,n){"use strict";var i=t("../util/util");n.packUint8ToFloat=function(t,e){return t=i.clamp(Math.floor(t),0,255),e=i.clamp(Math.floor(e),0,255),256*t+e}},{"../util/util":214}],82:[function(t,e,n){"use strict";var i=t("./image_source"),r=t("../util/window"),o=function(t){function e(e,n,i,r){t.call(this,e,n,i,r),this.options=n,this.animate=!n.hasOwnProperty("animate")||n.animate}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){if(this.canvas=this.canvas||r.document.getElementById(this.options.canvas),this.width=this.canvas.width,this.height=this.canvas.height,this._hasInvalidDimensions())return this.fire("error",new Error("Canvas dimensions cannot be less than or equal to zero."));var t;this.play=function(){t=this.map.style.animationLoop.set(1/0),this.map._rerender()},this.pause=function(){this.map.style.animationLoop.cancel(t)},this._finishLoading()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.onAdd=function(t){this.map||(this.map=t,this.load(),this.canvas&&this.animate&&this.play())},e.prototype.prepare=function(){var t=!1;this.canvas.width!==this.width&&(this.width=this.canvas.width,t=!0),this.canvas.height!==this.height&&(this.height=this.canvas.height,t=!0),this._hasInvalidDimensions()||this.tile&&this._prepareImage(this.map.painter.gl,this.canvas,t)},e.prototype.serialize=function(){return{type:"canvas",canvas:this.canvas,coordinates:this.coordinates}},e.prototype._hasInvalidDimensions=function(){for(var t=this,e=0,n=[t.canvas.width,t.canvas.height];e<n.length;e+=1){var i=n[e];if(isNaN(i)||i<=0)return!0}return!1},e}(i);e.exports=o},{"../util/window":197,"./image_source":86}],83:[function(t,e,n){"use strict";function i(t){var e=s.document.createElement("a");return e.href=t,e.href}var r=t("../util/evented"),o=t("../util/util"),s=t("../util/window"),a=t("../data/extent"),u=function(t){function e(e,n,i,r){t.call(this),n=n||{},this.id=e,this.type="geojson",this.minzoom=0,this.maxzoom=18,this.tileSize=512,this.isTileClipped=!0,this.reparseOverscaled=!0,this.dispatcher=i,this.setEventedParent(r),this._data=n.data,void 0!==n.maxzoom&&(this.maxzoom=n.maxzoom),n.type&&(this.type=n.type);var s=a/this.tileSize;this.workerOptions=o.extend({source:this.id,cluster:n.cluster||!1,geojsonVtOptions:{buffer:(void 0!==n.buffer?n.buffer:128)*s,tolerance:(void 0!==n.tolerance?n.tolerance:.375)*s,extent:a,maxZoom:this.maxzoom},superclusterOptions:{maxZoom:Math.min(n.clusterMaxZoom,this.maxzoom-1)||this.maxzoom-1,extent:a,radius:(n.clusterRadius||50)*s,log:!1}},n.workerOptions)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(e){return e?void t.fire("error",{error:e}):void t.fire("data",{dataType:"source",sourceDataType:"metadata"})})},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.setData=function(t){var e=this;return this._data=t,this.fire("dataloading",{dataType:"source"}),this._updateWorkerData(function(t){return t?e.fire("error",{error:t}):void e.fire("data",{dataType:"source",sourceDataType:"content"})}),this},e.prototype._updateWorkerData=function(t){var e=this,n=o.extend({},this.workerOptions),r=this._data;"string"==typeof r?n.url=i(r):n.data=JSON.stringify(r),this.workerID=this.dispatcher.send(this.type+".loadData",n,function(n){e._loaded=!0,t(n)})},e.prototype.loadTile=function(t,e){var n=this,i=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,r={type:this.type,uid:t.uid,coord:t.coord,zoom:t.coord.z,maxZoom:this.maxzoom,tileSize:this.tileSize,source:this.id,overscaling:i,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID=this.dispatcher.send("loadTile",r,function(i,r){if(t.unloadVectorData(),!t.aborted)return i?e(i):(t.loadVectorData(r,n.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(n)),e(null))},this.workerID)},e.prototype.abortTile=function(t){t.aborted=!0},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},function(){},t.workerID)},e.prototype.onRemove=function(){this.dispatcher.broadcast("removeSource",{type:this.type,source:this.id},function(){})},e.prototype.serialize=function(){return{type:this.type,data:this._data}},e}(r);e.exports=u},{"../data/extent":54,"../util/evented":203,"../util/util":214,"../util/window":197}],84:[function(t,e,n){"use strict";var i=t("../util/ajax"),r=t("geojson-rewind"),o=t("./geojson_wrapper"),s=t("vt-pbf"),a=t("supercluster"),u=t("geojson-vt"),l=t("./vector_tile_worker_source"),c=function(t){function e(e,n,i){t.call(this,e,n),i&&(this.loadGeoJSON=i),this._geoJSONIndexes={}}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.loadVectorData=function(t,e){var n=t.source,i=t.coord;if(!this._geoJSONIndexes[n])return e(null,null);var r=this._geoJSONIndexes[n].getTile(Math.min(i.z,t.maxZoom),i.x,i.y);if(!r)return e(null,null);var a=new o(r.features);a.name="_geojsonTileLayer";var u=s({layers:{_geojsonTileLayer:a}});0===u.byteOffset&&u.byteLength===u.buffer.byteLength||(u=new Uint8Array(u)),a.rawData=u.buffer,e(null,a)},e.prototype.loadData=function(t,e){var n=function(n,i){var o=this;return n?e(n):"object"!=typeof i?e(new Error("Input data is not a valid GeoJSON object.")):(r(i,!0),void this._indexData(i,t,function(n,i){return n?e(n):(o._geoJSONIndexes[t.source]=i,void e(null))}))}.bind(this);this.loadGeoJSON(t,n)},e.prototype.loadGeoJSON=function(t,e){if(t.url)i.getJSON(t.url,e);else{if("string"!=typeof t.data)return e(new Error("Input data is not a valid GeoJSON object."));try{return e(null,JSON.parse(t.data))}catch(t){return e(new Error("Input data is not a valid GeoJSON object."))}}},e.prototype.removeSource=function(t){this._geoJSONIndexes[t.source]&&delete this._geoJSONIndexes[t.source]},e.prototype._indexData=function(t,e,n){try{e.cluster?n(null,a(e.superclusterOptions).load(t.features)):n(null,u(t,e.geojsonVtOptions))}catch(t){return n(t)}},e}(l);e.exports=c},{"../util/ajax":194,"./geojson_wrapper":85,"./vector_tile_worker_source":98,"geojson-rewind":7,"geojson-vt":11,supercluster:29,"vt-pbf":38}],85:[function(t,e,n){"use strict";var i=t("point-geometry"),r=t("vector-tile").VectorTileFeature,o=t("../data/extent"),s=function(t){var e=this;if(this.type=t.type,1===t.type){this.rawGeometry=[];for(var n=0;n<t.geometry.length;n++)e.rawGeometry.push([t.geometry[n]])}else this.rawGeometry=t.geometry;this.properties=t.tags,"id"in t&&!isNaN(t.id)&&(this.id=parseInt(t.id,10)),this.extent=o};s.prototype.loadGeometry=function(){var t=this,e=this.rawGeometry;this.geometry=[];for(var n=0;n<e.length;n++){for(var r=e[n],o=[],s=0;s<r.length;s++)o.push(new i(r[s][0],r[s][1]));t.geometry.push(o)}return this.geometry},s.prototype.bbox=function(){this.geometry||this.loadGeometry();for(var t=this.geometry,e=1/0,n=-(1/0),i=1/0,r=-(1/0),o=0;o<t.length;o++)for(var s=t[o],a=0;a<s.length;a++){var u=s[a];e=Math.min(e,u.x),n=Math.max(n,u.x),i=Math.min(i,u.y),r=Math.max(r,u.y)}return[e,i,n,r]},s.prototype.toGeoJSON=function(){r.prototype.toGeoJSON.call(this)};var a=function(t){this.features=t,this.length=t.length,this.extent=o};a.prototype.feature=function(t){return new s(this.features[t])},e.exports=a},{"../data/extent":54,"point-geometry":26,"vector-tile":34}],86:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../util/window"),o=t("./tile_coord"),s=t("../geo/lng_lat"),a=t("point-geometry"),u=t("../util/evented"),l=t("../util/ajax"),c=t("../data/extent"),h=t("../data/raster_bounds_array"),f=t("../data/buffer"),p=t("../render/vertex_array_object"),d=function(t){function e(e,n,i,r){t.call(this),this.id=e,this.dispatcher=i,this.coordinates=n.coordinates,this.type="image",this.minzoom=0,this.maxzoom=22,this.tileSize=512,this.setEventedParent(r),this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),this.url=this.options.url,l.getImage(this.options.url,function(e,n){return e?t.fire("error",{error:e}):(t.image=n,void t._finishLoading())})},e.prototype._finishLoading=function(){this.map&&(this.setCoordinates(this.coordinates),this.fire("data",{dataType:"source",sourceDataType:"metadata"}))},e.prototype.onAdd=function(t){this.load(),this.map=t,this.image&&this.setCoordinates(this.coordinates)},e.prototype.setCoordinates=function(t){this.coordinates=t;var e=this.map,n=t.map(function(t){return e.transform.locationCoordinate(s.convert(t)).zoomTo(0)}),r=this.centerCoord=i.getCoordinatesCenter(n);return r.column=Math.floor(r.column),r.row=Math.floor(r.row),this.coord=new o(r.zoom,r.column,r.row),this.minzoom=this.maxzoom=r.zoom,this._tileCoords=n.map(function(t){var e=t.zoomTo(r.zoom);return new a(Math.round((e.column-r.column)*c),Math.round((e.row-r.row)*c))}),this.fire("data",{dataType:"source",sourceDataType:"content"}),this},e.prototype._setTile=function(t){this.tile=t;var e=32767,n=new h;n.emplaceBack(this._tileCoords[0].x,this._tileCoords[0].y,0,0),n.emplaceBack(this._tileCoords[1].x,this._tileCoords[1].y,e,0),n.emplaceBack(this._tileCoords[3].x,this._tileCoords[3].y,0,e),n.emplaceBack(this._tileCoords[2].x,this._tileCoords[2].y,e,e),this.tile.buckets={},this.tile.boundsBuffer=f.fromStructArray(n,f.BufferType.VERTEX),this.tile.boundsVAO=new p},e.prototype.prepare=function(){this.tile&&this.image&&this._prepareImage(this.map.painter.gl,this.image)},e.prototype._prepareImage=function(t,e,n){"loaded"!==this.tile.state?(this.tile.state="loaded",this.tile.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e)):n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,t.RGBA,t.UNSIGNED_BYTE,e):(e instanceof r.HTMLVideoElement||e instanceof r.ImageData||e instanceof r.HTMLCanvasElement)&&(t.bindTexture(t.TEXTURE_2D,this.tile.texture),t.texSubImage2D(t.TEXTURE_2D,0,0,0,t.RGBA,t.UNSIGNED_BYTE,e))},e.prototype.loadTile=function(t,e){this.coord&&this.coord.toString()===t.coord.toString()?(this._setTile(t),e(null)):(t.state="errored",e(null))},e.prototype.serialize=function(){return{type:"image",urls:this.url,coordinates:this.coordinates}},e}(u);e.exports=d},{"../data/buffer":51,"../data/extent":54,"../data/raster_bounds_array":59,"../geo/lng_lat":62,"../render/vertex_array_object":80,"../util/ajax":194,"../util/evented":203,"../util/util":214,"../util/window":197,"./tile_coord":96,"point-geometry":26}],87:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../util/ajax"),o=t("../util/browser"),s=t("../util/mapbox").normalizeSourceURL;e.exports=function(t,e){var n=function(t,n){if(t)return e(t);var r=i.pick(n,["tiles","minzoom","maxzoom","attribution","mapbox_logo","bounds"]);n.vector_layers&&(r.vectorLayers=n.vector_layers,r.vectorLayerIds=r.vectorLayers.map(function(t){return t.id})),e(null,r)};t.url?r.getJSON(s(t.url),n):o.frame(n.bind(null,null,t))}},{"../util/ajax":194,"../util/browser":195,"../util/mapbox":210,"../util/util":214}],88:[function(t,e,n){"use strict";var i=t("../data/extent");e.exports=function(t,e,n){return e*(i/(t.tileSize*Math.pow(2,n-t.coord.z)))}},{"../data/extent":54}],89:[function(t,e,n){"use strict";function i(t,e){var n=t.coord,i=e.coord;return n.z-i.z||n.y-i.y||n.w-i.w||n.x-i.x}function r(t){for(var e=t[0]||{},n=1;n<t.length;n++){var i=t[n];for(var r in i){var o=i[r],s=e[r];if(void 0===s)s=e[r]=o;else for(var a=0;a<o.length;a++)s.push(o[a])}}return e}var o=t("./tile_coord");n.rendered=function(t,e,n,o,s,a){var u=t.tilesIn(n);u.sort(i);for(var l=[],c=0;c<u.length;c++){var h=u[c];h.tile.featureIndex&&l.push(h.tile.featureIndex.query({queryGeometry:h.queryGeometry,scale:h.scale,tileSize:h.tile.tileSize,bearing:a,params:o},e))}return r(l)},n.source=function(t,e){for(var n=t.getRenderableIds().map(function(e){return t.getTileByID(e)}),i=[],r={},s=0;s<n.length;s++){var a=n[s],u=new o(Math.min(a.sourceMaxZoom,a.coord.z),a.coord.x,a.coord.y,0).id;r[u]||(r[u]=!0,a.querySourceFeatures(i,e))}return i}},{"./tile_coord":96}],90:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../util/ajax"),o=t("../util/evented"),s=t("./load_tilejson"),a=t("../util/mapbox").normalizeTileURL,u=t("./tile_bounds"),l=function(t){function e(e,n,r,o){t.call(this),this.id=e,this.dispatcher=r,this.setEventedParent(o),this.type="raster",this.minzoom=0,this.maxzoom=22,this.roundZoom=!0,this.scheme="xyz",this.tileSize=512,this._loaded=!1,this.options=n,i.extend(this,i.pick(n,["url","scheme","tileSize"]))}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),s(this.options,function(e,n){return e?t.fire("error",e):(i.extend(t,n),t.setBounds(n.bounds),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),void t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.setBounds=function(t){this.bounds=t,t&&(this.tileBounds=new u(t,this.minzoom,this.maxzoom))},e.prototype.serialize=function(){return{type:"raster",url:this.url,tileSize:this.tileSize,tiles:this.tiles,bounds:this.bounds}},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},e.prototype.loadTile=function(t,e){function n(n,i){if(delete t.request,t.aborted)return this.state="unloaded",e(null);if(n)return this.state="errored",e(n);this.map._refreshExpiredTiles&&t.setExpiryData(i),delete i.cacheControl,delete i.expires;var r=this.map.painter.gl;t.texture=this.map.painter.getTileTexture(i.width),t.texture?(r.bindTexture(r.TEXTURE_2D,t.texture),r.texSubImage2D(r.TEXTURE_2D,0,0,0,r.RGBA,r.UNSIGNED_BYTE,i)):(t.texture=r.createTexture(),r.bindTexture(r.TEXTURE_2D,t.texture),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MIN_FILTER,r.LINEAR_MIPMAP_NEAREST),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_MAG_FILTER,r.LINEAR),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_S,r.CLAMP_TO_EDGE),r.texParameteri(r.TEXTURE_2D,r.TEXTURE_WRAP_T,r.CLAMP_TO_EDGE),this.map.painter.extTextureFilterAnisotropic&&r.texParameterf(r.TEXTURE_2D,this.map.painter.extTextureFilterAnisotropic.TEXTURE_MAX_ANISOTROPY_EXT,this.map.painter.extTextureFilterAnisotropicMax),r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,i),t.texture.size=i.width),r.generateMipmap(r.TEXTURE_2D),t.state="loaded",e(null)}var i=a(t.coord.url(this.tiles,null,this.scheme),this.url,this.tileSize);t.request=r.getImage(i,n.bind(this))},e.prototype.abortTile=function(t){t.request&&(t.request.abort(),delete t.request)},e.prototype.unloadTile=function(t){t.texture&&this.map.painter.saveTileTexture(t.texture)},e}(o);e.exports=l},{"../util/ajax":194,"../util/evented":203,"../util/mapbox":210,"../util/util":214,"./load_tilejson":87,"./tile_bounds":95}],91:[function(t,e,n){"use strict";var i=t("../util/ajax"),r=t("../util/evented"),o=t("../util/window"),s=!1,a=null;e.exports.evented=new r,e.exports.registerForPluginAvailability=function(t){return a?t(a,e.exports.errorCallback):e.exports.evented.once("pluginAvailable",t),t},e.exports.setRTLTextPlugin=function(t,n){if(s)throw new Error("setRTLTextPlugin cannot be called multiple times.");s=!0,e.exports.errorCallback=n,i.getArrayBuffer(t,function(t,i){t?n(t):(a=o.URL.createObjectURL(new o.Blob([i.data]),{type:"text/javascript"}),e.exports.evented.fire("pluginAvailable",{pluginBlobURL:a,errorCallback:n}))})}},{"../util/ajax":194,"../util/evented":203,"../util/window":197}],92:[function(t,e,n){"use strict";var i=t("../util/util"),r={vector:t("../source/vector_tile_source"),raster:t("../source/raster_tile_source"),geojson:t("../source/geojson_source"),video:t("../source/video_source"),image:t("../source/image_source"),canvas:t("../source/canvas_source")};n.create=function(t,e,n,o){if(e=new r[e.type](t,e,n,o),e.id!==t)throw new Error("Expected Source id to be "+t+" instead of "+e.id);return i.bindAll(["load","abort","unload","serialize","prepare"],e),e},n.getType=function(t){return r[t]},n.setType=function(t,e){r[t]=e}},{"../source/canvas_source":82,"../source/geojson_source":83,"../source/image_source":86,"../source/raster_tile_source":90,"../source/vector_tile_source":97,"../source/video_source":99,"../util/util":214}],93:[function(t,e,n){"use strict";function i(t,e,n){var i=n.zoomTo(Math.min(t.z,e));return{x:(i.column-(t.x+t.w*Math.pow(2,t.z)))*p,y:(i.row-t.y)*p}}function r(t,e){return t%32-e%32}function o(t){return"raster"===t||"image"===t||"video"===t}var s=t("./source"),a=t("./tile"),u=t("../util/evented"),l=t("./tile_coord"),c=t("../util/lru_cache"),h=t("../geo/coordinate"),f=t("../util/util"),p=t("../data/extent"),d=function(t){function e(e,n,i){t.call(this),this.id=e,this.dispatcher=i,this.on("data",function(t){"source"===t.dataType&&"metadata"===t.sourceDataType&&(this._sourceLoaded=!0),this._sourceLoaded&&"source"===t.dataType&&"content"===t.sourceDataType&&(this.reload(),this.transform&&this.update(this.transform))}),this.on("error",function(){this._sourceErrored=!0}),this._source=s.create(e,n,i,this),this._tiles={},this._cache=new c(0,this.unloadTile.bind(this)),this._timers={},this._cacheTimers={},this._isIdRenderable=this._isIdRenderable.bind(this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){this.map=t,this._source&&this._source.onAdd&&this._source.onAdd(t)},e.prototype.onRemove=function(t){this._source&&this._source.onRemove&&this._source.onRemove(t)},e.prototype.loaded=function(){var t=this;if(this._sourceErrored)return!0;if(!this._sourceLoaded)return!1;for(var e in t._tiles){var n=t._tiles[e];if("loaded"!==n.state&&"errored"!==n.state)return!1}return!0},e.prototype.getSource=function(){return this._source},e.prototype.loadTile=function(t,e){return this._source.loadTile(t,e)},e.prototype.unloadTile=function(t){if(this._source.unloadTile)return this._source.unloadTile(t)},e.prototype.abortTile=function(t){if(this._source.abortTile)return this._source.abortTile(t)},e.prototype.serialize=function(){return this._source.serialize()},e.prototype.prepare=function(){if(this._sourceLoaded&&this._source.prepare)return this._source.prepare()},e.prototype.getIds=function(){return Object.keys(this._tiles).map(Number).sort(r)},e.prototype.getRenderableIds=function(){return this.getIds().filter(this._isIdRenderable)},e.prototype._isIdRenderable=function(t){return this._tiles[t].hasData()&&!this._coveredTiles[t]},e.prototype.reload=function(){var t=this;this._cache.reset();for(var e in t._tiles)t.reloadTile(e,"reloading")},e.prototype.reloadTile=function(t,e){var n=this._tiles[t];n&&("loading"!==n.state&&(n.state=e),this.loadTile(n,this._tileLoaded.bind(this,n,t,e)))},e.prototype._tileLoaded=function(t,e,n,i){return i?(t.state="errored",void(404!==i.status&&this._source.fire("error",{tile:t,error:i}))):(t.sourceCache=this,t.timeAdded=(new Date).getTime(),"expired"===n&&(t.refreshedUponExpiration=!0),this._setTileReloadTimer(e,t),this._source.fire("data",{dataType:"source",tile:t,coord:t.coord}),void(this.map&&(this.map.painter.tileExtentVAO.vao=null)))},e.prototype.getTile=function(t){return this.getTileByID(t.id)},e.prototype.getTileByID=function(t){return this._tiles[t]},e.prototype.getZoom=function(t){return t.zoom+t.scaleZoom(t.tileSize/this._source.tileSize)},e.prototype.findLoadedChildren=function(t,e,n){var i=this,r=!1;for(var o in i._tiles){var s=i._tiles[o];if(!(n[o]||!s.hasData()||s.coord.z<=t.z||s.coord.z>e)){var a=Math.pow(2,Math.min(s.coord.z,i._source.maxzoom)-Math.min(t.z,i._source.maxzoom));if(Math.floor(s.coord.x/a)===t.x&&Math.floor(s.coord.y/a)===t.y)for(n[o]=!0,r=!0;s&&s.coord.z-1>t.z;){var u=s.coord.parent(i._source.maxzoom).id;s=i._tiles[u],s&&s.hasData()&&(delete n[o],n[u]=!0)}}}return r},e.prototype.findLoadedParent=function(t,e,n){for(var i=this,r=t.z-1;r>=e;r--){t=t.parent(i._source.maxzoom);var o=i._tiles[t.id];if(o&&o.hasData())return n[t.id]=!0,o;if(i._cache.has(t.id))return n[t.id]=!0,i._cache.getWithoutRemoving(t.id)}},e.prototype.updateCacheSize=function(t){var e=Math.ceil(t.width/t.tileSize)+1,n=Math.ceil(t.height/t.tileSize)+1,i=e*n,r=5;this._cache.setMaxSize(Math.floor(i*r))},e.prototype.update=function(t){var n=this;if(this.transform=t,this._sourceLoaded){var i,r,s,a;this.updateCacheSize(t);var u=(this._source.roundZoom?Math.round:Math.floor)(this.getZoom(t)),c=Math.max(u-e.maxOverzooming,this._source.minzoom),h=Math.max(u+e.maxUnderzooming,this._source.minzoom),p={};this._coveredTiles={};var d;for(this.used?this._source.coord?d=t.getVisibleWrappedCoordinates(this._source.coord):(d=t.coveringTiles({tileSize:this._source.tileSize,minzoom:this._source.minzoom,maxzoom:this._source.maxzoom,roundZoom:this._source.roundZoom,reparseOverscaled:this._source.reparseOverscaled}),this._source.hasTile&&(d=d.filter(function(t){return n._source.hasTile(t)}))):d=[],i=0;i<d.length;i++)r=d[i],s=n.addTile(r),p[r.id]=!0,s.hasData()||n.findLoadedChildren(r,h,p)||(a=n.findLoadedParent(r,c,p),a&&n.addTile(a.coord));var g={};if(o(this._source.type))for(var m=Object.keys(p),v=0;v<m.length;v++){var y=m[v];r=l.fromID(y),s=n._tiles[y],s&&("undefined"==typeof s.fadeEndTime||s.fadeEndTime>=Date.now())&&(n.findLoadedChildren(r,h,p)&&(p[y]=!0),a=n.findLoadedParent(r,c,g),a&&n.addTile(a.coord))}var b;for(b in g)p[b]||(n._coveredTiles[b]=!0);for(b in g)p[b]=!0;var x=f.keysDifference(this._tiles,p);for(i=0;i<x.length;i++)n.removeTile(+x[i])}},e.prototype.addTile=function(t){var e=this._tiles[t.id];if(e)return e;var n=t.wrapped();e=this._tiles[n.id],e||(e=this._cache.get(n.id),e&&(e.redoPlacement(this._source),this._cacheTimers[n.id]&&(clearTimeout(this._cacheTimers[n.id]),this._cacheTimers[n.id]=void 0,this._setTileReloadTimer(n.id,e))));var i=Boolean(e);if(!i){var r=t.z,o=r>this._source.maxzoom?Math.pow(2,r-this._source.maxzoom):1;e=new a(n,this._source.tileSize*o,this._source.maxzoom),this.loadTile(e,this._tileLoaded.bind(this,e,t.id,e.state))}return e.uses++,this._tiles[t.id]=e,i||this._source.fire("dataloading",{tile:e,coord:e.coord,dataType:"source"}),e},e.prototype._setTileReloadTimer=function(t,e){var n=this,i=e.getExpiryTimeout();i&&(this._timers[t]=setTimeout(function(){n.reloadTile(t,"expired"),n._timers[t]=void 0},i))},e.prototype._setCacheInvalidationTimer=function(t,e){var n=this,i=e.getExpiryTimeout();i&&(this._cacheTimers[t]=setTimeout(function(){n._cache.remove(t),n._cacheTimers[t]=void 0},i))},e.prototype.removeTile=function(t){var e=this._tiles[t];if(e&&(e.uses--,delete this._tiles[t],this._timers[t]&&(clearTimeout(this._timers[t]),this._timers[t]=void 0),!(e.uses>0)))if(e.hasData()){var n=e.coord.wrapped().id;this._cache.add(n,e),this._setCacheInvalidationTimer(n,e)}else e.aborted=!0,this.abortTile(e),this.unloadTile(e)},e.prototype.clearTiles=function(){var t=this;for(var e in t._tiles)t.removeTile(e);this._cache.reset()},e.prototype.tilesIn=function(t){for(var e=this,n={},r=this.getIds(),o=1/0,s=1/0,a=-(1/0),u=-(1/0),c=t[0].zoom,f=0;f<t.length;f++){var d=t[f];o=Math.min(o,d.column),s=Math.min(s,d.row),a=Math.max(a,d.column),u=Math.max(u,d.row)}for(var g=0;g<r.length;g++){var m=e._tiles[r[g]],v=l.fromID(r[g]),y=[i(v,m.sourceMaxZoom,new h(o,s,c)),i(v,m.sourceMaxZoom,new h(a,u,c))];if(y[0].x<p&&y[0].y<p&&y[1].x>=0&&y[1].y>=0){for(var b=[],x=0;x<t.length;x++)b.push(i(v,m.sourceMaxZoom,t[x]));var _=n[m.coord.id];void 0===_&&(_=n[m.coord.id]={tile:m,coord:v,queryGeometry:[],scale:Math.pow(2,e.transform.zoom-m.coord.z)}),_.queryGeometry.push(b)}}var E=[];for(var w in n)E.push(n[w]);return E},e.prototype.redoPlacement=function(){for(var t=this,e=this.getIds(),n=0;n<e.length;n++){var i=t.getTileByID(e[n]);i.redoPlacement(t._source)}},e.prototype.getVisibleCoordinates=function(){for(var t=this,e=this.getRenderableIds().map(l.fromID),n=0,i=e;n<i.length;n+=1){var r=i[n];r.posMatrix=t.transform.calculatePosMatrix(r,t._source.maxzoom)}return e},e}(u);d.maxOverzooming=10,d.maxUnderzooming=3,e.exports=d},{"../data/extent":54,"../geo/coordinate":61,"../util/evented":203,"../util/lru_cache":209,"../util/util":214,"./source":92,"./tile":94,"./tile_coord":96}],94:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../data/bucket"),o=t("../data/feature_index"),s=t("vector-tile"),a=t("pbf"),u=t("../util/vectortile_to_geojson"),l=t("../style-spec/feature_filter"),c=t("../symbol/collision_tile"),h=t("../symbol/collision_box"),f=3e4,p=function(t,e,n){this.coord=t,this.uid=i.uniqueId(),this.uses=0,this.tileSize=e,this.sourceMaxZoom=n,this.buckets={},this.expirationTime=null,this.expiredRequestCount=0,this.state="loading"};p.prototype.registerFadeDuration=function(t,e){var n=e+this.timeAdded;n<Date.now()||this.fadeEndTime&&n<this.fadeEndTime||(this.fadeEndTime=n,t.set(this.fadeEndTime-Date.now()))},p.prototype.loadVectorData=function(t,e){this.hasData()&&this.unloadVectorData(),this.state="loaded",t&&(t.rawTileData&&(this.rawTileData=t.rawTileData),this.collisionBoxArray=new h(t.collisionBoxArray),this.collisionTile=new c(t.collisionTile,this.collisionBoxArray),this.featureIndex=new o(t.featureIndex,this.rawTileData,this.collisionTile),this.buckets=r.deserialize(t.buckets,e.style))},p.prototype.reloadSymbolData=function(t,e){var n=this;if("unloaded"!==this.state){this.collisionTile=new c(t.collisionTile,this.collisionBoxArray),this.featureIndex.setCollisionTile(this.collisionTile);for(var o in n.buckets){var s=n.buckets[o];"symbol"===s.layers[0].type&&(s.destroy(),delete n.buckets[o])}i.extend(this.buckets,r.deserialize(t.buckets,e))}},p.prototype.unloadVectorData=function(){var t=this;for(var e in t.buckets)t.buckets[e].destroy();this.buckets={},this.collisionBoxArray=null,this.collisionTile=null,this.featureIndex=null,this.state="unloaded"},p.prototype.redoPlacement=function(t){var e=this;if("vector"===t.type||"geojson"===t.type)return"loaded"!==this.state?void(this.redoWhenDone=!0):void(this.collisionTile&&(this.state="reloading",t.dispatcher.send("redoPlacement",{type:t.type,uid:this.uid,source:t.id,angle:t.map.transform.angle,pitch:t.map.transform.pitch,showCollisionBoxes:t.map.showCollisionBoxes},function(n,i){e.reloadSymbolData(i,t.map.style),t.map&&(t.map.painter.tileExtentVAO.vao=null),e.state="loaded",e.redoWhenDone&&(e.redoWhenDone=!1,e.redoPlacement(t))},this.workerID)))},p.prototype.getBucket=function(t){return this.buckets[t.id]},p.prototype.querySourceFeatures=function(t,e){var n=this;if(this.rawTileData){this.vtLayers||(this.vtLayers=new s.VectorTile(new a(this.rawTileData)).layers);var i=this.vtLayers._geojsonTileLayer||this.vtLayers[e.sourceLayer];if(i)for(var r=l(e&&e.filter),o={z:this.coord.z,x:this.coord.x,y:this.coord.y},c=0;c<i.length;c++){var h=i.feature(c);if(r(h)){var f=new u(h,n.coord.z,n.coord.x,n.coord.y);f.tile=o,t.push(f)}}}},p.prototype.hasData=function(){return"loaded"===this.state||"reloading"===this.state||"expired"===this.state},p.prototype.setExpiryData=function(t){var e=this.expirationTime;if(t.cacheControl){var n=i.parseCacheControl(t.cacheControl);n["max-age"]&&(this.expirationTime=Date.now()+1e3*n["max-age"])}else t.expires&&(this.expirationTime=new Date(t.expires).getTime());if(this.expirationTime){var r=Date.now(),o=!1;if(this.expirationTime>r)o=!1;else if(e)if(this.expirationTime<e)o=!0;else{var s=this.expirationTime-e;s?this.expirationTime=r+Math.max(s,f):o=!0}else o=!0;o?(this.expiredRequestCount++,this.state="expired"):this.expiredRequestCount=0}},p.prototype.getExpiryTimeout=function(){if(this.expirationTime)return this.expiredRequestCount?1e3*(1<<Math.min(this.expiredRequestCount-1,31)):Math.min(this.expirationTime-(new Date).getTime(),Math.pow(2,31)-1)},e.exports=p},{"../data/bucket":45,"../data/feature_index":55,"../style-spec/feature_filter":105,"../symbol/collision_box":163,"../symbol/collision_tile":165,"../util/util":214,"../util/vectortile_to_geojson":215,pbf:25,"vector-tile":34}],95:[function(t,e,n){"use strict";var i=t("../geo/lng_lat_bounds"),r=t("../util/util").clamp,o=function(t,e,n){this.bounds=i.convert(t),this.minzoom=e||0,this.maxzoom=n||24};o.prototype.contains=function(t,e){var n=e?Math.min(t.z,e):t.z,i={minX:Math.floor(this.lngX(this.bounds.getWest(),n)),minY:Math.floor(this.latY(this.bounds.getNorth(),n)),maxX:Math.ceil(this.lngX(this.bounds.getEast(),n)),maxY:Math.ceil(this.latY(this.bounds.getSouth(),n))},r=t.x>=i.minX&&t.x<i.maxX&&t.y>=i.minY&&t.y<i.maxY;return r},o.prototype.lngX=function(t,e){return(t+180)*(Math.pow(2,e)/360)},o.prototype.latY=function(t,e){var n=r(Math.sin(Math.PI/180*t),-.9999,.9999),i=Math.pow(2,e)/(2*Math.PI);return Math.pow(2,e-1)+.5*Math.log((1+n)/(1-n))*-i},e.exports=o},{"../geo/lng_lat_bounds":63,"../util/util":214}],96:[function(t,e,n){"use strict";function i(t,e){if(t.row>e.row){var n=t;t=e,e=n}return{x0:t.column,y0:t.row,x1:e.column,y1:e.row,dx:e.column-t.column,dy:e.row-t.row}}function r(t,e,n,i,r){var o=Math.max(n,Math.floor(e.y0)),s=Math.min(i,Math.ceil(e.y1));if(t.x0===e.x0&&t.y0===e.y0?t.x0+e.dy/t.dy*t.dx<e.x1:t.x1-e.dy/t.dy*t.dx<e.x0){var a=t;t=e,e=a}for(var u=t.dx/t.dy,l=e.dx/e.dy,c=t.dx>0,h=e.dx<0,f=o;f<s;f++){var p=u*Math.max(0,Math.min(t.dy,f+c-t.y0))+t.x0,d=l*Math.max(0,Math.min(e.dy,f+h-e.y0))+e.x0;r(Math.floor(d),Math.ceil(p),f)}}function o(t,e,n,o,s,a){var u,l=i(t,e),c=i(e,n),h=i(n,t);l.dy>c.dy&&(u=l,l=c,c=u),l.dy>h.dy&&(u=l,l=h,h=u),c.dy>h.dy&&(u=c,c=h,h=u),l.dy&&r(h,l,o,s,a),c.dy&&r(h,c,o,s,a)}function s(t,e,n){for(var i,r="",o=t;o>0;o--)i=1<<o-1,r+=(e&i?1:0)+(n&i?2:0);return r}var a=t("@mapbox/whoots-js"),u=t("../geo/coordinate"),l=function(t,e,n,i){isNaN(i)&&(i=0),this.z=+t,this.x=+e,this.y=+n,this.w=+i,i*=2,i<0&&(i=i*-1-1);var r=1<<this.z;this.id=32*(r*r*i+r*this.y+this.x)+this.z,this.posMatrix=null};l.prototype.toString=function(){return this.z+"/"+this.x+"/"+this.y},l.prototype.toCoordinate=function(t){var e=Math.min(this.z,void 0===t?this.z:t),n=Math.pow(2,e),i=this.y,r=this.x+n*this.w;return new u(r,i,e)},l.prototype.url=function(t,e,n){var i=a.getTileBBox(this.x,this.y,this.z),r=s(this.z,this.x,this.y);return t[(this.x+this.y)%t.length].replace("{prefix}",(this.x%16).toString(16)+(this.y%16).toString(16)).replace("{z}",Math.min(this.z,e||this.z)).replace("{x}",this.x).replace("{y}","tms"===n?Math.pow(2,this.z)-this.y-1:this.y).replace("{quadkey}",r).replace("{bbox-epsg-3857}",i)},l.prototype.parent=function(t){return 0===this.z?null:this.z>t?new l(this.z-1,this.x,this.y,this.w):new l(this.z-1,Math.floor(this.x/2),Math.floor(this.y/2),this.w)},l.prototype.wrapped=function(){return new l(this.z,this.x,this.y,0)},l.prototype.children=function(t){if(this.z>=t)return[new l(this.z+1,this.x,this.y,this.w)];var e=this.z+1,n=2*this.x,i=2*this.y;return[new l(e,n,i,this.w),new l(e,n+1,i,this.w),new l(e,n,i+1,this.w),new l(e,n+1,i+1,this.w)]},l.cover=function(t,e,n,i){function r(t,e,r){var o,u,c,h;if(r>=0&&r<=s)for(o=t;o<e;o++)u=Math.floor(o/s),c=(o%s+s)%s,0!==u&&i!==!0||(h=new l(n,c,r,u),a[h.id]=h)}void 0===i&&(i=!0);var s=1<<t,a={};return o(e[0],e[1],e[2],0,s,r),o(e[2],e[3],e[0],0,s,r),Object.keys(a).map(function(t){return a[t]})},l.fromID=function(t){var e=t%32,n=1<<e,i=(t-e)/32,r=i%n,o=(i-r)/n%n,s=Math.floor(i/(n*n));return s%2!==0&&(s=s*-1-1),s/=2,new l(e,r,o,s)},e.exports=l},{"../geo/coordinate":61,"@mapbox/whoots-js":4}],97:[function(t,e,n){"use strict";var i=t("../util/evented"),r=t("../util/util"),o=t("./load_tilejson"),s=t("../util/mapbox").normalizeTileURL,a=t("./tile_bounds"),u=function(t){function e(e,n,i,o){if(t.call(this),this.id=e,this.dispatcher=i,this.type="vector",this.minzoom=0,this.maxzoom=22,this.scheme="xyz",this.tileSize=512,this.reparseOverscaled=!0,this.isTileClipped=!0,r.extend(this,r.pick(n,["url","scheme","tileSize"])),this._options=r.extend({type:"vector"},n),512!==this.tileSize)throw new Error("vector tile sources must have a tileSize of 512");this.setEventedParent(o)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this;this.fire("dataloading",{dataType:"source"}),o(this._options,function(e,n){return e?void t.fire("error",e):(r.extend(t,n),t.setBounds(n.bounds),t.fire("data",{dataType:"source",sourceDataType:"metadata"}),void t.fire("data",{dataType:"source",sourceDataType:"content"}))})},e.prototype.setBounds=function(t){this.bounds=t,t&&(this.tileBounds=new a(t,this.minzoom,this.maxzoom))},e.prototype.hasTile=function(t){return!this.tileBounds||this.tileBounds.contains(t,this.maxzoom)},e.prototype.onAdd=function(t){this.load(),this.map=t},e.prototype.serialize=function(){return r.extend({},this._options)},e.prototype.loadTile=function(t,e){function n(n,i){if(!t.aborted){if(n)return e(n);this.map._refreshExpiredTiles&&t.setExpiryData(i),t.loadVectorData(i,this.map.painter),t.redoWhenDone&&(t.redoWhenDone=!1,t.redoPlacement(this)),e(null),t.reloadCallback&&(this.loadTile(t,t.reloadCallback),t.reloadCallback=null)}}var i=t.coord.z>this.maxzoom?Math.pow(2,t.coord.z-this.maxzoom):1,r={url:s(t.coord.url(this.tiles,this.maxzoom,this.scheme),this.url),uid:t.uid,coord:t.coord,zoom:t.coord.z,tileSize:this.tileSize*i,type:this.type,source:this.id,overscaling:i,angle:this.map.transform.angle,pitch:this.map.transform.pitch,showCollisionBoxes:this.map.showCollisionBoxes};t.workerID&&"expired"!==t.state?"loading"===t.state?t.reloadCallback=e:this.dispatcher.send("reloadTile",r,n.bind(this),t.workerID):t.workerID=this.dispatcher.send("loadTile",r,n.bind(this))},e.prototype.abortTile=function(t){this.dispatcher.send("abortTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e.prototype.unloadTile=function(t){t.unloadVectorData(),this.dispatcher.send("removeTile",{uid:t.uid,type:this.type,source:this.id},null,t.workerID)},e}(i);e.exports=u},{"../util/evented":203,"../util/mapbox":210,"../util/util":214,"./load_tilejson":87,"./tile_bounds":95}],98:[function(t,e,n){"use strict";var i=t("../util/ajax"),r=t("vector-tile"),o=t("pbf"),s=t("./worker_tile"),a=t("../util/util"),u=function(t,e,n){this.actor=t,this.layerIndex=e,n&&(this.loadVectorData=n),this.loading={},this.loaded={}};u.prototype.loadTile=function(t,e){function n(t,n){return delete this.loading[i][r],t?e(t):n?(o.vectorTile=n,o.parse(n,this.layerIndex,this.actor,function(t,i,r){if(t)return e(t);var o={};n.expires&&(o.expires=n.expires),n.cacheControl&&(o.cacheControl=n.cacheControl),e(null,a.extend({rawTileData:n.rawData},i,o),r)}),this.loaded[i]=this.loaded[i]||{},void(this.loaded[i][r]=o)):e(null,null)}var i=t.source,r=t.uid;this.loading[i]||(this.loading[i]={});var o=this.loading[i][r]=new s(t);o.abort=this.loadVectorData(t,n.bind(this))},u.prototype.reloadTile=function(t,e){function n(t,n){if(this.reloadCallback){var i=this.reloadCallback;delete this.reloadCallback,this.parse(this.vectorTile,o.layerIndex,o.actor,i)}e(t,n)}var i=this.loaded[t.source],r=t.uid,o=this;if(i&&i[r]){var s=i[r];"parsing"===s.status?s.reloadCallback=e:"done"===s.status&&s.parse(s.vectorTile,this.layerIndex,this.actor,n.bind(s))}},u.prototype.abortTile=function(t){var e=this.loading[t.source],n=t.uid;e&&e[n]&&e[n].abort&&(e[n].abort(),delete e[n])},u.prototype.removeTile=function(t){var e=this.loaded[t.source],n=t.uid;e&&e[n]&&delete e[n]},u.prototype.loadVectorData=function(t,e){function n(t,n){if(t)return e(t);var i=new r.VectorTile(new o(n.data));i.rawData=n.data,i.cacheControl=n.cacheControl,i.expires=n.expires,e(t,i)}var s=i.getArrayBuffer(t.url,n.bind(this));return function(){s.abort()}},u.prototype.redoPlacement=function(t,e){var n=this.loaded[t.source],i=this.loading[t.source],r=t.uid;if(n&&n[r]){var o=n[r],s=o.redoPlacement(t.angle,t.pitch,t.showCollisionBoxes);s.result&&e(null,s.result,s.transferables)}else i&&i[r]&&(i[r].angle=t.angle)},e.exports=u},{"../util/ajax":194,"../util/util":214,"./worker_tile":101,pbf:25,"vector-tile":34}],99:[function(t,e,n){"use strict";var i=t("../util/ajax"),r=t("./image_source"),o=function(t){function e(e,n,i,r){t.call(this,e,n,i,r),this.roundZoom=!0,this.type="video",this.options=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.load=function(){var t=this,e=this.options;this.urls=e.urls,i.getVideo(e.urls,function(e,n){if(e)return t.fire("error",{error:e});t.video=n,t.video.loop=!0;var i;t.video.addEventListener("playing",function(){i=t.map.style.animationLoop.set(1/0),t.map._rerender()}),t.video.addEventListener("pause",function(){t.map.style.animationLoop.cancel(i)}),t.map&&t.video.play(),t._finishLoading()})},e.prototype.getVideo=function(){return this.video},e.prototype.onAdd=function(t){this.map||(this.load(),this.map=t,this.video&&(this.video.play(),this.setCoordinates(this.coordinates)))},e.prototype.prepare=function(){!this.tile||this.video.readyState<2||this._prepareImage(this.map.painter.gl,this.video)},e.prototype.serialize=function(){return{type:"video",urls:this.urls,coordinates:this.coordinates}},e}(r);e.exports=o},{"../util/ajax":194,"./image_source":86}],100:[function(t,e,n){"use strict";var i=t("../util/actor"),r=t("../style/style_layer_index"),o=t("./vector_tile_worker_source"),s=t("./geojson_worker_source"),a=t("./rtl_text_plugin"),u=function(t){var e=this;this.self=t,this.actor=new i(t,this),this.layerIndexes={},this.workerSourceTypes={vector:o,geojson:s},this.workerSources={},this.self.registerWorkerSource=function(t,n){if(e.workerSourceTypes[t])throw new Error('Worker source with name "'+t+'" already registered.');e.workerSourceTypes[t]=n},this.self.registerRTLTextPlugin=function(t){if(a.applyArabicShaping||a.processBidirectionalText)throw new Error("RTL text plugin already registered.");a.applyArabicShaping=t.applyArabicShaping,a.processBidirectionalText=t.processBidirectionalText}};u.prototype.setLayers=function(t,e){this.getLayerIndex(t).replace(e)},u.prototype.updateLayers=function(t,e){this.getLayerIndex(t).update(e.layers,e.removedIds,e.symbolOrder)},u.prototype.loadTile=function(t,e,n){this.getWorkerSource(t,e.type).loadTile(e,n)},u.prototype.reloadTile=function(t,e,n){this.getWorkerSource(t,e.type).reloadTile(e,n)},u.prototype.abortTile=function(t,e){this.getWorkerSource(t,e.type).abortTile(e)},u.prototype.removeTile=function(t,e){this.getWorkerSource(t,e.type).removeTile(e)},u.prototype.removeSource=function(t,e){var n=this.getWorkerSource(t,e.type);void 0!==n.removeSource&&n.removeSource(e)},u.prototype.redoPlacement=function(t,e,n){this.getWorkerSource(t,e.type).redoPlacement(e,n)},u.prototype.loadWorkerSource=function(t,e,n){try{this.self.importScripts(e.url),n()}catch(t){n(t)}},u.prototype.loadRTLTextPlugin=function(t,e,n){try{a.applyArabicShaping||a.processBidirectionalText||this.self.importScripts(e)}catch(t){n(t)}},u.prototype.getLayerIndex=function(t){var e=this.layerIndexes[t];return e||(e=this.layerIndexes[t]=new r),e},u.prototype.getWorkerSource=function(t,e){var n=this;if(this.workerSources[t]||(this.workerSources[t]={}),!this.workerSources[t][e]){var i={send:function(e,i,r,o){n.actor.send(e,i,r,o,t)}};this.workerSources[t][e]=new this.workerSourceTypes[e](i,this.getLayerIndex(t))}return this.workerSources[t][e]},e.exports=function(t){return new u(t)}},{"../style/style_layer_index":157,"../util/actor":193,"./geojson_worker_source":84,"./rtl_text_plugin":91,"./vector_tile_worker_source":98}],101:[function(t,e,n){"use strict";function i(t,e){for(var n=0,i=t.layers;n<i.length;n+=1){var r=i[n];r.recalculate(e)}}function r(t,e){return t.filter(function(t){return!t.isEmpty()}).map(function(t){return t.serialize(e)})}var o=t("../data/feature_index"),s=t("../symbol/collision_tile"),a=t("../symbol/collision_box"),u=t("../util/dictionary_coder"),l=t("../util/util"),c=function(t){this.coord=t.coord,this.uid=t.uid,this.zoom=t.zoom,this.tileSize=t.tileSize,this.source=t.source,this.overscaling=t.overscaling,this.angle=t.angle,this.pitch=t.pitch,this.showCollisionBoxes=t.showCollisionBoxes};c.prototype.parse=function(t,e,n,c){var h=this;t.layers||(t={layers:{_geojsonTileLayer:t}}),this.status="parsing",this.data=t,this.collisionBoxArray=new a;var f=new u(Object.keys(t.layers).sort()),p=new o(this.coord,this.overscaling);p.bucketLayerIDs={};var d={},g=0,m={featureIndex:p,iconDependencies:{},glyphDependencies:{}},v=e.familiesBySource[this.source];for(var y in v){var b=t.layers[y];if(b){1===b.version&&l.warnOnce('Vector tile source "'+h.source+'" layer "'+y+'" does not use vector tile spec v2 and therefore may have some rendering errors.');for(var x=f.encode(y),_=[],E=0;E<b.length;E++){var w=b.feature(E);w.index=E,w.sourceLayerIndex=x,_.push(w)}for(var T=0,S=v[y];T<S.length;T+=1){var A=S[T],I=A[0];if(!(I.minzoom&&h.zoom<I.minzoom||I.maxzoom&&h.zoom>=I.maxzoom||I.layout&&"none"===I.layout.visibility)){for(var C=0,L=A;C<L.length;C+=1){var M=L[C];M.recalculate(h.zoom)}var N=d[I.id]=I.createBucket({index:g,layers:A,zoom:h.zoom,overscaling:h.overscaling,collisionBoxArray:h.collisionBoxArray});N.populate(_,m),p.bucketLayerIDs[g]=A.map(function(t){return t.id}),g++}}}}var R=function(t){h.status="done",p.paintPropertyStatistics={};for(var e in d)l.extend(p.paintPropertyStatistics,d[e].getPaintPropertyStatistics());var n=[];c(null,{buckets:r(l.values(d),n),featureIndex:p.serialize(n),collisionTile:t.serialize(n),collisionBoxArray:h.collisionBoxArray.serialize()},n)};this.symbolBuckets=[];for(var O=e.symbolOrder.length-1;O>=0;O--){var D=d[e.symbolOrder[O]];D&&h.symbolBuckets.push(D)}if(0===this.symbolBuckets.length)return R(new s(this.angle,this.pitch,this.collisionBoxArray));var P=0,k=Object.keys(m.iconDependencies),z=l.mapObject(m.glyphDependencies,function(t){return Object.keys(t).map(Number)}),F=function(t){if(t)return c(t);if(P++,2===P){for(var e=new s(h.angle,h.pitch,h.collisionBoxArray),n=0,r=h.symbolBuckets;n<r.length;n+=1){var o=r[n];i(o,h.zoom),o.prepare(z,k),o.place(e,h.showCollisionBoxes)}R(e)}};Object.keys(z).length?n.send("getGlyphs",{uid:this.uid,stacks:z},function(t,e){z=e,F(t)}):F(),k.length?n.send("getIcons",{icons:k},function(t,e){k=e,F(t)}):F()},c.prototype.redoPlacement=function(t,e,n){var o=this;if(this.angle=t,this.pitch=e,"done"!==this.status)return{};for(var a=new s(this.angle,this.pitch,this.collisionBoxArray),u=0,l=o.symbolBuckets;u<l.length;u+=1){var c=l[u];i(c,o.zoom),c.place(a,n)}var h=[];return{result:{buckets:r(this.symbolBuckets,h),collisionTile:a.serialize(h)},transferables:h}},e.exports=c},{"../data/feature_index":55,"../symbol/collision_box":163,"../symbol/collision_tile":165,"../util/dictionary_coder":200,"../util/util":214}],102:[function(t,e,n){"use strict";function i(t,e){var n={};for(var i in t)"ref"!==i&&(n[i]=t[i]);return o.forEach(function(t){t in e&&(n[t]=e[t])}),n}function r(t){t=t.slice();for(var e=Object.create(null),n=0;n<t.length;n++)e[t[n].id]=t[n];for(var r=0;r<t.length;r++)"ref"in t[r]&&(t[r]=i(t[r],e[t[r].ref]));return t}var o=t("./util/ref_properties");e.exports=r},{"./util/ref_properties":125}],103:[function(t,e,n){"use strict";function i(t,e,n,i){t=t||{},e=e||{};var r;for(r in t)t.hasOwnProperty(r)&&(e.hasOwnProperty(r)||(n.push({command:c.removeSource,args:[r]}),i[r]=!0));for(r in e)e.hasOwnProperty(r)&&(t.hasOwnProperty(r)?l(t[r],e[r])||(n.push({command:c.removeSource,args:[r]}),n.push({command:c.addSource,args:[r,e[r]]}),i[r]=!0):n.push({command:c.addSource,args:[r,e[r]]}))}function r(t,e,n,i,r,o){t=t||{},e=e||{};var s;for(s in t)t.hasOwnProperty(s)&&(l(t[s],e[s])||n.push({command:o,args:[i,s,e[s],r]}));for(s in e)e.hasOwnProperty(s)&&!t.hasOwnProperty(s)&&(l(t[s],e[s])||n.push({command:o,args:[i,s,e[s],r]}))}function o(t){return t.id}function s(t,e){return t[e.id]=e,t}function a(t,e,n){t=t||[],e=e||[];var i,a,u,h,f,p,d,g=t.map(o),m=e.map(o),v=t.reduce(s,{}),y=e.reduce(s,{}),b=g.slice(),x=Object.create(null);for(i=0,a=0;i<g.length;i++)u=g[i],y.hasOwnProperty(u)?a++:(n.push({command:c.removeLayer,args:[u]}),b.splice(b.indexOf(u,a),1));for(i=0,a=0;i<m.length;i++)u=m[m.length-1-i],b[b.length-1-i]!==u&&(v.hasOwnProperty(u)?(n.push({command:c.removeLayer,args:[u]}),b.splice(b.lastIndexOf(u,b.length-a),1)):a++,p=b[b.length-i],n.push({command:c.addLayer,args:[y[u],p]}),b.splice(b.length-i,0,u),x[u]=!0);for(i=0;i<m.length;i++)if(u=m[i],h=v[u],f=y[u],!x[u]&&!l(h,f))if(l(h.source,f.source)&&l(h["source-layer"],f["source-layer"])&&l(h.type,f.type)){r(h.layout,f.layout,n,u,null,c.setLayoutProperty),r(h.paint,f.paint,n,u,null,c.setPaintProperty),l(h.filter,f.filter)||n.push({command:c.setFilter,args:[u,f.filter]}),l(h.minzoom,f.minzoom)&&l(h.maxzoom,f.maxzoom)||n.push({command:c.setLayerZoomRange,args:[u,f.minzoom,f.maxzoom]});for(d in h)h.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?r(h[d],f[d],n,u,d.slice(6),c.setPaintProperty):l(h[d],f[d])||n.push({command:c.setLayerProperty,args:[u,d,f[d]]}));for(d in f)f.hasOwnProperty(d)&&!h.hasOwnProperty(d)&&"layout"!==d&&"paint"!==d&&"filter"!==d&&"metadata"!==d&&"minzoom"!==d&&"maxzoom"!==d&&(0===d.indexOf("paint.")?r(h[d],f[d],n,u,d.slice(6),c.setPaintProperty):l(h[d],f[d])||n.push({command:c.setLayerProperty,args:[u,d,f[d]]}))}else n.push({command:c.removeLayer,args:[u]}),p=b[b.lastIndexOf(u)+1],n.push({command:c.addLayer,args:[f,p]})}function u(t,e){if(!t)return[{command:c.setStyle,args:[e]}];var n=[];try{if(!l(t.version,e.version))return[{command:c.setStyle,args:[e]}];l(t.center,e.center)||n.push({command:c.setCenter,args:[e.center]}),l(t.zoom,e.zoom)||n.push({command:c.setZoom,args:[e.zoom]}),l(t.bearing,e.bearing)||n.push({command:c.setBearing,args:[e.bearing]}),l(t.pitch,e.pitch)||n.push({command:c.setPitch,args:[e.pitch]}),l(t.sprite,e.sprite)||n.push({command:c.setSprite,args:[e.sprite]}),l(t.glyphs,e.glyphs)||n.push({command:c.setGlyphs,args:[e.glyphs]}),l(t.transition,e.transition)||n.push({command:c.setTransition,args:[e.transition]}),l(t.light,e.light)||n.push({command:c.setLight,args:[e.light]});var r={},o=[];i(t.sources,e.sources,o,r);var s=[];t.layers&&t.layers.forEach(function(t){r[t.source]?n.push({command:c.removeLayer,args:[t.id]}):s.push(t)}),n=n.concat(o),a(s,e.layers,n)}catch(t){console.warn("Unable to compute style diff:",t),n=[{command:c.setStyle,args:[e]}]}return n}var l=t("lodash.isequal"),c={setStyle:"setStyle",addLayer:"addLayer",removeLayer:"removeLayer",setPaintProperty:"setPaintProperty",setLayoutProperty:"setLayoutProperty",setFilter:"setFilter",addSource:"addSource",removeSource:"removeSource",setLayerZoomRange:"setLayerZoomRange",setLayerProperty:"setLayerProperty",setCenter:"setCenter",setZoom:"setZoom",setBearing:"setBearing",setPitch:"setPitch",setSprite:"setSprite",setGlyphs:"setGlyphs",setTransition:"setTransition",setLight:"setLight"};e.exports=u,e.exports.operations=c},{"lodash.isequal":116}],104:[function(t,e,n){"use strict";function i(t,e){this.message=(t?t+": ":"")+r.apply(r,Array.prototype.slice.call(arguments,2)),null!==e&&void 0!==e&&e.__line__&&(this.line=e.__line__)}var r=t("util").format;e.exports=i},{util:33}],105:[function(t,e,n){"use strict";function i(t){return new Function("f","var p = (f && f.properties || {}); return "+r(t))}function r(t){if(!t)return"true";var e=t[0];if(t.length<=1)return"any"===e?"false":"true";var n="=="===e?s(t[1],t[2],"===",!1):"!="===e?s(t[1],t[2],"!==",!1):"<"===e||">"===e||"<="===e||">="===e?s(t[1],t[2],e,!0):"any"===e?a(t.slice(1),"||"):"all"===e?a(t.slice(1),"&&"):"none"===e?c(a(t.slice(1),"||")):"in"===e?u(t[1],t.slice(2)):"!in"===e?c(u(t[1],t.slice(2))):"has"===e?l(t[1]):"!has"===e?c(l(t[1])):"true";return"("+n+")"}function o(t){return"$type"===t?"f.type":"$id"===t?"f.id":"p["+JSON.stringify(t)+"]"}function s(t,e,n,i){var r=o(t),s="$type"===t?f.indexOf(e):JSON.stringify(e);return(i?"typeof "+r+"=== typeof "+s+"&&":"")+r+n+s}function a(t,e){return t.map(r).join(e)}function u(t,e){"$type"===t&&(e=e.map(function(t){return f.indexOf(t)}));var n=JSON.stringify(e.sort(h)),i=o(t);return e.length<=200?n+".indexOf("+i+") !== -1":"function(v, a, i, j) {while (i <= j) { var m = (i + j) >> 1;    if (a[m] === v) return true; if (a[m] > v) j = m - 1; else i = m + 1;}return false; }("+i+", "+n+",0,"+(e.length-1)+")"}function l(t){return"$id"===t?'"id" in f':JSON.stringify(t)+" in p"}function c(t){return"!("+t+")"}function h(t,e){return t<e?-1:t>e?1:0}e.exports=i;var f=["Unknown","Point","LineString","Polygon"]},{}],106:[function(t,e,n){"use strict";function i(t){return t>v?Math.pow(t,1/3):t/m+d}function r(t){return t>g?t*t*t:m*(t-d)}function o(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function s(t){return t/=255,t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function a(t){var e=s(t[0]),n=s(t[1]),r=s(t[2]),o=i((.4124564*e+.3575761*n+.1804375*r)/h),a=i((.2126729*e+.7151522*n+.072175*r)/f),u=i((.0193339*e+.119192*n+.9503041*r)/p);return[116*a-16,500*(o-a),200*(a-u),t[3]]}function u(t){var e=(t[0]+16)/116,n=isNaN(t[1])?e:e+t[1]/500,i=isNaN(t[2])?e:e-t[2]/200;return e=f*r(e),n=h*r(n),i=p*r(i),[o(3.2404542*n-1.5371385*e-.4985314*i),o(-.969266*n+1.8760108*e+.041556*i),o(.0556434*n-.2040259*e+1.0572252*i),t[3]]}function l(t){var e=a(t),n=e[0],i=e[1],r=e[2],o=Math.atan2(r,i)*b;return[o<0?o+360:o,Math.sqrt(i*i+r*r),n,t[3]]}function c(t){var e=t[0]*y,n=t[1],i=t[2];return u([i,Math.cos(e)*n,Math.sin(e)*n,t[3]])}var h=.95047,f=1,p=1.08883,d=4/29,g=6/29,m=3*g*g,v=g*g*g,y=Math.PI/180,b=180/Math.PI;e.exports={lab:{forward:a,reverse:u},hcl:{forward:l,reverse:c}}},{}],107:[function(t,e,n){"use strict";function i(t){return t}function r(t,e){var n,c="color"===e.type;if(h(t)){var f=t.stops&&"object"==typeof t.stops[0][0],m=f||void 0!==t.property,v=f||!m,y=t.type||("interpolated"===e.function?"exponential":"interval");c&&(t=g({},t),t.stops&&(t.stops=t.stops.map(function(t){return[t[0],d(t[1])]})),t.default?t.default=d(t.default):t.default=d(e.default));var b,x,_;if("exponential"===y)b=u;else if("interval"===y)b=a;else if("categorical"===y){b=s,x=Object.create(null);for(var E=0,w=t.stops;E<w.length;E+=1){var T=w[E];x[T[0]]=T[1]}_=typeof t.stops[0][0]}else{if("identity"!==y)throw new Error('Unknown function type "'+y+'"');b=l}var S;if(t.colorSpace&&"rgb"!==t.colorSpace){if(!p[t.colorSpace])throw new Error("Unknown color space: "+t.colorSpace);var A=p[t.colorSpace];t=JSON.parse(JSON.stringify(t));for(var I=0;I<t.stops.length;I++)t.stops[I]=[t.stops[I][0],A.forward(t.stops[I][1])];S=A.reverse}else S=i;if(f){for(var C={},L=[],M=0;M<t.stops.length;M++){var N=t.stops[M],R=N[0].zoom;void 0===C[R]&&(C[R]={zoom:R,type:t.type,property:t.property,stops:[]},L.push(R)),C[R].stops.push([N[0].value,N[1]])}for(var O=[],D=0,P=L;D<P.length;D+=1){var k=P[D];O.push([C[k].zoom,r(C[k],e)])}n=function(n,i){return S(u({stops:O,base:t.base},e,n)(n,i))},n.isFeatureConstant=!1,n.isZoomConstant=!1}else v?(n=function(n){return S(b(t,e,n,x,_))},n.isFeatureConstant=!0,n.isZoomConstant=!1):(n=function(n,i){var r=i[t.property];return void 0===r?o(t.default,e.default):S(b(t,e,r,x,_))},n.isFeatureConstant=!1,n.isZoomConstant=!0)}else c&&t&&(t=d(t)),n=function(){return t},n.isFeatureConstant=!0,n.isZoomConstant=!0;return n}function o(t,e,n){return void 0!==t?t:void 0!==e?e:void 0!==n?n:void 0}function s(t,e,n,i,r){var s=typeof n===r?i[n]:void 0;return o(s,t.default,e.default)}function a(t,e,n){if("number"!==m(n))return o(t.default,e.default);var i=t.stops.length;if(1===i)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[i-1][0])return t.stops[i-1][1];var r=c(t.stops,n);return t.stops[r][1]}function u(t,e,n){var r=void 0!==t.base?t.base:1;if("number"!==m(n))return o(t.default,e.default);var s=t.stops.length;if(1===s)return t.stops[0][1];if(n<=t.stops[0][0])return t.stops[0][1];if(n>=t.stops[s-1][0])return t.stops[s-1][1];var a=c(t.stops,n),u=f(n,r,t.stops[a][0],t.stops[a+1][0]),l=t.stops[a][1],h=t.stops[a+1][1],p=v[e.type]||i;return"function"==typeof l?function(){var t=l.apply(void 0,arguments),e=h.apply(void 0,arguments);if(void 0!==t&&void 0!==e)return p(t,e,u)}:p(l,h,u)}function l(t,e,n){return"color"===e.type?n=d(n):m(n)!==e.type&&(n=void 0),o(n,t.default,e.default)}function c(t,e){for(var n,i,r=t.length,o=0,s=r-1,a=0;o<=s;){if(a=Math.floor((o+s)/2),n=t[a][0],i=t[a+1][0],e===n||e>n&&e<i)return a;n<e?o=a+1:n>e&&(s=a-1)}return Math.max(a-1,0)}function h(t){return"object"==typeof t&&(t.stops||"identity"===t.type)}function f(t,e,n,i){var r=i-n,o=t-n;return 1===e?o/r:(Math.pow(e,o)-1)/(Math.pow(e,r)-1)}var p=t("./color_spaces"),d=t("../util/parse_color"),g=t("../util/extend"),m=t("../util/get_type"),v=t("../util/interpolate");e.exports=r,e.exports.isFunctionDefinition=h,e.exports.interpolationFactor=f,e.exports.findStopLessThanOrEqualTo=c},{"../util/extend":121,"../util/get_type":122,"../util/interpolate":123,"../util/parse_color":124,"./color_spaces":106}],108:[function(t,e,n){"use strict";function i(t){return s(o.map(function(e){return t[e]}))}function r(t){for(var e={},n=0;n<t.length;n++){var r=i(t[n]),o=e[r];o||(o=e[r]=[]),o.push(t[n])}var s=[];for(var a in e)s.push(e[a]);return s}var o=t("./util/ref_properties"),s=t("fast-stable-stringify");e.exports=r},{"./util/ref_properties":125,"fast-stable-stringify":110}],109:[function(t,e,n){function i(t){return t=Math.round(t),t<0?0:t>255?255:t}function r(t){return t<0?0:t>1?1:t}function o(t){return i("%"===t[t.length-1]?parseFloat(t)/100*255:parseInt(t))}function s(t){return r("%"===t[t.length-1]?parseFloat(t)/100:parseFloat(t))}function a(t,e,n){return n<0?n+=1:n>1&&(n-=1),6*n<1?t+(e-t)*n*6:2*n<1?e:3*n<2?t+(e-t)*(2/3-n)*6:t}function u(t){var e=t.replace(/ /g,"").toLowerCase();if(e in l)return l[e].slice();if("#"===e[0]){if(4===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=4095?[(3840&n)>>4|(3840&n)>>8,240&n|(240&n)>>4,15&n|(15&n)<<4,1]:null}if(7===e.length){var n=parseInt(e.substr(1),16);return n>=0&&n<=16777215?[(16711680&n)>>16,(65280&n)>>8,255&n,1]:null}return null}var r=e.indexOf("("),u=e.indexOf(")");if(r!==-1&&u+1===e.length){var c=e.substr(0,r),h=e.substr(r+1,u-(r+1)).split(","),f=1;switch(c){case"rgba":if(4!==h.length)return null;f=s(h.pop());case"rgb":return 3!==h.length?null:[o(h[0]),o(h[1]),o(h[2]),f];case"hsla":if(4!==h.length)return null;f=s(h.pop());case"hsl":if(3!==h.length)return null;var p=(parseFloat(h[0])%360+360)%360/360,d=s(h[1]),g=s(h[2]),m=g<=.5?g*(d+1):g+d-g*d,v=2*g-m;return[i(255*a(v,m,p+1/3)),i(255*a(v,m,p)),i(255*a(v,m,p-1/3)),f];default:return null}}return null}var l={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],rebeccapurple:[102,51,153,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};try{n.parseCSSColor=u}catch(t){}},{}],110:[function(t,e,n){function i(t){var e,n,r,l,c,h;switch(typeof t){case"object":if(null===t)return null;if(o(t)){for(r="[",n=t.length-1,e=0;e<n;e++)r+=i(t[e])+",";return n>-1&&(r+=i(t[e])),r+"]"}for(l=s(t).sort(),n=l.length,r="{",c=l[e=0],h=n>0&&void 0!==t[c];e<n;)h?(r+='"'+c.replace(a,u)+'":'+i(t[c]),c=l[++e],h=e<n&&void 0!==t[c],h&&(r+=",")):(c=l[++e],h=e<n&&void 0!==t[c]);return r+"}";case"undefined":return null;case"string":return'"'+t.replace(a,u)+'"';default:return t}}var r={}.toString,o=Array.isArray||function(t){return"[object Array]"===r.call(t)},s=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e},a=/[\u0000-\u001f"\\]/g,u=function(t){var e=t.charCodeAt(0);switch(e){case 34:return'\\"';case 92:return"\\\\";case 12:return"\\f";case 10:return"\\n";case 13:return"\\r";case 9:return"\\t";case 8:return"\\b";default:return e>15?"\\u00"+e.toString(16):"\\u000"+e.toString(16)}};e.exports=function(t){if(void 0!==t)return""+i(t)},e.exports.stringSearch=a,e.exports.stringReplace=u},{}],111:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function r(t,e){for(var n=-1,i=t.length;++n<i;)if(e(t[n],n,t))return!0;return!1}function o(t,e,n,r,a,u){return t===e||(null==t||null==e||!c(t)&&!i(e)?t!==t&&e!==e:s(t,e,o,n,r,a,u))}function s(t,e,n,i,r,o,s){var c=h(t),p=h(e),m=g,v=g;c||(m=S.call(t),m==d?m=x:m!=x&&(c=f(t))),p||(v=S.call(e),v==d?v=x:v!=x&&(p=f(e)));var y=m==x,b=v==x,_=m==v;if(_&&!c&&!y)return u(t,e,m);if(!r){var E=y&&T.call(t,"__wrapped__"),w=b&&T.call(e,"__wrapped__");if(E||w)return n(E?t.value():t,w?e.value():e,i,r,o,s)}if(!_)return!1;o||(o=[]),s||(s=[]);for(var A=o.length;A--;)if(o[A]==t)return s[A]==e;o.push(t),s.push(e);var I=(c?a:l)(t,e,n,i,r,o,s);return o.pop(),s.pop(),I}function a(t,e,n,i,o,s,a){var u=-1,l=t.length,c=e.length;if(l!=c&&!(o&&c>l))return!1;for(;++u<l;){var h=t[u],f=e[u],p=i?i(o?f:h,o?h:f,u):void 0;if(void 0!==p){if(p)continue;return!1}if(o){if(!r(e,function(t){return h===t||n(h,t,i,o,s,a)}))return!1}else if(h!==f&&!n(h,f,i,o,s,a))return!1}return!0}function u(t,e,n){switch(n){case m:case v:return+t==+e;case y:return t.name==e.name&&t.message==e.message;case b:return t!=+t?e!=+e:t==+e;case _:case E:return t==e+""}return!1}function l(t,e,n,i,r,o,s){var a=p(t),u=a.length,l=p(e),c=l.length;if(u!=c&&!r)return!1;for(var h=u;h--;){var f=a[h];if(!(r?f in e:T.call(e,f)))return!1}for(var d=r;++h<u;){f=a[h];var g=t[f],m=e[f],v=i?i(r?m:g,r?g:m,f):void 0;if(!(void 0===v?n(g,m,i,r,o,s):v))return!1;d||(d="constructor"==f)}if(!d){var y=t.constructor,b=e.constructor;if(y!=b&&"constructor"in t&&"constructor"in e&&!("function"==typeof y&&y instanceof y&&"function"==typeof b&&b instanceof b))return!1}return!0}function c(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}var h=t("lodash.isarray"),f=t("lodash.istypedarray"),p=t("lodash.keys"),d="[object Arguments]",g="[object Array]",m="[object Boolean]",v="[object Date]",y="[object Error]",b="[object Number]",x="[object Object]",_="[object RegExp]",E="[object String]",w=Object.prototype,T=w.hasOwnProperty,S=w.toString;e.exports=o},{"lodash.isarray":115,"lodash.istypedarray":117,"lodash.keys":118}],112:[function(t,e,n){function i(t,e,n){if("function"!=typeof t)return r;if(void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 3:return function(n,i,r){return t.call(e,n,i,r)};case 4:return function(n,i,r,o){return t.call(e,n,i,r,o)};case 5:return function(n,i,r,o,s){return t.call(e,n,i,r,o,s)}}return function(){return t.apply(e,arguments)}}function r(t){return t}e.exports=i},{}],113:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return a(n)?n:void 0}function o(t){return s(t)&&p.call(t)==u}function s(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function a(t){return null!=t&&(o(t)?d.test(h.call(t)):i(t)&&l.test(t))}var u="[object Function]",l=/^\[object .+?Constructor\]$/,c=Object.prototype,h=Function.prototype.toString,f=c.hasOwnProperty,p=c.toString,d=RegExp("^"+h.call(f).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},{}],114:[function(t,e,n){function i(t){return o(t)&&g.call(t,"callee")&&(!v.call(t,"callee")||m.call(t)==h)}function r(t){return null!=t&&a(t.length)&&!s(t)}function o(t){return l(t)&&r(t)}function s(t){var e=u(t)?m.call(t):"";return e==f||e==p}function a(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=c}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){return!!t&&"object"==typeof t}var c=9007199254740991,h="[object Arguments]",f="[object Function]",p="[object GeneratorFunction]",d=Object.prototype,g=d.hasOwnProperty,m=d.toString,v=d.propertyIsEnumerable;e.exports=i},{}],115:[function(t,e,n){function i(t){return!!t&&"object"==typeof t}function r(t,e){var n=null==t?void 0:t[e];return u(n)?n:void 0}function o(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=y}function s(t){return a(t)&&g.call(t)==c}function a(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function u(t){return null!=t&&(s(t)?m.test(p.call(t)):i(t)&&h.test(t))}var l="[object Array]",c="[object Function]",h=/^\[object .+?Constructor\]$/,f=Object.prototype,p=Function.prototype.toString,d=f.hasOwnProperty,g=f.toString,m=RegExp("^"+p.call(d).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),v=r(Array,"isArray"),y=9007199254740991,b=v||function(t){return i(t)&&o(t.length)&&g.call(t)==l};e.exports=b},{}],116:[function(t,e,n){function i(t,e,n,i){n="function"==typeof n?o(n,i,3):void 0;var s=n?n(t,e):void 0;return void 0===s?r(t,e,n):!!s}var r=t("lodash._baseisequal"),o=t("lodash._bindcallback");e.exports=i},{"lodash._baseisequal":111,"lodash._bindcallback":112}],117:[function(t,e,n){function i(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=s}function r(t){return!!t&&"object"==typeof t}function o(t){return r(t)&&i(t.length)&&!!N[O.call(t)]}var s=9007199254740991,a="[object Arguments]",u="[object Array]",l="[object Boolean]",c="[object Date]",h="[object Error]",f="[object Function]",p="[object Map]",d="[object Number]",g="[object Object]",m="[object RegExp]",v="[object Set]",y="[object String]",b="[object WeakMap]",x="[object ArrayBuffer]",_="[object DataView]",E="[object Float32Array]",w="[object Float64Array]",T="[object Int8Array]",S="[object Int16Array]",A="[object Int32Array]",I="[object Uint8Array]",C="[object Uint8ClampedArray]",L="[object Uint16Array]",M="[object Uint32Array]",N={};N[E]=N[w]=N[T]=N[S]=N[A]=N[I]=N[C]=N[L]=N[M]=!0,N[a]=N[u]=N[x]=N[l]=N[_]=N[c]=N[h]=N[f]=N[p]=N[d]=N[g]=N[m]=N[v]=N[y]=N[b]=!1;var R=Object.prototype,O=R.toString;e.exports=o},{}],118:[function(t,e,n){function i(t){return function(e){return null==e?void 0:e[t]}}function r(t){return null!=t&&s(y(t))}function o(t,e){return t="number"==typeof t||p.test(t)?+t:-1,e=null==e?v:e,t>-1&&t%1==0&&t<e}function s(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=v}function a(t){for(var e=l(t),n=e.length,i=n&&t.length,r=!!i&&s(i)&&(f(t)||h(t)),a=-1,u=[];++a<n;){var c=e[a];(r&&o(c,i)||g.call(t,c))&&u.push(c)}return u}function u(t){var e=typeof t;return!!t&&("object"==e||"function"==e)}function l(t){if(null==t)return[];u(t)||(t=Object(t));var e=t.length;e=e&&s(e)&&(f(t)||h(t))&&e||0;for(var n=t.constructor,i=-1,r="function"==typeof n&&n.prototype===t,a=Array(e),l=e>0;++i<e;)a[i]=i+"";for(var c in t)l&&o(c,e)||"constructor"==c&&(r||!g.call(t,c))||a.push(c);return a}var c=t("lodash._getnative"),h=t("lodash.isarguments"),f=t("lodash.isarray"),p=/^\d+$/,d=Object.prototype,g=d.hasOwnProperty,m=c(Object,"keys"),v=9007199254740991,y=i("length"),b=m?function(t){var e=null==t?void 0:t.constructor;return"function"==typeof e&&e.prototype===t||"function"!=typeof t&&r(t)?a(t):u(t)?m(t):[]}:a;e.exports=b},{"lodash._getnative":113,"lodash.isarguments":114,"lodash.isarray":115}],119:[function(t,e,n){"use strict";e.exports=t("./v8.json")},{"./v8.json":120}],120:[function(t,e,n){e.exports={$version:8,$root:{version:{required:true,type:"enum",values:[8]},name:{type:"string"},metadata:{type:"*"},center:{type:"array",value:"number"},zoom:{type:"number"},bearing:{type:"number",default:0,period:360,units:"degrees"},pitch:{type:"number",default:0,units:"degrees"},light:{type:"light"},sources:{required:true,type:"sources"},sprite:{type:"string"},glyphs:{type:"string"},transition:{type:"transition"},layers:{required:true,type:"array",value:"layer"}},sources:{"*":{type:"source"}},source:["source_tile","source_geojson","source_video","source_image","source_canvas"],source_tile:{type:{required:true,type:"enum",values:{vector:{},raster:{}}},url:{type:"string"},tiles:{type:"array",value:"string"},minzoom:{type:"number",default:0},maxzoom:{type:"number",default:22},tileSize:{type:"number",default:512,units:"pixels"},"*":{type:"*"}},source_geojson:{type:{required:true,type:"enum",values:{geojson:{}}},data:{type:"*"},maxzoom:{type:"number",default:18},buffer:{type:"number",default:128,maximum:512,minimum:0},tolerance:{type:"number",default:.375},cluster:{type:"boolean",default:false},clusterRadius:{type:"number",default:50,minimum:0},clusterMaxZoom:{type:"number"}},source_video:{type:{required:true,type:"enum",values:{video:{}}},urls:{required:true,type:"array",value:"string"},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_image:{type:{required:true,type:"enum",values:{image:{}}},url:{required:true,type:"string"},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}}},source_canvas:{type:{required:true,type:"enum",values:{canvas:{}}},coordinates:{required:true,type:"array",length:4,value:{type:"array",length:2,value:"number"}},animate:{type:"boolean",default:"true"},canvas:{type:"string",required:true}},layer:{id:{type:"string",required:true},type:{type:"enum",values:{fill:{},line:{},symbol:{},circle:{},"fill-extrusion":{},raster:{},background:{}}},metadata:{type:"*"},ref:{type:"string"},source:{type:"string"},"source-layer":{type:"string"},minzoom:{type:"number",minimum:0,maximum:24},maxzoom:{type:"number",minimum:0,maximum:24},filter:{type:"filter"},layout:{type:"layout"},paint:{type:"paint"},"paint.*":{type:"paint"}},layout:["layout_fill","layout_line","layout_circle","layout_fill-extrusion","layout_symbol","layout_raster","layout_background"],layout_background:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_fill:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_circle:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},"layout_fill-extrusion":{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_line:{"line-cap":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{butt:{},round:{},square:{}},default:"butt"},"line-join":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{bevel:{},round:{},miter:{}},default:"miter"},"line-miter-limit":{type:"number",default:2,function:"interpolated","zoom-function":true,requires:[{"line-join":"miter"}]},"line-round-limit":{type:"number",default:1.05,function:"interpolated","zoom-function":true,requires:[{"line-join":"round"}]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_symbol:{"symbol-placement":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{point:{},line:{}},default:"point"},"symbol-spacing":{type:"number",default:250,minimum:1,function:"interpolated","zoom-function":true,units:"pixels",requires:[{"symbol-placement":"line"}]},"symbol-avoid-edges":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false},"icon-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image"]},"icon-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image"]},"icon-optional":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image","text-field"]},"icon-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["icon-image"]},"icon-size":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,requires:["icon-image"]},"icon-text-fit":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{none:{},width:{},height:{},both:{}},default:"none",requires:["icon-image","text-field"]},"icon-text-fit-padding":{type:"array",value:"number",length:4,default:[0,0,0,0],units:"pixels",function:"interpolated","zoom-function":true,requires:["icon-image","text-field",{"icon-text-fit":["both","width","height"]}]},"icon-image":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,tokens:true},"icon-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":true,"property-function":true,units:"degrees",requires:["icon-image"]},"icon-padding":{type:"number",default:2,minimum:0,function:"interpolated","zoom-function":true,units:"pixels",requires:["icon-image"]},"icon-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["icon-image",{"icon-rotation-alignment":"map"},{"symbol-placement":"line"}]},"icon-offset":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,"property-function":true,requires:["icon-image"]},"text-pitch-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-rotation-alignment":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{},auto:{}},default:"auto",requires:["text-field"]},"text-field":{type:"string",function:"piecewise-constant","zoom-function":true,"property-function":true,default:"",tokens:true},"text-font":{type:"array",value:"string",function:"piecewise-constant","zoom-function":true,default:["Open Sans Regular","Arial Unicode MS Regular"],requires:["text-field"]},"text-size":{type:"number",default:16,minimum:0,units:"pixels",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-max-width":{type:"number",default:10,minimum:0,units:"ems",function:"interpolated","zoom-function":true,requires:["text-field"]},"text-line-height":{type:"number",default:1.2,units:"ems",function:"interpolated","zoom-function":true,requires:["text-field"]},"text-letter-spacing":{type:"number",default:0,units:"ems",function:"interpolated","zoom-function":true,requires:["text-field"]},"text-justify":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{left:{},center:{},right:{}},default:"center",requires:["text-field"]},"text-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{center:{},left:{},right:{},top:{},bottom:{},"top-left":{},"top-right":{},"bottom-left":{},"bottom-right":{}},default:"center",requires:["text-field"]},"text-max-angle":{type:"number",default:45,units:"degrees",function:"interpolated","zoom-function":true,requires:["text-field",{"symbol-placement":"line"}]},"text-rotate":{type:"number",default:0,period:360,units:"degrees",function:"interpolated","zoom-function":true,"property-function":true,requires:["text-field"]},"text-padding":{type:"number",default:2,minimum:0,units:"pixels",function:"interpolated","zoom-function":true,requires:["text-field"]},"text-keep-upright":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:true,requires:["text-field",{"text-rotation-alignment":"map"},{"symbol-placement":"line"}]},"text-transform":{type:"enum",function:"piecewise-constant","zoom-function":true,"property-function":true,values:{none:{},uppercase:{},lowercase:{}},default:"none",requires:["text-field"]},"text-offset":{type:"array",value:"number",units:"ems",function:"interpolated","zoom-function":true,"property-function":true,length:2,default:[0,0],requires:["text-field"]},"text-allow-overlap":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["text-field"]},"text-ignore-placement":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["text-field"]},"text-optional":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:false,requires:["text-field","icon-image"]},visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},layout_raster:{visibility:{type:"enum",values:{visible:{},none:{}},default:"visible"}},filter:{type:"array",value:"*"},filter_operator:{type:"enum",values:{"==":{},"!=":{},">":{},">=":{},"<":{},"<=":{},in:{},"!in":{},all:{},any:{},none:{},has:{},"!has":{}}},geometry_type:{type:"enum",values:{Point:{},LineString:{},Polygon:{}}},function:{stops:{type:"array",value:"function_stop"},base:{type:"number",default:1,minimum:0},property:{type:"string",default:"$zoom"},type:{type:"enum",values:{identity:{},exponential:{},interval:{},categorical:{}},default:"exponential"},colorSpace:{type:"enum",values:{rgb:{},lab:{},hcl:{}},default:"rgb"},default:{type:"*",required:false}},function_stop:{type:"array",minimum:0,maximum:22,value:["number","color"],length:2},light:{anchor:{type:"enum",default:"viewport",values:{map:{},viewport:{}},transition:false},position:{type:"array",default:[1.15,210,30],length:3,value:"number",transition:true,function:"interpolated","zoom-function":true,"property-function":false},color:{type:"color",default:"#ffffff",function:"interpolated","zoom-function":true,"property-function":false,transition:true},intensity:{type:"number",default:.5,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":false,transition:true}},paint:["paint_fill","paint_line","paint_circle","paint_fill-extrusion","paint_symbol","paint_raster","paint_background"],paint_fill:{"fill-antialias":{type:"boolean",function:"piecewise-constant","zoom-function":true,default:true},"fill-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:1,minimum:0,maximum:1,transition:true},"fill-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-pattern"}]},"fill-outline-color":{type:"color",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-pattern"},{"fill-antialias":true}]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"fill-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["fill-translate"]},"fill-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true}},"paint_fill-extrusion":{"fill-extrusion-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":false,default:1,minimum:0,maximum:1,transition:true},"fill-extrusion-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"fill-extrusion-pattern"}]},"fill-extrusion-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"fill-extrusion-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["fill-extrusion-translate"]},"fill-extrusion-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true},"fill-extrusion-height":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:0,minimum:0,maximum:65535,units:"meters",transition:true},"fill-extrusion-base":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:0,minimum:0,maximum:65535,units:"meters",transition:true,requires:["fill-extrusion-height"]}},paint_line:{"line-opacity":{type:"number",function:"interpolated","zoom-function":true,"property-function":true,default:1,minimum:0,maximum:1,transition:true},"line-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:[{"!":"line-pattern"}]},"line-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"line-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["line-translate"]},"line-width":{type:"number",default:1,minimum:0,function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"line-gap-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-offset":{type:"number",default:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"line-dasharray":{type:"array",value:"number",function:"piecewise-constant","zoom-function":true,minimum:0,transition:true,units:"line widths",requires:[{"!":"line-pattern"}]},"line-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true}},paint_circle:{"circle-radius":{type:"number",default:5,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"circle-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-blur":{type:"number",default:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels"},"circle-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["circle-translate"]},"circle-pitch-scale":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map"},"circle-stroke-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels"},"circle-stroke-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true},"circle-stroke-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true}},paint_symbol:{"icon-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["icon-image"]},"icon-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels",requires:["icon-image"]},"icon-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["icon-image","icon-translate"]},"text-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-halo-color":{type:"color",default:"rgba(0, 0, 0, 0)",function:"interpolated","zoom-function":true,"property-function":true,transition:true,requires:["text-field"]},"text-halo-width":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-halo-blur":{type:"number",default:0,minimum:0,function:"interpolated","zoom-function":true,"property-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-translate":{type:"array",value:"number",length:2,default:[0,0],function:"interpolated","zoom-function":true,transition:true,units:"pixels",requires:["text-field"]},"text-translate-anchor":{type:"enum",function:"piecewise-constant","zoom-function":true,values:{map:{},viewport:{}},default:"map",requires:["text-field","text-translate"]}},paint_raster:{"raster-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-hue-rotate":{type:"number",default:0,period:360,function:"interpolated","zoom-function":true,transition:true,units:"degrees"},"raster-brightness-min":{type:"number",function:"interpolated","zoom-function":true,default:0,minimum:0,maximum:1,transition:true},"raster-brightness-max":{type:"number",function:"interpolated","zoom-function":true,default:1,minimum:0,maximum:1,transition:true},"raster-saturation":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-contrast":{type:"number",default:0,minimum:-1,maximum:1,function:"interpolated","zoom-function":true,transition:true},"raster-fade-duration":{type:"number",default:300,minimum:0,function:"interpolated","zoom-function":true,transition:true,units:"milliseconds"}},paint_background:{"background-color":{type:"color",default:"#000000",function:"interpolated","zoom-function":true,transition:true,requires:[{"!":"background-pattern"}]},"background-pattern":{type:"string",function:"piecewise-constant","zoom-function":true,transition:true},"background-opacity":{type:"number",default:1,minimum:0,maximum:1,function:"interpolated","zoom-function":true,transition:true}},transition:{duration:{type:"number",default:300,minimum:0,units:"milliseconds"},delay:{type:"number",default:0,minimum:0,units:"milliseconds"}}}},{}],121:[function(t,e,n){"use strict";e.exports=function(t){for(var e=arguments,n=1;n<arguments.length;n++){var i=e[n];for(var r in i)t[r]=i[r]}return t}},{}],122:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number?"number":t instanceof String?"string":t instanceof Boolean?"boolean":Array.isArray(t)?"array":null===t?"null":typeof t}},{}],123:[function(t,e,n){"use strict";function i(t,e,n){return t*(1-n)+e*n}e.exports=i,i.number=i,i.vec2=function(t,e,n){return[i(t[0],e[0],n),i(t[1],e[1],n)]},i.color=function(t,e,n){return[i(t[0],e[0],n),i(t[1],e[1],n),i(t[2],e[2],n),i(t[3],e[3],n)]},i.array=function(t,e,n){return t.map(function(t,r){return i(t,e[r],n)})}},{}],124:[function(t,e,n){"use strict";var i=t("csscolorparser").parseCSSColor;e.exports=function(t){if("string"==typeof t){var e=i(t);if(!e)return;return[e[0]/255*e[3],e[1]/255*e[3],e[2]/255*e[3],e[3]]}return Array.isArray(t)?t:void 0}},{csscolorparser:109}],125:[function(t,e,n){"use strict";e.exports=["type","source","source-layer","minzoom","maxzoom","filter","layout"]},{}],126:[function(t,e,n){"use strict";e.exports=function(t){return t instanceof Number||t instanceof String||t instanceof Boolean?t.valueOf():t}},{}],127:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/get_type"),o=t("../util/extend");e.exports=function(e){var n=t("./validate_function"),s=t("./validate_object"),a={"*":function(){return[]},array:t("./validate_array"),boolean:t("./validate_boolean"),number:t("./validate_number"),color:t("./validate_color"),constants:t("./validate_constants"),enum:t("./validate_enum"),filter:t("./validate_filter"),function:t("./validate_function"),layer:t("./validate_layer"),object:t("./validate_object"),source:t("./validate_source"),light:t("./validate_light"),string:t("./validate_string")},u=e.value,l=e.valueSpec,c=e.key,h=e.styleSpec,f=e.style;if("string"===r(u)&&"@"===u[0]){if(h.$version>7)return[new i(c,u,"constants have been deprecated as of v8")];if(!(u in f.constants))return[new i(c,u,'constant "%s" not found',u)];e=o({},e,{value:f.constants[u]})}return l.function&&"object"===r(u)?n(e):l.type&&a[l.type]?a[l.type](e):s(o({},e,{valueSpec:l.type?h[l.type]:l}))}},{"../error/validation_error":104,"../util/extend":121,"../util/get_type":122,"./validate_array":128,"./validate_boolean":129,"./validate_color":130,"./validate_constants":131,"./validate_enum":132,"./validate_filter":133,"./validate_function":134,"./validate_layer":136,"./validate_light":138,"./validate_number":139,"./validate_object":140,"./validate_source":143,"./validate_string":144}],128:[function(t,e,n){"use strict";var i=t("../util/get_type"),r=t("./validate"),o=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.valueSpec,s=t.style,a=t.styleSpec,u=t.key,l=t.arrayElementValidator||r;if("array"!==i(e))return[new o(u,e,"array expected, %s found",i(e))];if(n.length&&e.length!==n.length)return[new o(u,e,"array length %d expected, length %d found",n.length,e.length)];if(n["min-length"]&&e.length<n["min-length"])return[new o(u,e,"array length at least %d expected, length %d found",n["min-length"],e.length)];var c={type:n.value};a.$version<7&&(c.function=n.function),"object"===i(n.value)&&(c=n.value);for(var h=[],f=0;f<e.length;f++)h=h.concat(l({array:e,arrayIndex:f,value:e[f],valueSpec:c,style:s,styleSpec:a,key:u+"["+f+"]"}));return h}},{"../error/validation_error":104,"../util/get_type":122,"./validate":127}],129:[function(t,e,n){"use strict";var i=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=i(e);return"boolean"!==o?[new r(n,e,"boolean expected, %s found",o)]:[]}},{"../error/validation_error":104,"../util/get_type":122}],130:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/get_type"),o=t("csscolorparser").parseCSSColor;e.exports=function(t){var e=t.key,n=t.value,s=r(n);return"string"!==s?[new i(e,n,"color expected, %s found",s)]:null===o(n)?[new i(e,n,'color expected, "%s" found',n)]:[]}},{"../error/validation_error":104,"../util/get_type":122,csscolorparser:109}],131:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/get_type");e.exports=function(t){var e=t.key,n=t.value,o=t.styleSpec;if(o.$version>7)return n?[new i(e,n,"constants have been deprecated as of v8")]:[];var s=r(n);if("object"!==s)return[new i(e,n,"object expected, %s found",s)];var a=[];for(var u in n)"@"!==u[0]&&a.push(new i(e+"."+u,n[u],'constants must start with "@"'));return a}},{"../error/validation_error":104,"../util/get_type":122}],132:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/unbundle_jsonlint");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,s=[];return Array.isArray(o.values)?o.values.indexOf(r(n))===-1&&s.push(new i(e,n,"expected one of [%s], %s found",o.values.join(", "),n)):Object.keys(o.values).indexOf(r(n))===-1&&s.push(new i(e,n,"expected one of [%s], %s found",Object.keys(o.values).join(", "),n)),s}},{"../error/validation_error":104,"../util/unbundle_jsonlint":126}],133:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("./validate_enum"),o=t("../util/get_type"),s=t("../util/unbundle_jsonlint");e.exports=function t(e){var n,a=e.value,u=e.key,l=e.styleSpec,c=[];if("array"!==o(a))return[new i(u,a,"array expected, %s found",o(a))];if(a.length<1)return[new i(u,a,"filter array must have at least 1 element")];switch(c=c.concat(r({key:u+"[0]",value:a[0],valueSpec:l.filter_operator,style:e.style,styleSpec:e.styleSpec})),s(a[0])){case"<":case"<=":case">":case">=":a.length>=2&&"$type"===s(a[1])&&c.push(new i(u,a,'"$type" cannot be use with operator "%s"',a[0]));case"==":case"!=":3!==a.length&&c.push(new i(u,a,'filter array for operator "%s" must have 3 elements',a[0]));case"in":case"!in":a.length>=2&&(n=o(a[1]),"string"!==n&&c.push(new i(u+"[1]",a[1],"string expected, %s found",n)));for(var h=2;h<a.length;h++)n=o(a[h]),"$type"===s(a[1])?c=c.concat(r({key:u+"["+h+"]",value:a[h],valueSpec:l.geometry_type,style:e.style,styleSpec:e.styleSpec})):"string"!==n&&"number"!==n&&"boolean"!==n&&c.push(new i(u+"["+h+"]",a[h],"string, number, or boolean expected, %s found",n));break;case"any":case"all":case"none":for(var f=1;f<a.length;f++)c=c.concat(t({key:u+"["+f+"]",value:a[f],style:e.style,styleSpec:e.styleSpec}));break;case"has":case"!has":n=o(a[1]),2!==a.length?c.push(new i(u,a,'filter array for "%s" operator must have 2 elements',a[0])):"string"!==n&&c.push(new i(u+"[1]",a[1],"string expected, %s found",n))}return c}},{"../error/validation_error":104,"../util/get_type":122,"../util/unbundle_jsonlint":126,"./validate_enum":132}],134:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate"),s=t("./validate_object"),a=t("./validate_array"),u=t("./validate_number"),l=t("../util/unbundle_jsonlint");e.exports=function(t){function e(t){if("identity"===m)return[new i(t.key,t.value,'identity function may not have a "stops" property')];var e=[],o=t.value;return e=e.concat(a({key:t.key,value:o,valueSpec:t.valueSpec,style:t.style,styleSpec:t.styleSpec,arrayElementValidator:n})),"array"===r(o)&&0===o.length&&e.push(new i(t.key,o,"array must have at least one stop")),e}function n(t){var e=[],n=t.value,a=t.key;if("array"!==r(n))return[new i(a,n,"array expected, %s found",r(n))];if(2!==n.length)return[new i(a,n,"array length %d expected, length %d found",2,n.length)];if(x){if("object"!==r(n[0]))return[new i(a,n,"object expected, %s found",r(n[0]))];if(void 0===n[0].zoom)return[new i(a,n,"object stop key must have zoom")];if(void 0===n[0].value)return[new i(a,n,"object stop key must have value")];if(d&&d>l(n[0].zoom))return[new i(a,n[0].zoom,"stop zoom values must appear in ascending order")];l(n[0].zoom)!==d&&(d=l(n[0].zoom),p=void 0,v={}),e=e.concat(s({key:a+"[0]",value:n[0],valueSpec:{zoom:{}},style:t.style,styleSpec:t.styleSpec,objectElementValidators:{zoom:u,value:c}}))}else e=e.concat(c({key:a+"[0]",value:n[0],valueSpec:{},style:t.style,styleSpec:t.styleSpec}));return e.concat(o({key:a+"[1]",value:n[1],valueSpec:g,style:t.style,styleSpec:t.styleSpec}))}function c(t){var e=r(t.value),n=l(t.value);if(f){if(e!==f)return[new i(t.key,t.value,"%s stop domain type must match previous stop domain type %s",e,f)]}else f=e;if("number"!==e&&"string"!==e&&"boolean"!==e)return[new i(t.key,t.value,"stop domain value must be a number, string, or boolean")];if("number"!==e&&"categorical"!==m){var o="number expected, %s found";return g["property-function"]&&void 0===m&&(o+='\nIf you intended to use a categorical function, specify `"type": "categorical"`.'),[new i(t.key,t.value,o,e)]}return"categorical"!==m||"number"!==e||isFinite(n)&&Math.floor(n)===n?"number"===e&&void 0!==p&&n<p?[new i(t.key,t.value,"stop domain values must appear in ascending order")]:(p=n,"categorical"===m&&n in v?[new i(t.key,t.value,"stop domain values must be unique")]:(v[n]=!0,[])):[new i(t.key,t.value,"integer expected, found %s",n)]}function h(t){return o({key:t.key,value:t.value,valueSpec:g,style:t.style,styleSpec:t.styleSpec})}var f,p,d,g=t.valueSpec,m=l(t.value.type),v={},y="categorical"!==m&&void 0===t.value.property,b=!y,x="array"===r(t.value.stops)&&"array"===r(t.value.stops[0])&&"object"===r(t.value.stops[0][0]),_=s({key:t.key,value:t.value,valueSpec:t.styleSpec.function,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{stops:e,default:h}});return"identity"===m&&y&&_.push(new i(t.key,t.value,'missing required property "property"')),"identity"===m||t.value.stops||_.push(new i(t.key,t.value,'missing required property "stops"')),"exponential"===m&&"piecewise-constant"===t.valueSpec.function&&_.push(new i(t.key,t.value,"exponential functions not supported")),t.styleSpec.$version>=8&&(b&&!t.valueSpec["property-function"]?_.push(new i(t.key,t.value,"property functions not supported")):y&&!t.valueSpec["zoom-function"]&&_.push(new i(t.key,t.value,"zoom functions not supported"))),"categorical"!==m&&!x||void 0!==t.value.property||_.push(new i(t.key,t.value,'"property" property is required')),_}},{"../error/validation_error":104,"../util/get_type":122,"../util/unbundle_jsonlint":126,"./validate":127,"./validate_array":128,"./validate_number":139,"./validate_object":140}],135:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("./validate_string");e.exports=function(t){var e=t.value,n=t.key,o=r(t);return o.length?o:(e.indexOf("{fontstack}")===-1&&o.push(new i(n,e,'"glyphs" url must include a "{fontstack}" token')),e.indexOf("{range}")===-1&&o.push(new i(n,e,'"glyphs" url must include a "{range}" token')),o)}},{"../error/validation_error":104,"./validate_string":144}],136:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/unbundle_jsonlint"),o=t("./validate_object"),s=t("./validate_filter"),a=t("./validate_paint_property"),u=t("./validate_layout_property"),l=t("../util/extend");e.exports=function(t){var e=[],n=t.value,c=t.key,h=t.style,f=t.styleSpec;n.type||n.ref||e.push(new i(c,n,'either "type" or "ref" is required'));var p=r(n.type),d=r(n.ref);if(n.id)for(var g=r(n.id),m=0;m<t.arrayIndex;m++){var v=h.layers[m];r(v.id)===g&&e.push(new i(c,n.id,'duplicate layer id "%s", previously used at line %d',n.id,v.id.__line__))}if("ref"in n){["type","source","source-layer","filter","layout"].forEach(function(t){t in n&&e.push(new i(c,n[t],'"%s" is prohibited for ref layers',t))});var y;h.layers.forEach(function(t){r(t.id)===d&&(y=t)}),y?y.ref?e.push(new i(c,n.ref,"ref cannot reference another ref layer")):p=r(y.type):e.push(new i(c,n.ref,'ref layer "%s" not found',d))}else if("background"!==p)if(n.source){var b=h.sources&&h.sources[n.source],x=b&&r(b.type);b?"vector"===x&&"raster"===p?e.push(new i(c,n.source,'layer "%s" requires a raster source',n.id)):"raster"===x&&"raster"!==p?e.push(new i(c,n.source,'layer "%s" requires a vector source',n.id)):"vector"!==x||n["source-layer"]||e.push(new i(c,n,'layer "%s" must specify a "source-layer"',n.id)):e.push(new i(c,n.source,'source "%s" not found',n.source))}else e.push(new i(c,n,'missing required property "source"'));return e=e.concat(o({key:c,value:n,valueSpec:f.layer,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(){return[]},filter:s,layout:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return u(l({layerType:p},t))}}})},paint:function(t){return o({layer:n,key:t.key,value:t.value,style:t.style,styleSpec:t.styleSpec,objectElementValidators:{"*":function(t){return a(l({layerType:p},t))}}})}}}))}},{"../error/validation_error":104,"../util/extend":121,"../util/unbundle_jsonlint":126,"./validate_filter":133,"./validate_layout_property":137,"./validate_object":140,"./validate_paint_property":141}],137:[function(t,e,n){"use strict";var i=t("./validate_property");e.exports=function(t){return i(t,"layout")}},{"./validate_property":142}],138:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.value,n=t.styleSpec,s=n.light,a=t.style,u=[],l=r(e);if(void 0===e)return u;if("object"!==l)return u=u.concat([new i("light",e,"object expected, %s found",l)]);for(var c in e){var h=c.match(/^(.*)-transition$/);u=h&&s[h[1]]&&s[h[1]].transition?u.concat(o({key:c,value:e[c],valueSpec:n.transition,style:a,styleSpec:n})):s[c]?u.concat(o({key:c,value:e[c],valueSpec:s[c],style:a,styleSpec:n})):u.concat([new i(c,e[c],'unknown property "%s"',c)])}return u}},{"../error/validation_error":104,"../util/get_type":122,"./validate":127}],139:[function(t,e,n){"use strict";var i=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.key,n=t.value,o=t.valueSpec,s=i(n);return"number"!==s?[new r(e,n,"number expected, %s found",s)]:"minimum"in o&&n<o.minimum?[new r(e,n,"%s is less than the minimum value %s",n,o.minimum)]:"maximum"in o&&n>o.maximum?[new r(e,n,"%s is greater than the maximum value %s",n,o.maximum)]:[]}},{"../error/validation_error":104,"../util/get_type":122}],140:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/get_type"),o=t("./validate");e.exports=function(t){var e=t.key,n=t.value,s=t.valueSpec||{},a=t.objectElementValidators||{},u=t.style,l=t.styleSpec,c=[],h=r(n);if("object"!==h)return[new i(e,n,"object expected, %s found",h)];for(var f in n){var p=f.split(".")[0],d=s[p]||s["*"],g=void 0;if(a[p])g=a[p];else if(s[p])g=o;else if(a["*"])g=a["*"];else{if(!s["*"]){c.push(new i(e,n[f],'unknown property "%s"',f));continue}g=o}c=c.concat(g({key:(e?e+".":e)+f,value:n[f],valueSpec:d,style:u,styleSpec:l,object:n,objectKey:f}))}for(var m in s)s[m].required&&void 0===s[m].default&&void 0===n[m]&&c.push(new i(e,n,'missing required property "%s"',m));return c}},{"../error/validation_error":104,"../util/get_type":122,"./validate":127}],141:[function(t,e,n){"use strict";var i=t("./validate_property");e.exports=function(t){return i(t,"paint")}},{"./validate_property":142}],142:[function(t,e,n){"use strict";var i=t("./validate"),r=t("../error/validation_error"),o=t("../util/get_type");e.exports=function(t,e){var n=t.key,s=t.style,a=t.styleSpec,u=t.value,l=t.objectKey,c=a[e+"_"+t.layerType];if(!c)return[];var h=l.match(/^(.*)-transition$/);if("paint"===e&&h&&c[h[1]]&&c[h[1]].transition)return i({key:n,value:u,valueSpec:a.transition,style:s,styleSpec:a});var f=t.valueSpec||c[l];if(!f)return[new r(n,u,'unknown property "%s"',l)];var p;if("string"===o(u)&&f["property-function"]&&!f.tokens&&(p=/^{([^}]+)}$/.exec(u)))return[new r(n,u,'"%s" does not support interpolation syntax\nUse an identity property function instead: `{ "type": "identity", "property": %s` }`.',l,JSON.stringify(p[1]))];var d=[];return"symbol"===t.layerType&&"text-field"===l&&s&&!s.glyphs&&d.push(new r(n,u,'use of "text-field" requires a style "glyphs" property')),d.concat(i({key:t.key,value:u,valueSpec:f,style:s,styleSpec:a}))}},{"../error/validation_error":104,"../util/get_type":122,"./validate":127}],143:[function(t,e,n){"use strict";var i=t("../error/validation_error"),r=t("../util/unbundle_jsonlint"),o=t("./validate_object"),s=t("./validate_enum");e.exports=function(t){var e=t.value,n=t.key,a=t.styleSpec,u=t.style;if(!e.type)return[new i(n,e,'"type" is required')];var l=r(e.type),c=[];switch(l){case"vector":case"raster":if(c=c.concat(o({key:n,value:e,valueSpec:a.source_tile,style:t.style,styleSpec:a})),"url"in e)for(var h in e)["type","url","tileSize"].indexOf(h)<0&&c.push(new i(n+"."+h,e[h],'a source with a "url" property may not include a "%s" property',h));return c;case"geojson":return o({key:n,value:e,valueSpec:a.source_geojson,style:u,styleSpec:a});case"video":return o({key:n,value:e,valueSpec:a.source_video,style:u,styleSpec:a});case"image":return o({key:n,value:e,valueSpec:a.source_image,style:u,styleSpec:a});case"canvas":return o({key:n,value:e,valueSpec:a.source_canvas,style:u,styleSpec:a});default:return s({key:n+".type",value:e.type,valueSpec:{values:["vector","raster","geojson","video","image","canvas"]},style:u,styleSpec:a})}}},{"../error/validation_error":104,"../util/unbundle_jsonlint":126,"./validate_enum":132,"./validate_object":140}],144:[function(t,e,n){"use strict";var i=t("../util/get_type"),r=t("../error/validation_error");e.exports=function(t){var e=t.value,n=t.key,o=i(e);return"string"!==o?[new r(n,e,"string expected, %s found",o)]:[]}},{"../error/validation_error":104,"../util/get_type":122}],145:[function(t,e,n){"use strict";function i(t,e){e=e||u;var n=[];return n=n.concat(a({key:"",value:t,valueSpec:e.$root,styleSpec:e,style:t,objectElementValidators:{glyphs:l,"*":function(){return[]}}})),e.$version>7&&t.constants&&(n=n.concat(s({key:"constants",value:t.constants,style:t,styleSpec:e}))),r(n)}function r(t){return[].concat(t).sort(function(t,e){return t.line-e.line})}function o(t){return function(){return r(t.apply(this,arguments))}}var s=t("./validate/validate_constants"),a=t("./validate/validate"),u=t("./reference/latest"),l=t("./validate/validate_glyphs_url");i.source=o(t("./validate/validate_source")),i.light=o(t("./validate/validate_light")),i.layer=o(t("./validate/validate_layer")),i.filter=o(t("./validate/validate_filter")),i.paintProperty=o(t("./validate/validate_paint_property")),i.layoutProperty=o(t("./validate/validate_layout_property")),e.exports=i},{"./reference/latest":119,"./validate/validate":127,"./validate/validate_constants":131,"./validate/validate_filter":133,"./validate/validate_glyphs_url":135,"./validate/validate_layer":136,"./validate/validate_layout_property":137,"./validate/validate_light":138,"./validate/validate_paint_property":141,"./validate/validate_source":143}],146:[function(t,e,n){"use strict";var i=function(){this.n=0,this.times=[]};i.prototype.stopped=function(){return this.times=this.times.filter(function(t){return t.time>=(new Date).getTime()}),!this.times.length},i.prototype.set=function(t){return this.times.push({id:this.n,time:t+(new Date).getTime()}),this.n++},i.prototype.cancel=function(t){this.times=this.times.filter(function(e){return e.id!==t})},e.exports=i},{}],147:[function(t,e,n){"use strict";var i=t("../util/evented"),r=t("../util/ajax"),o=t("../util/browser"),s=t("../util/mapbox").normalizeSpriteURL,a=function(){this.x=0,this.y=0,this.width=0,this.height=0,this.pixelRatio=1,this.sdf=!1},u=function(t){function e(e,n){var i=this;t.call(this),this.base=e,this.retina=o.devicePixelRatio>1,this.setEventedParent(n);var a=this.retina?"@2x":"";r.getJSON(s(e,a,".json"),function(t,e){return t?void i.fire("error",{error:t}):(i.data=e,void(i.imgData&&i.fire("data",{dataType:"style"})))}),r.getImage(s(e,a,".png"),function(t,e){if(t)return void i.fire("error",{error:t});i.imgData=o.getImageData(e);for(var n=0;n<i.imgData.length;n+=4){var r=i.imgData[n+3]/255;i.imgData[n+0]*=r,i.imgData[n+1]*=r,i.imgData[n+2]*=r}i.width=e.width,i.data&&i.fire("data",{dataType:"style"})})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.toJSON=function(){return this.base},e.prototype.loaded=function(){return!(!this.data||!this.imgData)},e.prototype.resize=function(){var t=this;if(o.devicePixelRatio>1!==this.retina){var n=new e(this.base);n.on("data",function(){t.data=n.data,t.imgData=n.imgData,t.width=n.width,t.retina=n.retina})}},e.prototype.getSpritePosition=function(t){if(!this.loaded())return new a;var e=this.data&&this.data[t];return e&&this.imgData?e:new a},e}(i);e.exports=u},{"../util/ajax":194,"../util/browser":195,"../util/evented":203,"../util/mapbox":210}],148:[function(t,e,n){"use strict";var i=t("../style-spec/reference/latest"),r=t("../util/util"),o=t("../util/evented"),s=t("./validate_style"),a=t("./style_declaration"),u=t("./style_transition"),l="-transition",c=function(t){function e(e){t.call(this),this.properties=["anchor","color","position","intensity"],this._specifications=i.light,this.set(e)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.set=function(t){var e=this;if(!this._validate(s.light,t)){this._declarations={},this._transitions={},this._transitionOptions={},this.calculated={},t=r.extend({anchor:this._specifications.anchor.default,color:this._specifications.color.default,position:this._specifications.position.default,intensity:this._specifications.intensity.default},t);for(var n=0,i=e.properties;n<i.length;n+=1){var o=i[n];e._declarations[o]=new a(e._specifications[o],t[o])}return this}},e.prototype.getLight=function(){return{anchor:this.getLightProperty("anchor"),color:this.getLightProperty("color"),position:this.getLightProperty("position"),intensity:this.getLightProperty("intensity")}},e.prototype.getLightProperty=function(t){return r.endsWith(t,l)?this._transitionOptions[t]:this._declarations[t]&&this._declarations[t].value},e.prototype.getLightValue=function(t,e){if("position"===t){var n=this._transitions[t].calculate(e),i=r.sphericalToCartesian(n);return{x:i[0],y:i[1],z:i[2]}}return this._transitions[t].calculate(e)},e.prototype.setLight=function(t){var e=this;if(!this._validate(s.light,t))for(var n in t){var i=t[n];r.endsWith(n,l)?e._transitionOptions[n]=i:null===i||void 0===i?delete e._declarations[n]:e._declarations[n]=new a(e._specifications[n],i)}},e.prototype.recalculate=function(t){var e=this;for(var n in e._declarations)e.calculated[n]=e.getLightValue(n,{zoom:t})},e.prototype._applyLightDeclaration=function(t,e,n,i,o){var s=n.transition?this._transitions[t]:void 0,c=this._specifications[t];if(null!==e&&void 0!==e||(e=new a(c,c.default)),!s||s.declaration.json!==e.json){var h=r.extend({duration:300,delay:0},i,this.getLightProperty(t+l)),f=this._transitions[t]=new u(c,e,s,h);f.instant()||(f.loopID=o.set(f.endTime-Date.now())),s&&o.cancel(s.loopID)}},e.prototype.updateLightTransitions=function(t,e,n){var i,r=this;for(i in r._declarations)r._applyLightDeclaration(i,r._declarations[i],t,e,n)},e.prototype._validate=function(t,e){return s.emitErrors(this,t.call(s,r.extend({value:e,style:{glyphs:!0,sprite:!0},styleSpec:i})))},e}(o);e.exports=c},{"../style-spec/reference/latest":119,"../util/evented":203,"../util/util":214,"./style_declaration":150,"./style_transition":158,"./validate_style":159}],149:[function(t,e,n){"use strict";var i=t("../util/evented"),r=t("./style_layer"),o=t("./image_sprite"),s=t("./light"),a=t("../symbol/glyph_source"),u=t("../symbol/sprite_atlas"),l=t("../render/line_atlas"),c=t("../util/util"),h=t("../util/ajax"),f=t("../util/mapbox"),p=t("../util/browser"),d=t("../util/dispatcher"),g=t("./animation_loop"),m=t("./validate_style"),v=t("../source/source"),y=t("../source/query_features"),b=t("../source/source_cache"),x=t("../style-spec/reference/latest"),_=t("../style-spec/function"),E=t("../util/global_worker_pool"),w=t("../style-spec/deref"),T=t("../style-spec/diff"),S=t("../source/rtl_text_plugin"),A=c.pick(T.operations,["addLayer","removeLayer","setPaintProperty","setLayoutProperty","setFilter","addSource","removeSource","setLayerZoomRange","setLight","setTransition"]),I=c.pick(T.operations,["setCenter","setZoom","setBearing","setPitch"]),C=function(t){function e(e,n,i){var r=this;t.call(this),this.map=n,this.animationLoop=n&&n.animationLoop||new g,this.dispatcher=new d(E(),this),this.spriteAtlas=new u(1024,1024),this.spriteAtlas.setEventedParent(this),this.lineAtlas=new l(256,512),this._layers={},this._order=[],this.sourceCaches={},this.zoomHistory={},this._loaded=!1,c.bindAll(["_redoPlacement"],this),this._resetUpdates(),i=c.extend({validate:"string"!=typeof e||!f.isMapboxURL(e)},i),this.setEventedParent(n),this.fire("dataloading",{dataType:"style"});var s=this;this._rtlTextPluginCallback=S.registerForPluginAvailability(function(t){s.dispatcher.broadcast("loadRTLTextPlugin",t.pluginBlobURL,t.errorCallback);for(var e in s.sourceCaches)s.sourceCaches[e].reload()});var v=function(t,e){if(t)return void r.fire("error",{error:t});if(!i.validate||!m.emitErrors(r,m(e))){r._loaded=!0,r.stylesheet=e,r.updateClasses();for(var n in e.sources)r.addSource(n,e.sources[n],i);e.sprite&&(r.sprite=new o(e.sprite,r)),r.glyphSource=new a(e.glyphs),r._resolve(),r.fire("data",{dataType:"style"}),r.fire("style.load")}};"string"==typeof e?h.getJSON(f.normalizeStyleURL(e),v):p.frame(v.bind(this,null,e)),this.on("data",function(t){if("source"===t.dataType&&"metadata"===t.sourceDataType){var e=r.sourceCaches[t.sourceId].getSource();if(e&&e.vectorLayerIds)for(var n in r._layers){var i=r._layers[n];i.source===e.id&&r._validateLayer(i)}}})}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype._validateLayer=function(t){var e=this.sourceCaches[t.source];if(t.sourceLayer&&e){var n=e.getSource();("geojson"===n.type||n.vectorLayerIds&&n.vectorLayerIds.indexOf(t.sourceLayer)===-1)&&this.fire("error",{error:new Error('Source layer "'+t.sourceLayer+'" does not exist on source "'+n.id+'" as specified by style layer "'+t.id+'"')})}},e.prototype.loaded=function(){var t=this;if(!this._loaded)return!1;if(Object.keys(this._updatedSources).length)return!1;for(var e in t.sourceCaches)if(!t.sourceCaches[e].loaded())return!1;return!(this.sprite&&!this.sprite.loaded())},e.prototype._resolve=function(){var t=this,e=w(this.stylesheet.layers);this._order=e.map(function(t){return t.id}),this._layers={};for(var n=0,i=e;n<i.length;n+=1){var o=i[n];o=r.create(o),o.setEventedParent(t,{layer:{id:o.id}}),t._layers[o.id]=o}this.dispatcher.broadcast("setLayers",this._serializeLayers(this._order)),this.light=new s(this.stylesheet.light)},e.prototype._serializeLayers=function(t){var e=this;return t.map(function(t){return e._layers[t].serialize()})},e.prototype._applyClasses=function(t,e){var n=this;if(this._loaded){t=t||[],e=e||{transition:!0};var i=this.stylesheet.transition||{},r=this._updatedAllPaintProps?this._layers:this._updatedPaintProps;for(var o in r){var s=n._layers[o],a=n._updatedPaintProps[o];if(n._updatedAllPaintProps||a.all)s.updatePaintTransitions(t,e,i,n.animationLoop,n.zoomHistory);else for(var u in a)n._layers[o].updatePaintTransition(u,t,e,i,n.animationLoop,n.zoomHistory)}this.light.updateLightTransitions(e,i,this.animationLoop)}},e.prototype._recalculate=function(t){var e=this;if(this._loaded){for(var n in e.sourceCaches)e.sourceCaches[n].used=!1;this._updateZoomHistory(t);for(var i=0,r=e._order;i<r.length;i+=1){var o=r[i],s=e._layers[o];s.recalculate(t),!s.isHidden(t)&&s.source&&(e.sourceCaches[s.source].used=!0)}this.light.recalculate(t);var a=300;Math.floor(this.z)!==Math.floor(t)&&this.animationLoop.set(a),this.z=t}},e.prototype._updateZoomHistory=function(t){var e=this.zoomHistory;void 0===e.lastIntegerZoom&&(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=0,e.lastZoom=t),Math.floor(e.lastZoom)<Math.floor(t)?(e.lastIntegerZoom=Math.floor(t),e.lastIntegerZoomTime=Date.now()):Math.floor(e.lastZoom)>Math.floor(t)&&(e.lastIntegerZoom=Math.floor(t+1),e.lastIntegerZoomTime=Date.now()),e.lastZoom=t},e.prototype._checkLoaded=function(){if(!this._loaded)throw new Error("Style is not done loading")},e.prototype.update=function(t,e){var n=this;if(this._changed){var i=Object.keys(this._updatedLayers),r=Object.keys(this._removedLayers);(i.length||r.length||this._updatedSymbolOrder)&&this._updateWorkerLayers(i,r);for(var o in n._updatedSources){var s=n._updatedSources[o];"reload"===s?n._reloadSource(o):"clear"===s&&n._clearSource(o)}this._applyClasses(t,e),this._resetUpdates(),this.fire("data",{dataType:"style"})}},e.prototype._updateWorkerLayers=function(t,e){var n=this,i=this._updatedSymbolOrder?this._order.filter(function(t){return"symbol"===n._layers[t].type}):null;this.dispatcher.broadcast("updateLayers",{layers:this._serializeLayers(t),removedIds:e,symbolOrder:i})},e.prototype._resetUpdates=function(){this._changed=!1,this._updatedLayers={},this._removedLayers={},this._updatedSymbolOrder=!1,this._updatedSources={},this._updatedPaintProps={},this._updatedAllPaintProps=!1},e.prototype.setState=function(t){var e=this;if(this._checkLoaded(),m.emitErrors(this,m(t)))return!1;t=c.extend({},t),t.layers=w(t.layers);var n=T(this.serialize(),t).filter(function(t){return!(t.command in I)});if(0===n.length)return!1;var i=n.filter(function(t){return!(t.command in A)});if(i.length>0)throw new Error("Unimplemented: "+i.map(function(t){return t.command}).join(", ")+".");return n.forEach(function(t){"setTransition"!==t.command&&e[t.command].apply(e,t.args)}),this.stylesheet=t,!0},e.prototype.addSource=function(t,e,n){var i=this;if(this._checkLoaded(),void 0!==this.sourceCaches[t])throw new Error("There is already a source with this ID");if(!e.type)throw new Error("The type property must be defined, but the only the following properties were given: "+Object.keys(e)+".");var r=["vector","raster","geojson","video","image","canvas"],o=r.indexOf(e.type)>=0;if(!o||!this._validate(m.source,"sources."+t,e,null,n)){var s=this.sourceCaches[t]=new b(t,e,this.dispatcher);s.style=this,s.setEventedParent(this,function(){return{isSourceLoaded:i.loaded(),source:s.serialize(),sourceId:t}}),s.onAdd(this.map),this._changed=!0}},e.prototype.removeSource=function(t){if(this._checkLoaded(),void 0===this.sourceCaches[t])throw new Error("There is no source with this ID");var e=this.sourceCaches[t];delete this.sourceCaches[t],delete this._updatedSources[t],e.setEventedParent(null),e.clearTiles(),e.onRemove&&e.onRemove(this.map),this._changed=!0},e.prototype.getSource=function(t){return this.sourceCaches[t]&&this.sourceCaches[t].getSource()},e.prototype.addLayer=function(t,e,n){this._checkLoaded();var i=t.id;if("object"==typeof t.source&&(this.addSource(i,t.source),t=c.extend(t,{source:i})),!this._validate(m.layer,"layers."+i,t,{arrayIndex:-1},n)){var o=r.create(t);this._validateLayer(o),o.setEventedParent(this,{layer:{id:i}});var s=e?this._order.indexOf(e):this._order.length;if(this._order.splice(s,0,i),this._layers[i]=o,this._removedLayers[i]&&o.source){var a=this._removedLayers[i];delete this._removedLayers[i],this._updatedSources[o.source]=a.type!==o.type?"clear":"reload"}this._updateLayer(o),"symbol"===o.type&&(this._updatedSymbolOrder=!0),this.updateClasses(i)}},e.prototype.moveLayer=function(t,e){this._checkLoaded(),this._changed=!0;var n=this._layers[t];if(!n)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be moved.")});var i=this._order.indexOf(t);this._order.splice(i,1);var r=e?this._order.indexOf(e):this._order.length;this._order.splice(r,0,t),"symbol"===n.type&&(this._updatedSymbolOrder=!0,n.source&&!this._updatedSources[n.source]&&(this._updatedSources[n.source]="reload"))},e.prototype.removeLayer=function(t){this._checkLoaded();var e=this._layers[t];if(!e)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be removed.")});e.setEventedParent(null);var n=this._order.indexOf(t);this._order.splice(n,1),"symbol"===e.type&&(this._updatedSymbolOrder=!0),this._changed=!0,this._removedLayers[t]=e,delete this._layers[t],delete this._updatedLayers[t],delete this._updatedPaintProps[t]},e.prototype.getLayer=function(t){return this._layers[t]},e.prototype.setLayerZoomRange=function(t,e,n){this._checkLoaded();var i=this.getLayer(t);return i?void(i.minzoom===e&&i.maxzoom===n||(null!=e&&(i.minzoom=e),null!=n&&(i.maxzoom=n),this._updateLayer(i))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot have zoom extent.")})},e.prototype.setFilter=function(t,e){this._checkLoaded();var n=this.getLayer(t);return n?void(null!==e&&void 0!==e&&this._validate(m.filter,"layers."+n.id+".filter",e)||c.deepEqual(n.filter,e)||(n.filter=c.clone(e),this._updateLayer(n))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be filtered.")})},e.prototype.getFilter=function(t){return c.clone(this.getLayer(t).filter)},e.prototype.setLayoutProperty=function(t,e,n){this._checkLoaded();var i=this.getLayer(t);return i?void(c.deepEqual(i.getLayoutProperty(e),n)||(i.setLayoutProperty(e,n),this._updateLayer(i))):void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")})},e.prototype.getLayoutProperty=function(t,e){return this.getLayer(t).getLayoutProperty(e)},e.prototype.setPaintProperty=function(t,e,n,i){this._checkLoaded();var r=this.getLayer(t);if(!r)return void this.fire("error",{error:new Error("The layer '"+t+"' does not exist in the map's style and cannot be styled.")});if(!c.deepEqual(r.getPaintProperty(e,i),n)){var o=r.isPaintValueFeatureConstant(e);r.setPaintProperty(e,n,i);var s=!(n&&_.isFunctionDefinition(n)&&"$zoom"!==n.property&&void 0!==n.property);s&&o||this._updateLayer(r),this.updateClasses(t,e)}},e.prototype.getPaintProperty=function(t,e,n){return this.getLayer(t).getPaintProperty(e,n)},e.prototype.getTransition=function(){return c.extend({duration:300,delay:0},this.stylesheet&&this.stylesheet.transition)},e.prototype.updateClasses=function(t,e){if(this._changed=!0,t){var n=this._updatedPaintProps;n[t]||(n[t]={}),n[t][e||"all"]=!0}else this._updatedAllPaintProps=!0},e.prototype.serialize=function(){var t=this;return c.filterObject({version:this.stylesheet.version,name:this.stylesheet.name,metadata:this.stylesheet.metadata,light:this.stylesheet.light,center:this.stylesheet.center,zoom:this.stylesheet.zoom,bearing:this.stylesheet.bearing,pitch:this.stylesheet.pitch,sprite:this.stylesheet.sprite,glyphs:this.stylesheet.glyphs,transition:this.stylesheet.transition,sources:c.mapObject(this.sourceCaches,function(t){return t.serialize()}),layers:this._order.map(function(e){return t._layers[e].serialize()})},function(t){return void 0!==t})},e.prototype._updateLayer=function(t){this._updatedLayers[t.id]=!0,t.source&&!this._updatedSources[t.source]&&(this._updatedSources[t.source]="reload"),this._changed=!0},e.prototype._flattenRenderedFeatures=function(t){for(var e=this,n=[],i=this._order.length-1;i>=0;i--)for(var r=e._order[i],o=0,s=t;o<s.length;o+=1){var a=s[o],u=a[r];if(u)for(var l=0,c=u;l<c.length;l+=1){var h=c[l];n.push(h)}}return n},e.prototype.queryRenderedFeatures=function(t,e,n,i){var r=this;e&&e.filter&&this._validate(m.filter,"queryRenderedFeatures.filter",e.filter);var o={};if(e&&e.layers){if(!Array.isArray(e.layers))return void this.fire("error",{error:"parameters.layers must be an Array."});for(var s=0,a=e.layers;s<a.length;s+=1){var u=a[s],l=r._layers[u];if(!l)return void r.fire("error",{error:"The layer '"+u+"' does not exist in the map's style and cannot be queried for features."});o[l.source]=!0}}var c=[];for(var h in r.sourceCaches)if(!e.layers||o[h]){var f=y.rendered(r.sourceCaches[h],r._layers,t,e,n,i);c.push(f)}return this._flattenRenderedFeatures(c)},e.prototype.querySourceFeatures=function(t,e){e&&e.filter&&this._validate(m.filter,"querySourceFeatures.filter",e.filter);var n=this.sourceCaches[t];return n?y.source(n,e):[]},e.prototype.addSourceType=function(t,e,n){return v.getType(t)?n(new Error('A source type called "'+t+'" already exists.')):(v.setType(t,e),e.workerSourceURL?void this.dispatcher.broadcast("loadWorkerSource",{name:t,url:e.workerSourceURL},n):n(null,null))},e.prototype.getLight=function(){return this.light.getLight()},e.prototype.setLight=function(t,e){this._checkLoaded();var n=this.light.getLight(),i=!1;for(var r in t)if(!c.deepEqual(t[r],n[r])){i=!0;break}if(i){var o=this.stylesheet.transition||{};this.light.setLight(t),this.light.updateLightTransitions(e||{transition:!0},o,this.animationLoop)}},e.prototype._validate=function(t,e,n,i,r){return(!r||r.validate!==!1)&&m.emitErrors(this,t.call(m,c.extend({key:e,style:this.serialize(),value:n,styleSpec:x},i)))},e.prototype._remove=function(){var t=this;S.evented.off("pluginAvailable",this._rtlTextPluginCallback);for(var e in t.sourceCaches)t.sourceCaches[e].clearTiles();this.dispatcher.remove()},e.prototype._clearSource=function(t){this.sourceCaches[t].clearTiles()},e.prototype._reloadSource=function(t){this.sourceCaches[t].reload()},e.prototype._updateSources=function(t){var e=this;for(var n in e.sourceCaches)e.sourceCaches[n].update(t)},e.prototype._redoPlacement=function(){var t=this;for(var e in t.sourceCaches)t.sourceCaches[e].redoPlacement()},e.prototype.getIcons=function(t,e,n){var i=this,r=function(){i.spriteAtlas.setSprite(i.sprite),i.spriteAtlas.addIcons(e.icons,n)};!this.sprite||this.sprite.loaded()?r():this.sprite.on("data",r)},e.prototype.getGlyphs=function(t,e,n){function i(t,e,i){t&&console.error(t),a[i]=e,s--,0===s&&n(null,a)}var r=this,o=e.stacks,s=Object.keys(o).length,a={};for(var u in o)r.glyphSource.getSimpleGlyphs(u,o[u],e.uid,i)},e}(i);e.exports=C},{"../render/line_atlas":76,"../source/query_features":89,"../source/rtl_text_plugin":91,"../source/source":92,"../source/source_cache":93,"../style-spec/deref":102,"../style-spec/diff":103,"../style-spec/function":107,"../style-spec/reference/latest":119,"../symbol/glyph_source":168,"../symbol/sprite_atlas":172,"../util/ajax":194,"../util/browser":195,"../util/dispatcher":201,"../util/evented":203,"../util/global_worker_pool":205,"../util/mapbox":210,"../util/util":214,"./animation_loop":146,"./image_sprite":147,"./light":148,"./style_layer":151,"./validate_style":159}],150:[function(t,e,n){"use strict";var i=t("../style-spec/function"),r=t("../util/util"),o=function(t,e){var n=this;if(this.value=r.clone(e),this.isFunction=i.isFunctionDefinition(e),this.json=JSON.stringify(this.value),this.minimum=t.minimum,this.function=i(this.value,t),this.isFeatureConstant=this.function.isFeatureConstant,this.isZoomConstant=this.function.isZoomConstant,this.isFeatureConstant||this.isZoomConstant){if(!this.isZoomConstant){this.stopZoomLevels=[];for(var o=0,s=n.value.stops;o<s.length;o+=1){var a=s[o];n.stopZoomLevels.indexOf(a[0])<0&&n.stopZoomLevels.push(a[0])}}}else{this.stopZoomLevels=[];for(var u=[],l=0,c=n.value.stops;l<c.length;l+=1){var h=c[l],f=h[0].zoom;n.stopZoomLevels.indexOf(f)<0&&(n.stopZoomLevels.push(f),u.push([f,u.length]))}this._functionInterpolationT=i({type:"exponential",stops:u,base:e.base},{type:"number"})}};o.prototype.calculate=function(t,e){var n=this.function(t&&t.zoom,e||{});return void 0!==this.minimum&&n<this.minimum?this.minimum:n},o.prototype.calculateInterpolationT=function(t){return this._functionInterpolationT(t&&t.zoom,{})},e.exports=o},{"../style-spec/function":107,"../util/util":214}],151:[function(t,e,n){"use strict";function i(t){return t.value}var r=t("../util/util"),o=t("./style_transition"),s=t("./style_declaration"),a=t("../style-spec/reference/latest"),u=t("./validate_style"),l=t("./../style-spec/util/parse_color"),c=t("../util/evented"),h="-transition",f=function(t){function e(e){var n=this;t.call(this),this.id=e.id,this.metadata=e.metadata,this.type=e.type,this.source=e.source,this.sourceLayer=e["source-layer"],this.minzoom=e.minzoom,this.maxzoom=e.maxzoom,this.filter=e.filter,this.paint={},this.layout={},this._paintSpecifications=a["paint_"+this.type],this._layoutSpecifications=a["layout_"+this.type],this._paintTransitions={},this._paintTransitionOptions={},this._paintDeclarations={},this._layoutDeclarations={},this._layoutFunctions={};var i,r,o={validate:!1};for(var s in e){var u=s.match(/^paint(?:\.(.*))?$/);if(u){var l=u[1]||"";for(i in e[s])n.setPaintProperty(i,e[s][i],l,o)}}for(r in e.layout)n.setLayoutProperty(r,e.layout[r],o);for(i in n._paintSpecifications)n.paint[i]=n.getPaintValue(i);for(r in n._layoutSpecifications)n._updateLayoutValue(r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.setLayoutProperty=function(t,e,n){if(null==e)delete this._layoutDeclarations[t];else{var i="layers."+this.id+".layout."+t;if(this._validate(u.layoutProperty,i,t,e,n))return;this._layoutDeclarations[t]=new s(this._layoutSpecifications[t],e)}this._updateLayoutValue(t)},e.prototype.getLayoutProperty=function(t){return this._layoutDeclarations[t]&&this._layoutDeclarations[t].value},e.prototype.getLayoutValue=function(t,e,n){var i=this._layoutSpecifications[t],r=this._layoutDeclarations[t];return r?r.calculate(e,n):i.default},e.prototype.setPaintProperty=function(t,e,n,i){var o="layers."+this.id+(n?'["paint.'+n+'"].':".paint.")+t;if(r.endsWith(t,h))if(this._paintTransitionOptions[n||""]||(this._paintTransitionOptions[n||""]={}),null===e||void 0===e)delete this._paintTransitionOptions[n||""][t];else{if(this._validate(u.paintProperty,o,t,e,i))return;this._paintTransitionOptions[n||""][t]=e}else if(this._paintDeclarations[n||""]||(this._paintDeclarations[n||""]={}),null===e||void 0===e)delete this._paintDeclarations[n||""][t];else{if(this._validate(u.paintProperty,o,t,e,i))return;this._paintDeclarations[n||""][t]=new s(this._paintSpecifications[t],e)}},e.prototype.getPaintProperty=function(t,e){return e=e||"",r.endsWith(t,h)?this._paintTransitionOptions[e]&&this._paintTransitionOptions[e][t]:this._paintDeclarations[e]&&this._paintDeclarations[e][t]&&this._paintDeclarations[e][t].value},e.prototype.getPaintValue=function(t,e,n){var i=this._paintSpecifications[t],r=this._paintTransitions[t];return r?r.calculate(e,n):"color"===i.type&&i.default?l(i.default):i.default},e.prototype.getPaintValueStopZoomLevels=function(t){var e=this._paintTransitions[t];return e?e.declaration.stopZoomLevels:[]},e.prototype.getLayoutValueStopZoomLevels=function(t){var e=this._layoutDeclarations[t];return e?e.stopZoomLevels:[]},e.prototype.getPaintInterpolationT=function(t,e){var n=this._paintTransitions[t];return n.declaration.calculateInterpolationT(e)},e.prototype.getLayoutInterpolationT=function(t,e){var n=this._layoutDeclarations[t];return n.calculateInterpolationT(e)},e.prototype.isPaintValueFeatureConstant=function(t){var e=this._paintTransitions[t];return!e||e.declaration.isFeatureConstant},e.prototype.isLayoutValueFeatureConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.isFeatureConstant},e.prototype.isPaintValueZoomConstant=function(t){var e=this._paintTransitions[t];return!e||e.declaration.isZoomConstant},e.prototype.isLayoutValueZoomConstant=function(t){var e=this._layoutDeclarations[t];return!e||e.isZoomConstant},e.prototype.isHidden=function(t){return!!(this.minzoom&&t<this.minzoom)||(!!(this.maxzoom&&t>=this.maxzoom)||"none"===this.layout.visibility)},e.prototype.updatePaintTransitions=function(t,e,n,i,o){for(var s=this,a=r.extend({},this._paintDeclarations[""]),u=0;u<t.length;u++)r.extend(a,s._paintDeclarations[t[u]]);var l;for(l in a)s._applyPaintDeclaration(l,a[l],e,n,i,o);for(l in s._paintTransitions)l in a||s._applyPaintDeclaration(l,null,e,n,i,o)},e.prototype.updatePaintTransition=function(t,e,n,i,r,o){for(var s=this,a=this._paintDeclarations[""][t],u=0;u<e.length;u++){var l=s._paintDeclarations[e[u]];l&&l[t]&&(a=l[t])}this._applyPaintDeclaration(t,a,n,i,r,o)},e.prototype.recalculate=function(t){var e=this;for(var n in e._paintTransitions)e.paint[n]=e.getPaintValue(n,{zoom:t});for(var i in e._layoutFunctions)e.layout[i]=e.getLayoutValue(i,{zoom:t})},e.prototype.serialize=function(){var t=this,e={id:this.id,type:this.type,source:this.source,"source-layer":this.sourceLayer,metadata:this.metadata,minzoom:this.minzoom,maxzoom:this.maxzoom,filter:this.filter,layout:r.mapObject(this._layoutDeclarations,i)};for(var n in t._paintDeclarations){var o=""===n?"paint":"paint."+n;e[o]=r.mapObject(t._paintDeclarations[n],i)}return r.filterObject(e,function(t,e){return void 0!==t&&!("layout"===e&&!Object.keys(t).length)})},e.prototype._applyPaintDeclaration=function(t,e,n,i,a,u){var l=n.transition?this._paintTransitions[t]:void 0,c=this._paintSpecifications[t];if(null!==e&&void 0!==e||(e=new s(c,c.default)),!l||l.declaration.json!==e.json){var f=r.extend({duration:300,delay:0},i,this.getPaintProperty(t+h)),p=this._paintTransitions[t]=new o(c,e,l,f,u);p.instant()||(p.loopID=a.set(p.endTime-Date.now())),l&&a.cancel(l.loopID)}},e.prototype._updateLayoutValue=function(t){var e=this._layoutDeclarations[t];e&&e.isFunction?this._layoutFunctions[t]=!0:(delete this._layoutFunctions[t],this.layout[t]=this.getLayoutValue(t))},e.prototype._validate=function(t,e,n,i,r){return(!r||r.validate!==!1)&&u.emitErrors(this,t.call(u,{key:e,layerType:this.type,objectKey:n,value:i,styleSpec:a,style:{glyphs:!0,sprite:!0}}))},e}(c);e.exports=f;var p={circle:t("./style_layer/circle_style_layer"),fill:t("./style_layer/fill_style_layer"),"fill-extrusion":t("./style_layer/fill_extrusion_style_layer"),line:t("./style_layer/line_style_layer"),symbol:t("./style_layer/symbol_style_layer")};f.create=function(t){var e=p[t.type]||f;return new e(t)}},{"../style-spec/reference/latest":119,"../util/evented":203,"../util/util":214,"./../style-spec/util/parse_color":124,"./style_declaration":150,"./style_layer/circle_style_layer":152,"./style_layer/fill_extrusion_style_layer":153,"./style_layer/fill_style_layer":154,"./style_layer/line_style_layer":155,"./style_layer/symbol_style_layer":156,"./style_transition":158,"./validate_style":159}],152:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("../../data/bucket/circle_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.createBucket=function(t){return new r(t)},e}(i);e.exports=o},{"../../data/bucket/circle_bucket":46,"../style_layer":151}],153:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("../../data/bucket/fill_extrusion_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,i){var r=t.prototype.getPaintValue.call(this,e,n,i);return"fill-extrusion-color"===e&&r&&(r[3]=1),r},e.prototype.createBucket=function(t){return new r(t)},e}(i);e.exports=o},{"../../data/bucket/fill_extrusion_bucket":48,"../style_layer":151}],154:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("../../data/bucket/fill_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,i){var r=this;if("fill-outline-color"===e){if(void 0===this.getPaintProperty("fill-outline-color"))return t.prototype.getPaintValue.call(this,"fill-color",n,i);for(var o=this._paintTransitions["fill-outline-color"];o;){var s=o&&o.declaration&&o.declaration.value;if(!s)return t.prototype.getPaintValue.call(r,"fill-color",n,i);o=o.oldTransition}}return t.prototype.getPaintValue.call(this,e,n,i)},e.prototype.getPaintValueStopZoomLevels=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.getPaintValueStopZoomLevels.call(this,"fill-color"):t.prototype.getPaintValueStopZoomLevels.call(this,e)},e.prototype.getPaintInterpolationT=function(e,n){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.getPaintInterpolationT.call(this,"fill-color",n):t.prototype.getPaintInterpolationT.call(this,e,n)},e.prototype.isPaintValueFeatureConstant=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.isPaintValueFeatureConstant.call(this,"fill-color"):t.prototype.isPaintValueFeatureConstant.call(this,e)},e.prototype.isPaintValueZoomConstant=function(e){return"fill-outline-color"===e&&void 0===this.getPaintProperty("fill-outline-color")?t.prototype.isPaintValueZoomConstant.call(this,"fill-color"):t.prototype.isPaintValueZoomConstant.call(this,e)},e.prototype.createBucket=function(t){return new r(t)},e}(i);e.exports=o},{"../../data/bucket/fill_bucket":47,"../style_layer":151}],155:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("../../data/bucket/line_bucket"),o=t("../../util/util"),s=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getPaintValue=function(e,n,i){var r=t.prototype.getPaintValue.call(this,e,n,i);if(r&&"line-dasharray"===e){var s=this.getPaintValue("line-width",o.extend({},n,{zoom:Math.floor(n.zoom)}),i);r.fromScale*=s,r.toScale*=s}return r},e.prototype.createBucket=function(t){return new r(t)},e}(i);e.exports=s},{"../../data/bucket/line_bucket":49,"../../util/util":214,"../style_layer":151}],156:[function(t,e,n){"use strict";var i=t("../style_layer"),r=t("../../data/bucket/symbol_bucket"),o=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getLayoutValue=function(e,n,i){var r=t.prototype.getLayoutValue.call(this,e,n,i);if("auto"!==r)return r;switch(e){case"text-rotation-alignment":case"icon-rotation-alignment":return"line"===this.getLayoutValue("symbol-placement",n,i)?"map":"viewport";case"text-pitch-alignment":return this.getLayoutValue("text-rotation-alignment",n,i);default:return r}},e.prototype.createBucket=function(t){return new r(t)},e}(i);e.exports=o},{"../../data/bucket/symbol_bucket":50,"../style_layer":151}],157:[function(t,e,n){"use strict";var i=t("./style_layer"),r=t("../util/util"),o=t("../style-spec/feature_filter"),s=t("../style-spec/group_by_layout"),a=function(t){t&&this.replace(t)};a.prototype.replace=function(t){var e=this;this.symbolOrder=[];for(var n=0,i=t;n<i.length;n+=1){var r=i[n];"symbol"===r.type&&e.symbolOrder.push(r.id)}this._layerConfigs={},this._layers={},this.update(t,[])},a.prototype.update=function(t,e,n){for(var a=this,u=0,l=t;u<l.length;u+=1){var c=l[u];a._layerConfigs[c.id]=c;var h=a._layers[c.id]=i.create(c);h.updatePaintTransitions({},{transition:!1}),h.filter=o(h.filter)}for(var f=0,p=e;f<p.length;f+=1){var d=p[f];delete a._layerConfigs[d],delete a._layers[d]}n&&(this.symbolOrder=n),this.familiesBySource={};for(var g=s(r.values(this._layerConfigs)),m=0,v=g;m<v.length;m+=1){var y=v[m],b=y.map(function(t){return a._layers[t.id]}),x=b[0];if(!x.layout||"none"!==x.layout.visibility){var _=x.source||"",E=a.familiesBySource[_];E||(E=a.familiesBySource[_]={});var w=x.sourceLayer||"_geojsonTileLayer",T=E[w];T||(T=E[w]=[]),T.push(b)}}},e.exports=a},{"../style-spec/feature_filter":105,"../style-spec/group_by_layout":108,"../util/util":214,"./style_layer":151}],158:[function(t,e,n){"use strict";function i(t,e,n){if(void 0!==t&&void 0!==e)return{from:t.to,fromScale:t.toScale,to:e.to,toScale:e.toScale,t:n}}var r=t("../util/util"),o=t("../style-spec/util/interpolate"),s={lastIntegerZoom:0,lastIntegerZoomTime:0,lastZoom:0},a=function(t,e,n,r,a){this.declaration=e,this.startTime=this.endTime=(new Date).getTime(),this.oldTransition=n,this.duration=r.duration||0,this.delay=r.delay||0,this.zoomTransitioned="piecewise-constant"===t.function&&t.transition,this.interp=this.zoomTransitioned?i:o[t.type],this.zoomHistory=a||s,this.instant()||(this.endTime=this.startTime+this.duration+this.delay),n&&n.endTime<=this.startTime&&delete n.oldTransition};a.prototype.instant=function(){return!this.oldTransition||!this.interp||0===this.duration&&0===this.delay},a.prototype.calculate=function(t,e,n){var i=this._calculateTargetValue(t,e);if(this.instant())return i;if(n=n||Date.now(),n>=this.endTime)return i;var o=this.oldTransition.calculate(t,e,this.startTime),s=r.easeCubicInOut((n-this.startTime-this.delay)/this.duration);return this.interp(o,i,s)},a.prototype._calculateTargetValue=function(t,e){if(!this.zoomTransitioned)return this.declaration.calculate(t,e);var n=t.zoom,i=this.zoomHistory.lastIntegerZoom,r=n>i?2:.5,s=this.declaration.calculate({zoom:n>i?n-1:n+1},e),a=this.declaration.calculate({zoom:n},e),u=Math.min((Date.now()-this.zoomHistory.lastIntegerZoomTime)/this.duration,1),l=Math.abs(n-i),c=o(u,1,l);return void 0!==s&&void 0!==a?{from:s,fromScale:r,to:a,toScale:1,t:c}:void 0},e.exports=a},{"../style-spec/util/interpolate":123,"../util/util":214}],159:[function(t,e,n){"use strict";e.exports=t("../style-spec/validate_style.min"),e.exports.emitErrors=function(t,e){if(e&&e.length){for(var n=0;n<e.length;n++)t.fire("error",{error:new Error(e[n].message)});return!0}return!1}},{"../style-spec/validate_style.min":145}],160:[function(t,e,n){"use strict";var i=t("point-geometry"),r=function(t){function e(e,n,i,r){t.call(this,e,n),this.angle=i,void 0!==r&&(this.segment=r)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.clone=function(){return new e(this.x,this.y,this.angle,this.segment)},e}(i);e.exports=r},{"point-geometry":26}],161:[function(t,e,n){"use strict";function i(t,e,n,i,r){if(void 0===e.segment)return!0;for(var o=e,s=e.segment+1,a=0;a>-n/2;){if(s--,s<0)return!1;a-=t[s].dist(o),o=t[s]}a+=t[s].dist(t[s+1]),s++;for(var u=[],l=0;a<n/2;){var c=t[s-1],h=t[s],f=t[s+1];if(!f)return!1;var p=c.angleTo(h)-h.angleTo(f);for(p=Math.abs((p+3*Math.PI)%(2*Math.PI)-Math.PI),u.push({distance:a,angleDelta:p}),l+=p;a-u[0].distance>i;)l-=u.shift().angleDelta;if(l>r)return!1;s++,a+=h.dist(f)}return!0}e.exports=i},{}],162:[function(t,e,n){"use strict";function i(t,e,n,i,o){for(var s=[],a=0;a<t.length;a++)for(var u=t[a],l=void 0,c=0;c<u.length-1;c++){var h=u[c],f=u[c+1];h.x<e&&f.x<e||(h.x<e?h=new r(e,h.y+(f.y-h.y)*((e-h.x)/(f.x-h.x)))._round():f.x<e&&(f=new r(e,h.y+(f.y-h.y)*((e-h.x)/(f.x-h.x)))._round()),h.y<n&&f.y<n||(h.y<n?h=new r(h.x+(f.x-h.x)*((n-h.y)/(f.y-h.y)),n)._round():f.y<n&&(f=new r(h.x+(f.x-h.x)*((n-h.y)/(f.y-h.y)),n)._round()),h.x>=i&&f.x>=i||(h.x>=i?h=new r(i,h.y+(f.y-h.y)*((i-h.x)/(f.x-h.x)))._round():f.x>=i&&(f=new r(i,h.y+(f.y-h.y)*((i-h.x)/(f.x-h.x)))._round()),h.y>=o&&f.y>=o||(h.y>=o?h=new r(h.x+(f.x-h.x)*((o-h.y)/(f.y-h.y)),o)._round():f.y>=o&&(f=new r(h.x+(f.x-h.x)*((o-h.y)/(f.y-h.y)),o)._round()),l&&h.equals(l[l.length-1])||(l=[h],s.push(l)),l.push(f)))))}return s}var r=t("point-geometry");e.exports=i},{"point-geometry":26}],163:[function(t,e,n){"use strict";var i=t("../util/struct_array"),r=t("point-geometry"),o=i({members:[{type:"Int16",name:"anchorPointX"},{type:"Int16",name:"anchorPointY"},{type:"Int16",name:"x1"},{type:"Int16",name:"y1"},{type:"Int16",name:"x2"},{type:"Int16",name:"y2"},{type:"Float32",name:"maxScale"},{type:"Uint32",name:"featureIndex"},{type:"Uint16",name:"sourceLayerIndex"},{type:"Uint16",name:"bucketIndex"},{type:"Int16",name:"bbox0"},{type:"Int16",name:"bbox1"},{type:"Int16",name:"bbox2"},{type:"Int16",name:"bbox3"},{type:"Float32",name:"placementScale"}]});Object.defineProperty(o.prototype.StructType.prototype,"anchorPoint",{get:function(){return new r(this.anchorPointX,this.anchorPointY)}}),e.exports=o},{"../util/struct_array":212,"point-geometry":26}],164:[function(t,e,n){"use strict";var i=function(t,e,n,i,r,o,s,a,u,l,c){var h=s.top*a-u,f=s.bottom*a+u,p=s.left*a-u,d=s.right*a+u;if(this.boxStartIndex=t.length,l){var g=f-h,m=d-p;if(g>0)if(g=Math.max(10*a,g),c){var v=e[n.segment+1].sub(e[n.segment])._unit()._mult(m),y=[n.sub(v),n.add(v)];this._addLineCollisionBoxes(t,y,n,0,m,g,i,r,o)}else this._addLineCollisionBoxes(t,e,n,n.segment,m,g,i,r,o)}else t.emplaceBack(n.x,n.y,p,h,d,f,1/0,i,r,o,0,0,0,0,0);this.boxEndIndex=t.length};i.prototype._addLineCollisionBoxes=function(t,e,n,i,r,o,s,a,u){var l=o/2,c=Math.floor(r/l),h=-o/2,f=this.boxes,p=n,d=i+1,g=h;do{if(d--,d<0)return f;g-=e[d].dist(p),p=e[d]}while(g>-r/2);for(var m=e[d].dist(e[d+1]),v=0;v<c;v++){for(var y=-r/2+v*l;g+m<y;){if(g+=m,d++,d+1>=e.length)return f;m=e[d].dist(e[d+1])}var b=y-g,x=e[d],_=e[d+1],E=_.sub(x)._unit()._mult(b)._add(x)._round(),w=Math.max(Math.abs(y-h)-l/2,0),T=r/2/w;t.emplaceBack(E.x,E.y,-o/2,-o/2,o/2,o/2,T,s,a,u,0,0,0,0,0)}return f},e.exports=i},{}],165:[function(t,e,n){"use strict";var i=t("point-geometry"),r=t("../data/extent"),o=t("grid-index"),s=t("../util/intersection_tests"),a=function(t,e,n){if("object"==typeof t){var i=t;n=e,t=i.angle,e=i.pitch,this.grid=new o(i.grid),this.ignoredGrid=new o(i.ignoredGrid)}else this.grid=new o(r,12,6),this.ignoredGrid=new o(r,12,0);this.minScale=.5,this.maxScale=2,this.angle=t,this.pitch=e;var s=Math.sin(t),a=Math.cos(t);if(this.rotationMatrix=[a,-s,s,a],this.reverseRotationMatrix=[a,s,-s,a],this.yStretch=1/Math.cos(e/180*Math.PI),this.yStretch=Math.pow(this.yStretch,1.3),this.collisionBoxArray=n,0===n.length){n.emplaceBack();var u=32767;n.emplaceBack(0,0,0,-u,0,u,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(r,0,0,-u,0,u,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,0,-u,0,u,0,u,0,0,0,0,0,0,0,0,0),n.emplaceBack(0,r,-u,0,u,0,u,0,0,0,0,0,0,0,0,0)}this.tempCollisionBox=n.get(0),this.edges=[n.get(1),n.get(2),n.get(3),n.get(4)]};a.prototype.serialize=function(t){var e=this.grid.toArrayBuffer(),n=this.ignoredGrid.toArrayBuffer();return t&&(t.push(e),t.push(n)),{angle:this.angle,pitch:this.pitch,grid:e,ignoredGrid:n}},a.prototype.placeCollisionFeature=function(t,e,n){for(var r=this,o=this.collisionBoxArray,s=this.minScale,a=this.rotationMatrix,u=this.yStretch,l=t.boxStartIndex;l<t.boxEndIndex;l++){var c=o.get(l),h=c.anchorPoint._matMult(a),f=h.x,p=h.y,d=f+c.x1,g=p+c.y1*u,m=f+c.x2,v=p+c.y2*u;if(c.bbox0=d,c.bbox1=g,c.bbox2=m,c.bbox3=v,!e)for(var y=r.grid.query(d,g,m,v),b=0;b<y.length;b++){var x=o.get(y[b]),_=x.anchorPoint._matMult(a);if(s=r.getPlacementScale(s,h,c,_,x),s>=r.maxScale)return s}if(n){var E=void 0;if(r.angle){var w=r.reverseRotationMatrix,T=new i(c.x1,c.y1).matMult(w),S=new i(c.x2,c.y1).matMult(w),A=new i(c.x1,c.y2).matMult(w),I=new i(c.x2,c.y2).matMult(w);E=r.tempCollisionBox,E.anchorPointX=c.anchorPoint.x,E.anchorPointY=c.anchorPoint.y,E.x1=Math.min(T.x,S.x,A.x,I.x),E.y1=Math.min(T.y,S.x,A.x,I.x),E.x2=Math.max(T.x,S.x,A.x,I.x),E.y2=Math.max(T.y,S.x,A.x,I.x),E.maxScale=c.maxScale}else E=c;for(var C=0;C<this.edges.length;C++){var L=r.edges[C];if(s=r.getPlacementScale(s,c.anchorPoint,E,L.anchorPoint,L),s>=r.maxScale)return s}}}return s},a.prototype.queryRenderedSymbols=function(t,e){var n={},r=[];if(0===t.length||0===this.grid.length&&0===this.ignoredGrid.length)return r;for(var o=this.collisionBoxArray,a=this.rotationMatrix,u=this.yStretch,l=[],c=1/0,h=1/0,f=-(1/0),p=-(1/0),d=0;d<t.length;d++)for(var g=t[d],m=0;m<g.length;m++){var v=g[m].matMult(a);c=Math.min(c,v.x),h=Math.min(h,v.y),f=Math.max(f,v.x),p=Math.max(p,v.y),l.push(v)}for(var y=this.grid.query(c,h,f,p),b=this.ignoredGrid.query(c,h,f,p),x=0;x<b.length;x++)y.push(b[x]);for(var _=Math.pow(2,Math.ceil(Math.log(e)/Math.LN2*10)/10),E=0;E<y.length;E++){var w=o.get(y[E]),T=w.sourceLayerIndex,S=w.featureIndex;if(void 0===n[T]&&(n[T]={}),!n[T][S]&&!(_<w.placementScale||_>w.maxScale)){var A=w.anchorPoint.matMult(a),I=A.x+w.x1/e,C=A.y+w.y1/e*u,L=A.x+w.x2/e,M=A.y+w.y2/e*u,N=[new i(I,C),new i(L,C),new i(L,M),new i(I,M)];s.polygonIntersectsPolygon(l,N)&&(n[T][S]=!0,r.push(y[E]))}}return r},a.prototype.getPlacementScale=function(t,e,n,i,r){var o=e.x-i.x,s=e.y-i.y,a=(r.x1-n.x2)/o,u=(r.x2-n.x1)/o,l=(r.y1-n.y2)*this.yStretch/s,c=(r.y2-n.y1)*this.yStretch/s;(isNaN(a)||isNaN(u))&&(a=u=1),(isNaN(l)||isNaN(c))&&(l=c=1);var h=Math.min(Math.max(a,u),Math.max(l,c)),f=r.maxScale,p=n.maxScale;return h>f&&(h=f),h>p&&(h=p),h>t&&h>=r.placementScale&&(t=h),t},a.prototype.insertCollisionFeature=function(t,e,n){for(var i=this,r=n?this.ignoredGrid:this.grid,o=this.collisionBoxArray,s=t.boxStartIndex;s<t.boxEndIndex;s++){var a=o.get(s);a.placementScale=e,e<i.maxScale&&r.insert(s,a.bbox0,a.bbox1,a.bbox2,a.bbox3)}},e.exports=a},{"../data/extent":54,"../util/intersection_tests":207,"grid-index":16,"point-geometry":26}],166:[function(t,e,n){"use strict";function i(t,e,n,i,o,s,a,u,l){var c=i?.6*s*a:0,h=Math.max(i?i.right-i.left:0,o?o.right-o.left:0),f=0===t[0].x||t[0].x===l||0===t[0].y||t[0].y===l;e-h*a<e/4&&(e=h*a+e/4);var p=2*s,d=f?e/2*u%e:(h/2+p)*a*u%e;return r(t,d,e,c,n,h*a,f,!1,l)}function r(t,e,n,i,u,l,c,h,f){for(var p=l/2,d=0,g=0;g<t.length-1;g++)d+=t[g].dist(t[g+1]);for(var m=0,v=e-n,y=[],b=0;b<t.length-1;b++){for(var x=t[b],_=t[b+1],E=x.dist(_),w=_.angleTo(x);v+n<m+E;){v+=n;var T=(v-m)/E,S=o(x.x,_.x,T),A=o(x.y,_.y,T);if(S>=0&&S<f&&A>=0&&A<f&&v-p>=0&&v+p<=d){var I=new s(S,A,w,b)._round();i&&!a(t,I,l,i,u)||y.push(I)}}m+=E}return h||y.length||c||(y=r(t,m/2,n,i,u,l,c,!0,f)),y}var o=t("../style-spec/util/interpolate"),s=t("../symbol/anchor"),a=t("./check_max_angle");e.exports=i},{"../style-spec/util/interpolate":123,"../symbol/anchor":160,"./check_max_angle":161}],167:[function(t,e,n){"use strict";var i=t("@mapbox/shelf-pack"),r=t("../util/util"),o=4,s=128,a=2048,u=function(){this.width=s,this.height=s,this.atlas=new i(this.width,this.height),this.index={},this.ids={},this.data=new Uint8Array(this.width*this.height)};u.prototype.getGlyphs=function(){var t,e,n,i=this,r={};for(var o in i.ids)t=o.split("#"),e=t[0],n=t[1],r[e]||(r[e]=[]),r[e].push(n);return r},u.prototype.getRects=function(){var t,e,n,i=this,r={};for(var o in i.ids)t=o.split("#"),e=t[0],n=t[1],r[e]||(r[e]={}),r[e][n]=i.index[o];return r},u.prototype.addGlyph=function(t,e,n,i){var o=this;if(!n)return null;var s=e+"#"+n.id;if(this.index[s])return this.ids[s].indexOf(t)<0&&this.ids[s].push(t),this.index[s];if(!n.bitmap)return null;var a=n.width+2*i,u=n.height+2*i,l=1,c=a+2*l,h=u+2*l;c+=4-c%4,h+=4-h%4;var f=this.atlas.packOne(c,h);if(f||(this.resize(),f=this.atlas.packOne(c,h)),!f)return r.warnOnce("glyph bitmap overflow"),null;this.index[s]=f,this.ids[s]=[t];for(var p=this.data,d=n.bitmap,g=0;g<u;g++)for(var m=o.width*(f.y+g+l)+f.x+l,v=a*g,y=0;y<a;y++)p[m+y]=d[v+y];return this.dirty=!0,f},u.prototype.resize=function(){var t=this,e=this.width,n=this.height;if(!(e>=a||n>=a)){this.texture&&(this.gl&&this.gl.deleteTexture(this.texture),this.texture=null),this.width*=o,this.height*=o,this.atlas.resize(this.width,this.height);for(var i=new ArrayBuffer(this.width*this.height),r=0;r<n;r++){var s=new Uint8Array(t.data.buffer,n*r,e),u=new Uint8Array(i,n*r*o,e);u.set(s)}this.data=new Uint8Array(i)}},u.prototype.bind=function(t){this.gl=t,this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),t.texImage2D(t.TEXTURE_2D,0,t.ALPHA,this.width,this.height,0,t.ALPHA,t.UNSIGNED_BYTE,null))},u.prototype.updateTexture=function(t){this.bind(t),this.dirty&&(t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width,this.height,t.ALPHA,t.UNSIGNED_BYTE,this.data),this.dirty=!1)},e.exports=u},{"../util/util":214,"@mapbox/shelf-pack":2}],168:[function(t,e,n){"use strict";function i(t,e,n,i){return i=i||"abc",n.replace("{s}",i[t.length%i.length]).replace("{fontstack}",t).replace("{range}",e)}var r=t("../util/mapbox").normalizeGlyphsURL,o=t("../util/ajax"),s=t("../util/verticalize_punctuation"),a=t("../util/glyphs"),u=t("../symbol/glyph_atlas"),l=t("pbf"),c=function(t,e,n){var i=1;this.advance=t.advance,this.left=t.left-n-i,this.top=t.top+n+i,this.rect=e},h=function(t){this.url=t&&r(t),this.atlases={},this.stacks={},this.loading={}};h.prototype.getSimpleGlyphs=function(t,e,n,i){var r=this;void 0===this.stacks[t]&&(this.stacks[t]={}),void 0===this.atlases[t]&&(this.atlases[t]=new u);for(var o={},a=this.stacks[t],l=this.atlases[t],h=3,f={},p=0,d=function(e){var i=Math.floor(e/256);if(a[i]){var r=a[i].glyphs[e],s=l.addGlyph(n,t,r,h);r&&(o[e]=new c(r,s,h))}else void 0===f[i]&&(f[i]=[],p++),f[i].push(e)},g=0;g<e.length;g++){var m=e[g],v=String.fromCharCode(m);d(m),s.lookup[v]&&d(s.lookup[v].charCodeAt(0))}p||i(void 0,o,t);var y=function(e,s,a){if(!e)for(var u=r.stacks[t][s]=a.stacks[0],d=0;d<f[s].length;d++){var g=f[s][d],m=u.glyphs[g],v=l.addGlyph(n,t,m,h);m&&(o[g]=new c(m,v,h))}p--,p||i(void 0,o,t)};for(var b in f)r.loadRange(t,b,y)},h.prototype.loadRange=function(t,e,n){if(256*e>65535)return n("glyphs > 65535 not supported");void 0===this.loading[t]&&(this.loading[t]={});var r=this.loading[t];if(r[e])r[e].push(n);else{r[e]=[n];var s=256*e+"-"+(256*e+255),u=i(t,s,this.url);o.getArrayBuffer(u,function(t,n){for(var i=!t&&new a(new l(n.data)),o=0;o<r[e].length;o++)r[e][o](t,e,i);delete r[e]})}},h.prototype.getGlyphAtlas=function(t){return this.atlases[t]},e.exports=h},{"../symbol/glyph_atlas":167,"../util/ajax":194,"../util/glyphs":206,"../util/mapbox":210,"../util/verticalize_punctuation":216,pbf:25}],169:[function(t,e,n){"use strict";e.exports=function(t){function e(e){a.push(t[e]),u++}function n(t,e,n){var i=s[t];return delete s[t],s[e]=i,a[i].geometry[0].pop(),a[i].geometry[0]=a[i].geometry[0].concat(n[0]),i}function i(t,e,n){var i=o[e];return delete o[e],o[t]=i,a[i].geometry[0].shift(),a[i].geometry[0]=n[0].concat(a[i].geometry[0]),i}function r(t,e,n){var i=n?e[0][e[0].length-1]:e[0][0];return t+":"+i.x+":"+i.y}for(var o={},s={},a=[],u=0,l=0;l<t.length;l++){var c=t[l],h=c.geometry,f=c.text;if(f){var p=r(f,h),d=r(f,h,!0);if(p in s&&d in o&&s[p]!==o[d]){var g=i(p,d,h),m=n(p,d,a[g].geometry);delete o[p],delete s[d],s[r(f,a[m].geometry,!0)]=m,a[g].geometry=null}else p in s?n(p,d,h):d in o?i(p,d,h):(e(l),o[p]=u-1,s[d]=u-1)}else e(l)}return a.filter(function(t){return t.geometry})}},{}],170:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,a,u,l,c){this.anchorPoint=t,this.tl=e,this.tr=n,this.bl=i,this.br=r,this.tex=o,this.anchorAngle=s,this.glyphAngle=a,this.minScale=u,this.maxScale=l,this.writingMode=c}function r(t,e,n,r,o,s,a,u,l){var c,h,d,g,m=e.image.rect,v=o.layout,y=1,b=e.left-y,x=b+m.w/e.image.pixelRatio,_=e.top-y,E=_+m.h/e.image.pixelRatio;if("none"!==v["icon-text-fit"]&&a){var w=x-b,T=E-_,S=v["text-size"]/24,A=a.left*S,I=a.right*S,C=a.top*S,L=a.bottom*S,M=I-A,N=L-C,R=v["icon-text-fit-padding"][0],O=v["icon-text-fit-padding"][1],D=v["icon-text-fit-padding"][2],P=v["icon-text-fit-padding"][3],k="width"===v["icon-text-fit"]?.5*(N-T):0,z="height"===v["icon-text-fit"]?.5*(M-w):0,F="width"===v["icon-text-fit"]||"both"===v["icon-text-fit"]?M:w,j="height"===v["icon-text-fit"]||"both"===v["icon-text-fit"]?N:T;c=new f(A+z-P,C+k-R),h=new f(A+z+O+F,C+k-R),d=new f(A+z+O+F,C+k+D+j),g=new f(A+z-P,C+k+D+j)}else c=new f(b,_),h=new f(x,_),d=new f(x,E),g=new f(b,E);var B=o.getLayoutValue("icon-rotate",u,l)*Math.PI/180;if(s){var U=r[t.segment];if(t.y===U.y&&t.x===U.x&&t.segment+1<r.length){var G=r[t.segment+1];B+=Math.atan2(t.y-G.y,t.x-G.x)+Math.PI}else B+=Math.atan2(t.y-U.y,t.x-U.x)}if(B){var V=Math.sin(B),q=Math.cos(B),Y=[q,-V,V,q];c=c.matMult(Y),h=h.matMult(Y),g=g.matMult(Y),d=d.matMult(Y)}return[new i(new f(t.x,t.y),c,h,g,d,e.image.rect,0,0,p,1/0)]}function o(t,e,n,r,o,a,u,l){for(var c=o.getLayoutValue("text-rotate",u,l)*Math.PI/180,h=o.layout["text-keep-upright"],d=e.positionedGlyphs,g=[],m=0;m<d.length;m++){var v=d[m],y=v.glyph;if(y){var b=y.rect;if(b){var x=(v.x+y.advance/2)*n,_=void 0,E=p;a?(_=[],E=s(_,t,x,r,t.segment,!1),h&&(E=Math.min(E,s(_,t,x,r,t.segment,!0)))):_=[{anchorPoint:new f(t.x,t.y),upsideDown:!1,angle:0,maxScale:1/0,minScale:p}];var w=v.x+y.left,T=v.y-y.top,S=w+b.w,A=T+b.h,I=new f(v.x,y.advance/2),C=new f(w,T),L=new f(S,T),M=new f(w,A),N=new f(S,A);0!==v.angle&&(C._sub(I)._rotate(v.angle)._add(I),L._sub(I)._rotate(v.angle)._add(I),M._sub(I)._rotate(v.angle)._add(I),N._sub(I)._rotate(v.angle)._add(I));for(var R=0;R<_.length;R++){var O=_[R],D=C,P=L,k=M,z=N;if(c){var F=Math.sin(c),j=Math.cos(c),B=[j,-F,F,j];D=D.matMult(B),P=P.matMult(B),k=k.matMult(B),z=z.matMult(B)}var U=Math.max(O.minScale,E),G=(t.angle+(O.upsideDown?Math.PI:0)+2*Math.PI)%(2*Math.PI),V=(O.angle+(O.upsideDown?Math.PI:0)+2*Math.PI)%(2*Math.PI);g.push(new i(O.anchorPoint,D,P,k,z,b,G,V,U,O.maxScale,e.writingMode))}}}}return g}function s(t,e,n,i,r,o){for(var s=n>=0^o,u=Math.abs(n),p=new f(e.x,e.y),d=c(s,i,r),g={anchor:p,end:d,index:r,minScale:l(u,p,d),maxScale:1/0};;){if(a(t,g,s,o),g.minScale<=e.scale)return e.scale;var m=h(g,i,u,s);if(!m)return g.minScale;g=m}}function a(t,e,n,i){var r=Math.atan2(e.end.y-e.anchor.y,e.end.x-e.anchor.x),o=n?r:r+Math.PI;t.push({anchorPoint:e.anchor,upsideDown:i,minScale:e.minScale,maxScale:e.maxScale,angle:(o+2*Math.PI)%(2*Math.PI)})}function u(t,e,n){var i=e.sub(t)._unit();return t.sub(i._mult(n))}function l(t,e,n){var i=e.dist(n);return t/i}function c(t,e,n){return t?e[n+1]:e[n]}function h(t,e,n,i){for(var r=t.end,o=r,s=t.index;o.equals(r);){if(i&&s+2<e.length)s+=1;else{if(i||0===s)return null;s-=1}o=c(i,e,s)}var a=u(r,o,t.anchor.dist(t.end));return{anchor:a,end:o,index:s,minScale:l(n,a,o),maxScale:t.minScale}}var f=t("point-geometry");e.exports={getIconQuads:r,getGlyphQuads:o,SymbolQuad:i};var p=.5},{"point-geometry":26}],171:[function(t,e,n){"use strict";function i(t,e,n,i,r){this.codePoint=t,this.x=e,this.y=n,this.glyph=i||null,this.angle=r}function r(t,e,n,i,r,o,s){this.positionedGlyphs=t,this.text=e,this.top=n,this.bottom=i,this.left=r,this.right=o,this.writingMode=s}function o(t,e){for(var n=[],i=0,r=0,o=e;r<o.length;r+=1){var s=o[r];n.push(t.substring(i,s)),i=s}return i<t.length&&n.push(t.substring(i,t.length)),n}function s(t,e,n,i,s,a,u,l,c,h,d){var g=t.trim();d===_.vertical&&(g=b(g));var m,v=[],y=new r(v,g,c[1],c[1],c[0],c[0],d);return m=x.processBidirectionalText?x.processBidirectionalText(g,f(g,l,n,e)):o(g,f(g,l,n,e)),p(y,e,m,i,s,a,u,c,d,l,h),!!v.length&&y}function a(t,e,n,i){var r=0;for(var o in t){var s=i[t.charCodeAt(o)];s&&(r+=s.advance+e)}var a=Math.max(1,Math.ceil(r/n));return r/a}function u(t,e,n,i){var r=Math.pow(t-e,2);return i?t<e?r/2:2*r:r+Math.abs(n)*n}function l(t,e){var n=0;return 10===t&&(n-=1e4),40!==t&&65288!==t||(n+=50),41!==e&&65289!==e||(n+=50),n}function c(t,e,n,i,r,o){for(var s=null,a=u(e,n,r,o),l=0,c=i;l<c.length;l+=1){var h=c[l],f=e-h.x,p=u(f,n,r,o)+h.badness;p<=a&&(s=h,a=p)}return{index:t,x:e,priorBreak:s,badness:a}}function h(t){return t?h(t.priorBreak).concat(t.index):[]}function f(t,e,n,i){if(!n)return[];if(!t)return[];for(var r=[],o=a(t,e,n,i),s=0,u=0;u<t.length;u++){var f=t.charCodeAt(u),p=i[f];p&&!E[f]&&(s+=p.advance+e),u<t.length-1&&(w[f]||y.charAllowsIdeographicBreaking(f))&&r.push(c(u+1,s,o,r,l(f,t.charCodeAt(u+1)),!1))}return h(c(t.length,s,o,r,0,!0))}function p(t,e,n,r,o,s,a,u,l,c,h){var f=-17,p=0,m=f,v=0,b=t.positionedGlyphs;for(var x in n){var E=n[x].trim();if(E.length){for(var w=b.length,T=0;T<E.length;T++){var S=E.charCodeAt(T),A=e[S];A&&(y.charHasUprightVerticalOrientation(S)&&l!==_.horizontal?(b.push(new i(S,p,0,A,-Math.PI/2)),p+=h+c):(b.push(new i(S,p,m,A,0)),p+=A.advance+c))}if(b.length!==w){var I=p-c;v=Math.max(I,v),d(b,e,w,b.length-1,a)}p=0,m+=r}else m+=r}g(b,a,o,s,v,r,n.length,u);var C=n.length*r;t.top+=-s*C,t.bottom=t.top+C,t.left+=-o*v,t.right=t.left+v}function d(t,e,n,i,r){if(r)for(var o=e[t[i].codePoint].advance,s=(t[i].x+o)*r,a=n;a<=i;a++)t[a].x-=s}function g(t,e,n,i,r,o,s,a){for(var u=(e-n)*r+a[0],l=(-i*s+.5)*o+a[1],c=0;c<t.length;c++)t[c].x+=u,t[c].y+=l}function m(t,e){if(!t||!t.rect)return null;var n=e[0],i=e[1],r=n-t.width/2,o=r+t.width,s=i-t.height/2,a=s+t.height;return new v(t,s,a,r,o)}function v(t,e,n,i,r){this.image=t,this.top=e,this.bottom=n,this.left=i,this.right=r}var y=t("../util/script_detection"),b=t("../util/verticalize_punctuation"),x=t("../source/rtl_text_plugin"),_={horizontal:1,vertical:2};e.exports={shapeText:s,shapeIcon:m,WritingMode:_};var E={9:!0,10:!0,11:!0,12:!0,13:!0,32:!0},w={10:!0,32:!0,38:!0,40:!0,41:!0,43:!0,45:!0,47:!0,173:!0,183:!0,8203:!0,8208:!0,8211:!0,8231:!0}},{"../source/rtl_text_plugin":91,"../util/script_detection":211,"../util/verticalize_punctuation":216}],172:[function(t,e,n){"use strict";function i(t,e,n,i,r,o,s,a,u,l,c){var h,f,p=i*e+n,d=a*o+s;if(c)for(d-=o,f=-1;f<=l;f++,d+=o)for(p=((f+l)%l+i)*e+n,h=-1;h<=u;h++)r[d+h]=t[p+(h+u)%u];else for(f=0;f<l;f++,p+=e,d+=o)for(h=0;h<u;h++)r[d+h]=t[p+h]}var r=t("@mapbox/shelf-pack"),o=t("../util/browser"),s=t("../util/util"),a=t("../util/window"),u=t("../util/evented"),l=function(t){function e(e,n){t.call(this),this.width=e,this.height=n,this.shelfPack=new r(e,n),this.images={},this.data=!1,this.texture=0,this.filter=0,this.pixelRatio=1,this.dirty=!0}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.allocateImage=function(t,e){t/=this.pixelRatio,e/=this.pixelRatio;var n=2,i=t+n+(4-(t+n)%4),r=e+n+(4-(e+n)%4),o=this.shelfPack.packOne(i,r);return o?o:(s.warnOnce("SpriteAtlas out of space."),null)},e.prototype.addImage=function(t,e,n){var i,r,s;if(e instanceof a.HTMLImageElement?(i=e.width,r=e.height,e=o.getImageData(e),s=this.pixelRatio):(i=n.width,r=n.height,s=n.pixelRatio||this.pixelRatio),ArrayBuffer.isView(e)&&(e=new Uint32Array(e.buffer)),!(e instanceof Uint32Array))return this.fire("error",{error:new Error("Image provided in an invalid format. Supported formats are HTMLImageElement, ImageData, and ArrayBufferView.")});if(this.images[t])return this.fire("error",{error:new Error("An image with this name already exists.")});var u=this.allocateImage(i,r);if(!u)return this.fire("error",{error:new Error("There is not enough space to add this image.")});var l={rect:u,width:i/s,height:r/s,sdf:!1,pixelRatio:1};this.images[t]=l,this.copy(e,i,u,{pixelRatio:s,x:0,y:0,width:i,height:r},!1),this.fire("data",{dataType:"style"})},e.prototype.removeImage=function(t){var e=this.images[t];return delete this.images[t],e?(this.shelfPack.unref(e.rect),void this.fire("data",{dataType:"style"})):this.fire("error",{error:new Error("No image with this name exists.")})},e.prototype.getImage=function(t,e){if(this.images[t])return this.images[t];if(!this.sprite)return null;var n=this.sprite.getSpritePosition(t);if(!n.width||!n.height)return null;var i=this.allocateImage(n.width,n.height);if(!i)return null;var r={rect:i,width:n.width/n.pixelRatio,height:n.height/n.pixelRatio,sdf:n.sdf,pixelRatio:n.pixelRatio/this.pixelRatio};if(this.images[t]=r,!this.sprite.imgData)return null;var o=new Uint32Array(this.sprite.imgData.buffer);return this.copy(o,this.sprite.width,i,n,e),r},e.prototype.getPosition=function(t,e){var n=this.getImage(t,e),i=n&&n.rect;if(!i)return null;var r=n.width*n.pixelRatio,o=n.height*n.pixelRatio,s=1;return{size:[n.width,n.height],tl:[(i.x+s)/this.width,(i.y+s)/this.height],br:[(i.x+s+r)/this.width,(i.y+s+o)/this.height]}},e.prototype.allocate=function(){var t=this;if(!this.data){var e=Math.floor(this.width*this.pixelRatio),n=Math.floor(this.height*this.pixelRatio);this.data=new Uint32Array(e*n);for(var i=0;i<this.data.length;i++)t.data[i]=0}},e.prototype.copy=function(t,e,n,r,o){this.allocate();var s=this.data,a=1;i(t,e,r.x,r.y,s,this.width*this.pixelRatio,(n.x+a)*this.pixelRatio,(n.y+a)*this.pixelRatio,r.width,r.height,o),this.dirty=!0},e.prototype.setSprite=function(t){t&&(this.pixelRatio=o.devicePixelRatio>1?2:1,this.canvas&&(this.canvas.width=this.width*this.pixelRatio,this.canvas.height=this.height*this.pixelRatio)),this.sprite=t},e.prototype.addIcons=function(t,e){for(var n=this,i=0;i<t.length;i++)n.getImage(t[i]);e(null,this.images)},e.prototype.bind=function(t,e){var n=!1;this.texture?t.bindTexture(t.TEXTURE_2D,this.texture):(this.texture=t.createTexture(),t.bindTexture(t.TEXTURE_2D,this.texture),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),n=!0);var i=e?t.LINEAR:t.NEAREST;i!==this.filter&&(t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,i),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,i),this.filter=i),this.dirty&&(this.allocate(),n?t.texImage2D(t.TEXTURE_2D,0,t.RGBA,this.width*this.pixelRatio,this.height*this.pixelRatio,0,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)):t.texSubImage2D(t.TEXTURE_2D,0,0,0,this.width*this.pixelRatio,this.height*this.pixelRatio,t.RGBA,t.UNSIGNED_BYTE,new Uint8Array(this.data.buffer)),this.dirty=!1)},e}(u);e.exports=l},{"../util/browser":195,"../util/evented":203,"../util/util":214,"../util/window":197,"@mapbox/shelf-pack":2}],173:[function(t,e,n){"use strict";var i=t("../source/rtl_text_plugin");e.exports=function(t,e,n,r){var o=e.getLayoutValue("text-transform",n,r);return"uppercase"===o?t=t.toLocaleUpperCase():"lowercase"===o&&(t=t.toLocaleLowerCase()),i.applyArabicShaping&&(t=i.applyArabicShaping(t)),t}},{"../source/rtl_text_plugin":91}],174:[function(t,e,n){"use strict";var i=t("../util/dom"),r=t("point-geometry"),o={scrollZoom:t("./handler/scroll_zoom"),boxZoom:t("./handler/box_zoom"),dragRotate:t("./handler/drag_rotate"),dragPan:t("./handler/drag_pan"),keyboard:t("./handler/keyboard"),doubleClickZoom:t("./handler/dblclick_zoom"),touchZoomRotate:t("./handler/touch_zoom_rotate")};e.exports=function(t,e){function n(t){v("mouseout",t)}function s(e){t.stop(),E=i.mousePos(b,e),v("mousedown",e),_=!0}function a(e){var n=t.dragRotate&&t.dragRotate.isActive();x&&!n&&v("contextmenu",x),x=null,_=!1,v("mouseup",e)}function u(e){if(!(t.dragPan&&t.dragPan.isActive()||t.dragRotate&&t.dragRotate.isActive())){for(var n=e.toElement||e.target;n&&n!==b;)n=n.parentNode;n===b&&v("mousemove",e)}}function l(e){t.stop(),y("touchstart",e),!e.touches||e.touches.length>1||(w?(clearTimeout(w),w=null,v("dblclick",e)):w=setTimeout(p,300))}function c(t){y("touchmove",t)}function h(t){y("touchend",t)}function f(t){y("touchcancel",t)}function p(){w=null}function d(t){var e=i.mousePos(b,t);e.equals(E)&&v("click",t)}function g(t){v("dblclick",t),t.preventDefault()}function m(e){var n=t.dragRotate&&t.dragRotate.isActive();_||n?_&&(x=e):v("contextmenu",e),e.preventDefault()}function v(e,n){var r=i.mousePos(b,n);return t.fire(e,{lngLat:t.unproject(r),point:r,originalEvent:n})}function y(e,n){var o=i.touchPos(b,n),s=o.reduce(function(t,e,n,i){return t.add(e.div(i.length))},new r(0,0));return t.fire(e,{lngLat:t.unproject(s),point:s,lngLats:o.map(function(e){return t.unproject(e)},this),points:o,originalEvent:n})}var b=t.getCanvasContainer(),x=null,_=!1,E=null,w=null;for(var T in o)t[T]=new o[T](t,e),e.interactive&&e[T]&&t[T].enable(e[T]);b.addEventListener("mouseout",n,!1),b.addEventListener("mousedown",s,!1),b.addEventListener("mouseup",a,!1),b.addEventListener("mousemove",u,!1),b.addEventListener("touchstart",l,!1),b.addEventListener("touchend",h,!1),b.addEventListener("touchmove",c,!1),b.addEventListener("touchcancel",f,!1),b.addEventListener("click",d,!1),b.addEventListener("dblclick",g,!1),b.addEventListener("contextmenu",m,!1)}},{"../util/dom":202,"./handler/box_zoom":182,"./handler/dblclick_zoom":183,"./handler/drag_pan":184,"./handler/drag_rotate":185,"./handler/keyboard":186,"./handler/scroll_zoom":187,"./handler/touch_zoom_rotate":188,"point-geometry":26}],175:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../style-spec/util/interpolate"),o=t("../util/browser"),s=t("../geo/lng_lat"),a=t("../geo/lng_lat_bounds"),u=t("point-geometry"),l=t("../util/evented"),c=function(t){function e(e,n){t.call(this),this.moving=!1,this.transform=e,this._bearingSnap=n.bearingSnap}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.getCenter=function(){return this.transform.center},e.prototype.setCenter=function(t,e){return this.jumpTo({center:t},e)},e.prototype.panBy=function(t,e,n){return t=u.convert(t).mult(-1),this.panTo(this.transform.center,i.extend({offset:t},e),n)},e.prototype.panTo=function(t,e,n){return this.easeTo(i.extend({center:t},e),n)},e.prototype.getZoom=function(){return this.transform.zoom},e.prototype.setZoom=function(t,e){return this.jumpTo({zoom:t},e),this},e.prototype.zoomTo=function(t,e,n){return this.easeTo(i.extend({zoom:t},e),n)},e.prototype.zoomIn=function(t,e){return this.zoomTo(this.getZoom()+1,t,e),this},e.prototype.zoomOut=function(t,e){return this.zoomTo(this.getZoom()-1,t,e),this},e.prototype.getBearing=function(){return this.transform.bearing},e.prototype.setBearing=function(t,e){return this.jumpTo({bearing:t},e),this},e.prototype.rotateTo=function(t,e,n){return this.easeTo(i.extend({bearing:t},e),n)},e.prototype.resetNorth=function(t,e){return this.rotateTo(0,i.extend({duration:1e3},t),e),this},e.prototype.snapToNorth=function(t,e){return Math.abs(this.getBearing())<this._bearingSnap?this.resetNorth(t,e):this},e.prototype.getPitch=function(){return this.transform.pitch},e.prototype.setPitch=function(t,e){return this.jumpTo({pitch:t},e),this},e.prototype.fitBounds=function(t,e,n){if(e=i.extend({padding:{top:0,bottom:0,right:0,left:0},offset:[0,0],maxZoom:this.transform.maxZoom},e),"number"==typeof e.padding){var r=e.padding;e.padding={top:r,bottom:r,right:r,left:r}}if(!i.deepEqual(Object.keys(e.padding).sort(function(t,e){return t<e?-1:t>e?1:0}),["bottom","left","right","top"]))return void i.warnOnce("options.padding must be a positive number, or an Object with keys 'bottom', 'left', 'right', 'top'");t=a.convert(t);var o=[e.padding.left-e.padding.right,e.padding.top-e.padding.bottom],s=Math.min(e.padding.right,e.padding.left),l=Math.min(e.padding.top,e.padding.bottom);e.offset=[e.offset[0]+o[0],e.offset[1]+o[1]];var c=u.convert(e.offset),h=this.transform,f=h.project(t.getNorthWest()),p=h.project(t.getSouthEast()),d=p.sub(f),g=(h.width-2*s-2*Math.abs(c.x))/d.x,m=(h.height-2*l-2*Math.abs(c.y))/d.y;return m<0||g<0?void i.warnOnce("Map cannot fit within canvas with the given bounds, padding, and/or offset."):(e.center=h.unproject(f.add(p).div(2)),e.zoom=Math.min(h.scaleZoom(h.scale*Math.min(g,m)),e.maxZoom),e.bearing=0,e.linear?this.easeTo(e,n):this.flyTo(e,n))},e.prototype.jumpTo=function(t,e){this.stop();var n=this.transform,i=!1,r=!1,o=!1;return"zoom"in t&&n.zoom!==+t.zoom&&(i=!0,n.zoom=+t.zoom),"center"in t&&(n.center=s.convert(t.center)),"bearing"in t&&n.bearing!==+t.bearing&&(r=!0,n.bearing=+t.bearing),"pitch"in t&&n.pitch!==+t.pitch&&(o=!0,n.pitch=+t.pitch),this.fire("movestart",e).fire("move",e),i&&this.fire("zoomstart",e).fire("zoom",e).fire("zoomend",e),r&&this.fire("rotate",e),o&&this.fire("pitchstart",e).fire("pitch",e).fire("pitchend",e),this.fire("moveend",e)},e.prototype.easeTo=function(t,e){var n=this;this.stop(),t=i.extend({offset:[0,0],duration:500,easing:i.ease},t),t.animate===!1&&(t.duration=0),t.smoothEasing&&0!==t.duration&&(t.easing=this._smoothOutEasing(t.duration));var o=this.transform,a=this.getZoom(),l=this.getBearing(),c=this.getPitch(),h="zoom"in t?+t.zoom:a,f="bearing"in t?this._normalizeBearing(t.bearing,l):l,p="pitch"in t?+t.pitch:c,d=o.centerPoint.add(u.convert(t.offset)),g=o.pointLocation(d),m=s.convert(t.center||g);this._normalizeCenter(m);var v,y,b=o.project(g),x=o.project(m).sub(b),_=o.zoomScale(h-a);return t.around&&(v=s.convert(t.around),y=o.locationPoint(v)),this.zooming=h!==a,this.rotating=l!==f,this.pitching=p!==c,this._prepareEase(e,t.noMoveStart),clearTimeout(this._onEaseEnd),this._ease(function(t){if(this.zooming&&(o.zoom=r(a,h,t)),this.rotating&&(o.bearing=r(l,f,t)),this.pitching&&(o.pitch=r(c,p,t)),v)o.setLocationAtPoint(v,y);else{var n=o.zoomScale(o.zoom-a),i=h>a?Math.min(2,_):Math.max(.5,_),s=Math.pow(i,1-t),u=o.unproject(b.add(x.mult(t*s)).mult(n));o.setLocationAtPoint(o.renderWorldCopies?u.wrap():u,d)}this._fireMoveEvents(e)},function(){t.delayEndEvents?n._onEaseEnd=setTimeout(function(){return n._easeToEnd(e)},t.delayEndEvents):n._easeToEnd(e)},t),this},e.prototype._prepareEase=function(t,e){this.moving=!0,e||this.fire("movestart",t),this.zooming&&this.fire("zoomstart",t),this.pitching&&this.fire("pitchstart",t)},e.prototype._fireMoveEvents=function(t){this.fire("move",t),this.zooming&&this.fire("zoom",t),this.rotating&&this.fire("rotate",t),this.pitching&&this.fire("pitch",t)},e.prototype._easeToEnd=function(t){var e=this.zooming,n=this.pitching;this.moving=!1,this.zooming=!1,this.rotating=!1,this.pitching=!1,e&&this.fire("zoomend",t),n&&this.fire("pitchend",t),this.fire("moveend",t)},e.prototype.flyTo=function(t,e){function n(t){var e=(A*A-S*S+(t?-1:1)*M*M*I*I)/(2*(t?A:S)*M*I);return Math.log(Math.sqrt(e*e+1)-e)}function o(t){return(Math.exp(t)-Math.exp(-t))/2}function a(t){return(Math.exp(t)+Math.exp(-t))/2}function l(t){return o(t)/a(t)}var c=this;this.stop(),t=i.extend({offset:[0,0],speed:1.2,curve:1.42,easing:i.ease},t);var h=this.transform,f=this.getZoom(),p=this.getBearing(),d=this.getPitch(),g="zoom"in t?+t.zoom:f,m="bearing"in t?this._normalizeBearing(t.bearing,p):p,v="pitch"in t?+t.pitch:d,y=h.zoomScale(g-f),b=h.centerPoint.add(u.convert(t.offset)),x=h.pointLocation(b),_=s.convert(t.center||x);this._normalizeCenter(_);var E=h.project(x),w=h.project(_).sub(E),T=t.curve,S=Math.max(h.width,h.height),A=S/y,I=w.mag();if("minZoom"in t){var C=i.clamp(Math.min(t.minZoom,f,g),h.minZoom,h.maxZoom),L=S/h.zoomScale(C-f);T=Math.sqrt(L/I*2)}var M=T*T,N=n(0),R=function(t){return a(N)/a(N+T*t)},O=function(t){return S*((a(N)*l(N+T*t)-o(N))/M)/I},D=(n(1)-N)/T;if(Math.abs(I)<1e-6){if(Math.abs(S-A)<1e-6)return this.easeTo(t,e);var P=A<S?-1:1;D=Math.abs(Math.log(A/S))/T,O=function(){return 0},R=function(t){return Math.exp(P*T*t)}}if("duration"in t)t.duration=+t.duration;else{var k="screenSpeed"in t?+t.screenSpeed/T:+t.speed;t.duration=1e3*D/k}return this.zooming=!0,this.rotating=p!==m,this.pitching=v!==d,this._prepareEase(e,!1),this._ease(function(t){var n=t*D,i=1/R(n);h.zoom=f+h.scaleZoom(i),this.rotating&&(h.bearing=r(p,m,t)),this.pitching&&(h.pitch=r(d,v,t));var o=h.unproject(E.add(w.mult(O(n))).mult(i));h.setLocationAtPoint(h.renderWorldCopies?o.wrap():o,b),this._fireMoveEvents(e)},function(){return c._easeToEnd(e)},t),this},e.prototype.isEasing=function(){return!!this._abortFn},e.prototype.isMoving=function(){return this.moving},e.prototype.stop=function(){return this._abortFn&&(this._abortFn(),this._finishEase()),this},e.prototype._ease=function(t,e,n){this._finishFn=e,this._abortFn=o.timed(function(e){t.call(this,n.easing(e)),1===e&&this._finishEase()},n.animate===!1?0:n.duration,this)},e.prototype._finishEase=function(){delete this._abortFn;var t=this._finishFn;delete this._finishFn,t.call(this)},e.prototype._normalizeBearing=function(t,e){t=i.wrap(t,-180,180);var n=Math.abs(t-e);return Math.abs(t-360-e)<n&&(t-=360),Math.abs(t+360-e)<n&&(t+=360),t},e.prototype._normalizeCenter=function(t){var e=this.transform;if(e.renderWorldCopies&&!e.lngRange){var n=t.lng-e.center.lng;t.lng+=n>180?-360:n<-180?360:0}},e.prototype._smoothOutEasing=function(t){var e=i.ease;if(this._prevEase){var n=this._prevEase,r=(Date.now()-n.start)/n.duration,o=n.easing(r+.01)-n.easing(r),s=.27/Math.sqrt(o*o+1e-4)*.01,a=Math.sqrt(.0729-s*s);e=i.bezier(s,a,.25,1)}return this._prevEase={start:(new Date).getTime(),duration:t,easing:e},e},e}(l);e.exports=c},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../style-spec/util/interpolate":123,"../util/browser":195,"../util/evented":203,"../util/util":214,"point-geometry":26}],176:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=function(t){this.options=t,r.bindAll(["_updateEditLink","_updateData","_updateCompact"],this)};o.prototype.getDefaultPosition=function(){return"bottom-right"},o.prototype.onAdd=function(t){var e=this.options&&this.options.compact;return this._map=t,this._container=i.create("div","mapboxgl-ctrl mapboxgl-ctrl-attrib"),e&&this._container.classList.add("compact"),this._updateAttributions(),this._updateEditLink(),this._map.on("sourcedata",this._updateData),this._map.on("moveend",this._updateEditLink),void 0===e&&(this._map.on("resize",this._updateCompact),this._updateCompact()),this._container},o.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("sourcedata",this._updateData),this._map.off("moveend",this._updateEditLink),this._map.off("resize",this._updateCompact),this._map=void 0},o.prototype._updateEditLink=function(){if(this._editLink||(this._editLink=this._container.querySelector(".mapbox-improve-map")),this._editLink){var t=this._map.getCenter();this._editLink.href="https://www.mapbox.com/map-feedback/#/"+t.lng+"/"+t.lat+"/"+Math.round(this._map.getZoom()+1)}},o.prototype._updateData=function(t){t&&"metadata"===t.sourceDataType&&(this._updateAttributions(),this._updateEditLink())},o.prototype._updateAttributions=function(){if(this._map.style){var t=[],e=this._map.style.sourceCaches;for(var n in e){var i=e[n].getSource();i.attribution&&t.indexOf(i.attribution)<0&&t.push(i.attribution)}t.sort(function(t,e){return t.length-e.length}),t=t.filter(function(e,n){for(var i=n+1;i<t.length;i++)if(t[i].indexOf(e)>=0)return!1;return!0}),this._container.innerHTML=t.join(" | "),this._editLink=null}},o.prototype._updateCompact=function(){var t=this._map.getCanvasContainer().offsetWidth<=640;this._container.classList[t?"add":"remove"]("compact")},e.exports=o},{"../../util/dom":202,"../../util/util":214}],177:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),s=function(){this._fullscreen=!1,r.bindAll(["_onClickFullscreen","_changeIcon"],this),"onfullscreenchange"in o.document?this._fullscreenchange="fullscreenchange":"onmozfullscreenchange"in o.document?this._fullscreenchange="mozfullscreenchange":"onwebkitfullscreenchange"in o.document?this._fullscreenchange="webkitfullscreenchange":"onmsfullscreenchange"in o.document&&(this._fullscreenchange="MSFullscreenChange")};s.prototype.onAdd=function(t){var e="mapboxgl-ctrl",n=this._container=i.create("div",e+" mapboxgl-ctrl-group"),r=this._fullscreenButton=i.create("button",e+"-icon "+e+"-fullscreen",this._container);return r.setAttribute("aria-label","Toggle fullscreen"),r.type="button",this._fullscreenButton.addEventListener("click",this._onClickFullscreen),this._mapContainer=t.getContainer(),o.document.addEventListener(this._fullscreenchange,this._changeIcon),n},s.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=null,o.document.removeEventListener(this._fullscreenchange,this._changeIcon)},s.prototype._isFullscreen=function(){return this._fullscreen},s.prototype._changeIcon=function(t){if(t.target===this._mapContainer){this._fullscreen=!this._fullscreen;var e="mapboxgl-ctrl";this._fullscreenButton.classList.toggle(e+"-shrink"),this._fullscreenButton.classList.toggle(e+"-fullscreen")}},s.prototype._onClickFullscreen=function(){this._isFullscreen()?o.document.exitFullscreen?o.document.exitFullscreen():o.document.mozCancelFullScreen?o.document.mozCancelFullScreen():o.document.msExitFullscreen?o.document.msExitFullscreen():o.document.webkitCancelFullScreen&&o.document.webkitCancelFullScreen():this._mapContainer.requestFullscreen?this._mapContainer.requestFullscreen():this._mapContainer.mozRequestFullScreen?this._mapContainer.mozRequestFullScreen():this._mapContainer.msRequestFullscreen?this._mapContainer.msRequestFullscreen():this._mapContainer.webkitRequestFullscreen&&this._mapContainer.webkitRequestFullscreen()},e.exports=s},{"../../util/dom":202,"../../util/util":214,"../../util/window":197}],178:[function(t,e,n){"use strict";function i(t){void 0!==c?t(c):void 0!==s.navigator.permissions?s.navigator.permissions.query({name:"geolocation"}).then(function(e){c="denied"!==e.state,t(c)}):(c=!!s.navigator.geolocation,t(c))}var r=t("../../util/evented"),o=t("../../util/dom"),s=t("../../util/window"),a=t("../../util/util"),u={enableHighAccuracy:!1,timeout:6e3},l="mapboxgl-ctrl",c,h=function(t){function e(e){t.call(this),this.options=e||{},a.bindAll(["_onSuccess","_onError","_finish","_setupUI"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.onAdd=function(t){return this._map=t,this._container=o.create("div",l+" "+l+"-group"),i(this._setupUI),this._container},e.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map=void 0},e.prototype._onSuccess=function(t){this._map.jumpTo({center:[t.coords.longitude,t.coords.latitude],zoom:17,bearing:0,pitch:0}),this.fire("geolocate",t),this._finish()},e.prototype._onError=function(t){this.fire("error",t),this._finish()},e.prototype._finish=function(){this._timeoutId&&clearTimeout(this._timeoutId),this._timeoutId=void 0},e.prototype._setupUI=function(t){t!==!1&&(this._container.addEventListener("contextmenu",function(t){return t.preventDefault()}),this._geolocateButton=o.create("button",l+"-icon "+l+"-geolocate",this._container),this._geolocateButton.type="button",this._geolocateButton.setAttribute("aria-label","Geolocate"),this.options.watchPosition&&this._geolocateButton.setAttribute("aria-pressed",!1),this._geolocateButton.addEventListener("click",this._onClickGeolocate.bind(this)))},e.prototype._onClickGeolocate=function(){var t=a.extend(u,this.options&&this.options.positionOptions||{});this.options.watchPosition?void 0!==this._geolocationWatchID?(this._geolocateButton.classList.remove("watching"),this._geolocateButton.setAttribute("aria-pressed",!1),s.navigator.geolocation.clearWatch(this._geolocationWatchID),this._geolocationWatchID=void 0):(this._geolocateButton.classList.add("watching"),this._geolocateButton.setAttribute("aria-pressed",!0),this._geolocationWatchID=s.navigator.geolocation.watchPosition(this._onSuccess,this._onError,t)):(s.navigator.geolocation.getCurrentPosition(this._onSuccess,this._onError,t),this._timeoutId=setTimeout(this._finish,1e4))},e}(r);e.exports=h},{"../../util/dom":202,"../../util/evented":203,"../../util/util":214,"../../util/window":197}],179:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=function(){r.bindAll(["_updateLogo"],this)};o.prototype.onAdd=function(t){return this._map=t,this._container=i.create("div","mapboxgl-ctrl"),this._map.on("sourcedata",this._updateLogo),this._updateLogo(),this._container},o.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("sourcedata",this._updateLogo)},o.prototype.getDefaultPosition=function(){return"bottom-left"},o.prototype._updateLogo=function(t){if(t&&"metadata"===t.sourceDataType)if(!this._container.childNodes.length&&this._logoRequired()){var e=i.create("a","mapboxgl-ctrl-logo");e.target="_blank",e.href="https://www.mapbox.com/",e.setAttribute("aria-label","Mapbox logo"),this._container.appendChild(e),this._map.off("data",this._updateLogo)}else this._container.childNodes.length&&!this._logoRequired()&&this.onRemove()},o.prototype._logoRequired=function(){if(this._map.style){var t=this._map.style.sourceCaches;for(var e in t){var n=t[e].getSource();if(n.mapbox_logo)return!0}return!1}},e.exports=o},{"../../util/dom":202,"../../util/util":214}],180:[function(t,e,n){"use strict";function i(t){return new o.MouseEvent(t.type,{button:2,buttons:2,bubbles:!0,cancelable:!0,detail:t.detail,view:t.view,screenX:t.screenX,screenY:t.screenY,clientX:t.clientX,clientY:t.clientY,movementX:t.movementX,movementY:t.movementY,ctrlKey:t.ctrlKey,shiftKey:t.shiftKey,altKey:t.altKey,metaKey:t.metaKey})}var r=t("../../util/dom"),o=t("../../util/window"),s=t("../../util/util"),a="mapboxgl-ctrl",u=function(){s.bindAll(["_rotateCompassArrow"],this)};u.prototype._rotateCompassArrow=function(){var t="rotate("+this._map.transform.angle*(180/Math.PI)+"deg)";this._compassArrow.style.transform=t},u.prototype.onAdd=function(t){return this._map=t,this._container=r.create("div",a+" "+a+"-group",t.getContainer()),this._container.addEventListener("contextmenu",this._onContextMenu.bind(this)),this._zoomInButton=this._createButton(a+"-icon "+a+"-zoom-in","Zoom In",t.zoomIn.bind(t)),this._zoomOutButton=this._createButton(a+"-icon "+a+"-zoom-out","Zoom Out",t.zoomOut.bind(t)),this._compass=this._createButton(a+"-icon "+a+"-compass","Reset North",t.resetNorth.bind(t)),this._compassArrow=r.create("span",a+"-compass-arrow",this._compass),this._compass.addEventListener("mousedown",this._onCompassDown.bind(this)),this._onCompassMove=this._onCompassMove.bind(this),this._onCompassUp=this._onCompassUp.bind(this),this._map.on("rotate",this._rotateCompassArrow),this._rotateCompassArrow(),this._container},u.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("rotate",this._rotateCompassArrow),this._map=void 0},u.prototype._onContextMenu=function(t){t.preventDefault()},u.prototype._onCompassDown=function(t){0===t.button&&(r.disableDrag(),o.document.addEventListener("mousemove",this._onCompassMove),o.document.addEventListener("mouseup",this._onCompassUp),this._map.getCanvasContainer().dispatchEvent(i(t)),t.stopPropagation())},u.prototype._onCompassMove=function(t){0===t.button&&(this._map.getCanvasContainer().dispatchEvent(i(t)),t.stopPropagation())},u.prototype._onCompassUp=function(t){0===t.button&&(o.document.removeEventListener("mousemove",this._onCompassMove),o.document.removeEventListener("mouseup",this._onCompassUp),r.enableDrag(),this._map.getCanvasContainer().dispatchEvent(i(t)),t.stopPropagation())},u.prototype._createButton=function(t,e,n){var i=r.create("button",t,this._container);return i.type="button",i.setAttribute("aria-label",e),i.addEventListener("click",function(){n()}),i},e.exports=u},{"../../util/dom":202,"../../util/util":214,"../../util/window":197}],181:[function(t,e,n){"use strict";function i(t,e,n){var i=n&&n.maxWidth||100,s=t._container.clientHeight/2,a=o(t.unproject([0,s]),t.unproject([i,s]));if(n&&"imperial"===n.unit){var u=3.2808*a;if(u>5280){var l=u/5280;r(e,i,l,"mi")}else r(e,i,u,"ft")}else r(e,i,a,"m")}function r(t,e,n,i){var r=s(n),o=r/n;"m"===i&&r>=1e3&&(r/=1e3,i="km"),t.style.width=e*o+"px",t.innerHTML=r+i}function o(t,e){var n=6371e3,i=Math.PI/180,r=t.lat*i,o=e.lat*i,s=Math.sin(r)*Math.sin(o)+Math.cos(r)*Math.cos(o)*Math.cos((e.lng-t.lng)*i),a=n*Math.acos(Math.min(s,1));return a}function s(t){var e=Math.pow(10,(""+Math.floor(t)).length-1),n=t/e;return n=n>=10?10:n>=5?5:n>=3?3:n>=2?2:1,e*n}var a=t("../../util/dom"),u=t("../../util/util"),l=function(t){this.options=t,u.bindAll(["_onMove"],this)};l.prototype.getDefaultPosition=function(){return"bottom-left"},l.prototype._onMove=function(){i(this._map,this._container,this.options)},l.prototype.onAdd=function(t){return this._map=t,this._container=a.create("div","mapboxgl-ctrl mapboxgl-ctrl-scale",t.getContainer()),this._map.on("move",this._onMove),this._onMove(),this._container},l.prototype.onRemove=function(){this._container.parentNode.removeChild(this._container),this._map.off("move",this._onMove),this._map=void 0},e.exports=l},{"../../util/dom":202,"../../util/util":214}],182:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../geo/lng_lat_bounds"),o=t("../../util/util"),s=t("../../util/window"),a=function(t){this._map=t,this._el=t.getCanvasContainer(),this._container=t.getContainer(),o.bindAll(["_onMouseDown","_onMouseMove","_onMouseUp","_onKeyDown"],this)};a.prototype.isEnabled=function(){return!!this._enabled},a.prototype.isActive=function(){return!!this._active},a.prototype.enable=function(){this.isEnabled()||(this._map.dragPan&&this._map.dragPan.disable(),this._el.addEventListener("mousedown",this._onMouseDown,!1),this._map.dragPan&&this._map.dragPan.enable(),this._enabled=!0)},a.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onMouseDown),this._enabled=!1)},a.prototype._onMouseDown=function(t){t.shiftKey&&0===t.button&&(s.document.addEventListener("mousemove",this._onMouseMove,!1),s.document.addEventListener("keydown",this._onKeyDown,!1),s.document.addEventListener("mouseup",this._onMouseUp,!1),i.disableDrag(),this._startPos=i.mousePos(this._el,t),this._active=!0)},a.prototype._onMouseMove=function(t){var e=this._startPos,n=i.mousePos(this._el,t);this._box||(this._box=i.create("div","mapboxgl-boxzoom",this._container),this._container.classList.add("mapboxgl-crosshair"),this._fireEvent("boxzoomstart",t));var r=Math.min(e.x,n.x),o=Math.max(e.x,n.x),s=Math.min(e.y,n.y),a=Math.max(e.y,n.y);i.setTransform(this._box,"translate("+r+"px,"+s+"px)"),this._box.style.width=o-r+"px",this._box.style.height=a-s+"px"},a.prototype._onMouseUp=function(t){if(0===t.button){var e=this._startPos,n=i.mousePos(this._el,t),o=(new r).extend(this._map.unproject(e)).extend(this._map.unproject(n));this._finish(),e.x===n.x&&e.y===n.y?this._fireEvent("boxzoomcancel",t):this._map.fitBounds(o,{linear:!0}).fire("boxzoomend",{originalEvent:t,boxZoomBounds:o})}},a.prototype._onKeyDown=function(t){27===t.keyCode&&(this._finish(),this._fireEvent("boxzoomcancel",t))},a.prototype._finish=function(){this._active=!1,s.document.removeEventListener("mousemove",this._onMouseMove,!1),s.document.removeEventListener("keydown",this._onKeyDown,!1),s.document.removeEventListener("mouseup",this._onMouseUp,!1),this._container.classList.remove("mapboxgl-crosshair"),this._box&&(this._box.parentNode.removeChild(this._box),this._box=null),i.enableDrag()},a.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},e.exports=a},{"../../geo/lng_lat_bounds":63,"../../util/dom":202,"../../util/util":214,"../../util/window":197}],183:[function(t,e,n){"use strict";var i=function(t){this._map=t,this._onDblClick=this._onDblClick.bind(this)};i.prototype.isEnabled=function(){return!!this._enabled},i.prototype.enable=function(){this.isEnabled()||(this._map.on("dblclick",this._onDblClick),this._enabled=!0)},i.prototype.disable=function(){this.isEnabled()&&(this._map.off("dblclick",this._onDblClick),this._enabled=!1)},i.prototype._onDblClick=function(t){this._map.zoomTo(this._map.getZoom()+(t.originalEvent.shiftKey?-1:1),{around:t.lngLat},t)},e.exports=i},{}],184:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),s=.3,a=r.bezier(0,0,s,1),u=1400,l=2500,c=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onDown","_onMove","_onUp","_onTouchEnd","_onMouseUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-drag-pan"),this._el.addEventListener("mousedown",this._onDown),this._el.addEventListener("touchstart",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-drag-pan"),this._el.removeEventListener("mousedown",this._onDown),this._el.removeEventListener("touchstart",this._onDown),this._enabled=!1)},c.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(t.touches?(o.document.addEventListener("touchmove",this._onMove),o.document.addEventListener("touchend",this._onTouchEnd)):(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onMouseUp)),o.addEventListener("blur",this._onMouseUp),this._active=!1,this._startPos=this._pos=i.mousePos(this._el,t),this._inertia=[[Date.now(),this._pos]])},c.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("dragstart",t),this._fireEvent("movestart",t));var e=i.mousePos(this._el,t),n=this._map;n.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),e]),n.transform.setLocationAtPoint(n.transform.pointLocation(this._pos),e),this._fireEvent("drag",t),this._fireEvent("move",t),this._pos=e,t.preventDefault()}},c.prototype._onUp=function(t){var e=this;if(this.isActive()){this._active=!1,this._fireEvent("dragend",t),this._drainInertiaBuffer();var n=function(){e._map.moving=!1,e._fireEvent("moveend",t)},i=this._inertia;if(i.length<2)return void n();var r=i[i.length-1],o=i[0],c=r[1].sub(o[1]),h=(r[0]-o[0])/1e3;if(0===h||r[1].equals(o[1]))return void n();var f=c.mult(s/h),p=f.mag();p>u&&(p=u,f._unit()._mult(p));var d=p/(l*s),g=f.mult(-d/2);this._map.panBy(g,{duration:1e3*d,easing:a,noMoveStart:!0},{originalEvent:t})}},c.prototype._onMouseUp=function(t){this._ignoreEvent(t)||(this._onUp(t),o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onMouseUp),o.removeEventListener("blur",this._onMouseUp))},c.prototype._onTouchEnd=function(t){this._ignoreEvent(t)||(this._onUp(t),o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onTouchEnd))},c.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},c.prototype._ignoreEvent=function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragRotate&&e.dragRotate.isActive())return!0;if(t.touches)return t.touches.length>1;if(t.ctrlKey)return!0;var n=1,i=0;return"mousemove"===t.type?t.buttons&0===n:t.button&&t.button!==i},c.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()},e.exports=c},{"../../util/dom":202,"../../util/util":214,"../../util/window":197}],185:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),s=.25,a=r.bezier(0,0,s,1),u=180,l=720,c=function(t,e){this._map=t,this._el=t.getCanvasContainer(),this._bearingSnap=e.bearingSnap,this._pitchWithRotate=e.pitchWithRotate!==!1,r.bindAll(["_onDown","_onMove","_onUp"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.isActive=function(){return!!this._active},c.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("mousedown",this._onDown),this._enabled=!0)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("mousedown",this._onDown),this._enabled=!1)},c.prototype._onDown=function(t){this._ignoreEvent(t)||this.isActive()||(o.document.addEventListener("mousemove",this._onMove),o.document.addEventListener("mouseup",this._onUp),o.addEventListener("blur",this._onUp),this._active=!1,this._inertia=[[Date.now(),this._map.getBearing()]],this._startPos=this._pos=i.mousePos(this._el,t),this._center=this._map.transform.centerPoint,t.preventDefault())},c.prototype._onMove=function(t){if(!this._ignoreEvent(t)){this.isActive()||(this._active=!0,this._map.moving=!0,this._fireEvent("rotatestart",t),this._fireEvent("movestart",t),this._pitchWithRotate&&this._fireEvent("pitchstart",t));var e=this._map;e.stop();var n=this._pos,r=i.mousePos(this._el,t),o=.8*(n.x-r.x),s=(n.y-r.y)*-.5,a=e.getBearing()-o,u=e.getPitch()-s,l=this._inertia,c=l[l.length-1];this._drainInertiaBuffer(),l.push([Date.now(),e._normalizeBearing(a,c[1])]),e.transform.bearing=a,this._pitchWithRotate&&(this._fireEvent("pitch",t),e.transform.pitch=u),this._fireEvent("rotate",t),this._fireEvent("move",t),this._pos=r}},c.prototype._onUp=function(t){var e=this;if(!this._ignoreEvent(t)&&(o.document.removeEventListener("mousemove",this._onMove),o.document.removeEventListener("mouseup",this._onUp),o.removeEventListener("blur",this._onUp),this.isActive())){this._active=!1,this._fireEvent("rotateend",t),this._drainInertiaBuffer();var n=this._map,i=n.getBearing(),r=this._inertia,c=function(){Math.abs(i)<e._bearingSnap?n.resetNorth({noMoveStart:!0},{originalEvent:t}):(e._map.moving=!1,e._fireEvent("moveend",t)),e._pitchWithRotate&&e._fireEvent("pitchend",t)};if(r.length<2)return void c();var h=r[0],f=r[r.length-1],p=r[r.length-2],d=n._normalizeBearing(i,p[1]),g=f[1]-h[1],m=g<0?-1:1,v=(f[0]-h[0])/1e3;if(0===g||0===v)return void c();var y=Math.abs(g*(s/v));y>u&&(y=u);var b=y/(l*s),x=m*y*(b/2);d+=x,Math.abs(n._normalizeBearing(d,0))<this._bearingSnap&&(d=n._normalizeBearing(0,d)),n.rotateTo(d,{duration:1e3*b,easing:a,noMoveStart:!0},{originalEvent:t})}},c.prototype._fireEvent=function(t,e){return this._map.fire(t,{originalEvent:e})},c.prototype._ignoreEvent=function(t){var e=this._map;if(e.boxZoom&&e.boxZoom.isActive())return!0;if(e.dragPan&&e.dragPan.isActive())return!0;if(t.touches)return t.touches.length>1;var n=t.ctrlKey?1:2,i=t.ctrlKey?0:2,r=t.button;return"undefined"!=typeof InstallTrigger&&2===t.button&&t.ctrlKey&&o.navigator.platform.toUpperCase().indexOf("MAC")>=0&&(r=0),"mousemove"===t.type?t.buttons&0===n:!this.isActive()&&r!==i},c.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>0&&e-t[0][0]>n;)t.shift()},e.exports=c},{"../../util/dom":202,"../../util/util":214,"../../util/window":197}],186:[function(t,e,n){"use strict";function i(t){return t*(2-t)}var r=100,o=15,s=10,a=function(t){this._map=t,this._el=t.getCanvasContainer(),this._onKeyDown=this._onKeyDown.bind(this)};a.prototype.isEnabled=function(){return!!this._enabled},a.prototype.enable=function(){this.isEnabled()||(this._el.addEventListener("keydown",this._onKeyDown,!1),this._enabled=!0)},a.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("keydown",this._onKeyDown),this._enabled=!1)},a.prototype._onKeyDown=function(t){if(!(t.altKey||t.ctrlKey||t.metaKey)){var e=0,n=0,a=0,u=0,l=0;switch(t.keyCode){case 61:case 107:case 171:case 187:e=1;break;case 189:case 109:case 173:e=-1;break;case 37:t.shiftKey?n=-1:(t.preventDefault(),u=-1);break;case 39:t.shiftKey?n=1:(t.preventDefault(),u=1);break;case 38:t.shiftKey?a=1:(t.preventDefault(),l=-1);break;case 40:t.shiftKey?a=-1:(l=1,t.preventDefault());break;default:return}var c=this._map,h=c.getZoom(),f={duration:300,delayEndEvents:500,easing:i,zoom:e?Math.round(h)+e*(t.shiftKey?2:1):h,bearing:c.getBearing()+n*o,pitch:c.getPitch()+a*s,offset:[-u*r,-l*r],center:c.getCenter()};c.easeTo(f,{originalEvent:t})}},e.exports=a},{}],187:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/browser"),s=t("../../util/window"),a=s.navigator.userAgent.toLowerCase(),u=a.indexOf("firefox")!==-1,l=a.indexOf("safari")!==-1&&a.indexOf("chrom")===-1,c=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onWheel","_onTimeout"],this)};c.prototype.isEnabled=function(){return!!this._enabled},c.prototype.enable=function(t){this.isEnabled()||(this._el.addEventListener("wheel",this._onWheel,!1),this._el.addEventListener("mousewheel",this._onWheel,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},c.prototype.disable=function(){this.isEnabled()&&(this._el.removeEventListener("wheel",this._onWheel),this._el.removeEventListener("mousewheel",this._onWheel),this._enabled=!1)},c.prototype._onWheel=function(t){var e;"wheel"===t.type?(e=t.deltaY,u&&t.deltaMode===s.WheelEvent.DOM_DELTA_PIXEL&&(e/=o.devicePixelRatio),t.deltaMode===s.WheelEvent.DOM_DELTA_LINE&&(e*=40)):"mousewheel"===t.type&&(e=-t.wheelDeltaY,l&&(e/=3));var n=o.now(),r=n-(this._time||0);this._pos=i.mousePos(this._el,t),this._time=n,0!==e&&e%4.000244140625===0?this._type="wheel":0!==e&&Math.abs(e)<4?this._type="trackpad":r>400?(this._type=null,this._lastValue=e,this._timeout=setTimeout(this._onTimeout,40)):this._type||(this._type=Math.abs(r*e)<200?"trackpad":"wheel",this._timeout&&(clearTimeout(this._timeout),this._timeout=null,e+=this._lastValue)),t.shiftKey&&e&&(e/=4),this._type&&this._zoom(-e,t),t.preventDefault()},c.prototype._onTimeout=function(){this._type="wheel",this._zoom(-this._lastValue)},c.prototype._zoom=function(t,e){if(0!==t){var n=this._map,i=2/(1+Math.exp(-Math.abs(t/100)));t<0&&0!==i&&(i=1/i);var r=n.ease?n.ease.to:n.transform.scale,o=n.transform.scaleZoom(r*i);n.zoomTo(o,{duration:"wheel"===this._type?200:0,around:this._aroundCenter?n.getCenter():n.unproject(this._pos),delayEndEvents:200,smoothEasing:!0},{originalEvent:e})}},e.exports=c},{"../../util/browser":195,"../../util/dom":202,"../../util/util":214,"../../util/window":197}],188:[function(t,e,n){"use strict";var i=t("../../util/dom"),r=t("../../util/util"),o=t("../../util/window"),s=.15,a=r.bezier(0,0,s,1),u=12,l=2.5,c=.15,h=4,f=function(t){this._map=t,this._el=t.getCanvasContainer(),r.bindAll(["_onStart","_onMove","_onEnd"],this)};f.prototype.isEnabled=function(){return!!this._enabled},f.prototype.enable=function(t){this.isEnabled()||(this._el.classList.add("mapboxgl-touch-zoom-rotate"),this._el.addEventListener("touchstart",this._onStart,!1),this._enabled=!0,this._aroundCenter=t&&"center"===t.around)},f.prototype.disable=function(){this.isEnabled()&&(this._el.classList.remove("mapboxgl-touch-zoom-rotate"),this._el.removeEventListener("touchstart",this._onStart),this._enabled=!1)},f.prototype.disableRotation=function(){this._rotationDisabled=!0},f.prototype.enableRotation=function(){this._rotationDisabled=!1},f.prototype._onStart=function(t){if(2===t.touches.length){var e=i.mousePos(this._el,t.touches[0]),n=i.mousePos(this._el,t.touches[1]);this._startVec=e.sub(n),this._startScale=this._map.transform.scale,this._startBearing=this._map.transform.bearing,this._gestureIntent=void 0,this._inertia=[],o.document.addEventListener("touchmove",this._onMove,!1),o.document.addEventListener("touchend",this._onEnd,!1)}},f.prototype._onMove=function(t){if(2===t.touches.length){var e=i.mousePos(this._el,t.touches[0]),n=i.mousePos(this._el,t.touches[1]),r=e.add(n).div(2),o=e.sub(n),s=o.mag()/this._startVec.mag(),a=this._rotationDisabled?0:180*o.angleWith(this._startVec)/Math.PI,u=this._map;if(this._gestureIntent){var l={duration:0,around:u.unproject(r)};"rotate"===this._gestureIntent&&(l.bearing=this._startBearing+a),"zoom"!==this._gestureIntent&&"rotate"!==this._gestureIntent||(l.zoom=u.transform.scaleZoom(this._startScale*s)),u.stop(),this._drainInertiaBuffer(),this._inertia.push([Date.now(),s,r]),u.easeTo(l,{originalEvent:t})}else{var f=Math.abs(1-s)>c,p=Math.abs(a)>h;p?this._gestureIntent="rotate":f&&(this._gestureIntent="zoom"),this._gestureIntent&&(this._startVec=o,this._startScale=u.transform.scale,this._startBearing=u.transform.bearing)}t.preventDefault()}},f.prototype._onEnd=function(t){o.document.removeEventListener("touchmove",this._onMove),o.document.removeEventListener("touchend",this._onEnd),this._drainInertiaBuffer();var e=this._inertia,n=this._map;if(e.length<2)return void n.snapToNorth({},{originalEvent:t});var i=e[e.length-1],r=e[0],c=n.transform.scaleZoom(this._startScale*i[1]),h=n.transform.scaleZoom(this._startScale*r[1]),f=c-h,p=(i[0]-r[0])/1e3,d=i[2];if(0===p||c===h)return void n.snapToNorth({},{originalEvent:t});var g=f*s/p;Math.abs(g)>l&&(g=g>0?l:-l);var m=1e3*Math.abs(g/(u*s)),v=c+g*m/2e3;v<0&&(v=0),n.easeTo({zoom:v,duration:m,easing:a,around:this._aroundCenter?n.getCenter():n.unproject(d)},{originalEvent:t})},f.prototype._drainInertiaBuffer=function(){for(var t=this._inertia,e=Date.now(),n=160;t.length>2&&e-t[0][0]>n;)t.shift()},e.exports=f},{"../../util/dom":202,"../../util/util":214,"../../util/window":197}],189:[function(t,e,n){"use strict";var i=t("../util/util"),r=t("../util/window"),o=function(){i.bindAll(["_onHashChange","_updateHash"],this)};o.prototype.addTo=function(t){return this._map=t,r.addEventListener("hashchange",this._onHashChange,!1),this._map.on("moveend",this._updateHash),this},o.prototype.remove=function(){return r.removeEventListener("hashchange",this._onHashChange,!1),this._map.off("moveend",this._updateHash),delete this._map,this},o.prototype._onHashChange=function(){var t=r.location.hash.replace("#","").split("/");return t.length>=3&&(this._map.jumpTo({center:[+t[2],+t[1]],zoom:+t[0],bearing:+(t[3]||0),pitch:+(t[4]||0)}),!0)},o.prototype._updateHash=function(){var t=this._map.getCenter(),e=this._map.getZoom(),n=this._map.getBearing(),i=this._map.getPitch(),o=Math.max(0,Math.ceil(Math.log(e)/Math.LN2)),s="#"+Math.round(100*e)/100+"/"+t.lat.toFixed(o)+"/"+t.lng.toFixed(o);(n||i)&&(s+="/"+Math.round(10*n)/10),i&&(s+="/"+Math.round(i)),r.history.replaceState("","",s)},e.exports=o},{"../util/util":214,"../util/window":197}],190:[function(t,e,n){"use strict";function i(t){t.parentNode&&t.parentNode.removeChild(t)}var r=t("../util/util"),o=t("../util/browser"),s=t("../util/window"),a=t("../util/dom"),u=t("../util/ajax"),l=t("../style/style"),c=t("../style/animation_loop"),h=t("../render/painter"),f=t("../geo/transform"),p=t("./hash"),d=t("./bind_handlers"),g=t("./camera"),m=t("../geo/lng_lat"),v=t("../geo/lng_lat_bounds"),y=t("point-geometry"),b=t("./control/attribution_control"),x=t("./control/logo_control"),_=t("mapbox-gl-supported"),E=0,w=22,T={center:[0,0],zoom:0,bearing:0,pitch:0,minZoom:E,maxZoom:w,interactive:!0,scrollZoom:!0,boxZoom:!0,dragRotate:!0,dragPan:!0,keyboard:!0,doubleClickZoom:!0,touchZoomRotate:!0,bearingSnap:7,hash:!1,attributionControl:!0,failIfMajorPerformanceCaveat:!1,preserveDrawingBuffer:!1,trackResize:!0,renderWorldCopies:!0,refreshExpiredTiles:!0},S=function(t){function e(e){var n=this;if(e=r.extend({},T,e),null!=e.minZoom&&null!=e.maxZoom&&e.minZoom>e.maxZoom)throw new Error("maxZoom must be greater than minZoom");var i=new f(e.minZoom,e.maxZoom,e.renderWorldCopies);if(t.call(this,i,e),this._interactive=e.interactive,this._failIfMajorPerformanceCaveat=e.failIfMajorPerformanceCaveat,this._preserveDrawingBuffer=e.preserveDrawingBuffer,this._trackResize=e.trackResize,this._bearingSnap=e.bearingSnap,this._refreshExpiredTiles=e.refreshExpiredTiles,"string"==typeof e.container){if(this._container=s.document.getElementById(e.container),!this._container)throw new Error("Container '"+e.container+"' not found.")}else this._container=e.container;this.animationLoop=new c,e.maxBounds&&this.setMaxBounds(e.maxBounds),r.bindAll(["_onWindowOnline","_onWindowResize","_contextLost","_contextRestored","_update","_render","_onData","_onDataLoading"],this),this._setupContainer(),this._setupPainter(),this.on("move",this._update.bind(this,!1)),this.on("zoom",this._update.bind(this,!0)),this.on("moveend",function(){n.animationLoop.set(300),n._rerender()}),"undefined"!=typeof s&&(s.addEventListener("online",this._onWindowOnline,!1),s.addEventListener("resize",this._onWindowResize,!1)),d(this,e),this._hash=e.hash&&(new p).addTo(this),this._hash&&this._hash._onHashChange()||this.jumpTo({center:e.center,zoom:e.zoom,bearing:e.bearing,pitch:e.pitch}),this._classes=[],this.resize(),e.classes&&this.setClasses(e.classes),e.style&&this.setStyle(e.style),e.attributionControl&&this.addControl(new b),this.addControl(new x,e.logoPosition),this.on("style.load",function(){this.transform.unmodified&&this.jumpTo(this.style.stylesheet),this.style.update(this._classes,{transition:!1})}),this.on("data",this._onData),this.on("dataloading",this._onDataLoading)}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={showTileBoundaries:{},showCollisionBoxes:{},showOverdrawInspector:{},repaint:{},vertices:{}};return e.prototype.addControl=function(t,e){void 0===e&&t.getDefaultPosition&&(e=t.getDefaultPosition()),void 0===e&&(e="top-right");var n=t.onAdd(this),i=this._controlPositions[e];return e.indexOf("bottom")!==-1?i.insertBefore(n,i.firstChild):i.appendChild(n),this},e.prototype.removeControl=function(t){return t.onRemove(this),this},e.prototype.addClass=function(t,e){return r.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(t)>=0||""===t?this:(this._classes.push(t),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.removeClass=function(t,e){r.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");var n=this._classes.indexOf(t);return n<0||""===t?this:(this._classes.splice(n,1),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0))},e.prototype.setClasses=function(t,e){r.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS.");for(var n={},i=0;i<t.length;i++)""!==t[i]&&(n[t[i]]=!0);return this._classes=Object.keys(n),this._classOptions=e,this.style&&this.style.updateClasses(),this._update(!0)},e.prototype.hasClass=function(t){return r.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes.indexOf(t)>=0},e.prototype.getClasses=function(){return r.warnOnce("Style classes are deprecated and will be removed in an upcoming release of Mapbox GL JS."),this._classes},e.prototype.resize=function(){var t=this._containerDimensions(),e=t[0],n=t[1];return this._resizeCanvas(e,n),this.transform.resize(e,n),this.painter.resize(e,n),this.fire("movestart").fire("move").fire("resize").fire("moveend")},e.prototype.getBounds=function(){var t=new v(this.transform.pointLocation(new y(0,this.transform.height)),this.transform.pointLocation(new y(this.transform.width,0)));return(this.transform.angle||this.transform.pitch)&&(t.extend(this.transform.pointLocation(new y(this.transform.size.x,0))),t.extend(this.transform.pointLocation(new y(0,this.transform.size.y)))),t},e.prototype.setMaxBounds=function(t){if(t){var e=v.convert(t);this.transform.lngRange=[e.getWest(),e.getEast()],this.transform.latRange=[e.getSouth(),e.getNorth()],this.transform._constrain(),this._update()}else null!==t&&void 0!==t||(this.transform.lngRange=[],this.transform.latRange=[],this._update());return this},e.prototype.setMinZoom=function(t){if(t=null===t||void 0===t?E:t,t>=E&&t<=this.transform.maxZoom)return this.transform.minZoom=t,this._update(),this.getZoom()<t&&this.setZoom(t),this;throw new Error("minZoom must be between "+E+" and the current maxZoom, inclusive")},e.prototype.getMinZoom=function(){return this.transform.minZoom},e.prototype.setMaxZoom=function(t){if(t=null===t||void 0===t?w:t,t>=this.transform.minZoom)return this.transform.maxZoom=t,this._update(),this.getZoom()>t&&this.setZoom(t),this;throw new Error("maxZoom must be greater than the current minZoom")},e.prototype.getMaxZoom=function(){return this.transform.maxZoom},e.prototype.project=function(t){return this.transform.locationPoint(m.convert(t))},e.prototype.unproject=function(t){return this.transform.pointLocation(y.convert(t))},e.prototype.on=function(e,n,i){var o=this;if(void 0===i)return t.prototype.on.call(this,e,n);var s=function(){if("mouseenter"===e||"mouseover"===e){var t=!1,s=function(s){var a=o.queryRenderedFeatures(s.point,{layers:[n]});a.length?t||(t=!0,i.call(o,r.extend({features:a},s,{type:e}))):t=!1},a=function(){t=!1};return{layer:n,listener:i,delegates:{mousemove:s,mouseout:a}}}if("mouseleave"===e||"mouseout"===e){var u=!1,l=function(t){var s=o.queryRenderedFeatures(t.point,{layers:[n]});s.length?u=!0:u&&(u=!1,i.call(o,r.extend({},t,{type:e})))},c=function(t){u&&(u=!1,i.call(o,r.extend({},t,{type:e})))};return{layer:n,listener:i,delegates:{mousemove:l,mouseout:c}}}var h=function(t){var e=o.queryRenderedFeatures(t.point,{layers:[n]});e.length&&i.call(o,r.extend({features:e},t))};return{layer:n,listener:i,delegates:(f={},f[e]=h,f)};var f}();this._delegatedListeners=this._delegatedListeners||{},this._delegatedListeners[e]=this._delegatedListeners[e]||[],this._delegatedListeners[e].push(s);for(var a in s.delegates)o.on(a,s.delegates[a]);return this},e.prototype.off=function(e,n,i){var r=this;if(void 0===i)return t.prototype.off.call(this,e,n);if(this._delegatedListeners&&this._delegatedListeners[e])for(var o=this._delegatedListeners[e],s=0;s<o.length;s++){var a=o[s];if(a.layer===n&&a.listener===i){for(var u in a.delegates)r.off(u,a.delegates[u]);return o.splice(s,1),r}}},e.prototype.queryRenderedFeatures=function(){function t(t){return t instanceof y||Array.isArray(t)}var e,n={};return 2===arguments.length?(e=arguments[0],n=arguments[1]):1===arguments.length&&t(arguments[0])?e=arguments[0]:1===arguments.length&&(n=arguments[0]),this.style?this.style.queryRenderedFeatures(this._makeQueryGeometry(e),n,this.transform.zoom,this.transform.angle):[]},e.prototype._makeQueryGeometry=function(t){var e=this;void 0===t&&(t=[y.convert([0,0]),y.convert([this.transform.width,this.transform.height])]);var n,i=t instanceof y||"number"==typeof t[0];if(i){var r=y.convert(t);n=[r]}else{var o=[y.convert(t[0]),y.convert(t[1])];n=[o[0],new y(o[1].x,o[0].y),o[1],new y(o[0].x,o[1].y),o[0]]}return n=n.map(function(t){return e.transform.pointCoordinate(t)})},e.prototype.querySourceFeatures=function(t,e){return this.style.querySourceFeatures(t,e)},e.prototype.setStyle=function(t,e){var n=(!e||e.diff!==!1)&&this.style&&t&&!(t instanceof l)&&"string"!=typeof t;if(n)try{return this.style.setState(t)&&this._update(!0),this}catch(t){r.warnOnce("Unable to perform style diff: "+(t.message||t.error||t)+".  Rebuilding the style from scratch.")}return this.style&&(this.style.setEventedParent(null),this.style._remove(),this.off("rotate",this.style._redoPlacement),this.off("pitch",this.style._redoPlacement)),t?(t instanceof l?this.style=t:this.style=new l(t,this),this.style.setEventedParent(this,{style:this.style}),this.on("rotate",this.style._redoPlacement),this.on("pitch",this.style._redoPlacement),this):(this.style=null,this)},e.prototype.getStyle=function(){if(this.style)return this.style.serialize()},e.prototype.addSource=function(t,e){return this.style.addSource(t,e),this._update(!0),this},e.prototype.isSourceLoaded=function(t){var e=this.style&&this.style.sourceCaches[t];return void 0===e?void this.fire("error",{error:new Error("There is no source with ID '"+t+"'")}):e.loaded()},e.prototype.addSourceType=function(t,e,n){return this.style.addSourceType(t,e,n)},e.prototype.removeSource=function(t){return this.style.removeSource(t),this._update(!0),this},e.prototype.getSource=function(t){return this.style.getSource(t)},e.prototype.addImage=function(t,e,n){this.style.spriteAtlas.addImage(t,e,n)},e.prototype.removeImage=function(t){this.style.spriteAtlas.removeImage(t)},e.prototype.loadImage=function(t,e){u.getImage(t,e)},e.prototype.addLayer=function(t,e){return this.style.addLayer(t,e),this._update(!0),this},e.prototype.moveLayer=function(t,e){return this.style.moveLayer(t,e),this._update(!0),this},e.prototype.removeLayer=function(t){return this.style.removeLayer(t),this._update(!0),this},e.prototype.getLayer=function(t){return this.style.getLayer(t)},e.prototype.setFilter=function(t,e){return this.style.setFilter(t,e),this._update(!0),this},e.prototype.setLayerZoomRange=function(t,e,n){return this.style.setLayerZoomRange(t,e,n),this._update(!0),this},e.prototype.getFilter=function(t){return this.style.getFilter(t)},e.prototype.setPaintProperty=function(t,e,n,i){return this.style.setPaintProperty(t,e,n,i),this._update(!0),this},e.prototype.getPaintProperty=function(t,e,n){return this.style.getPaintProperty(t,e,n)},e.prototype.setLayoutProperty=function(t,e,n){return this.style.setLayoutProperty(t,e,n),this._update(!0),this},e.prototype.getLayoutProperty=function(t,e){return this.style.getLayoutProperty(t,e)},e.prototype.setLight=function(t){return this.style.setLight(t),this._update(!0),this},e.prototype.getLight=function(){return this.style.getLight()},e.prototype.getContainer=function(){return this._container},e.prototype.getCanvasContainer=function(){return this._canvasContainer},e.prototype.getCanvas=function(){return this._canvas},e.prototype._containerDimensions=function(){var t=0,e=0;return this._container&&(t=this._container.offsetWidth||400,e=this._container.offsetHeight||300),[t,e]},e.prototype._setupContainer=function(){var t=this._container;t.classList.add("mapboxgl-map");var e=this._canvasContainer=a.create("div","mapboxgl-canvas-container",t);this._interactive&&e.classList.add("mapboxgl-interactive"),this._canvas=a.create("canvas","mapboxgl-canvas",e),this._canvas.style.position="absolute",this._canvas.addEventListener("webglcontextlost",this._contextLost,!1),this._canvas.addEventListener("webglcontextrestored",this._contextRestored,!1),this._canvas.setAttribute("tabindex",0),this._canvas.setAttribute("aria-label","Map");var n=this._containerDimensions();this._resizeCanvas(n[0],n[1]);var i=this._controlContainer=a.create("div","mapboxgl-control-container",t),r=this._controlPositions={};["top-left","top-right","bottom-left","bottom-right"].forEach(function(t){r[t]=a.create("div","mapboxgl-ctrl-"+t,i)})},e.prototype._resizeCanvas=function(t,e){var n=s.devicePixelRatio||1;this._canvas.width=n*t,this._canvas.height=n*e,this._canvas.style.width=t+"px",this._canvas.style.height=e+"px"},e.prototype._setupPainter=function(){var t=r.extend({failIfMajorPerformanceCaveat:this._failIfMajorPerformanceCaveat,preserveDrawingBuffer:this._preserveDrawingBuffer},_.webGLContextAttributes),e=this._canvas.getContext("webgl",t)||this._canvas.getContext("experimental-webgl",t);return e?void(this.painter=new h(e,this.transform)):void this.fire("error",{error:new Error("Failed to initialize WebGL")})},e.prototype._contextLost=function(t){t.preventDefault(),this._frameId&&o.cancelFrame(this._frameId),this.fire("webglcontextlost",{originalEvent:t})},e.prototype._contextRestored=function(t){this._setupPainter(),this.resize(),this._update(),this.fire("webglcontextrestored",{originalEvent:t})},e.prototype.loaded=function(){return!this._styleDirty&&!this._sourcesDirty&&!(!this.style||!this.style.loaded())},e.prototype._update=function(t){return this.style?(this._styleDirty=this._styleDirty||t,this._sourcesDirty=!0,this._rerender(),this):this},e.prototype._render=function(){return this.style&&this._styleDirty&&(this._styleDirty=!1,this.style.update(this._classes,this._classOptions),this._classOptions=null,this.style._recalculate(this.transform.zoom)),this.style&&this._sourcesDirty&&(this._sourcesDirty=!1,this.style._updateSources(this.transform)),this.painter.render(this.style,{showTileBoundaries:this.showTileBoundaries,showOverdrawInspector:this._showOverdrawInspector,rotating:this.rotating,zooming:this.zooming}),this.fire("render"),this.loaded()&&!this._loaded&&(this._loaded=!0,this.fire("load")),this._frameId=null,this.animationLoop.stopped()||(this._styleDirty=!0),(this._sourcesDirty||this._repaint||this._styleDirty)&&this._rerender(),this},e.prototype.remove=function(){this._hash&&this._hash.remove(),o.cancelFrame(this._frameId),this.setStyle(null),"undefined"!=typeof s&&(s.removeEventListener("resize",this._onWindowResize,!1),s.removeEventListener("online",this._onWindowOnline,!1));var t=this.painter.gl.getExtension("WEBGL_lose_context");t&&t.loseContext(),i(this._canvasContainer),i(this._controlContainer),this._container.classList.remove("mapboxgl-map"),this.fire("remove")},e.prototype._rerender=function(){this.style&&!this._frameId&&(this._frameId=o.frame(this._render))},e.prototype._onWindowOnline=function(){this._update()},e.prototype._onWindowResize=function(){this._trackResize&&this.stop().resize()._update()},n.showTileBoundaries.get=function(){return!!this._showTileBoundaries},n.showTileBoundaries.set=function(t){this._showTileBoundaries!==t&&(this._showTileBoundaries=t,this._update())},n.showCollisionBoxes.get=function(){return!!this._showCollisionBoxes},n.showCollisionBoxes.set=function(t){this._showCollisionBoxes!==t&&(this._showCollisionBoxes=t,this.style._redoPlacement())},n.showOverdrawInspector.get=function(){return!!this._showOverdrawInspector},n.showOverdrawInspector.set=function(t){this._showOverdrawInspector!==t&&(this._showOverdrawInspector=t,this._update())},n.repaint.get=function(){return!!this._repaint},n.repaint.set=function(t){this._repaint=t,this._update()},n.vertices.get=function(){return!!this._vertices},n.vertices.set=function(t){this._vertices=t,this._update()},e.prototype._onData=function(t){this._update("style"===t.dataType),this.fire(t.dataType+"data",t)},e.prototype._onDataLoading=function(t){this.fire(t.dataType+"dataloading",t)},Object.defineProperties(e.prototype,n),e}(g);e.exports=S},{"../geo/lng_lat":62,"../geo/lng_lat_bounds":63,"../geo/transform":64,"../render/painter":77,"../style/animation_loop":146,"../style/style":149,"../util/ajax":194,"../util/browser":195,"../util/dom":202,"../util/util":214,"../util/window":197,"./bind_handlers":174,"./camera":175,"./control/attribution_control":176,"./control/logo_control":179,"./hash":189,"mapbox-gl-supported":22,"point-geometry":26}],191:[function(t,e,n){"use strict";var i=t("../util/dom"),r=t("../geo/lng_lat"),o=t("point-geometry"),s=function(t,e){this._offset=o.convert(e&&e.offset||[0,0]),this._update=this._update.bind(this),this._onMapClick=this._onMapClick.bind(this),t||(t=i.create("div")),t.classList.add("mapboxgl-marker"),this._element=t,this._popup=null};s.prototype.addTo=function(t){return this.remove(),this._map=t,t.getCanvasContainer().appendChild(this._element),t.on("move",this._update),t.on("moveend",this._update),this._update(),this._map.on("click",this._onMapClick),this},s.prototype.remove=function(){return this._map&&(this._map.off("click",this._onMapClick),this._map.off("move",this._update),this._map.off("moveend",this._update),this._map=null),i.remove(this._element),this._popup&&this._popup.remove(),this},s.prototype.getLngLat=function(){return this._lngLat},s.prototype.setLngLat=function(t){return this._lngLat=r.convert(t),this._popup&&this._popup.setLngLat(this._lngLat),this._update(),this},s.prototype.getElement=function(){return this._element},s.prototype.setPopup=function(t){return this._popup&&(this._popup.remove(),this._popup=null),t&&(this._popup=t,this._popup.setLngLat(this._lngLat)),this},s.prototype._onMapClick=function(t){var e=t.originalEvent.target,n=this._element;this._popup&&(e===n||n.contains(e))&&this.togglePopup()},s.prototype.getPopup=function(){return this._popup},s.prototype.togglePopup=function(){var t=this._popup;t&&(t.isOpen()?t.remove():t.addTo(this._map))},s.prototype._update=function(t){if(this._map){var e=this._map.project(this._map.transform.renderWorldCopies?this._lngLat.wrapToBestWorld(this._map.getCenter()):this._lngLat)._add(this._offset);t&&"moveend"!==t.type||(e=e.round()),i.setTransform(this._element,"translate("+e.x+"px, "+e.y+"px)")}},e.exports=s},{"../geo/lng_lat":62,"../util/dom":202,"point-geometry":26}],192:[function(t,e,n){"use strict";function i(t){if(t){if("number"==typeof t){var e=Math.round(Math.sqrt(.5*Math.pow(t,2)));return{top:new l(0,t),"top-left":new l(e,e),"top-right":new l(-e,e),bottom:new l(0,-t),"bottom-left":new l(e,-e),"bottom-right":new l(-e,-e),left:new l(t,0),right:new l(-t,0)}}if(r(t)){var n=l.convert(t);return{top:n,"top-left":n,"top-right":n,bottom:n,"bottom-left":n,"bottom-right":n,left:n,right:n}}return{top:l.convert(t.top||[0,0]),"top-left":l.convert(t["top-left"]||[0,0]),"top-right":l.convert(t["top-right"]||[0,0]),bottom:l.convert(t.bottom||[0,0]),"bottom-left":l.convert(t["bottom-left"]||[0,0]),"bottom-right":l.convert(t["bottom-right"]||[0,0]),left:l.convert(t.left||[0,0]),right:l.convert(t.right||[0,0])}}return i(new l(0,0))}function r(t){return t instanceof l||Array.isArray(t)}var o=t("../util/util"),s=t("../util/evented"),a=t("../util/dom"),u=t("../geo/lng_lat"),l=t("point-geometry"),c=t("../util/window"),h={closeButton:!0,closeOnClick:!0},f=function(t){function e(e){t.call(this),this.options=o.extend(Object.create(h),e),o.bindAll(["_update","_onClickClose"],this)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.addTo=function(t){return this._map=t,this._map.on("move",this._update),this.options.closeOnClick&&this._map.on("click",this._onClickClose),this._update(),this},e.prototype.isOpen=function(){return!!this._map},e.prototype.remove=function(){return this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._container&&(this._container.parentNode.removeChild(this._container),delete this._container),this._map&&(this._map.off("move",this._update),this._map.off("click",this._onClickClose),delete this._map),this.fire("close"),this},e.prototype.getLngLat=function(){return this._lngLat},e.prototype.setLngLat=function(t){return this._lngLat=u.convert(t),this._update(),this},e.prototype.setText=function(t){return this.setDOMContent(c.document.createTextNode(t))},e.prototype.setHTML=function(t){var e,n=c.document.createDocumentFragment(),i=c.document.createElement("body");for(i.innerHTML=t;;){if(e=i.firstChild,!e)break;n.appendChild(e)}return this.setDOMContent(n)},e.prototype.setDOMContent=function(t){return this._createContent(),this._content.appendChild(t),this._update(),this},e.prototype._createContent=function(){this._content&&this._content.parentNode&&this._content.parentNode.removeChild(this._content),this._content=a.create("div","mapboxgl-popup-content",this._container),this.options.closeButton&&(this._closeButton=a.create("button","mapboxgl-popup-close-button",this._content),this._closeButton.type="button",this._closeButton.innerHTML="&#215;",this._closeButton.addEventListener("click",this._onClickClose))},e.prototype._update=function(){if(this._map&&this._lngLat&&this._content){this._container||(this._container=a.create("div","mapboxgl-popup",this._map.getContainer()),this._tip=a.create("div","mapboxgl-popup-tip",this._container),this._container.appendChild(this._content));var t=this.options.anchor,e=i(this.options.offset),n=this._map.project(this._map.transform.renderWorldCopies?this._lngLat.wrapToBestWorld(this._map.getCenter()):this._lngLat).round();if(!t){var r=this._container.offsetWidth,o=this._container.offsetHeight;t=n.y+e.bottom.y<o?["top"]:n.y>this._map.transform.height-o?["bottom"]:[],n.x<r/2?t.push("left"):n.x>this._map.transform.width-r/2&&t.push("right"),t=0===t.length?"bottom":t.join("-")}var s=n.add(e[t]),u={top:"translate(-50%,0)","top-left":"translate(0,0)","top-right":"translate(-100%,0)",bottom:"translate(-50%,-100%)","bottom-left":"translate(0,-100%)","bottom-right":"translate(-100%,-100%)",left:"translate(0,-50%)",right:"translate(-100%,-50%)"},l=this._container.classList;for(var c in u)l.remove("mapboxgl-popup-anchor-"+c);l.add("mapboxgl-popup-anchor-"+t),a.setTransform(this._container,u[t]+" translate("+s.x+"px,"+s.y+"px)")}},e.prototype._onClickClose=function(){this.remove()},e}(s);e.exports=f},{"../geo/lng_lat":62,"../util/dom":202,"../util/evented":203,"../util/util":214,"../util/window":197,"point-geometry":26}],193:[function(t,e,n){"use strict";var i=function(t,e,n){this.target=t,this.parent=e,this.mapId=n,this.callbacks={},this.callbackID=0,this.receive=this.receive.bind(this),this.target.addEventListener("message",this.receive,!1)};i.prototype.send=function(t,e,n,i,r){var o=n?this.mapId+":"+this.callbackID++:null;n&&(this.callbacks[o]=n),this.target.postMessage({targetMapId:r,sourceMapId:this.mapId,type:t,id:String(o),data:e},i)},i.prototype.receive=function(t){var e,n=this,i=t.data,r=i.id;if(!i.targetMapId||this.mapId===i.targetMapId){var o=function(t,e,i){n.target.postMessage({sourceMapId:n.mapId,type:"<response>",id:String(r),error:t?String(t):null,data:e},i)};if("<response>"===i.type)e=this.callbacks[i.id],delete this.callbacks[i.id],e&&e(i.error||null,i.data);else if("undefined"!=typeof i.id&&this.parent[i.type])this.parent[i.type](i.sourceMapId,i.data,o);else if("undefined"!=typeof i.id&&this.parent.getWorkerSource){var s=i.type.split("."),a=this.parent.getWorkerSource(i.sourceMapId,s[0]);a[s[1]](i.data,o)}else this.parent[i.type](i.data)}},i.prototype.remove=function(){this.target.removeEventListener("message",this.receive,!1)},e.exports=i},{}],194:[function(t,e,n){"use strict";function i(t){var e=r.document.createElement("a");return e.href=t,e.protocol===r.document.location.protocol&&e.host===r.document.location.host}var r=t("./window"),o=function(t){function e(e,n){t.call(this,e),this.status=n}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(Error);n.getJSON=function(t,e){var n=new r.XMLHttpRequest;return n.open("GET",t,!0),n.setRequestHeader("Accept","application/json"),n.onerror=function(t){e(t)},n.onload=function(){if(n.status>=200&&n.status<300&&n.response){var t;try{t=JSON.parse(n.response)}catch(t){return e(t)}e(null,t)}else e(new o(n.statusText,n.status))},n.send(),n},n.getArrayBuffer=function(t,e){var n=new r.XMLHttpRequest;return n.open("GET",t,!0),n.responseType="arraybuffer",n.onerror=function(t){e(t)},n.onload=function(){return 0===n.response.byteLength&&200===n.status?e(new Error("http status 200 returned without content.")):void(n.status>=200&&n.status<300&&n.response?e(null,{data:n.response,cacheControl:n.getResponseHeader("Cache-Control"),expires:n.getResponseHeader("Expires")}):e(new o(n.statusText,n.status)))},n.send(),n};var s="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAAC0lEQVQYV2NgAAIAAAUAAarVyFEAAAAASUVORK5CYII=";n.getImage=function(t,e){return n.getArrayBuffer(t,function(t,n){if(t)return e(t);var i=new r.Image,o=r.URL||r.webkitURL;i.onload=function(){e(null,i),o.revokeObjectURL(i.src)};var a=new r.Blob([new Uint8Array(n.data)],{type:"image/png"});i.cacheControl=n.cacheControl,i.expires=n.expires,i.src=n.data.byteLength?o.createObjectURL(a):s})},n.getVideo=function(t,e){var n=r.document.createElement("video");n.onloadstart=function(){e(null,n)};for(var o=0;o<t.length;o++){var s=r.document.createElement("source");i(t[o])||(n.crossOrigin="Anonymous"),s.src=t[o],n.appendChild(s)}return n}},{"./window":197}],195:[function(t,e,n){"use strict";var i=t("./window");e.exports.now=function(){return i.performance&&i.performance.now?i.performance.now.bind(i.performance):Date.now.bind(Date)}();var r=i.requestAnimationFrame||i.mozRequestAnimationFrame||i.webkitRequestAnimationFrame||i.msRequestAnimationFrame;n.frame=function(t){return r(t)};var o=i.cancelAnimationFrame||i.mozCancelAnimationFrame||i.webkitCancelAnimationFrame||i.msCancelAnimationFrame;n.cancelFrame=function(t){o(t)},n.timed=function(t,i,r){function o(u){s||(u=e.exports.now(),u>=a+i?t.call(r,1):(t.call(r,(u-a)/i),n.frame(o)))}if(!i)return t.call(r,1),null;var s=!1,a=e.exports.now();return n.frame(o),function(){s=!0}},n.getImageData=function(t){var e=i.document.createElement("canvas"),n=e.getContext("2d");return e.width=t.width,e.height=t.height,n.drawImage(t,0,0,t.width,t.height),n.getImageData(0,0,t.width,t.height).data},n.supported=t("mapbox-gl-supported"),n.hardwareConcurrency=i.navigator.hardwareConcurrency||4,Object.defineProperty(n,"devicePixelRatio",{get:function(){return i.devicePixelRatio}}),n.supportsWebp=!1;var s=i.document.createElement("img");s.onload=function(){n.supportsWebp=!0},s.src="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAQAAAAfQ//73v/+BiOh/AAA="},{"./window":197,"mapbox-gl-supported":22}],196:[function(t,e,n){"use strict";var i=t("webworkify"),r=t("../window"),o=r.URL.createObjectURL(new i(t("../../source/worker"),{bare:!0}));e.exports=function(){return new r.Worker(o)}},{"../../source/worker":100,"../window":197,webworkify:41}],197:[function(t,e,n){"use strict";e.exports=self},{}],198:[function(t,e,n){"use strict";function i(t,e){return e.area-t.area}var r=t("quickselect"),o=t("./util").calculateSignedArea;e.exports=function(t,e){var n=t.length;if(n<=1)return[t];for(var s,a,u=[],l=0;l<n;l++){var c=o(t[l]);0!==c&&(t[l].area=Math.abs(c),void 0===a&&(a=c<0),a===c<0?(s&&u.push(s),s=[t[l]]):s.push(t[l]))}if(s&&u.push(s),e>1)for(var h=0;h<u.length;h++)u[h].length<=e||(r(u[h],e,1,u[h].length-1,i),u[h]=u[h].slice(0,e));return u}},{"./util":214,quickselect:28}],199:[function(t,e,n){"use strict";var i={API_URL:"https://api.mapbox.com",REQUIRE_ACCESS_TOKEN:!0,ACCESS_TOKEN:null};e.exports=i},{}],200:[function(t,e,n){"use strict";var i=function(t){var e=this;this._stringToNumber={},this._numberToString=[];for(var n=0;n<t.length;n++){var i=t[n];e._stringToNumber[i]=n,e._numberToString[n]=i}};i.prototype.encode=function(t){return this._stringToNumber[t]},i.prototype.decode=function(t){return this._numberToString[t]},e.exports=i},{}],201:[function(t,e,n){"use strict";var i=t("./util"),r=t("./actor"),o=function(t,e){var n=this;this.workerPool=t,this.actors=[],this.currentActor=0,this.id=i.uniqueId();for(var o=this.workerPool.acquire(this.id),s=0;s<o.length;s++){var a=o[s],u=new r(a,e,n.id);u.name="Worker "+s,n.actors.push(u)}};o.prototype.broadcast=function(t,e,n){n=n||function(){},i.asyncAll(this.actors,function(n,i){n.send(t,e,i)},n)},o.prototype.send=function(t,e,n,i,r){return("number"!=typeof i||isNaN(i))&&(i=this.currentActor=(this.currentActor+1)%this.actors.length),this.actors[i].send(t,e,n,r),i},o.prototype.remove=function(){this.actors.forEach(function(t){t.remove()}),this.actors=[],this.workerPool.release(this.id)},e.exports=o},{"./actor":193,"./util":214}],202:[function(t,e,n){"use strict";function i(t){for(var e=0;e<t.length;e++)if(t[e]in a)return t[e];return t[0]}function r(t){t.preventDefault(),t.stopPropagation(),s.removeEventListener("click",r,!0)}var o=t("point-geometry"),s=t("./window");n.create=function(t,e,n){var i=s.document.createElement(t);return e&&(i.className=e),n&&n.appendChild(i),i};var a=s.document.documentElement.style,u=i(["userSelect","MozUserSelect","WebkitUserSelect","msUserSelect"]),l;n.disableDrag=function(){u&&(l=a[u],a[u]="none")},n.enableDrag=function(){u&&(a[u]=l)};var c=i(["transform","WebkitTransform"]);n.setTransform=function(t,e){t.style[c]=e},n.suppressClick=function(){s.addEventListener("click",r,!0),s.setTimeout(function(){s.removeEventListener("click",r,!0)},0)},n.mousePos=function(t,e){var n=t.getBoundingClientRect();return e=e.touches?e.touches[0]:e,new o(e.clientX-n.left-t.clientLeft,e.clientY-n.top-t.clientTop)},n.touchPos=function(t,e){for(var n=t.getBoundingClientRect(),i=[],r="touchend"===e.type?e.changedTouches:e.touches,s=0;s<r.length;s++)i.push(new o(r[s].clientX-n.left-t.clientLeft,r[s].clientY-n.top-t.clientTop));return i},n.remove=function(t){t.parentNode&&t.parentNode.removeChild(t)}},{"./window":197,"point-geometry":26}],203:[function(t,e,n){"use strict";function i(t,e,n){n[t]=n[t]||[],n[t].push(e)}function r(t,e,n){if(n&&n[t]){var i=n[t].indexOf(e);i!==-1&&n[t].splice(i,1)}}var o=t("./util"),s=function(){};s.prototype.on=function(t,e){return this._listeners=this._listeners||{},i(t,e,this._listeners),this},s.prototype.off=function(t,e){return r(t,e,this._listeners),r(t,e,this._oneTimeListeners),this},s.prototype.once=function(t,e){return this._oneTimeListeners=this._oneTimeListeners||{},i(t,e,this._oneTimeListeners),this},s.prototype.fire=function(t,e){var n=this;if(this.listens(t)){e=o.extend({},e,{type:t,target:this});for(var i=this._listeners&&this._listeners[t]?this._listeners[t].slice():[],s=0;s<i.length;s++)i[s].call(n,e);for(var a=this._oneTimeListeners&&this._oneTimeListeners[t]?this._oneTimeListeners[t].slice():[],u=0;u<a.length;u++)a[u].call(n,e),r(t,a[u],n._oneTimeListeners);this._eventedParent&&this._eventedParent.fire(t,o.extend({},e,"function"==typeof this._eventedParentData?this._eventedParentData():this._eventedParentData))}else o.endsWith(t,"error")&&console.error(e&&e.error||e||"Empty error event");return this},s.prototype.listens=function(t){return this._listeners&&this._listeners[t]&&this._listeners[t].length>0||this._oneTimeListeners&&this._oneTimeListeners[t]&&this._oneTimeListeners[t].length>0||this._eventedParent&&this._eventedParent.listens(t)},s.prototype.setEventedParent=function(t,e){return this._eventedParent=t,this._eventedParentData=e,this},e.exports=s},{"./util":214}],204:[function(t,e,n){"use strict";function i(t,e){return e.max-t.max}function r(t,e,n,i){this.p=new u(t,e),this.h=n,this.d=o(this.p,i),this.max=this.d+this.h*Math.SQRT2}function o(t,e){for(var n=!1,i=1/0,r=0;r<e.length;r++)for(var o=e[r],s=0,a=o.length,u=a-1;s<a;u=s++){var c=o[s],h=o[u];c.y>t.y!=h.y>t.y&&t.x<(h.x-c.x)*(t.y-c.y)/(h.y-c.y)+c.x&&(n=!n),i=Math.min(i,l(t,c,h))}return(n?1:-1)*Math.sqrt(i)}function s(t){for(var e=0,n=0,i=0,o=t[0],s=0,a=o.length,u=a-1;s<a;u=s++){var l=o[s],c=o[u],h=l.x*c.y-c.x*l.y;n+=(l.x+c.x)*h,i+=(l.y+c.y)*h,e+=3*h}return new r(n/e,i/e,0,t)}var a=t("tinyqueue"),u=t("point-geometry"),l=t("./intersection_tests").distToSegmentSquared;e.exports=function(t,e,n){e=e||1;for(var o,u,l,c,h=t[0],f=0;f<h.length;f++){var p=h[f];(!f||p.x<o)&&(o=p.x),(!f||p.y<u)&&(u=p.y),(!f||p.x>l)&&(l=p.x),(!f||p.y>c)&&(c=p.y)}var d=l-o,g=c-u,m=Math.min(d,g),v=m/2,y=new a(null,i);if(0===m)return[o,u];for(var b=o;b<l;b+=m)for(var x=u;x<c;x+=m)y.push(new r(b+v,x+v,v,t));for(var _=s(t),E=y.length;y.length;){var w=y.pop();(w.d>_.d||!_.d)&&(_=w,n&&console.log("found best %d after %d probes",Math.round(1e4*w.d)/1e4,E)),w.max-_.d<=e||(v=w.h/2,y.push(new r(w.p.x-v,w.p.y-v,v,t)),y.push(new r(w.p.x+v,w.p.y-v,v,t)),y.push(new r(w.p.x-v,w.p.y+v,v,t)),y.push(new r(w.p.x+v,w.p.y+v,v,t)),E+=4)}return n&&(console.log("num probes: "+E),console.log("best distance: "+_.d)),_.p}},{"./intersection_tests":207,"point-geometry":26,tinyqueue:30}],205:[function(t,e,n){"use strict";var i=t("./worker_pool"),r;e.exports=function(){return r||(r=new i),r}},{"./worker_pool":217}],206:[function(t,e,n){"use strict";function i(t,e){this.stacks=t.readFields(r,[],e)}function r(t,e,n){if(1===t){var i=n.readMessage(o,{glyphs:{}});e.push(i)}}function o(t,e,n){if(1===t)e.name=n.readString();else if(2===t)e.range=n.readString();else if(3===t){var i=n.readMessage(s,{});e.glyphs[i.id]=i}}function s(t,e,n){1===t?e.id=n.readVarint():2===t?e.bitmap=n.readBytes():3===t?e.width=n.readVarint():4===t?e.height=n.readVarint():5===t?e.left=n.readSVarint():6===t?e.top=n.readSVarint():7===t&&(e.advance=n.readVarint())}e.exports=i},{}],207:[function(t,e,n){"use strict";function i(t,e){for(var n=0;n<t.length;n++)if(p(e,t[n]))return!0;for(var i=0;i<e.length;i++)if(p(t,e[i]))return!0;return!!u(t,e)}function r(t,e,n){for(var i=0;i<t.length;i++)for(var r=t[i],o=0;o<e.length;o++)for(var s=e[o],a=0;a<s.length;a++){var u=s[a];if(p(r,u))return!0;if(c(u,r,n))return!0}return!1}function o(t,e){if(1===t.length&&1===t[0].length)return f(e,t[0][0]);for(var n=0;n<e.length;n++)for(var i=e[n],r=0;r<i.length;r++)if(f(t,i[r]))return!0;for(var o=0;o<t.length;o++){for(var s=t[o],a=0;a<s.length;a++)if(f(e,s[a]))return!0;for(var l=0;l<e.length;l++)if(u(s,e[l]))return!0}return!1}function s(t,e,n){for(var i=0;i<e.length;i++)for(var r=e[i],o=0;o<t.length;o++){var s=t[o];if(s.length>=3)for(var u=0;u<r.length;u++)if(p(s,r[u]))return!0;if(a(s,r,n))return!0}return!1}function a(t,e,n){if(t.length>1){if(u(t,e))return!0;for(var i=0;i<e.length;i++)if(c(e[i],t,n))return!0}for(var r=0;r<t.length;r++)if(c(t[r],e,n))return!0;return!1}function u(t,e){if(0===t.length||0===e.length)return!1;for(var n=0;n<t.length-1;n++)for(var i=t[n],r=t[n+1],o=0;o<e.length-1;o++){var s=e[o],a=e[o+1];if(l(i,r,s,a))return!0}return!1}function l(t,e,n,i){return d(t,n,i)!==d(e,n,i)&&d(t,e,n)!==d(t,e,i)}function c(t,e,n){var i=n*n;if(1===e.length)return t.distSqr(e[0])<i;for(var r=1;r<e.length;r++){var o=e[r-1],s=e[r];if(h(t,o,s)<i)return!0}return!1}function h(t,e,n){var i=e.distSqr(n);if(0===i)return t.distSqr(e);var r=((t.x-e.x)*(n.x-e.x)+(t.y-e.y)*(n.y-e.y))/i;return r<0?t.distSqr(e):r>1?t.distSqr(n):t.distSqr(n.sub(e)._mult(r)._add(e))}function f(t,e){for(var n,i,r,o=!1,s=0;s<t.length;s++){n=t[s];for(var a=0,u=n.length-1;a<n.length;u=a++)i=n[a],r=n[u],i.y>e.y!=r.y>e.y&&e.x<(r.x-i.x)*(e.y-i.y)/(r.y-i.y)+i.x&&(o=!o)}return o}function p(t,e){for(var n=!1,i=0,r=t.length-1;i<t.length;r=i++){var o=t[i],s=t[r];o.y>e.y!=s.y>e.y&&e.x<(s.x-o.x)*(e.y-o.y)/(s.y-o.y)+o.x&&(n=!n)}return n}var d=t("./util").isCounterClockwise;e.exports={multiPolygonIntersectsBufferedMultiPoint:r,multiPolygonIntersectsMultiPolygon:o,multiPolygonIntersectsBufferedMultiLine:s,polygonIntersectsPolygon:i,distToSegmentSquared:h}},{"./util":214}],208:[function(t,e,n){"use strict";var i={"Latin-1 Supplement":function(t){return t>=128&&t<=255},"Hangul Jamo":function(t){return t>=4352&&t<=4607},"Unified Canadian Aboriginal Syllabics":function(t){return t>=5120&&t<=5759},"Unified Canadian Aboriginal Syllabics Extended":function(t){return t>=6320&&t<=6399},"General Punctuation":function(t){return t>=8192&&t<=8303},"Letterlike Symbols":function(t){return t>=8448&&t<=8527},"Number Forms":function(t){return t>=8528&&t<=8591},"Miscellaneous Technical":function(t){return t>=8960&&t<=9215},"Control Pictures":function(t){return t>=9216&&t<=9279},"Optical Character Recognition":function(t){return t>=9280&&t<=9311},"Enclosed Alphanumerics":function(t){return t>=9312&&t<=9471},"Geometric Shapes":function(t){return t>=9632&&t<=9727},"Miscellaneous Symbols":function(t){return t>=9728&&t<=9983},"Miscellaneous Symbols and Arrows":function(t){return t>=11008&&t<=11263},"CJK Radicals Supplement":function(t){return t>=11904&&t<=12031},"Kangxi Radicals":function(t){return t>=12032&&t<=12255},"Ideographic Description Characters":function(t){return t>=12272&&t<=12287},"CJK Symbols and Punctuation":function(t){return t>=12288&&t<=12351},Hiragana:function(t){return t>=12352&&t<=12447},Katakana:function(t){return t>=12448&&t<=12543},Bopomofo:function(t){return t>=12544&&t<=12591},"Hangul Compatibility Jamo":function(t){return t>=12592&&t<=12687},Kanbun:function(t){return t>=12688&&t<=12703},"Bopomofo Extended":function(t){return t>=12704&&t<=12735},"CJK Strokes":function(t){return t>=12736&&t<=12783},"Katakana Phonetic Extensions":function(t){return t>=12784&&t<=12799},"Enclosed CJK Letters and Months":function(t){return t>=12800&&t<=13055},"CJK Compatibility":function(t){return t>=13056&&t<=13311},"CJK Unified Ideographs Extension A":function(t){return t>=13312&&t<=19903},"Yijing Hexagram Symbols":function(t){return t>=19904&&t<=19967},"CJK Unified Ideographs":function(t){return t>=19968&&t<=40959},"Yi Syllables":function(t){return t>=40960&&t<=42127},"Yi Radicals":function(t){return t>=42128&&t<=42191},"Hangul Jamo Extended-A":function(t){return t>=43360&&t<=43391},"Hangul Syllables":function(t){return t>=44032&&t<=55215},"Hangul Jamo Extended-B":function(t){return t>=55216&&t<=55295},"Private Use Area":function(t){return t>=57344&&t<=63743},"CJK Compatibility Ideographs":function(t){return t>=63744&&t<=64255},"Vertical Forms":function(t){return t>=65040&&t<=65055},"CJK Compatibility Forms":function(t){return t>=65072&&t<=65103},"Small Form Variants":function(t){return t>=65104&&t<=65135},"Halfwidth and Fullwidth Forms":function(t){return t>=65280&&t<=65519}};e.exports=i},{}],209:[function(t,e,n){"use strict";var i=function(t,e){this.max=t,this.onRemove=e,this.reset()};i.prototype.reset=function(){var t=this;for(var e in t.data)t.onRemove(t.data[e]);return this.data={},this.order=[],this},i.prototype.add=function(t,e){if(this.has(t))this.order.splice(this.order.indexOf(t),1),this.data[t]=e,this.order.push(t);else if(this.data[t]=e,this.order.push(t),this.order.length>this.max){var n=this.get(this.order[0]);n&&this.onRemove(n)}return this},i.prototype.has=function(t){return t in this.data},i.prototype.keys=function(){return this.order},i.prototype.get=function(t){if(!this.has(t))return null;var e=this.data[t];return delete this.data[t],this.order.splice(this.order.indexOf(t),1),e},i.prototype.getWithoutRemoving=function(t){if(!this.has(t))return null;var e=this.data[t];return e},i.prototype.remove=function(t){if(!this.has(t))return this;var e=this.data[t];return delete this.data[t],this.onRemove(e),this.order.splice(this.order.indexOf(t),1),this},i.prototype.setMaxSize=function(t){var e=this;for(this.max=t;this.order.length>this.max;){var n=e.get(e.order[0]);n&&e.onRemove(n)}return this},e.exports=i},{}],210:[function(t,e,n){"use strict";function i(t,e){var n=s(u.API_URL);if(t.protocol=n.protocol,t.authority=n.authority,!u.REQUIRE_ACCESS_TOKEN)return a(t);if(e=e||u.ACCESS_TOKEN,!e)throw new Error("An API access token is required to use Mapbox GL. "+c);if("s"===e[0])throw new Error("Use a public access token (pk.*) with Mapbox GL, not a secret access token (sk.*). "+c);return t.params.push("access_token="+e),a(t)}function r(t){return 0===t.indexOf("mapbox:")}function o(t){for(var e=0;e<t.length;e++)0===t[e].indexOf("access_token=tk.")&&(t[e]="access_token="+(u.ACCESS_TOKEN||""))}function s(t){var e=t.match(f);if(!e)throw new Error("Unable to parse URL object");return{protocol:e[1],authority:e[2],path:e[3]||"/",params:e[4]?e[4].split("&"):[]}}function a(t){var e=t.params.length?"?"+t.params.join("&"):"";return t.protocol+"://"+t.authority+t.path+e}var u=t("./config"),l=t("./browser"),c="See https://www.mapbox.com/api-documentation/#access-tokens";n.isMapboxURL=r,n.normalizeStyleURL=function(t,e){if(!r(t))return t;var n=s(t);return n.path="/styles/v1"+n.path,i(n,e)},n.normalizeGlyphsURL=function(t,e){if(!r(t))return t;var n=s(t);return n.path="/fonts/v1"+n.path,i(n,e)},n.normalizeSourceURL=function(t,e){if(!r(t))return t;var n=s(t);return n.path="/v4/"+n.authority+".json",n.params.push("secure"),i(n,e)},n.normalizeSpriteURL=function(t,e,n,o){var u=s(t);return r(t)?(u.path="/styles/v1"+u.path+"/sprite"+e+n,i(u,o)):(u.path+=""+e+n,a(u))};var h=/(\.(png|jpg)\d*)(?=$)/;n.normalizeTileURL=function(t,e,n){if(!e||!r(e))return t;var i=s(t),u=l.devicePixelRatio>=2||512===n?"@2x":"",c=l.supportsWebp?".webp":"$1";return i.path=i.path.replace(h,""+u+c),o(i.params),a(i)};var f=/^(\w+):\/\/([^\/?]+)(\/[^?]+)?\??(.+)?/},{"./browser":195,"./config":199}],211:[function(t,e,n){"use strict";var i=t("./is_char_in_unicode_block");e.exports.allowsIdeographicBreaking=function(t){for(var e=0,i=t;e<i.length;e+=1){var r=i[e];if(!n.charAllowsIdeographicBreaking(r.charCodeAt(0)))return!1}return!0},e.exports.allowsVerticalWritingMode=function(t){for(var e=0,i=t;e<i.length;e+=1){var r=i[e];if(n.charHasUprightVerticalOrientation(r.charCodeAt(0)))return!0}return!1},e.exports.charAllowsIdeographicBreaking=function(t){return!(t<11904)&&(!!i["Bopomofo Extended"](t)||(!!i.Bopomofo(t)||(!!i["CJK Compatibility Forms"](t)||(!!i["CJK Compatibility Ideographs"](t)||(!!i["CJK Compatibility"](t)||(!!i["CJK Radicals Supplement"](t)||(!!i["CJK Strokes"](t)||(!!i["CJK Symbols and Punctuation"](t)||(!!i["CJK Unified Ideographs Extension A"](t)||(!!i["CJK Unified Ideographs"](t)||(!!i["Enclosed CJK Letters and Months"](t)||(!!i["Halfwidth and Fullwidth Forms"](t)||(!!i.Hiragana(t)||(!!i["Ideographic Description Characters"](t)||(!!i["Kangxi Radicals"](t)||(!!i["Katakana Phonetic Extensions"](t)||(!!i.Katakana(t)||(!!i["Vertical Forms"](t)||(!!i["Yi Radicals"](t)||!!i["Yi Syllables"](t))))))))))))))))))))},n.charHasUprightVerticalOrientation=function(t){return 746===t||747===t||!(t<4352)&&(!!i["Bopomofo Extended"](t)||(!!i.Bopomofo(t)||(!(!i["CJK Compatibility Forms"](t)||t>=65097&&t<=65103)||(!!i["CJK Compatibility Ideographs"](t)||(!!i["CJK Compatibility"](t)||(!!i["CJK Radicals Supplement"](t)||(!!i["CJK Strokes"](t)||(!(!i["CJK Symbols and Punctuation"](t)||t>=12296&&t<=12305||t>=12308&&t<=12319||12336===t)||(!!i["CJK Unified Ideographs Extension A"](t)||(!!i["CJK Unified Ideographs"](t)||(!!i["Enclosed CJK Letters and Months"](t)||(!!i["Hangul Compatibility Jamo"](t)||(!!i["Hangul Jamo Extended-A"](t)||(!!i["Hangul Jamo Extended-B"](t)||(!!i["Hangul Jamo"](t)||(!!i["Hangul Syllables"](t)||(!!i.Hiragana(t)||(!!i["Ideographic Description Characters"](t)||(!!i.Kanbun(t)||(!!i["Kangxi Radicals"](t)||(!!i["Katakana Phonetic Extensions"](t)||(!(!i.Katakana(t)||12540===t)||(!(!i["Halfwidth and Fullwidth Forms"](t)||65288===t||65289===t||65293===t||t>=65306&&t<=65310||65339===t||65341===t||65343===t||t>=65371&&t<=65503||65507===t||t>=65512&&t<=65519)||(!(!i["Small Form Variants"](t)||t>=65112&&t<=65118||t>=65123&&t<=65126)||(!!i["Unified Canadian Aboriginal Syllabics"](t)||(!!i["Unified Canadian Aboriginal Syllabics Extended"](t)||(!!i["Vertical Forms"](t)||(!!i["Yijing Hexagram Symbols"](t)||(!!i["Yi Syllables"](t)||!!i["Yi Radicals"](t))))))))))))))))))))))))))))))},n.charHasNeutralVerticalOrientation=function(t){return!(!i["Latin-1 Supplement"](t)||167!==t&&169!==t&&174!==t&&177!==t&&188!==t&&189!==t&&190!==t&&215!==t&&247!==t)||(!(!i["General Punctuation"](t)||8214!==t&&8224!==t&&8225!==t&&8240!==t&&8241!==t&&8251!==t&&8252!==t&&8258!==t&&8263!==t&&8264!==t&&8265!==t&&8273!==t)||(!!i["Letterlike Symbols"](t)||(!!i["Number Forms"](t)||(!(!i["Miscellaneous Technical"](t)||!(t>=8960&&t<=8967||t>=8972&&t<=8991||t>=8996&&t<=9e3||9003===t||t>=9085&&t<=9114||t>=9150&&t<=9165||9167===t||t>=9169&&t<=9179||t>=9186&&t<=9215))||(!(!i["Control Pictures"](t)||9251===t)||(!!i["Optical Character Recognition"](t)||(!!i["Enclosed Alphanumerics"](t)||(!!i["Geometric Shapes"](t)||(!(!i["Miscellaneous Symbols"](t)||t>=9754&&t<=9759)||(!(!i["Miscellaneous Symbols and Arrows"](t)||!(t>=11026&&t<=11055||t>=11088&&t<=11097||t>=11192&&t<=11243))||(!!i["CJK Symbols and Punctuation"](t)||(!!i.Katakana(t)||(!!i["Private Use Area"](t)||(!!i["CJK Compatibility Forms"](t)||(!!i["Small Form Variants"](t)||(!!i["Halfwidth and Fullwidth Forms"](t)||(8734===t||8756===t||8757===t||t>=9984&&t<=10087||t>=10102&&t<=10131||65532===t||65533===t)))))))))))))))))},n.charHasRotatedVerticalOrientation=function(t){return!(n.charHasUprightVerticalOrientation(t)||n.charHasNeutralVerticalOrientation(t))}},{"./is_char_in_unicode_block":208}],212:[function(t,e,n){"use strict";function i(t){var e=JSON.stringify(t);if(m[e])return m[e];var n=void 0===t.alignment?1:t.alignment,i=0,s=0,u=["Uint8"],h=t.members.map(function(t){u.indexOf(t.type)<0&&u.push(t.type);var e=o(t.type),a=i=r(i,Math.max(n,e)),l=t.components||1;return s=Math.max(s,e),i+=e*l,{name:t.name,type:t.type,components:l,offset:a}}),p=r(i,Math.max(s,n)),d=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(f);d.prototype.alignment=n,d.prototype.size=p;for(var v=0,y=h;v<y.length;v+=1)for(var b=y[v],x=0;x<b.components;x++){var _=b.name+(1===b.components?"":x);Object.defineProperty(d.prototype,_,{get:l(b,x),set:c(b,x)})}var E=function(t){function e(){t.apply(this,arguments)}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e}(g);return E.prototype.members=h,E.prototype.StructType=d,E.prototype.bytesPerElement=p,E.prototype.emplaceBack=a(h,p),E.prototype._usedTypes=u,m[e]=E,E}function r(t,e){return Math.ceil(t/e)*e}function o(t){return h[t].BYTES_PER_ELEMENT}function s(t){return t.toLowerCase()}function a(t,e){for(var n=[],i=[],r="var i = this.length;\nthis.resize(this.length + 1);\n",a=0,u=t;a<u.length;a+=1){var l=u[a],c=o(l.type);n.indexOf(c)<0&&(n.push(c),r+="var o"+c.toFixed(0)+" = i * "+(e/c).toFixed(0)+";\n");for(var h=0;h<l.components;h++){var f="v"+i.length,p="o"+c.toFixed(0)+" + "+(l.offset/c+h).toFixed(0);r+="this."+s(l.type)+"["+p+"] = "+f+";\n",i.push(f)}}return r+="return i;",new Function(i.toString(),r)}function u(t,e){var n="this._pos"+o(t.type).toFixed(0),i=(t.offset/o(t.type)+e).toFixed(0),r=n+" + "+i;return"this._structArray."+s(t.type)+"["+r+"]"}function l(t,e){return new Function("return "+u(t,e)+";")}function c(t,e){return new Function("x",u(t,e)+" = x;")}e.exports=i;var h={Int8:Int8Array,Uint8:Uint8Array,Uint8Clamped:Uint8ClampedArray,Int16:Int16Array,Uint16:Uint16Array,Int32:Int32Array,Uint32:Uint32Array,Float32:Float32Array,Float64:Float64Array},f=function(t,e){this._structArray=t,this._pos1=e*this.size,this._pos2=this._pos1/2,this._pos4=this._pos1/4,this._pos8=this._pos1/8},p=128,d=5,g=function(t){this.isTransferred=!1,void 0!==t?(this.arrayBuffer=t.arrayBuffer,this.length=t.length,this.capacity=this.arrayBuffer.byteLength/this.bytesPerElement,this._refreshViews()):(this.capacity=-1,this.resize(0))};g.serialize=function(){return{members:this.prototype.members,alignment:this.prototype.StructType.prototype.alignment,bytesPerElement:this.prototype.bytesPerElement}},g.prototype.serialize=function(t){return this._trim(),t&&(this.isTransferred=!0,t.push(this.arrayBuffer)),{length:this.length,arrayBuffer:this.arrayBuffer}},g.prototype.get=function(t){return new this.StructType(this,t)},g.prototype._trim=function(){this.length!==this.capacity&&(this.capacity=this.length,this.arrayBuffer=this.arrayBuffer.slice(0,this.length*this.bytesPerElement),this._refreshViews())},g.prototype.resize=function(t){if(this.length=t,t>this.capacity){this.capacity=Math.max(t,Math.floor(this.capacity*d),p),this.arrayBuffer=new ArrayBuffer(this.capacity*this.bytesPerElement);var e=this.uint8;this._refreshViews(),e&&this.uint8.set(e)}},g.prototype._refreshViews=function(){for(var t=this,e=0,n=t._usedTypes;e<n.length;e+=1){var i=n[e];t[s(i)]=new h[i](t.arrayBuffer)}},g.prototype.toArray=function(t,e){for(var n=this,i=[],r=t;r<e;r++){var o=n.get(r);i.push(o)}return i};var m={}},{}],213:[function(t,e,n){"use strict";function i(t,e){return e.replace(/{([^{}]+)}/g,function(e,n){return n in t?t[n]:""})}e.exports=i},{}],214:[function(t,e,n){"use strict";var i=t("@mapbox/unitbezier"),r=t("../geo/coordinate"),o=t("point-geometry");n.easeCubicInOut=function(t){if(t<=0)return 0;if(t>=1)return 1;var e=t*t,n=e*t;return 4*(t<.5?n:3*(t-e)+n-.75)},n.bezier=function(t,e,n,r){var o=new i(t,e,n,r);return function(t){return o.solve(t)}},n.ease=n.bezier(.25,.1,.25,1),n.clamp=function(t,e,n){return Math.min(n,Math.max(e,t))},n.wrap=function(t,e,n){var i=n-e,r=((t-e)%i+i)%i+e;return r===e?n:r},n.asyncAll=function(t,e,n){if(!t.length)return n(null,[]);var i=t.length,r=new Array(t.length),o=null;t.forEach(function(t,s){e(t,function(t,e){t&&(o=t),r[s]=e,0===--i&&n(o,r)})})},n.values=function(t){var e=[];for(var n in t)e.push(t[n]);return e},n.keysDifference=function(t,e){var n=[];for(var i in t)i in e||n.push(i);return n},n.extend=function(t,e,n,i){for(var r=arguments,o=1;o<arguments.length;o++){var s=r[o];for(var a in s)t[a]=s[a]}return t},n.pick=function(t,e){for(var n={},i=0;i<e.length;i++){var r=e[i];r in t&&(n[r]=t[r])}return n};var s=1;n.uniqueId=function(){return s++},n.bindAll=function(t,e){t.forEach(function(t){e[t]&&(e[t]=e[t].bind(e))})},n.getCoordinatesCenter=function(t){for(var e=1/0,n=1/0,i=-(1/0),o=-(1/0),s=0;s<t.length;s++)e=Math.min(e,t[s].column),n=Math.min(n,t[s].row),i=Math.max(i,t[s].column),o=Math.max(o,t[s].row);var a=i-e,u=o-n,l=Math.max(a,u),c=Math.max(0,Math.floor(-Math.log(l)/Math.LN2));return new r((e+i)/2,(n+o)/2,0).zoomTo(c)},n.endsWith=function(t,e){return t.indexOf(e,t.length-e.length)!==-1},n.mapObject=function(t,e,n){var i=this,r={};for(var o in t)r[o]=e.call(n||i,t[o],o,t);return r},n.filterObject=function(t,e,n){var i=this,r={};for(var o in t)e.call(n||i,t[o],o,t)&&(r[o]=t[o]);return r},n.deepEqual=function(t,e){if(Array.isArray(t)){if(!Array.isArray(e)||t.length!==e.length)return!1;for(var i=0;i<t.length;i++)if(!n.deepEqual(t[i],e[i]))return!1;return!0}if("object"==typeof t&&null!==t&&null!==e){if("object"!=typeof e)return!1;var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!1;for(var o in t)if(!n.deepEqual(t[o],e[o]))return!1;return!0}return t===e},n.clone=function(t){return Array.isArray(t)?t.map(n.clone):"object"==typeof t&&t?n.mapObject(t,n.clone):t},n.arraysIntersect=function(t,e){for(var n=0;n<t.length;n++)if(e.indexOf(t[n])>=0)return!0;return!1};var a={};n.warnOnce=function(t){a[t]||("undefined"!=typeof console&&console.warn(t),a[t]=!0)},n.isCounterClockwise=function(t,e,n){return(n.y-t.y)*(e.x-t.x)>(e.y-t.y)*(n.x-t.x)},n.calculateSignedArea=function(t){for(var e=0,n=0,i=t.length,r=i-1,o=void 0,s=void 0;n<i;r=n++)o=t[n],s=t[r],e+=(s.x-o.x)*(o.y+s.y);return e},n.isClosedPolygon=function(t){if(t.length<4)return!1;var e=t[0],i=t[t.length-1];return!(Math.abs(e.x-i.x)>0||Math.abs(e.y-i.y)>0)&&Math.abs(n.calculateSignedArea(t))>.01},n.sphericalToCartesian=function(t){var e=t[0],n=t[1],i=t[2];return n+=90,n*=Math.PI/180,i*=Math.PI/180,[e*Math.cos(n)*Math.sin(i),e*Math.sin(n)*Math.sin(i),e*Math.cos(i)]},n.parseCacheControl=function(t){var e=/(?:^|(?:\s*\,\s*))([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)(?:\=(?:([^\x00-\x20\(\)<>@\,;\:\\"\/\[\]\?\=\{\}\x7F]+)|(?:\"((?:[^"\\]|\\.)*)\")))?/g,n={};if(t.replace(e,function(t,e,i,r){var o=i||r;return n[e]=!o||o.toLowerCase(),""}),n["max-age"]){var i=parseInt(n["max-age"],10);isNaN(i)?delete n["max-age"]:n["max-age"]=i}return n}},{"../geo/coordinate":61,"@mapbox/unitbezier":3,"point-geometry":26}],215:[function(t,e,n){"use strict";var i=function(t,e,n,i){this.type="Feature",this._vectorTileFeature=t,t._z=e,t._x=n,t._y=i,this.properties=t.properties,null!=t.id&&(this.id=t.id)},r={geometry:{}};r.geometry.get=function(){return void 0===this._geometry&&(this._geometry=this._vectorTileFeature.toGeoJSON(this._vectorTileFeature._x,this._vectorTileFeature._y,this._vectorTileFeature._z).geometry),this._geometry},r.geometry.set=function(t){this._geometry=t},i.prototype.toJSON=function(){var t=this,e={geometry:this.geometry};for(var n in t)"_geometry"!==n&&"_vectorTileFeature"!==n&&(e[n]=t[n]);return e},Object.defineProperties(i.prototype,r),e.exports=i},{}],216:[function(t,e,n){"use strict";var i=t("./script_detection");e.exports=function(t){for(var n="",r=0;r<t.length;r++){var o=t.charCodeAt(r+1)||null,s=t.charCodeAt(r-1)||null,a=(!o||!i.charHasRotatedVerticalOrientation(o)||e.exports.lookup[t[r+1]])&&(!s||!i.charHasRotatedVerticalOrientation(s)||e.exports.lookup[t[r-1]]);n+=a&&e.exports.lookup[t[r]]?e.exports.lookup[t[r]]:t[r]}return n},e.exports.lookup={"!":"︕","#":"＃",$:"＄","%":"％","&":"＆","(":"︵",")":"︶","*":"＊","+":"＋",",":"︐","-":"︲",".":"・","/":"／",":":"︓",";":"︔","<":"︿","=":"＝",">":"﹀","?":"︖","@":"＠","[":"﹇","\\":"＼","]":"﹈","^":"＾",_:"︳","`":"｀","{":"︷","|":"―","}":"︸","~":"～","¢":"￠","£":"￡","¥":"￥","¦":"￤","¬":"￢","¯":"￣","–":"︲","—":"︱","‘":"﹃","’":"﹄","“":"﹁","”":"﹂","…":"︙","‧":"・","₩":"￦","、":"︑","。":"︒","〈":"︿","〉":"﹀","《":"︽","》":"︾","「":"﹁","」":"﹂","『":"﹃","』":"﹄","【":"︻","】":"︼","〔":"︹","〕":"︺","〖":"︗","〗":"︘","！":"︕","（":"︵","）":"︶","，":"︐","－":"︲","．":"・","：":"︓","；":"︔","＜":"︿","＞":"﹀","？":"︖","［":"﹇","］":"﹈","＿":"︳","｛":"︷","｜":"―","｝":"︸","｟":"︵","｠":"︶","｡":"︒","｢":"﹁","｣":"﹂"}},{"./script_detection":211}],217:[function(t,e,n){"use strict";var i=t("./web_worker"),r=function(){this.active={}};r.prototype.acquire=function(e){var n=this;if(!this.workers){var r=t("../").workerCount;for(this.workers=[];this.workers.length<r;)n.workers.push(new i)}return this.active[e]=!0,this.workers.slice()},r.prototype.release=function(t){delete this.active[t],0===Object.keys(this.active).length&&(this.workers.forEach(function(t){t.terminate()}),this.workers=null)},e.exports=r},{"../":65,"./web_worker":196}]},{},[65])(65)})}).call(e,n(20))},function(t,e,n){"use strict";t.exports=r;var i=n(18)[3];function r(t){var e=t.length;if(e<3){var n=new Array(e);for(var r=0;r<e;++r){n[r]=r}if(e===2&&t[0][0]===t[1][0]&&t[0][1]===t[1][1]){return[0]}return n}var o=new Array(e);for(var r=0;r<e;++r){o[r]=r}o.sort(function(e,n){var i=t[e][0]-t[n][0];if(i){return i}return t[e][1]-t[n][1]});var s=[o[0],o[1]];var a=[o[0],o[1]];for(var r=2;r<e;++r){var u=o[r];var l=t[u];var c=s.length;while(c>1&&i(t[s[c-2]],t[s[c-1]],l)<=0){c-=1;s.pop()}s.push(u);c=a.length;while(c>1&&i(t[a[c-2]],t[a[c-1]],l)>=0){c-=1;a.pop()}a.push(u)}var n=new Array(a.length+s.length-2);var h=0;for(var r=0,f=s.length;r<f;++r){n[h++]=s[r]}for(var p=a.length-2;p>0;--p){n[h++]=a[p]}return n}},function(t,e,n){"use strict";var i=function(t){this.element=t;this.events={}};i.prototype.bind=function(t,e){if(typeof this.events[t]==="undefined"){this.events[t]=[]}this.events[t].push(e);this.element.addEventListener(t,e,false)};i.prototype.unbind=function(t,e){var n=typeof e!=="undefined";this.events[t]=this.events[t].filter(function(i){if(n&&i!==e){return true}this.element.removeEventListener(t,i,false);return false},this)};i.prototype.unbindAll=function(){for(var t in this.events){this.unbind(t)}};var r=function(){this.eventElements=[]};r.prototype.eventElement=function(t){var e=this.eventElements.filter(function(e){return e.element===t})[0];if(typeof e==="undefined"){e=new i(t);this.eventElements.push(e)}return e};r.prototype.bind=function(t,e,n){this.eventElement(t).bind(e,n)};r.prototype.unbind=function(t,e,n){this.eventElement(t).unbind(e,n)};r.prototype.unbindAll=function(){for(var t=0;t<this.eventElements.length;t++){this.eventElements[t].unbindAll()}};r.prototype.once=function(t,e,n){var i=this.eventElement(t);var r=function(t){i.unbind(e,r);n(t)};i.bind(e,r)};t.exports=r},function(t,e,n){"use strict";t.exports=function(){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}return function(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}}()},function(t,e,n){"use strict";var i=n(63);var r=n(71);var o=n(72);t.exports={initialize:r,update:o,destroy:i}},function(t,e,n){"use strict";t.exports={handlers:["click-rail","drag-scrollbar","keyboard","wheel","touch"],maxScrollbarLength:null,minScrollbarLength:null,scrollXMarginOffset:0,scrollYMarginOffset:0,suppressScrollX:false,suppressScrollY:false,swipePropagation:true,useBothWheelAxes:false,wheelPropagation:false,wheelSpeed:1,theme:"default"}},function(t,e,n){"use strict";var i=n(3);var r=n(7);var o=n(2);t.exports=function(t){var e=o.get(t);if(!e){return}e.event.unbindAll();r.remove(e.scrollbarX);r.remove(e.scrollbarY);r.remove(e.scrollbarXRail);r.remove(e.scrollbarYRail);i.removePsClasses(t);o.remove(t)}},function(t,e,n){"use strict";var i=n(2);var r=n(4);var o=n(5);function s(t,e){function n(t){return t.getBoundingClientRect()}var i=function(t){t.stopPropagation()};e.event.bind(e.scrollbarY,"click",i);e.event.bind(e.scrollbarYRail,"click",function(i){var s=i.pageY-window.pageYOffset-n(e.scrollbarYRail).top;var a=s>e.scrollbarYTop?1:-1;o(t,"top",t.scrollTop+a*e.containerHeight);r(t);i.stopPropagation()});e.event.bind(e.scrollbarX,"click",i);e.event.bind(e.scrollbarXRail,"click",function(i){var s=i.pageX-window.pageXOffset-n(e.scrollbarXRail).left;var a=s>e.scrollbarXLeft?1:-1;o(t,"left",t.scrollLeft+a*e.containerWidth);r(t);i.stopPropagation()})}t.exports=function(t){var e=i.get(t);s(t,e)}},function(t,e,n){"use strict";var i=n(3);var r=n(7);var o=n(2);var s=n(4);var a=n(5);function u(t,e){var n=null;var o=null;function u(r){var o=n+r*e.railXRatio;var s=Math.max(0,e.scrollbarXRail.getBoundingClientRect().left)+e.railXRatio*(e.railXWidth-e.scrollbarXWidth);if(o<0){e.scrollbarXLeft=0}else if(o>s){e.scrollbarXLeft=s}else{e.scrollbarXLeft=o}var u=i.toInt(e.scrollbarXLeft*(e.contentWidth-e.containerWidth)/(e.containerWidth-e.railXRatio*e.scrollbarXWidth))-e.negativeScrollAdjustment;a(t,"left",u)}var l=function(e){u(e.pageX-o);s(t);e.stopPropagation();e.preventDefault()};var c=function(){i.stopScrolling(t,"x");e.event.unbind(e.ownerDocument,"mousemove",l)};e.event.bind(e.scrollbarX,"mousedown",function(s){o=s.pageX;n=i.toInt(r.css(e.scrollbarX,"left"))*e.railXRatio;i.startScrolling(t,"x");e.event.bind(e.ownerDocument,"mousemove",l);e.event.once(e.ownerDocument,"mouseup",c);s.stopPropagation();s.preventDefault()})}function l(t,e){var n=null;var o=null;function u(r){var o=n+r*e.railYRatio;var s=Math.max(0,e.scrollbarYRail.getBoundingClientRect().top)+e.railYRatio*(e.railYHeight-e.scrollbarYHeight);if(o<0){e.scrollbarYTop=0}else if(o>s){e.scrollbarYTop=s}else{e.scrollbarYTop=o}var u=i.toInt(e.scrollbarYTop*(e.contentHeight-e.containerHeight)/(e.containerHeight-e.railYRatio*e.scrollbarYHeight));a(t,"top",u)}var l=function(e){u(e.pageY-o);s(t);e.stopPropagation();e.preventDefault()};var c=function(){i.stopScrolling(t,"y");e.event.unbind(e.ownerDocument,"mousemove",l)};e.event.bind(e.scrollbarY,"mousedown",function(s){o=s.pageY;n=i.toInt(r.css(e.scrollbarY,"top"))*e.railYRatio;i.startScrolling(t,"y");e.event.bind(e.ownerDocument,"mousemove",l);e.event.once(e.ownerDocument,"mouseup",c);s.stopPropagation();s.preventDefault()})}t.exports=function(t){var e=o.get(t);u(t,e);l(t,e)}},function(t,e,n){"use strict";var i=n(3);var r=n(7);var o=n(2);var s=n(4);var a=n(5);function u(t,e){var n=false;e.event.bind(t,"mouseenter",function(){n=true});e.event.bind(t,"mouseleave",function(){n=false});var o=false;function u(n,i){var r=t.scrollTop;if(n===0){if(!e.scrollbarYActive){return false}if(r===0&&i>0||r>=e.contentHeight-e.containerHeight&&i<0){return!e.settings.wheelPropagation}}var o=t.scrollLeft;if(i===0){if(!e.scrollbarXActive){return false}if(o===0&&n<0||o>=e.contentWidth-e.containerWidth&&n>0){return!e.settings.wheelPropagation}}return true}e.event.bind(e.ownerDocument,"keydown",function(l){if(l.isDefaultPrevented&&l.isDefaultPrevented()||l.defaultPrevented){return}var c=r.matches(e.scrollbarX,":focus")||r.matches(e.scrollbarY,":focus");if(!n&&!c){return}var h=document.activeElement?document.activeElement:e.ownerDocument.activeElement;if(h){if(h.tagName==="IFRAME"){h=h.contentDocument.activeElement}else{while(h.shadowRoot){h=h.shadowRoot.activeElement}}if(i.isEditable(h)){return}}var f=0;var p=0;switch(l.which){case 37:if(l.metaKey){f=-e.contentWidth}else if(l.altKey){f=-e.containerWidth}else{f=-30}break;case 38:if(l.metaKey){p=e.contentHeight}else if(l.altKey){p=e.containerHeight}else{p=30}break;case 39:if(l.metaKey){f=e.contentWidth}else if(l.altKey){f=e.containerWidth}else{f=30}break;case 40:if(l.metaKey){p=-e.contentHeight}else if(l.altKey){p=-e.containerHeight}else{p=-30}break;case 33:p=90;break;case 32:if(l.shiftKey){p=90}else{p=-90}break;case 34:p=-90;break;case 35:if(l.ctrlKey){p=-e.contentHeight}else{p=-e.containerHeight}break;case 36:if(l.ctrlKey){p=t.scrollTop}else{p=e.containerHeight}break;default:return}a(t,"top",t.scrollTop-p);a(t,"left",t.scrollLeft+f);s(t);o=u(f,p);if(o){l.preventDefault()}})}t.exports=function(t){var e=o.get(t);u(t,e)}},function(t,e,n){"use strict";var i=n(2);var r=n(4);var o=n(5);function s(t,e){var n=false;function i(n,i){var r=t.scrollTop;if(n===0){if(!e.scrollbarYActive){return false}if(r===0&&i>0||r>=e.contentHeight-e.containerHeight&&i<0){return!e.settings.wheelPropagation}}var o=t.scrollLeft;if(i===0){if(!e.scrollbarXActive){return false}if(o===0&&n<0||o>=e.contentWidth-e.containerWidth&&n>0){return!e.settings.wheelPropagation}}return true}function s(t){var e=t.deltaX;var n=-1*t.deltaY;if(typeof e==="undefined"||typeof n==="undefined"){e=-1*t.wheelDeltaX/6;n=t.wheelDeltaY/6}if(t.deltaMode&&t.deltaMode===1){e*=10;n*=10}if(e!==e&&n!==n){e=0;n=t.wheelDelta}if(t.shiftKey){return[-n,-e]}return[e,n]}function a(e,n){var i=t.querySelector("textarea:hover, select[multiple]:hover, .ps-child:hover");if(i){if(!window.getComputedStyle(i).overflow.match(/(scroll|auto)/)){return false}var r=i.scrollHeight-i.clientHeight;if(r>0){if(!(i.scrollTop===0&&n>0)&&!(i.scrollTop===r&&n<0)){return true}}var o=i.scrollLeft-i.clientWidth;if(o>0){if(!(i.scrollLeft===0&&e<0)&&!(i.scrollLeft===o&&e>0)){return true}}}return false}function u(u){var l=s(u);var c=l[0];var h=l[1];if(a(c,h)){return}n=false;if(!e.settings.useBothWheelAxes){o(t,"top",t.scrollTop-h*e.settings.wheelSpeed);o(t,"left",t.scrollLeft+c*e.settings.wheelSpeed)}else if(e.scrollbarYActive&&!e.scrollbarXActive){if(h){o(t,"top",t.scrollTop-h*e.settings.wheelSpeed)}else{o(t,"top",t.scrollTop+c*e.settings.wheelSpeed)}n=true}else if(e.scrollbarXActive&&!e.scrollbarYActive){if(c){o(t,"left",t.scrollLeft+c*e.settings.wheelSpeed)}else{o(t,"left",t.scrollLeft-h*e.settings.wheelSpeed)}n=true}r(t);n=n||i(c,h);if(n){u.stopPropagation();u.preventDefault()}}if(typeof window.onwheel!=="undefined"){e.event.bind(t,"wheel",u)}else if(typeof window.onmousewheel!=="undefined"){e.event.bind(t,"mousewheel",u)}}t.exports=function(t){var e=i.get(t);s(t,e)}},function(t,e,n){"use strict";var i=n(2);var r=n(4);function o(t,e){e.event.bind(t,"scroll",function(){r(t)})}t.exports=function(t){var e=i.get(t);o(t,e)}},function(t,e,n){"use strict";var i=n(3);var r=n(2);var o=n(4);var s=n(5);function a(t,e){function n(){var t=window.getSelection?window.getSelection():document.getSelection?document.getSelection():"";if(t.toString().length===0){return null}else{return t.getRangeAt(0).commonAncestorContainer}}var a=null;var u={top:0,left:0};function l(){if(!a){a=setInterval(function(){if(!r.get(t)){clearInterval(a);return}s(t,"top",t.scrollTop+u.top);s(t,"left",t.scrollLeft+u.left);o(t)},50)}}function c(){if(a){clearInterval(a);a=null}i.stopScrolling(t)}var h=false;e.event.bind(e.ownerDocument,"selectionchange",function(){if(t.contains(n())){h=true}else{h=false;c()}});e.event.bind(window,"mouseup",function(){if(h){h=false;c()}});e.event.bind(window,"keyup",function(){if(h){h=false;c()}});e.event.bind(window,"mousemove",function(e){if(h){var n={x:e.pageX,y:e.pageY};var r={left:t.offsetLeft,right:t.offsetLeft+t.offsetWidth,top:t.offsetTop,bottom:t.offsetTop+t.offsetHeight};if(n.x<r.left+3){u.left=-5;i.startScrolling(t,"x")}else if(n.x>r.right-3){u.left=5;i.startScrolling(t,"x")}else{u.left=0}if(n.y<r.top+3){if(r.top+3-n.y<5){u.top=-5}else{u.top=-20}i.startScrolling(t,"y")}else if(n.y>r.bottom-3){if(n.y-r.bottom+3<5){u.top=5}else{u.top=20}i.startScrolling(t,"y")}else{u.top=0}if(u.top===0&&u.left===0){c()}else{l()}}})}t.exports=function(t){var e=r.get(t);a(t,e)}},function(t,e,n){"use strict";var i=n(3);var r=n(2);var o=n(4);var s=n(5);function a(t,e,n,i){function a(n,i){var r=t.scrollTop;var o=t.scrollLeft;var s=Math.abs(n);var a=Math.abs(i);if(a>s){if(i<0&&r===e.contentHeight-e.containerHeight||i>0&&r===0){return!e.settings.swipePropagation}}else if(s>a){if(n<0&&o===e.contentWidth-e.containerWidth||n>0&&o===0){return!e.settings.swipePropagation}}return true}function u(e,n){s(t,"top",t.scrollTop-n);s(t,"left",t.scrollLeft-e);o(t)}var l={};var c=0;var h={};var f=null;var p=false;var d=false;function g(){p=true}function m(){p=false}function v(t){if(t.targetTouches){return t.targetTouches[0]}else{return t}}function y(t){if(t.targetTouches&&t.targetTouches.length===1){return true}if(t.pointerType&&t.pointerType!=="mouse"&&t.pointerType!==t.MSPOINTER_TYPE_MOUSE){return true}return false}function b(t){if(y(t)){d=true;var e=v(t);l.pageX=e.pageX;l.pageY=e.pageY;c=(new Date).getTime();if(f!==null){clearInterval(f)}t.stopPropagation()}}function x(t){if(!d&&e.settings.swipePropagation){b(t)}if(!p&&d&&y(t)){var n=v(t);var i={pageX:n.pageX,pageY:n.pageY};var r=i.pageX-l.pageX;var o=i.pageY-l.pageY;u(r,o);l=i;var s=(new Date).getTime();var f=s-c;if(f>0){h.x=r/f;h.y=o/f;c=s}if(a(r,o)){t.stopPropagation();t.preventDefault()}}}function _(){if(!p&&d){d=false;clearInterval(f);f=setInterval(function(){if(!r.get(t)){clearInterval(f);return}if(!h.x&&!h.y){clearInterval(f);return}if(Math.abs(h.x)<.01&&Math.abs(h.y)<.01){clearInterval(f);return}u(h.x*30,h.y*30);h.x*=.8;h.y*=.8},10)}}if(n){e.event.bind(window,"touchstart",g);e.event.bind(window,"touchend",m);e.event.bind(t,"touchstart",b);e.event.bind(t,"touchmove",x);e.event.bind(t,"touchend",_)}else if(i){if(window.PointerEvent){e.event.bind(window,"pointerdown",g);e.event.bind(window,"pointerup",m);e.event.bind(t,"pointerdown",b);e.event.bind(t,"pointermove",x);e.event.bind(t,"pointerup",_)}else if(window.MSPointerEvent){e.event.bind(window,"MSPointerDown",g);e.event.bind(window,"MSPointerUp",m);e.event.bind(t,"MSPointerDown",b);e.event.bind(t,"MSPointerMove",x);e.event.bind(t,"MSPointerUp",_)}}}t.exports=function(t){if(!i.env.supportsTouch&&!i.env.supportsIePointer){return}var e=r.get(t);a(t,e,i.env.supportsTouch,i.env.supportsIePointer)}},function(t,e,n){"use strict";var i=n(3);var r=n(12);var o=n(2);var s=n(4);var a={"click-rail":n(64),"drag-scrollbar":n(65),keyboard:n(66),wheel:n(67),touch:n(70),selection:n(69)};var u=n(68);t.exports=function(t,e){e=typeof e==="object"?e:{};r.add(t,"ps-container");var n=o.add(t);n.settings=i.extend(n.settings,e);r.add(t,"ps-theme-"+n.settings.theme);n.settings.handlers.forEach(function(e){a[e](t)});u(t);s(t)}},function(t,e,n){"use strict";var i=n(3);var r=n(7);var o=n(2);var s=n(4);var a=n(5);t.exports=function(t){var e=o.get(t);if(!e){return}e.negativeScrollAdjustment=e.isNegativeScroll?t.scrollWidth-t.clientWidth:0;r.css(e.scrollbarXRail,"display","block");r.css(e.scrollbarYRail,"display","block");e.railXMarginWidth=i.toInt(r.css(e.scrollbarXRail,"marginLeft"))+i.toInt(r.css(e.scrollbarXRail,"marginRight"));e.railYMarginHeight=i.toInt(r.css(e.scrollbarYRail,"marginTop"))+i.toInt(r.css(e.scrollbarYRail,"marginBottom"));r.css(e.scrollbarXRail,"display","none");r.css(e.scrollbarYRail,"display","none");s(t);a(t,"top",t.scrollTop);a(t,"left",t.scrollLeft);r.css(e.scrollbarXRail,"display","");r.css(e.scrollbarYRail,"display","")}},function(t,e,n){"use strict";var i=n(28);var r=n(120);t.exports=o;function o(t,e){var n=t.length;if(n===1){var o=i(t[0],e);if(o[0]){return o}return[o[1]]}var s=new Array(2*n);var a=[.1,.1];var u=[.1,.1];var l=0;i(t[0],e,a);if(a[0]){s[l++]=a[0]}for(var c=1;c<n;++c){i(t[c],e,u);var h=a[1];r(h,u[0],a);if(a[0]){s[l++]=a[0]}var f=u[1];var p=a[1];var d=f+p;var g=d-f;var m=p-g;a[1]=d;if(m){s[l++]=m}}if(a[1]){s[l++]=a[1]}if(l===0){s[l++]=0}s.length=l;return s}},function(t,e,n){"use strict";t.exports=r;function i(t,e){var n=t+e;var i=n-t;var r=n-i;var o=e-i;var s=t-r;var a=s+o;if(a){return[a,n]}return[n]}function r(t,e){var n=t.length|0;var r=e.length|0;if(n===1&&r===1){return i(t[0],-e[0])}var o=n+r;var s=new Array(o);var a=0;var u=0;var l=0;var c=Math.abs;var h=t[u];var f=c(h);var p=-e[l];var d=c(p);var g,m;if(f<d){m=h;u+=1;if(u<n){h=t[u];f=c(h)}}else{m=p;l+=1;if(l<r){p=-e[l];d=c(p)}}if(u<n&&f<d||l>=r){g=h;u+=1;if(u<n){h=t[u];f=c(h)}}else{g=p;l+=1;if(l<r){p=-e[l];d=c(p)}}var v=g+m;var y=v-g;var b=m-y;var x=b;var _=v;var E,w,T,S,A;while(u<n&&l<r){if(f<d){g=h;u+=1;if(u<n){h=t[u];f=c(h)}}else{g=p;l+=1;if(l<r){p=-e[l];d=c(p)}}m=x;v=g+m;y=v-g;b=m-y;if(b){s[a++]=b}E=_+v;w=E-_;T=E-w;S=v-w;A=_-T;x=A+S;_=E}while(u<n){g=h;m=x;v=g+m;y=v-g;b=m-y;if(b){s[a++]=b}E=_+v;w=E-_;T=E-w;S=v-w;A=_-T;x=A+S;_=E;u+=1;if(u<n){h=t[u]}}while(l<r){g=p;m=x;v=g+m;y=v-g;b=m-y;if(b){s[a++]=b}E=_+v;w=E-_;T=E-w;S=v-w;A=_-T;x=A+S;_=E;l+=1;if(l<r){p=-e[l]}}if(x){s[a++]=x}if(_){s[a++]=_}if(!a){s[a++]=0}s.length=a;return s}},function(t,e,n){"use strict";t.exports=r;function i(t,e){var n=t+e;var i=n-t;var r=n-i;var o=e-i;var s=t-r;var a=s+o;if(a){return[a,n]}return[n]}function r(t,e){var n=t.length|0;var r=e.length|0;if(n===1&&r===1){return i(t[0],e[0])}var o=n+r;var s=new Array(o);var a=0;var u=0;var l=0;var c=Math.abs;var h=t[u];var f=c(h);var p=e[l];var d=c(p);var g,m;if(f<d){m=h;u+=1;if(u<n){h=t[u];f=c(h)}}else{m=p;l+=1;if(l<r){p=e[l];d=c(p)}}if(u<n&&f<d||l>=r){g=h;u+=1;if(u<n){h=t[u];f=c(h)}}else{g=p;l+=1;if(l<r){p=e[l];d=c(p)}}var v=g+m;var y=v-g;var b=m-y;var x=b;var _=v;var E,w,T,S,A;while(u<n&&l<r){if(f<d){g=h;u+=1;if(u<n){h=t[u];f=c(h)}}else{g=p;l+=1;if(l<r){p=e[l];d=c(p)}}m=x;v=g+m;y=v-g;b=m-y;if(b){s[a++]=b}E=_+v;w=E-_;T=E-w;S=v-w;A=_-T;x=A+S;_=E}while(u<n){g=h;m=x;v=g+m;y=v-g;b=m-y;if(b){s[a++]=b}E=_+v;w=E-_;T=E-w;S=v-w;A=_-T;x=A+S;_=E;u+=1;if(u<n){h=t[u]}}while(l<r){g=p;m=x;v=g+m;y=v-g;b=m-y;if(b){s[a++]=b}E=_+v;w=E-_;T=E-w;S=v-w;A=_-T;x=A+S;_=E;l+=1;if(l<r){p=e[l]}}if(x){s[a++]=x}if(_){s[a++]=_}if(!a){s[a++]=0}s.length=a;return s}},function(t,e,n){"use strict";"use restrict";var i=n(42),r=n(121);function o(t){var e=0,n=Math.max;for(var i=0,r=t.length;i<r;++i){e=n(e,t[i].length)}return e-1}e.dimension=o;function s(t){var e=-1,n=Math.max;for(var i=0,r=t.length;i<r;++i){var o=t[i];for(var s=0,a=o.length;s<a;++s){e=n(e,o[s])}}return e+1}e.countVertices=s;function a(t){var e=new Array(t.length);for(var n=0,i=t.length;n<i;++n){e[n]=t[n].slice(0)}return e}e.cloneCells=a;function u(t,e){var n=t.length,i=t.length-e.length,r=Math.min;if(i){return i}switch(n){case 0:return 0;case 1:return t[0]-e[0];case 2:var o=t[0]+t[1]-e[0]-e[1];if(o){return o}return r(t[0],t[1])-r(e[0],e[1]);case 3:var s=t[0]+t[1],a=e[0]+e[1];o=s+t[2]-(a+e[2]);if(o){return o}var u=r(t[0],t[1]),l=r(e[0],e[1]),o=r(u,t[2])-r(l,e[2]);if(o){return o}return r(u+t[2],s)-r(l+e[2],a);default:var c=t.slice(0);c.sort();var h=e.slice(0);h.sort();for(var f=0;f<n;++f){i=c[f]-h[f];if(i){return i}}return 0}}e.compareCells=u;function l(t,e){return u(t[0],e[0])}function c(t,e){if(e){var n=t.length;var i=new Array(n);for(var r=0;r<n;++r){i[r]=[t[r],e[r]]}i.sort(l);for(var r=0;r<n;++r){t[r]=i[r][0];e[r]=i[r][1]}return t}else{t.sort(u);return t}}e.normalize=c;function h(t){if(t.length===0){return[]}var e=1,n=t.length;for(var i=1;i<n;++i){var r=t[i];if(u(r,t[i-1])){if(i===e){e++;continue}t[e++]=r}}t.length=e;return t}e.unique=h;function f(t,e){var n=0,i=t.length-1,r=-1;while(n<=i){var o=n+i>>1,s=u(t[o],e);if(s<=0){if(s===0){r=o}n=o+1}else if(s>0){i=o-1}}return r}e.findCell=f;function p(t,e){var n=new Array(t.length);for(var r=0,o=n.length;r<o;++r){n[r]=[]}var s=[];for(var r=0,a=e.length;r<a;++r){var l=e[r];var c=l.length;for(var h=1,p=1<<c;h<p;++h){s.length=i.popCount(h);var d=0;for(var g=0;g<c;++g){if(h&1<<g){s[d++]=l[g]}}var m=f(t,s);if(m<0){continue}while(true){n[m++].push(r);if(m>=t.length||u(t[m],s)!==0){break}}}}return n}e.incidence=p;function d(t,e){if(!e){return p(h(m(t,0)),t,0)}var n=new Array(e);for(var i=0;i<e;++i){n[i]=[]}for(var i=0,r=t.length;i<r;++i){var o=t[i];for(var s=0,a=o.length;s<a;++s){n[o[s]].push(i)}}return n}e.dual=d;function g(t){var e=[];for(var n=0,i=t.length;n<i;++n){var r=t[n],o=r.length|0;for(var s=1,a=1<<o;s<a;++s){var u=[];for(var l=0;l<o;++l){if(s>>>l&1){u.push(r[l])}}e.push(u)}}return c(e)}e.explode=g;function m(t,e){if(e<0){return[]}var n=[],r=(1<<e+1)-1;for(var o=0;o<t.length;++o){var s=t[o];for(var a=r;a<1<<s.length;a=i.nextCombination(a)){var u=new Array(e+1),l=0;for(var h=0;h<s.length;++h){if(a&1<<h){u[l++]=s[h]}}n.push(u)}}return c(n)}e.skeleton=m;function v(t){var e=[];for(var n=0,i=t.length;n<i;++n){var r=t[n];for(var o=0,s=r.length;o<s;++o){var a=new Array(r.length-1);for(var u=0,l=0;u<s;++u){if(u!==o){a[l++]=r[u]}}e.push(a)}}return c(e)}e.boundary=v;function y(t,e){var n=new r(e);for(var i=0;i<t.length;++i){var o=t[i];for(var s=0;s<o.length;++s){for(var a=s+1;a<o.length;++a){n.link(o[s],o[a])}}}var u=[],l=n.ranks;for(var i=0;i<l.length;++i){l[i]=-1}for(var i=0;i<t.length;++i){var c=n.find(t[i][0]);if(l[c]<0){l[c]=u.length;u.push([t[i].slice(0)])}else{u[l[c]].push(t[i].slice(0))}}return u}function b(t){var e=h(c(m(t,0))),n=new r(e.length);for(var i=0;i<t.length;++i){var o=t[i];for(var s=0;s<o.length;++s){var a=f(e,[o[s]]);for(var u=s+1;u<o.length;++u){n.link(a,f(e,[o[u]]))}}}var l=[],p=n.ranks;for(var i=0;i<p.length;++i){p[i]=-1}for(var i=0;i<t.length;++i){var d=n.find(f(e,[t[i][0]]));if(p[d]<0){p[d]=l.length;l.push([t[i].slice(0)])}else{l[p[d]].push(t[i].slice(0))}}return l}function x(t,e){if(e){return y(t,e)}return b(t)}e.connectedComponents=x},function(t,e,n){var i;(function(){"use strict";function r(t,e){var n=t.x-e.x,i=t.y-e.y;return n*n+i*i}function o(t,e,n){var i=e.x,r=e.y,o=n.x-i,s=n.y-r;if(o!==0||s!==0){var a=((t.x-i)*o+(t.y-r)*s)/(o*o+s*s);if(a>1){i=n.x;r=n.y}else if(a>0){i+=o*a;r+=s*a}}o=t.x-i;s=t.y-r;return o*o+s*s}function s(t,e){var n=t[0],i=[n],o;for(var s=1,a=t.length;s<a;s++){o=t[s];if(r(o,n)>e){i.push(o);n=o}}if(n!==o)i.push(o);return i}function a(t,e){var n=t.length,i=typeof Uint8Array!=="undefined"?Uint8Array:Array,r=new i(n),s=0,a=n-1,u=[],l=[],c,h,f,p;r[s]=r[a]=1;while(a){h=0;for(c=s+1;c<a;c++){f=o(t[c],t[s],t[a]);if(f>h){p=c;h=f}}if(h>e){r[p]=1;u.push(s,p,p,a)}a=u.pop();s=u.pop()}for(c=0;c<n;c++){if(r[c])l.push(t[c])}return l}function u(t,e,n){var i=e!==undefined?e*e:1;t=n?t:s(t,i);t=a(t,i);return t}if(true)!(i=function(){return u}.call(e,n,e,t),i!==undefined&&(t.exports=i));else if(typeof t!=="undefined")t.exports=u;else if(typeof self!=="undefined")self.simplify=u;else window.simplify=u})()},function(t,e){t.exports=function(t){var e=typeof window!=="undefined"&&window.location;if(!e){throw new Error("fixUrls requires window.location")}if(!t||typeof t!=="string"){return t}var n=e.protocol+"//"+e.host;var i=n+e.pathname.replace(/\/[^\/]*$/,"/");var r=t.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(t,e){var r=e.trim().replace(/^"(.*)"$/,function(t,e){return e}).replace(/^'(.*)'$/,function(t,e){return e});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/)/i.test(r)){return t}var o;if(r.indexOf("//")===0){o=r}else if(r.indexOf("/")===0){o=n+r}else{o=i+r.replace(/^\.\//,"")}return"url("+JSON.stringify(o)+")"});return r}},function(t,e,n){var i=n(49);if(typeof i==="string")i=[[t.i,i,""]];var r=n(13)(i,{});if(i.locals)t.exports=i.locals;if(false){if(!i.locals){t.hot.accept("!!../../css-loader/index.js!./leaflet.css",function(){var e=require("!!../../css-loader/index.js!./leaflet.css");if(typeof e==="string")e=[[t.id,e,""]];r(e)})}t.hot.dispose(function(){r()})}},function(t,e,n){var i=n(50);if(typeof i==="string")i=[[t.i,i,""]];var r=n(13)(i,{});if(i.locals)t.exports=i.locals;if(false){if(!i.locals){t.hot.accept("!!../../css-loader/index.js!./mapbox-gl.css",function(){var e=require("!!../../css-loader/index.js!./mapbox-gl.css");if(typeof e==="string")e=[[t.id,e,""]];r(e)})}t.hot.dispose(function(){r()})}},function(t,e,n){var i=n(6);i.tag2("cloud_openbar",'<div each="{KORTxyz.sources}" class="card" id="{name}" onclick="fetchData(this.id,\'&propertyName=kat_navn,svar,sync,geom\')"><div class="container"><h4><b>{title}</b></h4><p>{abstract}</p></div></div>','cloud_openbar{ position: absolute; z-index: 1000; margin: 0 0 0 20; height: calc(100% - 40px); height: -moz-calc(100% - 40px); height: -webkit-calc(100% - 40px); width:260px; padding:20px; background: white; right:-300px; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0px 0px 0px grey; } cloud_openbar.show { right:0; box-shadow: 0px 0px 12px grey; } cloud_openbar .card,[data-is="cloud_openbar"] .card{ box-shadow: 2px 2px 14px 0 rgba(0,0,0,0.2); transition: 0.5s; width: 100%; cursor: pointer; } cloud_openbar .card:hover,[data-is="cloud_openbar"] .card:hover{ box-shadow: 6px 6px 22px 0 rgba(0,0,0,0.2); } cloud_openbar .container,[data-is="cloud_openbar"] .container{ padding: 2px 16px; margin-bottom:10px; }',"",function(t){fetchData=function(t){var e=new XMLHttpRequest;e.onreadystatechange=function(){if(e.readyState==XMLHttpRequest.DONE){if(e.status==200){var t=JSON.parse(e.responseText).features.map(function(t){obj=t.properties;obj["id"]=t.id;obj["geom"]=t.geometry;return obj});addData(t);alasql("DROP TABLE IF EXISTS data;                           CREATE TABLE data;                           SELECT * INTO data FROM ?",[t],function(){iziToast.show({icon:"material-icons",iconText:"error",message:"Data added!",buttons:[["<button>Vis</button>",function(e,n){console.log(t)}]]})})}else if(e.status==400){iziToast.error({icon:"material-icons",iconText:"error",message:"Error message 400"})}else{iziToast.error({icon:"material-icons",iconText:"error",message:"something else other than 200 was returned"})}}};e.open("GET",config.server+"service=WFS&version=1.0.0&request=GetFeature&typeName="+t+"&maxFeatures=2000&outputFormat=application%2Fjson&srsName=EPSG:4326",true,KORTxyz.user.name,KORTxyz.user.pw);e.withCredentials=true;e.send()}})},function(t,e,n){var i=n(6);i.tag2("helpbar",'<div each="{data}" id="container"><i class="material-icons" style="padding-right:10">{icon}</i><h4>{text}</h4></div>','helpbar{ position: absolute; z-index: 1000; margin: 0 0 0 20; height: calc(100% - 40px); height: -moz-calc(100% - 40px); height: -webkit-calc(100% - 40px); width:260px; padding:20px; background: white; right:-300px; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0px 0px 0px grey; } helpbar.show { right:0; box-shadow: 0px 0px 12px grey; } helpbar #container,[data-is="helpbar"] #container{ display: flex; flex-direction: row; wrap: nowrap; align-items: center; justify-content: left; }',"",function(t){this.data=[{icon:"3d_rotation",text:"Vider kameravinklen så kortet ses strå"},{icon:"fullscreen",text:"Sætter kortet i fuldskærm"},{icon:"gps_fixed",text:"Tænder for GPS tracking. Rød betyder at den er slukket og grøn at den er tændt."},{icon:"gradient",text:"Henter flyfotos som baggrund."},{icon:"toc",text:"Tabeloversigt over markerne"},{icon:"cloud_upload",text:"Indlæs data fra din webservice"},{icon:"file_upload",text:"Indlæser data på kortet"},{icon:"directions",text:"Beregner den optimale rute mellem markerne."},{icon:"sync",text:"Synkronisere redigeringer med serveren."},{icon:"person",text:"Bruger login siden."},{icon:"settings",text:"Her kan du ændre i opsætningen. Fx sætte kortet til at rotere ud fra GPS'ens signal"},{icon:"help",text:"Hjælp "}]})},function(t,e,n){var i=n(6);i.tag2("settingsbar",'<div id="container"><label class="switch"><input type="checkbox" id="Foelgcompas" onclick="KORTxyz.settings.followCompas? KORTxyz.settings.followCompas=false : KORTxyz.settings.followCompas=true;localStorage.setItem(\'followCompas\',KORTxyz.settings.followCompas);"><div class="slider"></div></label><h4 style="padding-left:30px">Følg compas</h4></div><div id="container"><label class="switch"><input type="checkbox" id="useWebGL" onclick="useWebGL()"><div class="slider"></div></label><h4 style="padding-left:30px">Brug WebGL</h4></div>','settingsbar{ position: absolute; z-index: 1000; margin: 0 0 0 20; height: calc(100% - 40px); height: -moz-calc(100% - 40px); height: -webkit-calc(100% - 40px); width:260px; padding:20px; background: white; right:-300px; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0px 0px 0px grey; } settingsbar.show { right:0; box-shadow: 0px 0px 12px grey; } settingsbar .switch,[data-is="settingsbar"] .switch{ position: relative; display: inline-block; width: 34px; height: 20px; } settingsbar .switch input,[data-is="settingsbar"] .switch input{display:none;} settingsbar .slider,[data-is="settingsbar"] .slider{ position: absolute; cursor: pointer; top: 0; left: 0; right: 0; bottom: 0; background-color: #ccc; -webkit-transition: .4s; transition: .4s; } settingsbar .slider:before,[data-is="settingsbar"] .slider:before{ position: absolute; content: ""; height: 13px; width: 13px; left: 4px; bottom: 4px; background-color: white; -webkit-transition: .4s; transition: .4s; } settingsbar input:checked + .slider,[data-is="settingsbar"] input:checked + .slider{ background-color: #4caf50; } settingsbar input:focus + .slider,[data-is="settingsbar"] input:focus + .slider{ box-shadow: 0 0 1px #4caf50; } settingsbar input:checked + .slider:before,[data-is="settingsbar"] input:checked + .slider:before{ -webkit-transform: translateX(13px); -ms-transform: translateX(13px); transform: translateX(13px); } settingsbar #container,[data-is="settingsbar"] #container{ display: flex; flex-direction: row; wrap: nowrap; align-items: center; justify-content: left; } settingsbar label,[data-is="settingsbar"] label{ display: inline-block; vertical-align: middle; }',"",function(t){this.on("mount",function(){document.getElementById("Foelgcompas").checked=KORTxyz.settings.followCompas;document.getElementById("useWebGL").checked=KORTxyz.settings.useWebGL});useWebGL=function(){KORTxyz.settings.useWebGL?KORTxyz.settings.useWebGL=false:KORTxyz.settings.useWebGL=true;localStorage.setItem("useWebGL",KORTxyz.settings.useWebGL);iziToast.show({icon:"material-icons",iconText:"priority_high",message:"Kræver en genindlæsning for at træde i kræft"})}})},function(t,e,n){var i=n(6);i.tag2("tablebar",'<table style="width:100%"><thead><tr><th each="{name, i in opts.data[0]}" onclick="{reorder}">{i}</th></tr></thead><tbody><tr each="{elem, i in opts.data}" onclick="{zoomTo}"><td no-reorder each="{d, val in elem}">{elem[val]}</td></tr></tbody></table>','tablebar{ position: absolute; z-index: 1000; margin: 0 0 0 20; height: 100%; width:300px; padding:0px; background: white; right:-300px; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0px 0px 0px grey; } tablebar.show { right:0; box-shadow: 0px 0px 12px grey; } tablebar table,[data-is="tablebar"] table,tablebar th,[data-is="tablebar"] th,tablebar td,[data-is="tablebar"] td{ border: 1px solid grey; border-collapse: collapse; cursor: pointer; font-size: 10px; } tablebar tbody tr:hover,[data-is="tablebar"] tbody tr:hover{ background-color: lightgrey; } tablebar th,[data-is="tablebar"] th{ letter-spacing: 1; }',"",function(t){this.on("mount",function(){setTimeout(function(){document.getElementsByTagName("tablebar")[0].classList.toggle("show")},1)});this.zoomTo=function(t){alasql("select geom from data where id=?",t.item.elem.id,t=>blink(t[0].geom))}.bind(this);this.reorder=function(e){t.data.sort(function(t,n){return t[e.item.i]-n[e.item.i]})}.bind(this)})},function(t,e,n){var i=n(6);i.tag2("userbar",'<div show="{noUser}"><div class="spinnerContainer" show="{loading}"><div class="spinner"><div class="double-bounce1"></div><div class="double-bounce2"></div></div></div><div class="group"><input ref="name" type="text" onblur="isused(this)"><span class="highlight"></span><span class="bar"></span><label>Name</label></div><div class="group"><input ref="pw" type="password" onblur="isused(this)" class="" type="email"><span class="highlight"></span><span class="bar"></span><label>Password</label></div></div><button id="submitButton" type="button" class="button buttonBlue" onclick="{login}">{buttontext} <div class="ripples buttonRipples"><span class="ripplesCircle" style="top: 9.76563px; left: 41.5px;"></span></div></button>','userbar{ position: absolute; z-index: 1000; margin: 0 0 0 20; height: calc(100% - 40px); height: -moz-calc(100% - 40px); height: -webkit-calc(100% - 40px); width:260px; padding:20px; background: white; right:-300px; transition: 0.3s cubic-bezier(0.4, 0, 0.2, 1); box-shadow: 0px 0px 0px grey; } userbar.show { right:0; box-shadow: 0px 0px 12px grey; } userbar form,[data-is="userbar"] form{ width: 380px; margin: 4em auto; padding: 3em 2em 2em 2em; border: 1px solid #ebebeb; box-shadow: rgba(0,0,0,0.14902) 0px 1px 1px 0px,rgba(0,0,0,0.09804) 0px 1px 2px 0px; } userbar .group,[data-is="userbar"] .group{ position: relative; margin-bottom: 45px; } userbar input,[data-is="userbar"] input{ font-size: 18px; padding: 10px 10px 10px 5px; -webkit-appearance: none; display: block; color: #636363; width: 100%; border: none; border-radius: 0; border-bottom: 1px solid #757575; } userbar input:focus,[data-is="userbar"] input:focus{ outline: none; } userbar label,[data-is="userbar"] label{ color: #999; font-size: 18px; font-weight: normal; position: absolute; pointer-events: none; left: 5px; top: 10px; -webkit-transition:all 0.2s ease; transition: all 0.2s ease; } userbar input:focus ~ label,[data-is="userbar"] input:focus ~ label,userbar input.used ~ label,[data-is="userbar"] input.used ~ label{ top: -20px; -webkit-transform: scale(.75); transform: scale(.75); left: -2px; color: #4a89dc; } userbar .bar,[data-is="userbar"] .bar{ position: relative; display: block; width: 100%; } userbar .bar:before,[data-is="userbar"] .bar:before,userbar .bar:after,[data-is="userbar"] .bar:after{ content: \'\'; height: 2px; width: 0; bottom: 0px; position: absolute; background: #4a89dc; -webkit-transition:all 0.2s ease; transition: all 0.2s ease; } userbar .bar:before,[data-is="userbar"] .bar:before{ left: 50%; } userbar .bar:after,[data-is="userbar"] .bar:after{ right: 50%; } userbar input:focus ~ .bar:before,[data-is="userbar"] input:focus ~ .bar:before,userbar input:focus ~ .bar:after,[data-is="userbar"] input:focus ~ .bar:after{ width: 50%; } userbar .highlight,[data-is="userbar"] .highlight{ position: absolute; height: 60%; width: 100px; top: 25%; left: 0; pointer-events: none; opacity: 0.5; } userbar input:focus ~ .highlight,[data-is="userbar"] input:focus ~ .highlight{ -webkit-animation: inputHighlighter 0.3s ease; animation: inputHighlighter 0.3s ease; } @-webkit-keyframes inputHighlighter { from { background: #4a89dc; } to { width: 0; background: transparent; } } @keyframes inputHighlighter { from { background: #4a89dc; } to { width: 0; background: transparent; } } userbar .button,[data-is="userbar"] .button{ position: relative; display: inline-block; padding: 12px 24px; margin: .3em 0 1em 0; width: 100%; vertical-align: middle; color: #fff; font-size: 16px; line-height: 20px; -webkit-font-smoothing: antialiased; text-align: center; letter-spacing: 1px; background: transparent; border: 0; cursor: pointer; -webkit-transition:all 0.15s ease; transition: all 0.15s ease; } userbar .button:focus,[data-is="userbar"] .button:focus{ outline: 0; } userbar .buttonBlue,[data-is="userbar"] .buttonBlue{ background: #4a89dc; text-shadow: 1px 1px 0 rgba(39, 110, 204, .5); } userbar .buttonBlue:hover,[data-is="userbar"] .buttonBlue:hover{ background: #357bd8; } userbar .spinner,[data-is="userbar"] .spinner{ width: 40px; height: 40px; position: relative; margin: 100px auto; } userbar .double-bounce1,[data-is="userbar"] .double-bounce1,userbar .double-bounce2,[data-is="userbar"] .double-bounce2{ width: 100%; height: 100%; border-radius: 50%; background-color: #333; opacity: 0.6; position: absolute; top: 0; left: 0; -webkit-animation: sk-bounce 2.0s infinite ease-in-out; animation: sk-bounce 2.0s infinite ease-in-out; } userbar .double-bounce2,[data-is="userbar"] .double-bounce2{ -webkit-animation-delay: -1.0s; animation-delay: -1.0s; } @-webkit-keyframes sk-bounce { 0%, 100% { -webkit-transform: scale(0.0) } 50% { -webkit-transform: scale(1.0) } } @keyframes sk-bounce { 0%, 100% { transform: scale(0.0); -webkit-transform: scale(0.0); } 50% { transform: scale(1.0); -webkit-transform: scale(1.0); } } userbar .spinnerContainer,[data-is="userbar"] .spinnerContainer{ position: absolute; z-index: 1; width: 260; height: 100%; }',"",function(t){this.noUser=!!!KORTxyz.user.name;this.buttontext=!!!KORTxyz.user.name?"Login":"Logout";this.loading=false;isused=function(t){test=t;if(t.value!=""){t.classList.add("used")}else{t.classList.remove("used")}};this.login=function(){if(this.buttontext=="Login"){if(this.refs.name.value.length>0){that=this;this.loading=true;name=this.refs.name.value;pw=this.refs.pw.value;xmlHttp=new XMLHttpRequest;xmlHttp.mozBackgroundRequest=true;xmlHttp.onloadend=(()=>{this.loading=false;this.noUser=!!!KORTxyz.user.name;this.buttontext=!!!KORTxyz.user.name?"Login":"Logout";this.update()});xmlHttp.open("GET",config.server+"service=wfs&version=1.1.0&request=GetCapabilities",true);xmlHttp.withCredentials=true;xmlHttp.send(null);xmlHttp.onreadystatechange=function(){if(xmlHttp.readyState==4&&xmlHttp.status==200){KORTxyz.user={name:name,pw:pw};localStorage.setItem("name",name);localStorage.setItem("pw",pw);KORTxyz.sources=[];xmlDoc=xmlHttp.responseXML.getElementsByTagName("FeatureType");for(var t=0;t<xmlDoc.length;t++){KORTxyz.sources.push({name:xmlDoc[t].getElementsByTagName("Name")[0].textContent,title:xmlDoc[t].getElementsByTagName("Title")[0].textContent,abstract:xmlDoc[t].getElementsByTagName("Abstract")[0].textContent})}alasql("DROP TABLE IF EXISTS sources;                       CREATE TABLE sources;                       SELECT * INTO sources FROM ?",[KORTxyz.sources],function(){})}else if(xmlHttp.readyState==4&&xmlHttp.status!=200){iziToast.error({icon:"material-icons",iconText:"error",message:"Forkert Brugernavn/password"})}}}else{iziToast.error({icon:"material-icons",iconText:"error",message:"Skriv et brugernavn"})}}else{delete KORTxyz.user;localStorage.removeItem("name");localStorage.removeItem("pw");this.noUser=!!!KORTxyz.user;this.buttontext=!!!KORTxyz.user?"Login":"Logout";KORTxyz.sources=[];alasql("DROP TABLE IF EXISTS sources;")}}.bind(this)})},function(t,e,n){var i=n(1);var r=n(0).point;var o=n(15);var s=n(16);t.exports=function(t,e,n){var a;if(t.type==="Feature")a=t.geometry.coordinates;else if(t.type==="LineString")a=t.coordinates;else throw new Error("input must be a LineString Feature or Geometry");var u=0;for(var l=0;l<a.length;l++){if(e>=u&&l===a.length-1)break;else if(u>=e){var c=e-u;if(!c)return r(a[l]);else{var h=o(a[l],a[l-1])-180;var f=s(a[l],c,h,n);return f}}else{u+=i(a[l],a[l+1],n)}}return r(a[a.length-1])}},function(t,e,n){var i=n(52).geometry;function r(t){if(t.type==="FeatureCollection"){for(var e=0,n=0;e<t.features.length;e++){if(t.features[e].geometry){n+=i(t.features[e].geometry)}}return n}else if(t.type==="Feature"){return i(t.geometry)}else{return i(t)}}t.exports=r},function(t,e,n){var i=n(0).lineString;var r=n(89);t.exports=function(t,e,n){var o=i([]);o.properties=t.properties;var s=new r({points:t.geometry.coordinates.map(function(t){return{x:t[0],y:t[1]}}),duration:e,sharpness:n});for(var a=0;a<s.duration;a+=10){var u=s.pos(a);if(Math.floor(a/100)%2===0){o.geometry.coordinates.push([u.x,u.y])}}return o}},function(t,e){var n=function(t){this.points=t.points||[];this.duration=t.duration||1e4;this.sharpness=t.sharpness||.85;this.centers=[];this.controls=[];this.stepLength=t.stepLength||60;this.length=this.points.length;this.delay=0;for(var e=0;e<this.length;e++)this.points[e].z=this.points[e].z||0;for(var e=0;e<this.length-1;e++){var n=this.points[e];var i=this.points[e+1];this.centers.push({x:(n.x+i.x)/2,y:(n.y+i.y)/2,z:(n.z+i.z)/2})}this.controls.push([this.points[0],this.points[0]]);for(var e=0;e<this.centers.length-1;e++){var n=this.centers[e];var i=this.centers[e+1];var r=this.points[e+1].x-(this.centers[e].x+this.centers[e+1].x)/2;var o=this.points[e+1].y-(this.centers[e].y+this.centers[e+1].y)/2;var s=this.points[e+1].z-(this.centers[e].y+this.centers[e+1].z)/2;this.controls.push([{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e].z+s)},{x:(1-this.sharpness)*this.points[e+1].x+this.sharpness*(this.centers[e+1].x+r),y:(1-this.sharpness)*this.points[e+1].y+this.sharpness*(this.centers[e+1].y+o),z:(1-this.sharpness)*this.points[e+1].z+this.sharpness*(this.centers[e+1].z+s)}])}this.controls.push([this.points[this.length-1],this.points[this.length-1]]);this.steps=this.cacheSteps(this.stepLength);return this};n.prototype.cacheSteps=function(t){var e=[];var n=this.pos(0);e.push(0);for(var i=0;i<this.duration;i+=10){var r=this.pos(i);var o=Math.sqrt((r.x-n.x)*(r.x-n.x)+(r.y-n.y)*(r.y-n.y)+(r.z-n.z)*(r.z-n.z));if(o>t){e.push(i);n=r}}return e};n.prototype.vector=function(t){var e=this.pos(t+10);var n=this.pos(t-10);return{angle:180*Math.atan2(e.y-n.y,e.x-n.x)/3.14,speed:Math.sqrt((n.x-e.x)*(n.x-e.x)+(n.y-e.y)*(n.y-e.y)+(n.z-e.z)*(n.z-e.z))}};n.prototype.pos=function(t){function e(t,e,n,i,r){var o=function(t){var e=t*t,n=e*t;return[n,3*e*(1-t),3*t*(1-t)*(1-t),(1-t)*(1-t)*(1-t)]};var s=o(t);var a={x:r.x*s[0]+i.x*s[1]+n.x*s[2]+e.x*s[3],y:r.y*s[0]+i.y*s[1]+n.y*s[2]+e.y*s[3],z:r.z*s[0]+i.z*s[1]+n.z*s[2]+e.z*s[3]};return a}var n=t-this.delay;if(n<0)n=0;if(n>this.duration)n=this.duration-1;var i=n/this.duration;if(i>=1)return this.points[this.length-1];var r=Math.floor((this.points.length-1)*i);var o=(this.length-1)*i-r;return e(o,this.points[r],this.controls[r][1],this.controls[r+1][0],this.points[r+1])};t.exports=n},function(t,e,n){var i=n(0);var r=i.featureCollection;var o=n(11);var s=n(53);t.exports=function(t,e,n){var o=i.distanceToDegrees(e,n);var u=s(t);var l=s(r(u.features.map(function(t){return a(t,o)})));if(l.features.length>1)return l;else if(l.features.length===1)return l.features[0]};function a(t,e){var n=new o.io.GeoJSONReader;var i=n.read(t.geometry);var r=i.buffer(e);var s=new o.io.GeoJSONWriter;r=s.write(r);return{type:"Feature",geometry:r,properties:{}}}},function(t,e,n){var i=n(9).coordEach;var r=n(0).point;t.exports=function(t){var e=0,n=0,o=0;i(t,function(t){e+=t[0];n+=t[1];o++},true);return r([e/o,n/o])}},function(t,e,n){var i=n(8);t.exports=function t(e,n,r,o){e.features.forEach(function(t){var e=n.features.filter(function(e){return i(e,t)}).map(function(t){return t.properties[r]});if(!t.properties){t.properties={}}t.properties[o]=e});return e}},function(t,e,n){var i=n(9);t.exports=function(t){var e={MultiPoint:{coordinates:[],properties:[]},MultiLineString:{coordinates:[],properties:[]},MultiPolygon:{coordinates:[],properties:[]}};var n=Object.keys(e).reduce(function(t,e){t[e.replace("Multi","")]=e;return t},{});function r(t,n,i){if(!i){e[n].coordinates.push(t.geometry.coordinates)}else{e[n].coordinates=e[n].coordinates.concat(t.geometry.coordinates)}e[n].properties.push(t.properties)}i.featureEach(t,function(t){if(!t.geometry)return;if(e[t.geometry.type]){r(t,t.geometry.type,true)}else if(n[t.geometry.type]){r(t,n[t.geometry.type],false)}});return{type:"FeatureCollection",features:Object.keys(e).filter(function(t){return e[t].coordinates.length}).sort().map(function(t){return{type:"Feature",properties:{collectedProperties:e[t].properties},geometry:{type:t,coordinates:e[t].coordinates}}})}}},function(t,e,n){var i=n(19);var r=n(27);var o=n(1);function s(t,e,n){if(typeof e!=="number")throw new Error("maxEdge parameter is required");if(typeof n!=="string")throw new Error("units parameter is required");var r=i(t);var s=r.features.filter(u);r.features=s;function u(t){var i=t.geometry.coordinates[0][0];var r=t.geometry.coordinates[0][1];var s=t.geometry.coordinates[0][2];var a=o(i,r,n);var u=o(r,s,n);var l=o(i,s,n);return a<=e&&u<=e&&l<=e}return a(r)}function a(t){var e=JSON.parse(JSON.stringify(t.features[0])),n=t.features;for(var i=0,o=n.length;i<o;i++){var s=n[i];if(s.geometry){e=r(e,s)}}return e}t.exports=s},function(t,e,n){var i=n(9).coordEach,r=n(43),o=n(0).polygon;t.exports=function(t){var e=[];i(t,function(t){e.push(t)});var n=r(e);if(n.length>0){var s=[];for(var a=0;a<n.length;a++){s.push(e[n[a][0]])}s.push(e[n[n.length-1][1]]);return o([s])}return undefined}},function(t,e,n){var i=n(11);t.exports=function(t,e){var n=JSON.parse(JSON.stringify(t));var r=JSON.parse(JSON.stringify(e));if(n.type!=="Feature"){n={type:"Feature",properties:{},geometry:n}}if(r.type!=="Feature"){r={type:"Feature",properties:{},geometry:r}}var o=new i.io.GeoJSONReader;var s=o.read(JSON.stringify(n.geometry));var a=o.read(JSON.stringify(r.geometry));var u=s.difference(a);if(u.isEmpty())return undefined;var l=new i.io.GeoJSONWriter;var c=l.write(u);n.geometry=u;return{type:"Feature",properties:n.properties,geometry:c}}},function(t,e,n){var i=n(14);var r=n(21);t.exports=function(t){return r(i(t))}},function(t,e,n){var i=n(9).coordEach;t.exports=function t(e){e=JSON.parse(JSON.stringify(e));i(e,function(t){t.reverse()});return e}},function(t,e,n){var i=n(111);t.exports=function(t,e){var n=t[0];var r=t[1];var o=t[2];var s=t[3];var a=(o-n)/e;var u=[];var l={type:"FeatureCollection",features:[]};for(var c=0;c<=e;c++){for(var h=0;h<=e;h++){l.features.push(i([c*a+n,h*a+r]))}}return l}},function(t,e,n){var i=n(0).point;var r=n(0).polygon;var o=n(1);var s=n(0).featureCollection;var a=[];var u=[];for(var l=0;l<6;l++){var c=2*Math.PI/6*l;a.push(Math.cos(c));u.push(Math.sin(c))}t.exports=function t(e,n,r,a){var u=n/o(i([e[0],e[1]]),i([e[2],e[1]]),r);var l=u*(e[2]-e[0]);var c=n/o(i([e[0],e[1]]),i([e[0],e[3]]),r);var p=c*(e[3]-e[1]);var d=l/2;var g=d*2;var m=Math.sqrt(3)/2*p;var v=e[2]-e[0];var y=e[3]-e[1];var b=3/4*g;var x=m;var _=v/(g-d/2);var E=Math.ceil(_);if(Math.round(_)===E){E++}var w=(E*b-d/2-v)/2-d/2;var T=Math.ceil(y/m);var S=(y-T*m)/2;var A=T*m-y>m/2;if(A){S-=m/4}var I=s([]);for(var C=0;C<E;C++){for(var L=0;L<=T;L++){var M=C%2===1;if(L===0&&M){continue}if(L===0&&A){continue}var N=C*b+e[0]-w;var R=L*x+e[1]+S;if(M){R-=m/2}if(a){I.features.push.apply(I.features,f([N,R],l/2,p/2))}else{I.features.push(h([N,R],l/2,p/2))}}}return I};function h(t,e,n){var i=[];for(var o=0;o<6;o++){var s=t[0]+e*a[o];var l=t[1]+n*u[o];i.push([s,l])}i.push(i[0]);return r([i])}function f(t,e,n){var i=[];for(var o=0;o<6;o++){var s=[];s.push(t);s.push([t[0]+e*a[o],t[1]+n*u[o]]);s.push([t[0]+e*a[(o+1)%6],t[1]+n*u[(o+1)%6]]);s.push(t);i.push(r([s]))}return i}},function(t,e,n){var i=n(11);t.exports=function t(e,n){var r,o;if(e.type==="Feature")r=e.geometry;else r=e;if(n.type==="Feature")o=n.geometry;else o=n;var s=new i.io.GeoJSONReader;var a=s.read(JSON.stringify(r));var u=s.read(JSON.stringify(o));var l=a.intersection(u);if(l.isEmpty()){return undefined}var c=new i.io.GeoJSONWriter;var h=c.write(l);return{type:"Feature",properties:{},geometry:h}}},function(t,e){t.exports=s;var n=1e-10;function i(t,e){var i=t.x-e.x,r=t.y-e.y;return i*i+r*r<n}function r(t){var e=t.head;while(e){var n=e.next;e.next=e.prev;e.prev=n;e=n}var n=t.head;t.head=t.tail;t.tail=n}function o(t){this.level=t;this.s=null;this.count=0}o.prototype.remove_seq=function(t){if(t.prev){t.prev.next=t.next}else{this.s=t.next}if(t.next){t.next.prev=t.prev}--this.count};o.prototype.addSegment=function(t,e){var n=this.s;var o=null;var s=null;var a=false;var u=false;while(n){if(o==null){if(i(t,n.head.p)){o=n;a=true}else if(i(t,n.tail.p)){o=n}}if(s==null){if(i(e,n.head.p)){s=n;u=true}else if(i(e,n.tail.p)){s=n}}if(s!=null&&o!=null){break}else{n=n.next}}var l=(o!=null?1:0)|(s!=null?2:0);switch(l){case 0:var c={p:t,prev:null};var h={p:e,next:null};c.next=h;h.prev=c;o={head:c,tail:h,next:this.s,prev:null,closed:false};if(this.s){this.s.prev=o}this.s=o;++this.count;break;case 1:var f={p:e};if(a){f.next=o.head;f.prev=null;o.head.prev=f;o.head=f}else{f.next=null;f.prev=o.tail;o.tail.next=f;o.tail=f}break;case 2:var f={p:t};if(u){f.next=s.head;f.prev=null;s.head.prev=f;s.head=f}else{f.next=null;f.prev=s.tail;s.tail.next=f;s.tail=f}break;case 3:if(o===s){var f={p:o.tail.p,next:o.head,prev:null};o.head.prev=f;o.head=f;o.closed=true;break}switch((a?1:0)|(u?2:0)){case 0:r(o);case 1:s.tail.next=o.head;o.head.prev=s.tail;s.tail=o.tail;this.remove_seq(o);break;case 3:r(o);case 2:o.tail.next=s.head;s.head.prev=o.tail;o.tail=s.tail;this.remove_seq(s);break}}};function s(t){if(!t){var e=this;e.contours={};this.drawContour=function(t,n,i,r,s,a){var u=e.contours[a];if(!u){u=e.contours[a]=new o(s)}u.addSegment({x:t,y:n},{x:i,y:r})};this.contourList=function(){var t=[];var n=e.contours;for(var i in n){var r=n[i].s;var o=n[i].level;while(r){var s=r.head;var a=[];a.level=o;a.k=i;while(s&&s.p){a.push(s.p);s=s.next}t.push(a);r=r.next}}t.sort(function(t,e){return t.k-e.k});return t}}else{this.drawContour=t}this.h=new Array(5);this.sh=new Array(5);this.xh=new Array(5);this.yh=new Array(5)}s.prototype.contour=function(t,e,i,r,o,s,a,u,l){var c=this.h,h=this.sh,f=this.xh,p=this.yh;var d=this.drawContour;this.contours={};var g=function(t,e){return(c[e]*f[t]-c[t]*f[e])/(c[e]-c[t])};var m=function(t,e){return(c[e]*p[t]-c[t]*p[e])/(c[e]-c[t])};var v;var y;var b;var x;var _;var E;var w=0;var T=0;var S=0;var A=0;var I=[0,1,1,0];var C=[0,0,1,1];var L=[[[0,0,8],[0,2,5],[7,6,9]],[[0,3,4],[1,3,1],[4,3,0]],[[9,6,7],[5,2,0],[8,0,0]]];for(var M=o-1;M>=r;M--){for(var N=e;N<=i-1;N++){var R,O;R=Math.min(t[N][M],t[N][M+1]);O=Math.min(t[N+1][M],t[N+1][M+1]);_=Math.min(R,O);R=Math.max(t[N][M],t[N][M+1]);O=Math.max(t[N+1][M],t[N+1][M+1]);E=Math.max(R,O);if(E>=l[0]&&_<=l[u-1]){for(var D=0;D<u;D++){if(l[D]>=_&&l[D]<=E){for(var P=4;P>=0;P--){if(P>0){c[P]=t[N+I[P-1]][M+C[P-1]]-l[D];f[P]=s[N+I[P-1]];p[P]=a[M+C[P-1]]}else{c[0]=.25*(c[1]+c[2]+c[3]+c[4]);f[0]=.5*(s[N]+s[N+1]);p[0]=.5*(a[M]+a[M+1])}if(c[P]>n){h[P]=1}else if(c[P]<-n){h[P]=-1}else h[P]=0}for(P=1;P<=4;P++){v=P;y=0;if(P!=4){b=P+1}else{b=1}x=L[h[v]+1][h[y]+1][h[b]+1];if(x!=0){switch(x){case 1:w=f[v];S=p[v];T=f[y];A=p[y];break;case 2:w=f[y];S=p[y];T=f[b];A=p[b];break;case 3:w=f[b];S=p[b];T=f[v];A=p[v];break;case 4:w=f[v];S=p[v];T=g(y,b);A=m(y,b);break;case 5:w=f[y];S=p[y];T=g(b,v);A=m(b,v);break;case 6:w=f[b];S=p[b];T=g(v,y);A=m(v,y);break;case 7:w=g(v,y);S=m(v,y);T=g(y,b);A=m(y,b);break;case 8:w=g(y,b);S=m(y,b);T=g(b,v);A=m(b,v);break;case 9:w=g(b,v);S=m(b,v);T=g(v,y);A=m(v,y);break;default:break}d(w,S,T,A,l[D],D)}}}}}}}}},function(t,e,n){var i=n(19);var r=n(8);var o=n(99);var s=n(14);var a=n(24);var u=n(0).featureCollection;var l=n(0).lineString;var c=n(26);var h=n(102);t.exports=function(t,e,n,f){var p=i(t,e);var d=s(t);var g=c(d);var m=o(g,n);var v=[];for(var y=0;y<m.features.length;y++){var b=m.features[y];for(var x=0;x<p.features.length;x++){var _=p.features[x];if(r(b,_)){b.properties={};b.properties[e]=a(b,_)}}}var E=Math.sqrt(m.features.length);for(var w=0;w<E;w++){var T=m.features.slice(w*E,(w+1)*E);var S=[];for(var A=0;A<T.length;A++){if(T[A].properties){S.push(T[A].properties[e])}else{S.push(0)}}v.push(S)}var I=(g[2]-g[0])/E;var C=[];var L=[];for(var M=0;M<E;M++){C.push(M*I+g[0]);L.push(M*I+g[1])}var N=new h;N.contour(v,0,n,0,n,C,L,f.length,f);var R=N.contourList();var O=u([]);R.forEach(function(t){if(t.length>2){var n=[];t.forEach(function(t){n.push([t.x,t.y])});var i=l(n);i.properties={};i.properties[e]=t.level;O.features.push(i)}});return O}},function(t,e,n){var i=n(0).point;t.exports=function(t){var e;var n={type:"FeatureCollection",features:[]};if(t.type==="Feature"){e=t.geometry}else{e=t}e.coordinates.forEach(function(t){e.coordinates.forEach(function(e){for(var o=0;o<t.length-1;o++){for(var s=0;s<e.length-1;s++){if(t===e&&(Math.abs(o-s)===1||Math.abs(o-s)===t.length-2)){continue}var a=r(t[o][0],t[o][1],t[o+1][0],t[o+1][1],e[s][0],e[s][1],e[s+1][0],e[s+1][1]);if(a){n.features.push(i([a[0],a[1]]))}}}})});return n};function r(t,e,n,i,r,o,s,a){var u,l,c,h,f,p={x:null,y:null,onLine1:false,onLine2:false};u=(a-o)*(n-t)-(s-r)*(i-e);if(u===0){if(p.x!==null&&p.y!==null){return p}else{return false}}l=e-o;c=t-r;h=(s-r)*l-(a-o)*c;f=(n-t)*l-(i-e)*c;l=h/u;c=f/u;p.x=t+l*(n-t);p.y=e+l*(i-e);if(l>=0&&l<=1){p.onLine1=true}if(c>=0&&c<=1){p.onLine2=true}if(p.onLine1&&p.onLine2){return[p.x,p.y]}else{return false}}},function(t,e,n){var i=n(1);var r=n(0).point;t.exports=function t(e,n){if(e.type==="FeatureCollection"){return e.features.reduce(function(e,i){return e+t(i,n)},0)}var i=e.type==="Feature"?e.geometry:e;var r,s;if(i.type==="LineString"){return o(i.coordinates,n)}else if(i.type==="Polygon"||i.type==="MultiLineString"){r=0;for(s=0;s<i.coordinates.length;s++){r+=o(i.coordinates[s],n)}return r}else if(e.type==="MultiPolygon"){r=0;for(s=0;s<i.coordinates.length;s++){for(var a=0;a<i.coordinates[s].length;a++){r+=o(i.coordinates[s][a],n)}}return r}else{throw new Error("input must be a LineString, MultiLineString, "+"Polygon, or MultiPolygon Feature or Geometry (or a FeatureCollection "+"containing only those types)")}};function o(t,e){var n=0;var o=r(t[0]);var s=r(t[0]);var a;for(var u=1;u<t.length;u++){s.geometry.coordinates=t[u];n+=i(o,s,e);a=o;o=s;s=a}return n}},function(t,e,n){var i=n(0).lineString;var r=n(25);t.exports=function t(e,n,o){var s;if(o.type==="Feature"){s=o.geometry.coordinates}else if(o.type==="LineString"){s=o.coordinates}else{throw new Error("input must be a LineString Feature or Geometry")}var a=r(o,e);var u=r(o,n);var l;if(a.properties.index<=u.properties.index){l=[a,u]}else{l=[u,a]}var c=i([l[0].geometry.coordinates],{});for(var h=l[0].properties.index+1;h<l[1].properties.index+1;h++){c.geometry.coordinates.push(s[h])}c.geometry.coordinates.push(l[1].geometry.coordinates);return c}},function(t,e,n){var i=n(15);var r=n(16);var o=n(1);t.exports=function(t,e){var n=o(t,e,"miles");var s=i(t,e);var a=r(t,n/2,s,"miles");return a}},function(t,e,n){var i=n(1);t.exports=function(t,e){var n,r=Infinity;for(var o=0;o<e.features.length;o++){var s=i(t,e.features[o],"miles");if(s<r){n=e.features[o];r=s}}return n}},function(t,e,n){var i=n(0).point;var r=n(0).featureCollection;var o=n(1);t.exports=function t(e,n,s){var a=r([]);var u=n/o(i([e[0],e[1]]),i([e[2],e[1]]),s);var l=u*(e[2]-e[0]);var c=n/o(i([e[0],e[1]]),i([e[0],e[3]]),s);var h=c*(e[3]-e[1]);var f=e[0];while(f<=e[2]){var p=e[1];while(p<=e[3]){a.features.push(i([f,p]));p+=h}f+=l}return a}},function(t,e,n){var i=n(0).featureCollection;var r=n(22);var o=n(1);var s=n(8);var a=n(23);function u(t){if(t.type!=="FeatureCollection"){if(t.type!=="Feature"){t={type:"Feature",geometry:t,properties:{}}}t=i([t])}var e=r(t);var n=false;var u=0;while(!n&&u<t.features.length){var c=t.features[u].geometry;var h,f,p,d,g,m,v;var y=false;if(c.type==="Point"){if(e.geometry.coordinates[0]===c.coordinates[0]&&e.geometry.coordinates[1]===c.coordinates[1]){n=true}}else if(c.type==="MultiPoint"){var b=false;v=0;while(!b&&v<c.coordinates.length){if(e.geometry.coordinates[0]===c.coordinates[v][0]&&e.geometry.coordinates[1]===c.coordinates[v][1]){n=true;b=true}v++}}else if(c.type==="LineString"){v=0;while(!y&&v<c.coordinates.length-1){h=e.geometry.coordinates[0];f=e.geometry.coordinates[1];p=c.coordinates[v][0];d=c.coordinates[v][1];g=c.coordinates[v+1][0];m=c.coordinates[v+1][1];if(l(h,f,p,d,g,m)){y=true;n=true}v++}}else if(c.type==="MultiLineString"){var x=0;while(x<c.coordinates.length){y=false;v=0;var _=c.coordinates[x];while(!y&&v<_.length-1){h=e.geometry.coordinates[0];f=e.geometry.coordinates[1];p=_[v][0];d=_[v][1];g=_[v+1][0];m=_[v+1][1];if(l(h,f,p,d,g,m)){y=true;n=true}v++}x++}}else if(c.type==="Polygon"||c.type==="MultiPolygon"){var E={type:"Feature",geometry:c,properties:{}};if(s(e,E)){n=true}}u++}if(n){return e}else{var w=i([]);for(u=0;u<t.features.length;u++){w.features=w.features.concat(a(t.features[u]).features)}var T;var S=Infinity;for(u=0;u<w.features.length;u++){var A=o(e,w.features[u],"miles");if(A<S){S=A;T=w.features[u]}}return T}}function l(t,e,n,i,r,o){var s=Math.sqrt((r-n)*(r-n)+(o-i)*(o-i));var a=Math.sqrt((t-n)*(t-n)+(e-i)*(e-i));var u=Math.sqrt((r-t)*(r-t)+(o-e)*(o-e));if(s===a+u){return true}}t.exports=u},function(t,e){var n=Array.isArray||function(t){return Object.prototype.toString.call(t)==="[object Array]"};t.exports=function(t,e){if(!n(t))throw new Error("Coordinates must be an array");if(t.length<2)throw new Error("Coordinates must be at least 2 numbers long");return{type:"Feature",geometry:{type:"Point",coordinates:t},properties:e||{}}}},function(t,e,n){var i=n(54);t.exports=function(t,e,n){n=n||{};e=e||1;switch(t){case"point":case"points":case undefined:return i.point(e,n.bbox);case"polygon":case"polygons":return i.polygon(e,n.num_vertices,n.max_radial_length,n.bbox);default:throw new Error("Unknown type given: valid options are points and polygons")}}},function(t,e,n){var i=n(0).featureCollection;t.exports=function(t,e){var n=i(r(t.features,e));return n};function r(t,e){var n=t.slice(0),i=t.length,r=i-e,o,s;while(i-- >r){s=Math.floor((i+1)*Math.random());o=n[s];n[s]=n[i];n[i]=o}return n.slice(r)}},function(t,e,n){var i=n(77);var r=["LineString","MultiLineString","Polygon","MultiPolygon"];t.exports=function(t,e,n){if(t.type==="Feature"){return a(o(t,e,n),t.properties)}else if(t.type==="FeatureCollection"){return{type:"FeatureCollection",features:t.features.map(function(t){var i=o(t,e,n);if(r.indexOf(i.type)>-1){return a(i,t.properties)}else{return i}})}}else if(t.type==="GeometryCollection"){return{type:"GeometryCollection",geometries:t.geometries.map(function(t){if(r.indexOf(t.type)>-1){return o({type:"Feature",geometry:t},e,n)}return t})}}else{return t}};function o(t,e,n){if(t.geometry.type==="LineString"){return{type:"LineString",coordinates:u(t.geometry.coordinates,e,n)}}else if(t.geometry.type==="MultiLineString"){return{type:"MultiLineString",coordinates:t.geometry.coordinates.map(function(t){return u(t,e,n)})}}else if(t.geometry.type==="Polygon"){return{type:"Polygon",coordinates:l(t.geometry.coordinates,e,n)}}else if(t.geometry.type==="MultiPolygon"){return{type:"MultiPolygon",coordinates:t.geometry.coordinates.map(function(t){return l(t,e,n)})}}else{return t}}function s(t){if(t.length<3){return false}else if(t.length===3&&(t[2][0]===t[0][0]&&t[2][1]===t[0][1])){return false}else{return true}}function a(t,e){return{type:"Feature",geometry:t,properties:e}}function u(t,e,n){return i(t.map(function(t){return{x:t[0],y:t[1]}}),e,n).map(function(t){return[t.x,t.y]})}function l(t,e,n){return t.map(function(t){var r=t.map(function(t){return{x:t[0],y:t[1]}});if(r.length<4){throw new Error("Invalid polygon")}var o=i(r,e,n).map(function(t){return[t.x,t.y]});while(!s(o)){e-=e*.01;o=i(r,e,n).map(function(t){return[t.x,t.y]})}if(o[o.length-1][0]!==o[0][0]||o[o.length-1][1]!==o[0][1]){o.push(o[0])}return o})}},function(t,e,n){var i=n(0).featureCollection;var r=n(0).point;var o=n(0).polygon;var s=n(1);t.exports=function t(e,n,a){var u=i([]);var l=n/s(r([e[0],e[1]]),r([e[2],e[1]]),a);var c=l*(e[2]-e[0]);var h=n/s(r([e[0],e[1]]),r([e[0],e[3]]),a);var f=h*(e[3]-e[1]);var p=e[0];while(p<=e[2]){var d=e[1];while(d<=e[3]){var g=o([[[p,d],[p,d+f],[p+c,d+f],[p+c,d],[p,d]]]);u.features.push(g);d+=f}p+=c}return u}},function(t,e,n){var i=n(8);t.exports=function(t,e,n,r){t=JSON.parse(JSON.stringify(t));e=JSON.parse(JSON.stringify(e));t.features.forEach(function(t){if(!t.properties){t.properties={}}e.features.forEach(function(e){if(t.properties[r]===undefined){var o=i(t,e);if(o){t.properties[r]=e.properties[n]}}})});return t}},function(t,e,n){var i=n(0).polygon;var r=n(51);t.exports=function(t){if(!t.geometry||t.geometry.type!=="Polygon"&&t.geometry.type!=="MultiPolygon"){throw new Error("input must be a Polygon or MultiPolygon")}var e={type:"FeatureCollection",features:[]};if(t.geometry.type==="Polygon"){e.features=o(t.geometry.coordinates)}else{t.geometry.coordinates.forEach(function(t){e.features=e.features.concat(o(t))})}return e};function o(t){var e=s(t);var n=2;var o=r(e.vertices,e.holes,n);var a=[];var u=[];o.forEach(function(t,i){var r=o[i];u.push([e.vertices[r*n],e.vertices[r*n+1]])});for(var l=0;l<u.length;l+=3){var c=u.slice(l,l+3);c.push(u[l]);a.push(i([c]))}return a}function s(t){var e=t[0][0].length,n={vertices:[],holes:[],dimensions:e},i=0;for(var r=0;r<t.length;r++){for(var o=0;o<t[r].length;o++){for(var s=0;s<e;s++)n.vertices.push(t[r][o][s])}if(r>0){i+=t[r-1].length;n.holes.push(i)}}return n}},function(t,e,n){var i=n(0).featureCollection;var r=n(0).polygon;var o=n(1);t.exports=function(t,e,n){var s=i([]);var a=e/o([t[0],t[1]],[t[2],t[1]],n);var u=a*(t[2]-t[0]);var l=e/o([t[0],t[1]],[t[0],t[3]],n);var c=l*(t[3]-t[1]);var h=0;var f=t[0];while(f<=t[2]){var p=0;var d=t[1];while(d<=t[3]){if(h%2===0&&p%2===0){s.features.push(r([[[f,d],[f,d+c],[f+u,d],[f,d]]]),r([[[f,d+c],[f+u,d+c],[f+u,d],[f,d+c]]]))}else if(h%2===0&&p%2===1){s.features.push(r([[[f,d],[f+u,d+c],[f+u,d],[f,d]]]),r([[[f,d],[f,d+c],[f+u,d+c],[f,d]]]))}else if(p%2===0&&h%2===1){s.features.push(r([[[f,d],[f,d+c],[f+u,d+c],[f,d]]]),r([[[f,d],[f+u,d+c],[f+u,d],[f,d]]]))}else if(p%2===1&&h%2===1){s.features.push(r([[[f,d],[f,d+c],[f+u,d],[f,d]]]),r([[[f,d+c],[f+u,d+c],[f+u,d],[f,d+c]]]))}d+=c;p++}h++;f+=u}return s}},function(t,e,n){var i=n(8);var r=n(0).featureCollection;t.exports=function(t,e){var n=r([]);for(var o=0;o<e.features.length;o++){for(var s=0;s<t.features.length;s++){var a=i(t.features[s],e.features[o]);if(a){n.features.push(t.features[s])}}}return n}},function(t,e,n){"use strict";t.exports=i;function i(t,e,n){var i=t+e;var r=i-t;var o=i-r;var s=e-r;var a=t-o;if(n){n[0]=a+s;n[1]=i;return n}return[a+s,i]}},function(t,e,n){"use strict";"use restrict";t.exports=i;function i(t){this.roots=new Array(t);this.ranks=new Array(t);for(var e=0;e<t;++e){this.roots[e]=e;this.ranks[e]=0}}var r=i.prototype;Object.defineProperty(r,"length",{get:function(){return this.roots.length}});r.makeSet=function(){var t=this.roots.length;this.roots.push(t);this.ranks.push(0);return t};r.find=function(t){var e=t;var n=this.roots;while(n[t]!==t){t=n[t]}while(n[e]!==t){var i=n[e];n[e]=t;e=i}return t};r.link=function(t,e){var n=this.find(t),i=this.find(e);if(n===i){return}var r=this.ranks,o=this.roots,s=r[n],a=r[i];if(s<a){o[n]=i}else if(a<s){o[i]=n}else{o[i]=n;++r[n]}}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADQAAAA0CAQAAABvcdNgAAAEsklEQVR4AWL4TydIhpZK1kpWOlg0w3ZXP6D2soBtG42jeI6ZmQTHzAxiTbSJsYLjO9HhP+WOmcuhciVnmHVQcJnp7DFvScowZorad/+V/fVzMdMT2g9Cv9guXGv/7pYOrXh2U+RRR3dSd9JRx6bIFc/ekqHI29JC6pJ5ZEh1yWkhkbcFeSjxgx3L2m1cb1C7bceyxA+CNjT/Ifff+/kDk2u/w/33/IeCMOSaWZ4glosqT3DNnNZQ7Cs58/3Ce5HL78iZH/vKVIaYlqzfdLu8Vi7dnvUbEza5Idt36tquZFldl6N5Z/POLof0XLK61mZCmJSWjVF9tEjUluu74IUXvgttuVIHE7YxSkaYhJZam7yiM9Pv82JYfl9nptxZaxMJE4YSPty+vF0+Y2up9d3wwijfjZbabqm/3bZ9ecKHsiGmRflnn1MW4pjHf9oLufyn2z3y1D6n8g8TZhxyzipLNPnAUpsOiuWimg52psrTZYnOWYNDTMuWBWa0tJb4rgq1UvmutpaYEbZlwU3CLJm/ayYjHW5/h7xWLn9Hh1vepDkyf7dE7MtT5LR4e7yYpHrkhOUpEfssBLq2pPhAqoSWKUkk7EDqkmK6RrCEzqDjhNDWNE+XSMvkJRDWlZTmCW0l0PHQGRZY5t1L83kT0Y3l2SItk5JAWHl2dCOBm+fPu3fo5/3v61RMCO9Jx2EEYYhb0rmNQMX/vm7gqOEJLcXTGw3CAuRNeyaPWwjR8PRqKQ1PDA/dpv+on9Shox52WFnx0KY8onHayrJzm87i5h9xGw/tfkev0jGsQizqezUKjk12hBMKJ4kbCqGPVNXudyyrShovGw5CgxsRICxF6aRmSjlBnHRzg7Gx8fKqEubI2rahQYdR1YgDIRQO7JvQyD52hoIQx0mxa0ODtW2Iozn1le2iIRdzwWewedyZzewidueOGqlsn1MvcnQpuVwLGG3/IR1hIKxCjelIDZ8ldqWz25jWAsnldEnK0Zxro19TGVb2ffIZEsIO89EIEDvKMPrzmBOQcKQ+rroye6NgRRxqR4U8EAkz0CL6uSGOm6KQCdWjvjRiSP1BPalCRS5iQYiEIvxuBMJEWgzSoHADcVMuN7IuqqTeyUPq22qFimFtxDyBBJEwNyt6TM88blFHao/6tWWhuuOM4SAK4EI4QmFHA+SEyWlp4EQoJ13cYGzMu7yszEIBOm2rVmHUNqwAIQabISNMRstmdhNWcFLsSm+0tjJH1MdRxO5Nx0WDMhCtgD6OKgZeljJqJKc9po8juskR9XN0Y1lZ3mWjLR9JCO1jRDMd0fpYC2VnvjBSEFg7wBENc0R9HFlb0xvF1+TBEpF68d+DHR6IOWVv2BECtxo46hOFUBd/APU57WIoEwJhIi2CdpyZX0m93BZicktMj1AS9dClteUFAUNUIEygRZCtik5zSxI9MubTBH1GOiHsiLJ3OCoSZkILa9PxiN0EbvhsAo8tdAf9Seepd36lGWHmtNANTv5Jd0z4QYyeo/UEJqxKRpg5LZx6btLPsOaEmdMyxYdlc8LMaJnikDlhclqmPiQnTEpLUIZEwkRagjYkEibQErwhkTAKCLQEbUgkzJQWc/0PstHHcfEdQ+UAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABoAAAAaCAQAAAADQ4RFAAACf0lEQVR4AY1UM3gkARTePdvdoTxXKc+qTl3aU5U6b2Kbkz3Gtq3Zw6ziLGNPzrYx7946Tr6/ee/XeCQ4D3ykPtL5tHno4n0d/h3+xfuWHGLX81cn7r0iTNzjr7LrlxCqPtkbTQEHeqOrTy4Yyt3VCi/IOB0v7rVC7q45Q3Gr5K6jt+3Gl5nCoDD4MtO+j96Wu8atmhGqcNGHObuf8OM/x3AMx38+4Z2sPqzCxRFK2aF2e5Jol56XTLyggAMTL56XOMoS1W4pOyjUcGGQdZxU6qRh7B9Zp+PfpOFlqt0zyDZckPi1ttmIp03jX8gyJ8a/PG2yutpS/Vol7peZIbZcKBAEEheEIAgFbDkz5H6Zrkm2hVWGiXKiF4Ycw0RWKdtC16Q7qe3X4iOMxruonzegJzWaXFrU9utOSsLUmrc0YjeWYjCW4PDMADElpJSSQ0vQvA1Tm6/JlKnqFs1EGyZiFCqnRZTEJJJiKRYzVYzJck2Rm6P4iH+cmSY0YzimYa8l0EtTODFWhcMIMVqdsI2uiTvKmTisIDHJ3od5GILVhBCarCfVRmo4uTjkhrhzkiBV7SsaqS+TzrzM1qpGGUFt28pIySQHR6h7F6KSwGWm97ay+Z+ZqMcEjEWebE7wxCSQwpkhJqoZA5ivCdZDjJepuJ9IQjGGUmuXJdBFUygxVqVsxFsLMbDe8ZbDYVCGKxs+W080max1hFCarCfV+C1KATwcnvE9gRRuMP2prdbWGowm1KB1y+zwMMENkM755cJ2yPDtqhTI6ED1M/82yIDtC/4j4BijjeObflpO9I9MwXTCsSX8jWAFeHr05WoLTJ5G8IQVS/7vwR6ohirYM7f6HzYpogfS3R2OAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII="},function(t,e,n){"use strict";(function(t){var i=n(126);var r=n(127);var o=n(128);e.Buffer=l;e.SlowBuffer=b;e.INSPECT_MAX_BYTES=50;l.TYPED_ARRAY_SUPPORT=t.TYPED_ARRAY_SUPPORT!==undefined?t.TYPED_ARRAY_SUPPORT:s();e.kMaxLength=a();function s(){try{var t=new Uint8Array(1);t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}};return t.foo()===42&&typeof t.subarray==="function"&&t.subarray(1,1).byteLength===0}catch(t){return false}}function a(){return l.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function u(t,e){if(a()<e){throw new RangeError("Invalid typed array length")}if(l.TYPED_ARRAY_SUPPORT){t=new Uint8Array(e);t.__proto__=l.prototype}else{if(t===null){t=new l(e)}t.length=e}return t}function l(t,e,n){if(!l.TYPED_ARRAY_SUPPORT&&!(this instanceof l)){return new l(t,e,n)}if(typeof t==="number"){if(typeof e==="string"){throw new Error("If encoding is specified then the first argument must be a string")}return p(this,t)}return c(this,t,e,n)}l.poolSize=8192;l._augment=function(t){t.__proto__=l.prototype;return t};function c(t,e,n,i){if(typeof e==="number"){throw new TypeError('"value" argument must not be a number')}if(typeof ArrayBuffer!=="undefined"&&e instanceof ArrayBuffer){return m(t,e,n,i)}if(typeof e==="string"){return d(t,e,n)}return v(t,e)}l.from=function(t,e,n){return c(null,t,e,n)};if(l.TYPED_ARRAY_SUPPORT){l.prototype.__proto__=Uint8Array.prototype;l.__proto__=Uint8Array;if(typeof Symbol!=="undefined"&&Symbol.species&&l[Symbol.species]===l){Object.defineProperty(l,Symbol.species,{value:null,configurable:true})}}function h(t){if(typeof t!=="number"){throw new TypeError('"size" argument must be a number')}else if(t<0){throw new RangeError('"size" argument must not be negative')}}function f(t,e,n,i){h(e);if(e<=0){return u(t,e)}if(n!==undefined){return typeof i==="string"?u(t,e).fill(n,i):u(t,e).fill(n)}return u(t,e)}l.alloc=function(t,e,n){return f(null,t,e,n)};function p(t,e){h(e);t=u(t,e<0?0:y(e)|0);if(!l.TYPED_ARRAY_SUPPORT){for(var n=0;n<e;++n){t[n]=0}}return t}l.allocUnsafe=function(t){return p(null,t)};l.allocUnsafeSlow=function(t){return p(null,t)};function d(t,e,n){if(typeof n!=="string"||n===""){n="utf8"}if(!l.isEncoding(n)){throw new TypeError('"encoding" must be a valid string encoding')}var i=x(e,n)|0;t=u(t,i);var r=t.write(e,n);if(r!==i){t=t.slice(0,r)}return t}function g(t,e){var n=e.length<0?0:y(e.length)|0;t=u(t,n);for(var i=0;i<n;i+=1){t[i]=e[i]&255}return t}function m(t,e,n,i){e.byteLength;if(n<0||e.byteLength<n){throw new RangeError("'offset' is out of bounds")}if(e.byteLength<n+(i||0)){throw new RangeError("'length' is out of bounds")}if(n===undefined&&i===undefined){e=new Uint8Array(e)}else if(i===undefined){e=new Uint8Array(e,n)}else{e=new Uint8Array(e,n,i)}if(l.TYPED_ARRAY_SUPPORT){t=e;t.__proto__=l.prototype}else{t=g(t,e)}return t}function v(t,e){if(l.isBuffer(e)){var n=y(e.length)|0;t=u(t,n);if(t.length===0){return t}e.copy(t,0,0,n);return t}if(e){if(typeof ArrayBuffer!=="undefined"&&e.buffer instanceof ArrayBuffer||"length"in e){if(typeof e.length!=="number"||et(e.length)){return u(t,0)}return g(t,e)}if(e.type==="Buffer"&&o(e.data)){return g(t,e.data)}}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function y(t){if(t>=a()){throw new RangeError("Attempt to allocate Buffer larger than maximum "+"size: 0x"+a().toString(16)+" bytes")}return t|0}function b(t){if(+t!=t){t=0}return l.alloc(+t)}l.isBuffer=function t(e){return!!(e!=null&&e._isBuffer)};l.compare=function t(e,n){if(!l.isBuffer(e)||!l.isBuffer(n)){throw new TypeError("Arguments must be Buffers")}if(e===n)return 0;var i=e.length;var r=n.length;for(var o=0,s=Math.min(i,r);o<s;++o){if(e[o]!==n[o]){i=e[o];r=n[o];break}}if(i<r)return-1;if(r<i)return 1;return 0};l.isEncoding=function t(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return true;default:return false}};l.concat=function t(e,n){if(!o(e)){throw new TypeError('"list" argument must be an Array of Buffers')}if(e.length===0){return l.alloc(0)}var i;if(n===undefined){n=0;for(i=0;i<e.length;++i){n+=e[i].length}}var r=l.allocUnsafe(n);var s=0;for(i=0;i<e.length;++i){var a=e[i];if(!l.isBuffer(a)){throw new TypeError('"list" argument must be an Array of Buffers')}a.copy(r,s);s+=a.length}return r};function x(t,e){if(l.isBuffer(t)){return t.length}if(typeof ArrayBuffer!=="undefined"&&typeof ArrayBuffer.isView==="function"&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer)){return t.byteLength}if(typeof t!=="string"){t=""+t}var n=t.length;if(n===0)return 0;var i=false;for(;;){switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case undefined:return $(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return n*2;case"hex":return n>>>1;case"base64":return K(t).length;default:if(i)return $(t).length;e=(""+e).toLowerCase();i=true}}}l.byteLength=x;function _(t,e,n){var i=false;if(e===undefined||e<0){e=0}if(e>this.length){return""}if(n===undefined||n>this.length){n=this.length}if(n<=0){return""}n>>>=0;e>>>=0;if(n<=e){return""}if(!t)t="utf8";while(true){switch(t){case"hex":return z(this,e,n);case"utf8":case"utf-8":return R(this,e,n);case"ascii":return P(this,e,n);case"latin1":case"binary":return k(this,e,n);case"base64":return N(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,e,n);default:if(i)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase();i=true}}}l.prototype._isBuffer=true;function E(t,e,n){var i=t[e];t[e]=t[n];t[n]=i}l.prototype.swap16=function t(){var e=this.length;if(e%2!==0){throw new RangeError("Buffer size must be a multiple of 16-bits")}for(var n=0;n<e;n+=2){E(this,n,n+1)}return this};l.prototype.swap32=function t(){var e=this.length;if(e%4!==0){throw new RangeError("Buffer size must be a multiple of 32-bits")}for(var n=0;n<e;n+=4){E(this,n,n+3);E(this,n+1,n+2)}return this};l.prototype.swap64=function t(){var e=this.length;if(e%8!==0){throw new RangeError("Buffer size must be a multiple of 64-bits")}for(var n=0;n<e;n+=8){E(this,n,n+7);E(this,n+1,n+6);E(this,n+2,n+5);E(this,n+3,n+4)}return this};l.prototype.toString=function t(){var e=this.length|0;if(e===0)return"";if(arguments.length===0)return R(this,0,e);return _.apply(this,arguments)};l.prototype.equals=function t(e){if(!l.isBuffer(e))throw new TypeError("Argument must be a Buffer");if(this===e)return true;return l.compare(this,e)===0};l.prototype.inspect=function t(){var n="";var i=e.INSPECT_MAX_BYTES;if(this.length>0){n=this.toString("hex",0,i).match(/.{2}/g).join(" ");if(this.length>i)n+=" ... "}return"<Buffer "+n+">"};l.prototype.compare=function t(e,n,i,r,o){if(!l.isBuffer(e)){throw new TypeError("Argument must be a Buffer")}if(n===undefined){n=0}if(i===undefined){i=e?e.length:0}if(r===undefined){r=0}if(o===undefined){o=this.length}if(n<0||i>e.length||r<0||o>this.length){throw new RangeError("out of range index")}if(r>=o&&n>=i){return 0}if(r>=o){return-1}if(n>=i){return 1}n>>>=0;i>>>=0;r>>>=0;o>>>=0;if(this===e)return 0;var s=o-r;var a=i-n;var u=Math.min(s,a);var c=this.slice(r,o);var h=e.slice(n,i);for(var f=0;f<u;++f){if(c[f]!==h[f]){s=c[f];a=h[f];break}}if(s<a)return-1;if(a<s)return 1;return 0};function w(t,e,n,i,r){if(t.length===0)return-1;if(typeof n==="string"){i=n;n=0}else if(n>2147483647){n=2147483647}else if(n<-2147483648){n=-2147483648}n=+n;if(isNaN(n)){n=r?0:t.length-1}if(n<0)n=t.length+n;if(n>=t.length){if(r)return-1;else n=t.length-1}else if(n<0){if(r)n=0;else return-1}if(typeof e==="string"){e=l.from(e,i)}if(l.isBuffer(e)){if(e.length===0){return-1}return T(t,e,n,i,r)}else if(typeof e==="number"){e=e&255;if(l.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf==="function"){if(r){return Uint8Array.prototype.indexOf.call(t,e,n)}else{return Uint8Array.prototype.lastIndexOf.call(t,e,n)}}return T(t,[e],n,i,r)}throw new TypeError("val must be string, number or Buffer")}function T(t,e,n,i,r){var o=1;var s=t.length;var a=e.length;if(i!==undefined){i=String(i).toLowerCase();if(i==="ucs2"||i==="ucs-2"||i==="utf16le"||i==="utf-16le"){if(t.length<2||e.length<2){return-1}o=2;s/=2;a/=2;n/=2}}function u(t,e){if(o===1){return t[e]}else{return t.readUInt16BE(e*o)}}var l;if(r){var c=-1;for(l=n;l<s;l++){if(u(t,l)===u(e,c===-1?0:l-c)){if(c===-1)c=l;if(l-c+1===a)return c*o}else{if(c!==-1)l-=l-c;c=-1}}}else{if(n+a>s)n=s-a;for(l=n;l>=0;l--){var h=true;for(var f=0;f<a;f++){if(u(t,l+f)!==u(e,f)){h=false;break}}if(h)return l}}return-1}l.prototype.includes=function t(e,n,i){return this.indexOf(e,n,i)!==-1};l.prototype.indexOf=function t(e,n,i){return w(this,e,n,i,true)};l.prototype.lastIndexOf=function t(e,n,i){return w(this,e,n,i,false)};function S(t,e,n,i){n=Number(n)||0;var r=t.length-n;if(!i){i=r}else{i=Number(i);if(i>r){i=r}}var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");if(i>o/2){i=o/2}for(var s=0;s<i;++s){var a=parseInt(e.substr(s*2,2),16);if(isNaN(a))return s;t[n+s]=a}return s}function A(t,e,n,i){return tt($(e,t.length-n),t,n,i)}function I(t,e,n,i){return tt(J(e),t,n,i)}function C(t,e,n,i){return I(t,e,n,i)}function L(t,e,n,i){return tt(K(e),t,n,i)}function M(t,e,n,i){return tt(Q(e,t.length-n),t,n,i)}l.prototype.write=function t(e,n,i,r){if(n===undefined){r="utf8";i=this.length;n=0}else if(i===undefined&&typeof n==="string"){r=n;i=this.length;n=0}else if(isFinite(n)){n=n|0;if(isFinite(i)){i=i|0;if(r===undefined)r="utf8"}else{r=i;i=undefined}}else{throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported")}var o=this.length-n;if(i===undefined||i>o)i=o;if(e.length>0&&(i<0||n<0)||n>this.length){throw new RangeError("Attempt to write outside buffer bounds")}if(!r)r="utf8";var s=false;for(;;){switch(r){case"hex":return S(this,e,n,i);case"utf8":case"utf-8":return A(this,e,n,i);case"ascii":return I(this,e,n,i);case"latin1":case"binary":return C(this,e,n,i);case"base64":return L(this,e,n,i);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,e,n,i);default:if(s)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase();s=true}}};l.prototype.toJSON=function t(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function N(t,e,n){if(e===0&&n===t.length){return i.fromByteArray(t)}else{return i.fromByteArray(t.slice(e,n))}}function R(t,e,n){n=Math.min(t.length,n);var i=[];var r=e;while(r<n){var o=t[r];var s=null;var a=o>239?4:o>223?3:o>191?2:1;if(r+a<=n){var u,l,c,h;switch(a){case 1:if(o<128){s=o}break;case 2:u=t[r+1];if((u&192)===128){h=(o&31)<<6|u&63;if(h>127){s=h}}break;case 3:u=t[r+1];l=t[r+2];if((u&192)===128&&(l&192)===128){h=(o&15)<<12|(u&63)<<6|l&63;if(h>2047&&(h<55296||h>57343)){s=h}}break;case 4:u=t[r+1];l=t[r+2];c=t[r+3];if((u&192)===128&&(l&192)===128&&(c&192)===128){h=(o&15)<<18|(u&63)<<12|(l&63)<<6|c&63;if(h>65535&&h<1114112){s=h}}}}if(s===null){s=65533;a=1}else if(s>65535){s-=65536;i.push(s>>>10&1023|55296);s=56320|s&1023}i.push(s);r+=a}return D(i)}var O=4096;function D(t){var e=t.length;if(e<=O){return String.fromCharCode.apply(String,t)}var n="";var i=0;while(i<e){n+=String.fromCharCode.apply(String,t.slice(i,i+=O))}return n}function P(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r){i+=String.fromCharCode(t[r]&127)}return i}function k(t,e,n){var i="";n=Math.min(t.length,n);for(var r=e;r<n;++r){i+=String.fromCharCode(t[r])}return i}function z(t,e,n){var i=t.length;if(!e||e<0)e=0;if(!n||n<0||n>i)n=i;var r="";for(var o=e;o<n;++o){r+=H(t[o])}return r}function F(t,e,n){var i=t.slice(e,n);var r="";for(var o=0;o<i.length;o+=2){r+=String.fromCharCode(i[o]+i[o+1]*256)}return r}l.prototype.slice=function t(e,n){var i=this.length;e=~~e;n=n===undefined?i:~~n;if(e<0){e+=i;if(e<0)e=0}else if(e>i){e=i}if(n<0){n+=i;if(n<0)n=0}else if(n>i){n=i}if(n<e)n=e;var r;if(l.TYPED_ARRAY_SUPPORT){r=this.subarray(e,n);r.__proto__=l.prototype}else{var o=n-e;r=new l(o,undefined);for(var s=0;s<o;++s){r[s]=this[s+e]}}return r};function j(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUIntLE=function t(e,n,i){e=e|0;n=n|0;if(!i)j(e,n,this.length);var r=this[e];var o=1;var s=0;while(++s<n&&(o*=256)){r+=this[e+s]*o}return r};l.prototype.readUIntBE=function t(e,n,i){e=e|0;n=n|0;if(!i){j(e,n,this.length)}var r=this[e+--n];var o=1;while(n>0&&(o*=256)){r+=this[e+--n]*o}return r};l.prototype.readUInt8=function t(e,n){if(!n)j(e,1,this.length);return this[e]};l.prototype.readUInt16LE=function t(e,n){if(!n)j(e,2,this.length);return this[e]|this[e+1]<<8};l.prototype.readUInt16BE=function t(e,n){if(!n)j(e,2,this.length);return this[e]<<8|this[e+1]};l.prototype.readUInt32LE=function t(e,n){if(!n)j(e,4,this.length);return(this[e]|this[e+1]<<8|this[e+2]<<16)+this[e+3]*16777216};l.prototype.readUInt32BE=function t(e,n){if(!n)j(e,4,this.length);return this[e]*16777216+(this[e+1]<<16|this[e+2]<<8|this[e+3])};l.prototype.readIntLE=function t(e,n,i){e=e|0;n=n|0;if(!i)j(e,n,this.length);var r=this[e];var o=1;var s=0;while(++s<n&&(o*=256)){r+=this[e+s]*o}o*=128;if(r>=o)r-=Math.pow(2,8*n);return r};l.prototype.readIntBE=function t(e,n,i){e=e|0;n=n|0;if(!i)j(e,n,this.length);var r=n;var o=1;var s=this[e+--r];while(r>0&&(o*=256)){s+=this[e+--r]*o}o*=128;if(s>=o)s-=Math.pow(2,8*n);return s};l.prototype.readInt8=function t(e,n){if(!n)j(e,1,this.length);if(!(this[e]&128))return this[e];return(255-this[e]+1)*-1};l.prototype.readInt16LE=function t(e,n){if(!n)j(e,2,this.length);var i=this[e]|this[e+1]<<8;return i&32768?i|4294901760:i};l.prototype.readInt16BE=function t(e,n){if(!n)j(e,2,this.length);var i=this[e+1]|this[e]<<8;return i&32768?i|4294901760:i};l.prototype.readInt32LE=function t(e,n){if(!n)j(e,4,this.length);return this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24};l.prototype.readInt32BE=function t(e,n){if(!n)j(e,4,this.length);return this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]};l.prototype.readFloatLE=function t(e,n){if(!n)j(e,4,this.length);return r.read(this,e,true,23,4)};l.prototype.readFloatBE=function t(e,n){if(!n)j(e,4,this.length);return r.read(this,e,false,23,4)};l.prototype.readDoubleLE=function t(e,n){if(!n)j(e,8,this.length);return r.read(this,e,true,52,8)};l.prototype.readDoubleBE=function t(e,n){if(!n)j(e,8,this.length);return r.read(this,e,false,52,8)};function B(t,e,n,i,r,o){if(!l.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>r||e<o)throw new RangeError('"value" argument is out of bounds');if(n+i>t.length)throw new RangeError("Index out of range")}l.prototype.writeUIntLE=function t(e,n,i,r){e=+e;n=n|0;i=i|0;if(!r){var o=Math.pow(2,8*i)-1;B(this,e,n,i,o,0)}var s=1;var a=0;this[n]=e&255;while(++a<i&&(s*=256)){this[n+a]=e/s&255}return n+i};l.prototype.writeUIntBE=function t(e,n,i,r){e=+e;n=n|0;i=i|0;if(!r){var o=Math.pow(2,8*i)-1;B(this,e,n,i,o,0)}var s=i-1;var a=1;this[n+s]=e&255;while(--s>=0&&(a*=256)){this[n+s]=e/a&255}return n+i};l.prototype.writeUInt8=function t(e,n,i){e=+e;n=n|0;if(!i)B(this,e,n,1,255,0);if(!l.TYPED_ARRAY_SUPPORT)e=Math.floor(e);this[n]=e&255;return n+1};function U(t,e,n,i){if(e<0)e=65535+e+1;for(var r=0,o=Math.min(t.length-n,2);r<o;++r){t[n+r]=(e&255<<8*(i?r:1-r))>>>(i?r:1-r)*8}}l.prototype.writeUInt16LE=function t(e,n,i){e=+e;n=n|0;if(!i)B(this,e,n,2,65535,0);if(l.TYPED_ARRAY_SUPPORT){this[n]=e&255;this[n+1]=e>>>8}else{U(this,e,n,true)}return n+2};l.prototype.writeUInt16BE=function t(e,n,i){e=+e;n=n|0;if(!i)B(this,e,n,2,65535,0);if(l.TYPED_ARRAY_SUPPORT){this[n]=e>>>8;this[n+1]=e&255}else{U(this,e,n,false)}return n+2};function G(t,e,n,i){if(e<0)e=4294967295+e+1;for(var r=0,o=Math.min(t.length-n,4);r<o;++r){t[n+r]=e>>>(i?r:3-r)*8&255}}l.prototype.writeUInt32LE=function t(e,n,i){e=+e;n=n|0;if(!i)B(this,e,n,4,4294967295,0);if(l.TYPED_ARRAY_SUPPORT){this[n+3]=e>>>24;this[n+2]=e>>>16;this[n+1]=e>>>8;this[n]=e&255}else{G(this,e,n,true)}return n+4};l.prototype.writeUInt32BE=function t(e,n,i){e=+e;n=n|0;if(!i)B(this,e,n,4,4294967295,0);if(l.TYPED_ARRAY_SUPPORT){this[n]=e>>>24;this[n+1]=e>>>16;this[n+2]=e>>>8;this[n+3]=e&255}else{G(this,e,n,false)}return n+4};l.prototype.writeIntLE=function t(e,n,i,r){e=+e;n=n|0;if(!r){var o=Math.pow(2,8*i-1);B(this,e,n,i,o-1,-o)}var s=0;var a=1;var u=0;this[n]=e&255;while(++s<i&&(a*=256)){if(e<0&&u===0&&this[n+s-1]!==0){u=1}this[n+s]=(e/a>>0)-u&255}return n+i};l.prototype.writeIntBE=function t(e,n,i,r){e=+e;n=n|0;if(!r){var o=Math.pow(2,8*i-1);B(this,e,n,i,o-1,-o)}var s=i-1;var a=1;var u=0;this[n+s]=e&255;while(--s>=0&&(a*=256)){if(e<0&&u===0&&this[n+s+1]!==0){u=1}this[n+s]=(e/a>>0)-u&255}return n+i};l.prototype.writeInt8=function t(e,n,i){e=+e;n=n|0;if(!i)B(this,e,n,1,127,-128);if(!l.TYPED_ARRAY_SUPPORT)e=Math.floor(e);if(e<0)e=255+e+1;this[n]=e&255;return n+1};l.prototype.writeInt16LE=function t(e,n,i){e=+e;n=n|0;if(!i)B(this,e,n,2,32767,-32768);if(l.TYPED_ARRAY_SUPPORT){this[n]=e&255;this[n+1]=e>>>8}else{U(this,e,n,true)}return n+2};l.prototype.writeInt16BE=function t(e,n,i){e=+e;n=n|0;if(!i)B(this,e,n,2,32767,-32768);if(l.TYPED_ARRAY_SUPPORT){this[n]=e>>>8;this[n+1]=e&255}else{U(this,e,n,false)}return n+2};l.prototype.writeInt32LE=function t(e,n,i){e=+e;n=n|0;if(!i)B(this,e,n,4,2147483647,-2147483648);if(l.TYPED_ARRAY_SUPPORT){this[n]=e&255;this[n+1]=e>>>8;this[n+2]=e>>>16;this[n+3]=e>>>24}else{G(this,e,n,true)}return n+4};l.prototype.writeInt32BE=function t(e,n,i){e=+e;n=n|0;if(!i)B(this,e,n,4,2147483647,-2147483648);if(e<0)e=4294967295+e+1;if(l.TYPED_ARRAY_SUPPORT){this[n]=e>>>24;this[n+1]=e>>>16;this[n+2]=e>>>8;this[n+3]=e&255}else{G(this,e,n,false)}return n+4};function V(t,e,n,i,r,o){if(n+i>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function q(t,e,n,i,o){if(!o){V(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38)}r.write(t,e,n,i,23,4);return n+4}l.prototype.writeFloatLE=function t(e,n,i){return q(this,e,n,true,i)};l.prototype.writeFloatBE=function t(e,n,i){return q(this,e,n,false,i)};function Y(t,e,n,i,o){if(!o){V(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308)}r.write(t,e,n,i,52,8);return n+8}l.prototype.writeDoubleLE=function t(e,n,i){return Y(this,e,n,true,i)};l.prototype.writeDoubleBE=function t(e,n,i){return Y(this,e,n,false,i)};l.prototype.copy=function t(e,n,i,r){if(!i)i=0;if(!r&&r!==0)r=this.length;if(n>=e.length)n=e.length;if(!n)n=0;if(r>0&&r<i)r=i;if(r===i)return 0;if(e.length===0||this.length===0)return 0;if(n<0){throw new RangeError("targetStart out of bounds")}if(i<0||i>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");if(r>this.length)r=this.length;if(e.length-n<r-i){r=e.length-n+i}var o=r-i;var s;if(this===e&&i<n&&n<r){for(s=o-1;s>=0;--s){e[s+n]=this[s+i]}}else if(o<1e3||!l.TYPED_ARRAY_SUPPORT){for(s=0;s<o;++s){e[s+n]=this[s+i]}}else{Uint8Array.prototype.set.call(e,this.subarray(i,i+o),n)}return o};l.prototype.fill=function t(e,n,i,r){if(typeof e==="string"){if(typeof n==="string"){r=n;n=0;i=this.length}else if(typeof i==="string"){r=i;i=this.length}if(e.length===1){var o=e.charCodeAt(0);if(o<256){e=o}}if(r!==undefined&&typeof r!=="string"){throw new TypeError("encoding must be a string")}if(typeof r==="string"&&!l.isEncoding(r)){throw new TypeError("Unknown encoding: "+r)}}else if(typeof e==="number"){e=e&255}if(n<0||this.length<n||this.length<i){throw new RangeError("Out of range index")}if(i<=n){return this}n=n>>>0;i=i===undefined?this.length:i>>>0;if(!e)e=0;var s;if(typeof e==="number"){for(s=n;s<i;++s){this[s]=e}}else{var a=l.isBuffer(e)?e:$(new l(e,r).toString());var u=a.length;for(s=0;s<i-n;++s){this[s+n]=a[s%u]}}return this};var X=/[^+\/0-9A-Za-z-_]/g;function W(t){t=Z(t).replace(X,"");if(t.length<2)return"";while(t.length%4!==0){t=t+"="}return t}function Z(t){if(t.trim)return t.trim();return t.replace(/^\s+|\s+$/g,"")}function H(t){if(t<16)return"0"+t.toString(16);return t.toString(16)}function $(t,e){e=e||Infinity;var n;var i=t.length;var r=null;var o=[];for(var s=0;s<i;++s){n=t.charCodeAt(s);if(n>55295&&n<57344){if(!r){if(n>56319){if((e-=3)>-1)o.push(239,191,189);continue}else if(s+1===i){if((e-=3)>-1)o.push(239,191,189);continue}r=n;continue}if(n<56320){if((e-=3)>-1)o.push(239,191,189);r=n;continue}n=(r-55296<<10|n-56320)+65536}else if(r){if((e-=3)>-1)o.push(239,191,189)}r=null;if(n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,n&63|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,n&63|128)}else if(n<1114112){if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,n&63|128)}else{throw new Error("Invalid code point")}}return o}function J(t){var e=[];for(var n=0;n<t.length;++n){e.push(t.charCodeAt(n)&255)}return e}function Q(t,e){var n,i,r;var o=[];for(var s=0;s<t.length;++s){if((e-=2)<0)break;n=t.charCodeAt(s);i=n>>8;r=n%256;o.push(r);o.push(i)}return o}function K(t){return i.toByteArray(W(t))}function tt(t,e,n,i){for(var r=0;r<i;++r){if(r+n>=e.length||r>=t.length)break;e[r+n]=t[r]}return r}function et(t){return t!==t}}).call(e,n(20))},function(t,e,n){"use strict";e.byteLength=c;e.toByteArray=h;e.fromByteArray=d;var i=[];var r=[];var o=typeof Uint8Array!=="undefined"?Uint8Array:Array;var s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var a=0,u=s.length;a<u;++a){i[a]=s[a];r[s.charCodeAt(a)]=a}r["-".charCodeAt(0)]=62;r["_".charCodeAt(0)]=63;function l(t){var e=t.length;if(e%4>0){throw new Error("Invalid string. Length must be a multiple of 4")}return t[e-2]==="="?2:t[e-1]==="="?1:0}function c(t){return t.length*3/4-l(t)}function h(t){var e,n,i,s,a,u;var c=t.length;a=l(t);u=new o(c*3/4-a);i=a>0?c-4:c;var h=0;for(e=0,n=0;e<i;e+=4,n+=3){s=r[t.charCodeAt(e)]<<18|r[t.charCodeAt(e+1)]<<12|r[t.charCodeAt(e+2)]<<6|r[t.charCodeAt(e+3)];u[h++]=s>>16&255;u[h++]=s>>8&255;u[h++]=s&255}if(a===2){s=r[t.charCodeAt(e)]<<2|r[t.charCodeAt(e+1)]>>4;u[h++]=s&255}else if(a===1){s=r[t.charCodeAt(e)]<<10|r[t.charCodeAt(e+1)]<<4|r[t.charCodeAt(e+2)]>>2;u[h++]=s>>8&255;u[h++]=s&255}return u}function f(t){return i[t>>18&63]+i[t>>12&63]+i[t>>6&63]+i[t&63]}function p(t,e,n){var i;var r=[];for(var o=e;o<n;o+=3){i=(t[o]<<16)+(t[o+1]<<8)+t[o+2];r.push(f(i))}return r.join("")}function d(t){var e;var n=t.length;var r=n%3;var o="";var s=[];var a=16383;for(var u=0,l=n-r;u<l;u+=a){s.push(p(t,u,u+a>l?l:u+a))}if(r===1){e=t[n-1];o+=i[e>>2];o+=i[e<<4&63];o+="=="}else if(r===2){e=(t[n-2]<<8)+t[n-1];o+=i[e>>10];o+=i[e>>4&63];o+=i[e<<2&63];o+="="}s.push(o);return s.join("")}},function(t,e){e.read=function(t,e,n,i,r){var o,s;var a=r*8-i-1;var u=(1<<a)-1;var l=u>>1;var c=-7;var h=n?r-1:0;var f=n?-1:1;var p=t[e+h];h+=f;o=p&(1<<-c)-1;p>>=-c;c+=a;for(;c>0;o=o*256+t[e+h],h+=f,c-=8){}s=o&(1<<-c)-1;o>>=-c;c+=i;for(;c>0;s=s*256+t[e+h],h+=f,c-=8){}if(o===0){o=1-l}else if(o===u){return s?NaN:(p?-1:1)*Infinity}else{s=s+Math.pow(2,i);o=o-l}return(p?-1:1)*s*Math.pow(2,o-i)};e.write=function(t,e,n,i,r,o){var s,a,u;var l=o*8-r-1;var c=(1<<l)-1;var h=c>>1;var f=r===23?Math.pow(2,-24)-Math.pow(2,-77):0;var p=i?0:o-1;var d=i?1:-1;var g=e<0||e===0&&1/e<0?1:0;e=Math.abs(e);if(isNaN(e)||e===Infinity){a=isNaN(e)?1:0;s=c}else{s=Math.floor(Math.log(e)/Math.LN2);if(e*(u=Math.pow(2,-s))<1){s--;u*=2}if(s+h>=1){e+=f/u}else{e+=f*Math.pow(2,1-h)}if(e*u>=2){s++;u/=2}if(s+h>=c){a=0;s=c}else if(s+h>=1){a=(e*u-1)*Math.pow(2,r);s=s+h}else{a=e*Math.pow(2,h-1)*Math.pow(2,r);s=0}}for(;r>=8;t[n+p]=a&255,p+=d,a/=256,r-=8){}s=s<<r|a;l+=r;for(;l>0;t[n+p]=s&255,p+=d,s/=256,l-=8){}t[n+p-d]|=g*128}},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return n.call(t)=="[object Array]"}},function(t,e){t.exports.RADIUS=6378137;t.exports.FLATTENING=1/298.257223563;t.exports.POLAR_RADIUS=6356752.3142}]);